-- MySQL dump 10.11
--
-- Host: localhost    Database: blog
-- ------------------------------------------------------
-- Server version	5.0.51a-24+lenny4

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `ts_category`
--

DROP TABLE IF EXISTS `ts_category`;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
CREATE TABLE `ts_category` (
  `id` int(4) unsigned NOT NULL auto_increment,
  `name` varchar(40) default NULL,
  `slug` varchar(40) default NULL,
  `cat_desc` text NOT NULL,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=23 DEFAULT CHARSET=utf8;
SET character_set_client = @saved_cs_client;

--
-- Dumping data for table `ts_category`
--

LOCK TABLES `ts_category` WRITE;
/*!40000 ALTER TABLE `ts_category` DISABLE KEYS */;
INSERT INTO `ts_category` VALUES (1,'MISC','misc','Uncategories. everything.'),(2,'PHP','php',''),(3,'Life','life',''),(4,'JavaScript','js',''),(7,'MySQL','sql','ezsql...'),(8,'Site Logs','sitelogs','p and trekshot.org'),(9,'CSS','css',''),(16,'GNU/Linux','linux',''),(18,'Why','why','How does it works?'),(19,'Andro','andro',''),(20,'E-Orders','eo',''),(21,'Yii Framework','yii',''),(22,'Personal Diary','personal-diary','');
/*!40000 ALTER TABLE `ts_category` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ts_comment`
--

DROP TABLE IF EXISTS `ts_comment`;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
CREATE TABLE `ts_comment` (
  `id` int(11) NOT NULL auto_increment,
  `content` text collate utf8_unicode_ci NOT NULL,
  `status` int(11) NOT NULL,
  `create_time` int(11) default NULL,
  `author` varchar(128) collate utf8_unicode_ci NOT NULL,
  `email` varchar(128) collate utf8_unicode_ci NOT NULL,
  `url` varchar(128) collate utf8_unicode_ci default NULL,
  `post_id` int(11) NOT NULL,
  PRIMARY KEY  (`id`),
  KEY `FK_comment_post` (`post_id`),
  CONSTRAINT `FK_comment_post` FOREIGN KEY (`post_id`) REFERENCES `ts_post` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
SET character_set_client = @saved_cs_client;

--
-- Dumping data for table `ts_comment`
--

LOCK TABLES `ts_comment` WRITE;
/*!40000 ALTER TABLE `ts_comment` DISABLE KEYS */;
INSERT INTO `ts_comment` VALUES (1,'This is a test comment.',2,1230952187,'Tester','tester@example.com',NULL,2),(2,'<script>alert(\'a\');</script>',2,1382142073,'Kui','kuixy@gmail.com','',1);
/*!40000 ALTER TABLE `ts_comment` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ts_essay`
--

DROP TABLE IF EXISTS `ts_essay`;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
CREATE TABLE `ts_essay` (
  `id` int(8) unsigned NOT NULL auto_increment,
  `title` varchar(140) default NULL,
  `content` text,
  `category_id` bigint(20) default NULL,
  `status` int(1) default NULL,
  `is_lock` tinyint(1) default NULL,
  `show_toc` enum('Y','N') default NULL,
  `toc_cid` tinyint(2) default NULL,
  `js_file` varchar(40) default NULL,
  `c_time` datetime default NULL,
  `m_time` datetime default NULL,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=300 DEFAULT CHARSET=utf8;
SET character_set_client = @saved_cs_client;

--
-- Dumping data for table `ts_essay`
--

LOCK TABLES `ts_essay` WRITE;
/*!40000 ALTER TABLE `ts_essay` DISABLE KEYS */;
INSERT INTO `ts_essay` VALUES (1,'20110107 MOTD (Useless)','<pre>\nmysql&gt; select title from essay;\n+------------------------------------------------------------+\n| title                                                      |\n+------------------------------------------------------------+\n| 20110107 MOTD                                              | \n| 20110106 MOTD                                              | \n| util.js 文件中的 id()中参数到底加不加引号？ | \n| 以各种Event Model来触发onload事件                  | \n| The Big Picture 网站图片浏览JS特效学习           | \n| Example 20-8: linkdetail.js 笔记                         | \n| 程序语言中的 Literal                                 | \n| toc-chapter.js Notes                                       | \n| 修改全局变量时须警惕                             | \n| Linux 文件系统                                         | \n+------------------------------------------------------------+\n10 rows in set (0.01 sec)\n</pre>\n<p>出现此中样式的原因是什么？ 表格结构如下：</p>\n<pre>\nmysql&gt; DESC essay;\n+-----------+-------------+------+-----+---------+-------+\n| Field     | Type        | Null | Key | Default | Extra |\n+-----------+-------------+------+-----+---------+-------+\n| file_name | varchar(80) | NO   | PRI | NULL    |       | \n| title     | varchar(80) | NO   |     | NULL    |       | \n| c_time    | date        | NO   |     | NULL    |       | \n| category  | varchar(20) | NO   |     | NULL    |       | \n| tag       | varchar(30) | NO   |     | NULL    |       | \n+-----------+-------------+------+-----+---------+-------+\n</pre>\n<pre>\nWarning: mysql_fetch_assoc(): <b>supplied argument is not a valid MySQL result resource</b> \nin /home/ts/www/p/essay/view.php on line 8\n\n$sql = \"SELECT * FROM essay WHERE file_name<span class=\"red\">=$name</span>\";<span class=\"cmt\"># =\\\"$name\\\" is OK</span>\n</pre>\n<p>换句话说，<code>WHERE</code>字句中表格字段名的值需有引号。</p>\n<p></p>\n',NULL,1,1,'N',0,'util.js','2011-01-07 00:00:00','2014-02-27 13:20:18'),(2,'20110106 MOTD','<p>\n近两日在关注 itpub 网站。看到之前发的帖子。其中一个是 eygle 在 2002 年发表的\n一个帖子。他于凌晨一点左右在论坛上问这么晚还有谁在线上。有一个回复让我感觉印象\n深刻：\n</p>\n<pre>\nIf you don\'t have kids, take this precious opportunity to learn as much as \nyou can.\n\nWhile I\'m typing these words, my 2-year old climbed up my lap!\n\nNot that I encourage burning midnight oil , but it\'s true that diligence  \ndoes pay off.\n\nlater..\n\nYong\n</pre>\n<p>\n短短几句话，里面出现了两个短语，一个名词。\n让自己立刻重新意识到英语的学习是一个漫长的过程。\n同时这几句话表达出了目前与自己相关的两个话题：一个是应当珍惜孩子出生\n前的这一段时间来尽可能多地学习；另一个是一个再熟悉不过的词语：勤奋。这个词被论坛\n里两、三个技术高手醒目地提及。eygle 更是这样说：\n</p>\n<pre>\n如果你的技术不如别人，那么，很可能，就是因为你不如别人勤奋。\n</pre>\n<p>\neygle 的工作经历提醒了我。同样是毕业工作三年，他可以完成职业生涯中重要的跳跃。\n反观自己，在这个单位上班马上就要三年整了。三年时间里自己收获的东西不能令自己满意\n。我在想自己没有取得令自己感到踏实的收获的原因是什么。首先是勤奋，扪心自问，自己\n勤奋吗？什么是勤奋？我想是尽可能地利用自己的时间去琢磨一件事情。这样想来，自己的\n很多业余时间过得都漫无目标。打游戏等等。再说坚持。这三年来，自己曾先后学习过\nPHP, Java, JavaServer Page, Linux, Perl, JavaScript 等内容。但都是断断续续，\n没有一个是自始至终都坚持学习的。这么一看，没有在学习的道路上收获实质性的进展也就\n不足为怪了。另外一方面，看到、学过的东西没有系统、统一地进行积累、整理也是一个\n问题。eygle 的博客几年下来积累的内容相当客观。可自己也曾经两次在网上搭建博客，\n但都没有坚持下来。想想原因，一是觉得不是所有的东西都适合放到网上，很多东西还是\n存储在自己的电脑上比较好。另一个原因是往往将重点放在样式上而不是内容上，这样由于\n每一段时间都有自己喜欢的样式，所以就这样改来改去，不仅浪费时间，而且把自己的心情\n也搞的很糟糕。\n此刻觉得也不妥，因为这样的一个缺点是自己是处于一种闭门造车的状态中，无法与外界取\n得互动。没有互动就不会有提高，也不会有持续的动力。\n最容易的是下一个决心，最困难的是执行。因为就在几天以前我做年终回顾时，\n还曾写下这段话：\n</p>\n<pre>\n    今年的 4 月 29 日，在cndns.com 网站第二次购买空间域名 trekshot.org, 一转眼，\n    又是大半年过去了。自己先后曾两次建立个人站点，结果都没能坚持下来。 \n    不会给自己第三次机会了，因为两次足以说明问题：自己不适合建立个人博客；\n</pre>\n<p>\n而此刻，又第三次决定写博客。这次，是以积累为目的。就让此篇短文作为见证吧。\n</p><br>\n<p>\n2011年1月6日 晚十点\n</p>\n<p>\n2011年1月7日 凌晨一点失眠后修改\n</p>\n',NULL,2,1,'N',0,'util.js','2011-01-06 00:00:00','2014-02-27 13:20:18'),(3,'util.js 文件中的 id()中参数到底加不加引号？','<p>\n概述：在学习DOM API基础时，须将程序对文档的修改变化显示出来以验证，但使用\n<code>alert</code>函数对话框的形式太麻烦，因此想写一个小函数将alert\n函数显示的内容直接显示在文档中。在写的过程遇到的问题记录如下。\n<br>\n（注：此功能的函数的最终形式为 out(), 见 js/util.js）\n</p><br>\n\n<p>预先在文档顶端加入HTML片段用来装载输出信息：</p>\n<pre>&lt;pre id=\"outinfo\"&gt;&lt;/pre&gt;</pre>\n<p>编写函数如下：</p>\n<pre>\nfunction display() {\n    var scripts = document.getElementsByTagName(\"script\"); \n    <span class=\"red\">var outinfo = id(outinfo); </span>\n    var str1 = \"There are \" + scripts.length + \" scripts in this document\"; \n    outinfo.appendChild(txtnode(str1));\n}\n</pre>\n<p>创建一个按钮来触发此函数：<button onclick=\"display()\">Display</button></p>\n<p>单击按钮发现并未出现统计script标签个数的相关信息。打开Error Console, \n看到如下提示信息：</p>\n<pre>outinfo is undefined\n错行行定位在： outinfo.appendChild(txtnode(str1)); 处\n</pre>\n<p>有四种修改方法可使上面的函数起作用：</p>\n<p>一、修改代码如下后可以运行正常：</p>\n<pre>\n<span class=\"cmt\">#1</span>\n    var <span class=\"hl\">Outinfo</span> = id(outinfo); \n    var str1 = \"There are \" + scripts.length + \" scripts in this document\"; \n    <span class=\"hl\">Outinfo</span>.appendChild(txtnode(str1));\n</pre>\n<p>二、同样，这样修改也奏效：</p>\n<pre>\n    var outinfo = id(<span class=\"hl\">\"outinfo\"</span>); \n</pre>\n<p>\n三、直接删除如下语句：\n<pre>\n    <span class=\"cmt\">// var outinfo = id(outinfo); </span>\n</pre>\n</p>\n<p>\n四、修改如下：\n<p>\n<pre>\n<span class=\"cmt\">#4</span>\noutinfo = id(outinfo); \n</pre>\n中括号里面那个\"outinfo\"是Argument,即它是实际传入的字符串值，既是字符串，理应带上\n引号。而定义的<code>id</code>函数中：\n<pre>\nfunction id(<span class=\"hl\">s</span>) {\n	if (typeof s == \"string\") return document.getElementById(s);\n	return s;\n}\n</pre>\n\"s\"是Parameter,这个任何时候都不必加引号，不论它是否为字符串。\n</p>\n\n<h2>那么，片段#1处未带引号却能运行该如何解释？</h2>\n那是因为<code>id()</code>函数即可接受一般的字符串变量（如\"outinfo\"），又可接受\nElement 元素变量（如outinfo, 我们可以直接使用它）。因此，那句出错语句\n\n	var outinfo = id(outinfo);\n\n错误不在等号右半部分。但左半部分问题在哪，仍不知道。\n<hr>\n<p>\n另外，方法三显示一个现象：当文档中出现赋予ID属性值的标签时，JS代码可直接使用该\n值用做Node对象来使用，而不必用方法<code>getElementById()</code>先获取。即可以直\n接使用。\n<pre>\noutinfo.appendChild(txtnode(str1));\n</pre>\n</p>\n\n\n\n<script>\nfunction display() {\n    var scripts = document.getElementsByTagName(\"script\"); \n    //var outinfo = id(\"outinfo\"); // OK\n    //outinfo = id(outinfo); 	 // Ok\n    var outinfo = id(outinfo); 	 // Wrong\n\n    var m = id(outinfo);\n    var outinfo = \"chnkui\";\n    out(\"outinfo\", outinfo);\n    //var Outinfo = id(outinfo);  // OK\n    var str1 = \"There are \" + scripts.length + \" scripts in this document\"; \n    //Outinfo.appendChild(txtnode(str1));\n    //m.appendChild(txtnode(str1));\n}\n</script>\n',NULL,3,1,'N',0,'util.js','2010-10-16 00:00:00','2014-02-27 13:20:18'),(4,'以各种Event Model来触发onload事件','<div class=\"warning\">\n<p><tt>window.onload</tt>, NOT <code>window.load</code>!</p>\n</div>\n\n<p><code>onload</code>是否只能用HTML Attributes作为handler而不能用元素Object\'s\nProperties?</p>\n<p>若能用，怎么写？下面那样？</p>\n<pre>\n<span class=\"red\">document.body.onload = doit;\nwindow.body.onload = doit; </span></pre>\n<p>之间的页面中，一旦涉及到<code>onload</code>事件的例子，就需要单独新建一个HTML\n页面，这是因为在PHP页面中<code>&lt;body&gt;</code>标签包含在tsheader.php页面中，\n而此文件是一个公有文件。这就是产生上面疑问的缘起。</p><br>\n<p>toc.js例子中使用了Standard Event Model来触发一个<code>onload</code>事件。</p>\n<pre>\nif (window.addEventListener) \n	window.addEventListener(\"load\", maketoc, false);\nelse if (window.attachEvent)\n	window.attachEvent(\"onload\", maketoc);\n</pre>\n<p>分别使用HTML attributes 和Object\'s Properties 作为handler 均属于 Original\nEvent Model 范畴。显然使用标准模块创建事件更方便，因为不涉及到文档内容。</p>\n<br>\n<p>现在的问题是：能否使用元素对象的Properties来作为Handling Functions.\n即能否使用开头使用的格式。经验证，上面两种方法无效。但问题不在是否可行，\n通过什么方法可行。下面是在网络上搜索到的一段文字：</p>\n<blockquote>\n<pre>&lt;body onload=\"staff()\"&gt;</pre>\n以上代码是没有错的，也是标准的代码。这似乎表示 body 有一个事件叫做 onload，\n也即可以写作：document.body.onload = func;<br>\n\n然而我们都被误导了，标准上并没有 document.body.onload 这个事件，\n只有 window.onload。IE 中两个都支持，而标准上只有 window.onload。\n</blockquote>\n<p>上面这段话表明之前使用的</p>\n<pre>\nvar bd = document.getElementsByTagName(\"body\")[0];\nbd.onload = staff;\n<span class=\"cmt\">// 同样下面的写法也是错误的</span>\n<span class=\"red\">document.body.addEventListener(\"load\", staff, false);</span>\n</pre>\n<p>语句中对<code>bd</code>不是body标签的怀疑是错的。bd的确就是document.body,\n但问题在于document.body并不支持<code>onload</code>事件，标准中支持的是\n<code>Window</code>接口。因此。通过对象属性的方式定义事件触发是可行的：\n正确的写法应该是这样：</p>\n<pre>window.onload = staff;</pre>\n<p>目前暂时先记住此中情况，具体的引证待查。</p><br>\n<h4>Summary</h4>\n<p>尽管事件<code>onload</code>被<code>&lt;body&gt;</code>所支持，但并不表示\n<code>&lt;body&gt;</code>元素具有对应的<code>onload</code> Property.只有\n<code>Window</code>接口拥有此属性。<code>onload</code>事件能和<code>body</code>\n搭配使用的情形只有一种：以HTML Attribute的形式作为事件触发。</p>\n',NULL,1,1,'N',0,'util.js','2010-11-06 00:00:00','2014-02-27 13:20:18'),(5,'The Big Picture 网站图片浏览JS特效学习','<p>今年的6月25日，我看到一照片网站（The Big Picture）利用JS产生的类似Vim的、\n使用“J、K”两个按键实现上下图切换的效果，感觉很不错。于是购买了《JavaScript:\nThe Definitive Guide》一书开始读。如今，四个多月的时间过去了，我准备根据自己近\n几个月所学内容来模仿此效果。</p>\n<blockquote>\nAbout The Big Picture Site:\n<ol>\n  <li>Entries are posted by Alan Taylor(kokogiak.com) every Monday, Wednesday and Friday.</li>\n  <li>Inspired by publications like Life Magazine, National Geographic.</li>\n  <li>Alan Taylor, who have been a web developer for over ten years, \n  is a developer for the boston.com. He previously working for amazon.com and msnbc.com</li>\n</ol>\n</blockquote>\n<br>\n<p>本例声明如下几个部分：</p>\n<p>三个变量：</p>\n<ol>\n    <li><code>currImg</code>:用于存储当前图像的id;</li>\n    <li><code>imgArr</code>:数组类型。所有满足要求的图像对象都存于此数组；</li>\n    <li><code>isLoad</code>:布尔值。用来标记当前页面是否加载完毕；</li>\n</ol>\n<p>一个函数：</p>\n<ol>\n    <li><code>getElementsByClassName()</code>接受两个参数，一个是文档名称；\n    另一个是类名称。此函数将返回一NodeList, 存在变量<code>imgArr</code>中；</li>\n</ol>\n<p>两个Event Handling Functions:</p>\n<ol>\n    <li><code>bpload()</code><br>\n    当文档的<code>onload</code>事件发生时，触发该函数\n    。此函数完成两个工作：一是将文档中所有满足特定类名的元素存至\n    <code>imgArr</code>中；二是将布尔参数<code>isLoad</code>设为<code>1</code>,\n    表明文档已加载完毕；</li>\n    <li><code>jkaction()</code><br>\n    当文档的<code>onkeypress</code>事件发生时，触发该函数。此函数先判断用户按下\n    的按键是“J”还是“K”，然后分别根据两种动作利用<code>window.scrollTo()</code>\n    将文档滚动到当前图像的位置；\n    </li>\n</ol>\n<p><span class=\"note\">NOTE:</span>上面两个 Event handling functions 使用的是不同\n的 Event Models. 其中<code>bpload()</code>是 Level 0 Model, 以对象属性的形式；\n而<code>jkaction(e))</code>使用的是 Level 2 Model, 尽管它定义（register）的方式\n是 Level 0 Model 中以 JS Property 的形式：</p>\n<pre>document.onkeypress = jkaction;</pre>\n<p>因为函数内部含有下面代码：</p>\n<pre>\nif((key==107)&&(isLoaded)){  \n	...  \n	<span class=\"hl\">e.cancelBubble = true; \n	if (e.stopPropagation) e.stopPropagation();</span>\n}\n\nif(!e) e=window.event; \nkey = e.keyCode ? e.keyCode : e.which; \n</pre>\n<p></p>\n<p>要点：</p>\n<pre>\n# original code one\nif((key==107)&&(isLoaded)){ \n	if(currImg &lt; 0) { \n		currImg--; \n		window.scrollTo(0,imgArr[currImg].offsetTop - 5); \n	} \n	else if((currImg &gt; 1)&&(currImg &lt; -1)) { \n		currImg--; \n		window.scrollTo(0,20); \n	} \n	else if(currImg == -1) window.scrollTo(0,20); \n	\n	e.cancelBubble = true; \n	if (e.stopPropagation) e.stopPropagation(); \n}\n</pre>\n\n<h3>Sample</h3>\n<script>\nvar currImg = -2; \nvar imgArr; \nvar isLoaded = 0; \n\nfunction getElementsByClassName(node, classname){ \n	var a = []; \n	var re = new RegExp(\'\\\\b\' + classname + \'\\\\b\'); \n	var els = node.getElementsByTagName(\"*\"); \n	\n	for(var i=0,j=els.length; i<j; i++) \n		if(re.test(els[i].className))a.push(els[i]);\n	return a;\n}\n\nfunction bpload() { \n	imgArr = getElementsByClassName(document.body,\"bpImage\"); \n	isLoaded = 1; \n}\n\nfunction jkaction(e) { \n	if(!e) e=window.event; \n	key = e.keyCode ? e.keyCode : e.which;\n\n	if((key==107)&&(isLoaded)){ \n		if(currImg > 0) { \n			currImg--; \n			window.scrollTo(0,imgArr[currImg].offsetTop - 5);\n		} \n		else if(currImg == 0) { \n			currImg--; \n			window.scrollTo(0,20); \n		} \n		else if(currImg == -1) window.scrollTo(0,20); \n\n		e.cancelBubble = true; \n		if (e.stopPropagation) e.stopPropagation();\n	}\n	\n	if((key==106)&&(isLoaded)){ \n		if(currImg == -2) {\n			currImg++;\n			window.scrollTo(0,20); \n		}\n		else if(currImg < imgArr.length - 1) { \n			currImg++; \n			window.scrollTo(0,imgArr[currImg].offsetTop - 5); \n		}\n		else if(currImg == imgArr.length - 1) { \n			window.scrollTo(0,imgArr[imgArr.length - 1].offsetTop - 5); \n		}\n\n		e.cancelBubble = true;\n		if (e.stopPropagation) e.stopPropagation();\n	}\n}\n\nwindow.onload = bpload;\ndocument.onkeypress = jkaction;\n</script>\n\n<p>2010年6月15日</p><br><br>\n\n<!-- one pic -->\n<div class=\"imgBox\">\n  <a name=\"foto1\"></a>\n  <img src=\"/img/z/tam/027.jpg\" class=\"bpImage\" /><br/>\n  <div class=\"imgCaption\">\n    <div class=\"photoNum\"><a href=\"#photo1\">1</a></div>\n    辉县秋沟桃花盛开。\n    <div class=\"cf\"></div>\n  </div>\n</div> \n\n<!-- one pic -->\n<div class=\"imgBox\">\n  <a name=\"foto16\"></a>\n  <img src=\"/img/z/tam/028.jpg\" class=\"bpImage\" /><br/>\n  <div class=\"imgCaption\">\n    <div class=\"photoNum\"><a href=\"#photo16\">2</a></div>\n    远山、小屋、幽径、荒草、桃花、生命……\n    <div class=\"cf\"></div>\n  </div>\n</div> \n\n<!-- one pic -->\n<div class=\"imgBox\">\n  <a name=\"foto16\"></a>\n  <img src=\"/img/z/tam/030.jpg\" class=\"bpImage\" /><br/>\n  <div class=\"imgCaption\">\n    <div class=\"photoNum\"><a href=\"#photo16\">10</a></div>\n    <p>image note</p>\n    <div class=\"cf\"></div>\n  </div>\n</div> \n\n<!-- special for s \n<img src=\"/img/s/bare/bare1.jpg\" width=\"540px\" /><br>\n<img src=\"/img/s/bare/bare2.jpg\" width=\"540px\" /><br>\n<img src=\"/img/s/bare/bare3.jpg\" width=\"540px\" /><br>\n<img src=\"/img/s/bare/bare4.jpg\" width=\"540px\" /><br>\n<img src=\"/img/s/bare/bare5.jpg\" width=\"540px\" /><br>\n<img src=\"/img/s/bare/bare6.jpg\" width=\"540px\" /><br>\n<img src=\"/img/s/bare/bare7.jpg\" width=\"540px\" /><br>\n<img src=\"/img/s/bare/bare8.jpg\" width=\"540px\" /><br>\n-->\n',NULL,1,1,'N',0,'util.js','2010-11-16 00:00:00','2014-02-27 13:20:18'),(6,'Example 20-8: linkdetail.js 笔记','<div class=\"testBox\">\n<h3>This Ajax tooltips example uses the following files:</h3>\n<ol>\n    <li><a href=\"http://localhost/p/index.php\">Index</a></li>\n    <li><a href=\"http://localhost/p/js/linkdetail.js\">linkdetail.js</a></li>\n    <li><a href=\"http://localhost/p/js/tooltip.js\">tooltip.js</a></li>\n    <li><a href=\"http://localhost/p/js/geometry.js\">geometry.js</a></li>\n    <li><a href=\"http://localhost/p/js/HTTP.js\">HTTP.js</a></li>\n</ol>\n<button onclick=\"staff()\">Invoke</button> --- Location list values\n<script>\nfunction staff() {\n	out(\"location.href: \" + location.href);\n	out(\"location.pathname: \" + location.pathname);\n	out(\"location.hash: \" + location.hash);\n	out(\"location.host: \" + location.host);\n	out(\"location.hostname: \" + location.hostname);\n	out(\"location.port: \" + location.port);\n	out(\"location.protocol: \" + location.protocol);\n	out(\"location.search: \" + location.search);\n}\n</script>\n<br>\n<script>\n<button onclick=\"staff2()\">Invoke 2</button>\nfunction staff2() {\n	var r2 = HTTP.newRequest();\n\n}\n\n</script>\n\n</div>\n\n<p>此段代码要点如下：</p>\n<ol>\n    <li>P453中的 validate.js 和本例均使用了一种特殊的方式：将所有代码包含在一个\n    匿名函数的定义和调用中；格式如下：\n    <pre>(<span class=\"hl\">function() {}</span>)();<span class=\"cmt\"> #高亮为定义部分，整体为调用部分</span></pre>\n    </li>\n    <li></li>\n</ol>\n<p></p>\n',NULL,1,1,'N',0,'util.js,HTTP.js,tooltip.js,linkdetail.js','2010-11-18 00:00:00','2014-02-27 13:20:18'),(7,'程序语言中的 Literal','<blockquote>\n函数和数组都属于对象类型。\n</blockquote>\n<p>JavaScript 有六种类型：字符、数字、布尔值（<code>true, false</code>）对象、<code>null, undefined</code></p>\n<p></p>\n\n<blockquote> \nA <b>function</b> is an object that has executable \ncode associated with it. P21<br><br>\n\nAn <b>object</b> is a collection of named values. \nThese named values are usually referred as <b>properties</b> \nof the object.  P33<br><br>\n\nAn <b>array</b> is a collection of data values, just as an object is.  \nWhile each data value contained in an object has a name, \neach data value in an array has a number, or <b>index</b>.\n</blockquote> \n\n<p>数组是对象这句不难理解，因为数组也是键值对儿的集合，只是名称是数字。</p><br>\n<p>当函数以 Functions Literals 的形式进行声明时，看起来就像对象了：</p>\n<pre>\nvar square = function(v) { return v*v; }\n</pre>\n',NULL,1,1,'N',0,'util.js','2010-11-21 00:00:00','2014-02-27 13:20:18'),(8,'toc-chapter.js Notes','<pre>\n文档加载完毕后触发 maketoc() 函数；\n	将文档中所有的 Headers 元素装进数组变量 sections 中；\n	对数组中除了一级标题外的所有元素进行循环操作：\n		获取当前标题的级别，存入变量 level 中；\n		若级别为 1, 停止剩下的操作，从数组中的下一个元素开始；\n		将当前级别在 sectionNumbers 数组中的相应位置进行加一操作；\n		将 sectionNumbers 数组中从当前级别对应位置往后的所有值清0;\n		sectionNumbers 数组中从一级标题到当前标题进行循环操作：\n			将一级标题的索引值赋给 sectionNumber;\n</pre>\n',NULL,1,1,'N',0,'util.js','2011-01-07 00:00:00','2014-02-27 13:20:18'),(9,'修改JavaScript全局变量（如 undefined）时须警惕','<p>在修改 toc.js 文件时，遇到一个现象：toc.js 文件在 jscode.php 页面上以普通形式\n显示时出现问题。sectionNumber 值本应为 \"4.1\" 的变成了 \"undefined.4.1\".\n以下为 toc.js 部分代码：</p>\n\n<pre>\nvar chapterId;\nfunction maketoc() {\n    ... \n    var sectionNumbers = [chapterId,0,0,0,0,0]; \n    for (var i = (<span class=\"hl\">chapterId == undefined)?1:0</span>; i &lt; level; i++) { \n        sectionNumber += sectionNumbers[i]; \n	if (i &gt; level-1) sectionNumber += \".\"; \n    }\n    ... \n}\n</pre>\n<p>最后发现 jscode.php 中有这样一段 JS 代码：</p>\n<pre>\nprint(undefined);\n<span class=\"red\">undefined = 3;</span> <span class=\"cmt\">// From this time, the vale of undefined in JavaScript is become to 3 in any place!</span>\nprint(undefined);\n</pre>\n<p>在之前的练习中，为了验证<code>undefined</code>是一个全局变量而非 JS 关键字，\n自己尝试给它赋\n一数字值，并打印。结果也验证了其为变量的说法。但之前的这个测试给今天的测试带来\n了意想不到的问题。因为它将影响整个文档中的涉及到<code>undefined</code>的地方。\n由于 toc.js 中是一个 onload 事件处理函数，因此，toc.js 中函数中的 undefined \n已经不是传统上的“未定义变量”了，它现在的值已经变成数值 3, 此时，高亮处的语句\n含义自然发生偏差。导致意想不到的结果。所以，\n</p>\n<blockquote class=\"warning\">\nNever alter the value of a global variable such as <code>undefined</code>.\n</blockquote>\n<p></p>\n<blockquote>\nThe ECMAScript V3 standard specifies that there is always a global variable\nnamed <code>undefined</code> whose initial value is the <code>undefined</code> \nvalue. Thus, in a conforming implementation, you can treat \n<code>undefined</code> as a keyword, <b>as long as you don\'t assign a value to \nthe variable.</b>\n-- (P37,ch3,JDG)\n</blockquote>\n',NULL,3,1,'N',0,'util.js','2010-11-26 00:00:00','2014-02-27 13:20:18'),(10,'Linux 文件系统','<h2>硬盘</h2>\n<h3>概念、术语</h3>\n<ul>\n    <li>磁道（Track）：<br>\n    当磁头（Header）固定不动时，硬盘片转一圈所画出来的圆；\n    </li>\n    <li>扇区（Sector）：<br>\n    由圆心向外画直线，可以将磁道再细分为扇区，扇区是硬盘片上最小的存储物理量。\n    通常，一个扇区的大小为 512 字节（0.5KB）；\n    </li>\n    <li>柱面（Cylinder）：<br>\n    常见的硬盘内含有多个硬盘片。所有硬盘片上相同半径的那个磁道组成柱面。\n    柱面是分区时的最小单位（Unit）；\n    </li>\n    <li>逻辑块（Blocks）：<br>\n    分区进行格式化时所指定的“最小存储单位”。这主要是考虑到使用扇区进行存储的效率\n    低的缘故。EXT3 文件系统中的块规格有 1024 Bytes, 2048 Bytes 和4096 Bytes \n    三种。\n    </li>\n</ul>\n<h3>基本原理</h3>\n<p>数据读写原理：磁头由上、下多片读写头（255 个）固定在同一组机械臂上。\n来回移动时是整组一起移动。例如我们往磁盘中保存一张大小为400KB的数码照片，其存储过程是这样的：第一个磁头先写 4096 字节(一个逻辑块的大小), 第二个磁头再写 4096 \n字节，以此类推，呈垂直读写\n，而不是想象中的按磁道以时针方向存储。所以这张图片是被分成 100 段存储在各个盘片\n上。这样做可以实现多个磁头同时读写，提高了效率。</p>\n<p>我们看到每一个磁道含有 63 个扇区。由于盘片是圆形的，因此从内到外扇区排列会\n越来越密，这就是所谓的 Zone Bit Recording 编码法，也是最困难的技术。</p>\n<p><code>fdisk</code>命令可以读取硬盘的基本信息：</p>\n<pre class=\"tty\">\nTS:/home/ts# <b>fdisk -l</b>\n\nDisk /dev/sda: 250.0 GB, 250059350016 bytes\n255 heads, 63 sectors/track, 30401 cylinders\nUnits = cylinders of 16065 * 512 = 8225280 bytes\nDisk identifier: 0x84968496\n\n   Device Boot      Start         End      Blocks   Id  System\n/dev/sda1   *           1        3248    26089528+   7  HPFS/NTFS\n/dev/sda2            3249       23713   164385112+   f  W95 Ext\'d (LBA)\n/dev/sda5            3249        5925    21502971    7  HPFS/NTFS\n/dev/sda6            5926        8602    21502971    7  HPFS/NTFS\n/dev/sda7            8603       10462    14940418+  83  Linux\n/dev/sda8           10463       10948     3903763+  83  Linux\n/dev/sda9           10949       15811    39062016   83  Linux\n/dev/sda10          15812       19458    29294496   83  Linux\n/dev/sda11          19459       23105    29294496   83  Linux\n/dev/sda12          23106       23713     4883728+  82  Linux swap / Solaris\n</pre>\n<p>从中获得该磁盘的相关信息：</p>\n<ol>\n    <li>磁盘总容量为 250059350016 字节；</li>\n    <li>共有 255 个磁头，也就是说，硬盘内含有 255 张盘片；</li>\n    <li>每个磁道分为 63 个扇区；</li>\n    <li>一共有 30401 个柱面；</li>\n    <li>每个柱面共有 (63*255)*512=8225280 字节（7M）。\n    这就是分区的最小单位；</li>\n</ol>\n<p>硬盘容量：63 * 512 * 255 * 30401 = 250059350016 字节（一个扇区为 512 字节，\n一个磁道共有 63 个扇区；不同盘片上相同半径的磁道构成一个柱面，磁盘公有 255 \n个盘片（一个磁头扫描一张盘片）；硬盘共有 30401 个柱面），但该值比上面声明的容量\n（250059350016）整整少了 2MB (2612736 bytes). 这2M是做什么的？没错，就是MBR\n的容量。因为一个硬盘只能保存4个分区记录</p>\n\n<h2>分区与文件系统</h2>\n<p>我们执行<code>fdisk -l</code>命令得到的信息的下半部分就是常说的磁盘分区表（\nPartition Table）。我们经常说的给磁盘分区实际上就是在修改这个表而已。这个表定义\n了“第 n 个磁盘块是从第 x 个柱面到第 y 个柱面“，系统每次要读取 n 磁盘块时，\n就只会读取 x - y 间的数据。</p>\n<h3>逻辑块（Blocks）: 数据存储的最小单位</h3>\n<p>我们已经知道，磁盘的最小存储单位为扇区，而每个扇区的大小为 0.5KB, 数据的最小\n存储单位是不是也是 0.5KB 呢？假如向硬盘中存储一个大小为 5MB 的歌曲文件，由于磁头\n是一个扇区一个扇区进行读取的，那么单单这个文件，磁头就需要读取 10240 次。\n这个效率显然很低。于是“逻辑块（Blocks）“的概念引入进来。逻辑块是在分区进行格式化\n时所指定的“最小存储单位”，块的大小一般是扇区的 2 的幂。这样，磁头就可以一次读一\n个逻辑块了。假如文件系统设定的块的大小为 4KB, 也就是说连续 8 个扇区为一个逻辑块\n，那么读取同一个文件，磁头的读取次数就降低为原来的 1/8 了。EXT3 文件系统中的块\n规格有 1024 Bytes, 2048 Bytes 和4096 Bytes 三种。</p>\n<p>超级块(Superblock): 每个分区中最开始的那个逻辑块。该快并不存储实际的数据，\n而是存储该文件系统的大小、空的和填满的块，以及他们各自的总数和其他相关信息。\n超级块与分区的关系就好像 MBR 与磁盘的关系，起到一个很重要的作用。使用命令\n<code>dumpe2fs</code>可以查看 /boot 分区中超级块的相关信息：</p>\n<pre class=\"tty\">\nTS:/home/ts# <span class=\"hl2\">dumpe2fs /dev/sda7 | less</span>\nFilesystem state:         clean\nFilesystem OS type:       Linux\nInode count:              244320\nBlock count:              975940\nReserved block count:     48797\nFree blocks:              938577\nFree inodes:              244291\nFirst block:              0\nBlock size:               4096\nFragment size:            4096\nReserved GDT blocks:      238\nBlocks per group:         32768\nFragments per group:      32768\nInodes per group:         8144\nInode blocks per group:   509\nFilesystem created:       Tue Nov 30 13:11:28 2010\nLast mount time:          Thu Dec 23 14:39:16 2010\nLast write time:          Thu Dec 23 14:39:16 2010\nMount count:              2\nMaximum mount count:      27\nLast checked:             Thu Dec 23 13:19:07 2010\nCheck interval:           15552000 (6 months)\nNext check after:         Tue Jun 21 13:19:07 2011\nReserved blocks uid:      0 (user root)\nReserved blocks gid:      0 (group root)\nFirst inode:              11\nInode size:	          256\nJournal size:             64M\n\nGroup 0: (Blocks 0-32767)\n  Primary superblock at 0, Group descriptors at 1-1\n  Reserved GDT blocks at 2-239\n  Block bitmap at 240 (+240), Inode bitmap at 241 (+241)\n  Inode table at 242-750 (+242)\n  28362 free blocks, 8128 free inodes, 2 directories\n  Free blocks: 2270-10860, 11483-22527, 24042-32767\n  Free inodes: 14-15, 19-8144\n......\n</pre>\n<p></p>\n',NULL,3,1,'Y',0,'util.js','2010-12-23 00:00:00','2014-02-27 13:20:18'),(11,'更改 tsheader.php 中动态包含 JS 文件的代码','<blockquote>\n此文无技术内容，为 PHP 基础性知识\n</blockquote>\n\n<p>先来看看之前(16,Jul 2010)自己是如何利用 PHP 代码实现动态输出 JS 引用内容的：</p>\n<pre>\n$js_file = array(\"util.js\", \"toc.js\");  \n$js_file_length = \"2\";<span class=\"cmt\"> # 手动创建数组的长度！^__^</span>\n</pre>\n<p>tsheader.php 代码如下：</p>\n<pre>\nif ($js_file) { \n	for ($i = 0; $i &lt; $js_file_length; $i++) {\n		echo \"\\t&lt;script src=\\\"/p/js/$js_file\\\"&gt;&lt;/script&gt;\\n\";\n  	}\n}\n</pre>\n<p>PHP 里的快速遍历数组的语句(<code>foreach</code>)要简单得多：</p>\n<pre>\n<span class=\"cmt\"># In content file</span>\n$js_files = array(\"util.js\", \"toc.js\");  \n<span class=\"cmt\"># In tsheader.php</span>\nforeach ($js_files as $js_file) { \n	echo \"\\t&lt;script src=\\\"/p/js/$js_file\\\"&gt;&lt;/script&gt;\\n\";\n}\n</pre>\n<p>一切皆因对 PHP 常用语句、函数等的不熟练。</p>\n<br>\n<p>那么，如何获取 PHP 中一个数组的长度（元素的个数）？有两个函数可以使用：\n<code>count(<i>arr_name</i>), sizeof(<i>arr_name</i>)</code>.</p>\n<p></p>\n',NULL,1,1,'N',0,'util.js','2011-01-09 00:00:00','2014-02-27 13:20:18'),(12,'创建一个 MySQL 表格','<p></p>\n<p>t desc</p>\n<pre>\nCREATE TABLE motd (\n    id 	      INT(8) UNSIGNED   NOT NULL AUTO_INCREMENT,\n    content   TEXT		DEFAULT \'\'     	NOT NULL,\n    category  VARCHAR(20)	DEFAULT \'\' 	NOT NULL,\n    time      TIMESTAMP 	NOT NULL,\n\n    PRIMARY KEY(id));\n\nINSERT INTO motd VALUES\n    (\'\',\'第一篇测试一下。\',\'\',NOW());\n</pre>\n\n<p>找到默认生成表格 ID 的方法，如下：</p>\n<pre>\nCREATE TABLE shop3 (\n    article INT(4) UNSIGNED NOT NULL AUTO_INCREMENT,\n    dealer  CHAR(20)                 DEFAULT \'\'     NOT NULL,\n    price   DOUBLE(16,2)             DEFAULT \'0.00\' NOT NULL,\n    PRIMARY KEY(article, dealer));\nINSERT INTO shop3 VALUES\n    (\'\',\'\',\'\'),<span class=\"cmt\"> # article 可用 \'\' 代替，后两列均有<code>DEFAULT</code>默认值，所以也可用同样方法代替；</span>\n    (\'\',\'BD\',\'569.35\');\n\nmysql&gt; select * from shop3;\n+---------+--------+--------+\n| article | dealer | price  |\n+---------+--------+--------+\n|       1 |        |   0.00 | \n|       2 | BD     | 569.35 | \n+---------+--------+--------+\n</pre>\n<p>这样自动累加的数值为默认形式，若要使用类似\'0001\'的形式，可以使用关键字\n<code>ZEROFILL</code>:</p>\n<pre>\n    article INT(4) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT,\n</pre>\n<p></p>\n\n\n<pre>\nmanage.php 中删除的连接，点击之后来搜索 /p/essay/ 目录下是有有该文件，若有，\n应该警告。以防误删。\n</pre>\n\n<pre>\n@阿民与阿菊:老方，那一般的年轻人有必要学点哲学吗\n\n回复：年轻人还是有必要学点哲学，甚至学点宗教知识，多长点见识，提高抗忽悠能力。\n我年轻时就学了很多。<span class=\"hl\">最好能提高英语能力，能直接阅读英文资料，那样只要聪明点，就可以傲视国内的哲学教授了。</span> \n</pre>\n',NULL,1,1,'N',0,'util.js','2011-01-08 00:00:00','2014-02-27 13:20:18'),(13,'［往事］Index 中 Daily Logs 之前记录备份','<blockquote>\n自从使用 MySQL 数据库来记录每日片段后，顿觉之间使用了半年的方法是多么笨。\n原以为使用 Vim 编辑已经够高效了，不成想还有更高效的方法！！将之前的记录永久\n保存与此，是为记。\n</blockquote>\n<hr>\n<table align=\"center\" border=1 width=\"69%\" cellspacing=0 cellpadding=5>\n  <tr align=\"center\">\n    <td>时间</td>\n    <td>事件</td>\n  </tr>\n  <tr><td colspan=\"2\">WEEK 1</td></tr>\n    <!-- 88\n  <tr>\n    <td align=middle width=\"18%\">2011/1/6</td>\n    <td><ol>\n      <li></li>\n    </ol></td>\n  </tr>\n    -->\n  <tr>\n    <td align=middle width=\"18%\">2011-01-06</td>\n    <td><ol>\n      <li>Oracle, MySQL 这两种数据库程序均是 C++ 语言编写；</li>\n    </ol></td>\n  </tr>\n  <tr>\n    <td align=middle width=\"18%\">2011/1/5</td>\n    <td><ol>\n      <li>MySQL 5.0 Manual 手册阅读开始；</li>\n    </ol></td>\n  </tr>\n  <tr>\n    <td align=middle width=\"18%\">2010/12/30</td>\n    <td><ol>\n      <li><code>apt-get update</code>背后发生了什么？能够在不联网的情况下安装\n      出目前状态的 Debian 系统吗？\n      <a href=\"http://www.linuxsir.org/bbs/thread374716.html\" \n        target=\"_blank\">Ref.</a>\n      </li>\n    </ol></td>\n  </tr>\n  <tr>\n    <td align=middle width=\"18%\">2010/12/29</td>\n    <td><ol>\n      <li>杜绝电脑上出现生活方面的文字或于可解决目前的选择之惑；</li>\n      <li>img 的 <code>src</code>属性可以使用类似<code>/img/xxx.jpg</code>\n      样式的以 Apache DocumentRoot 目录为基础的绝对路径，为何 PHP 中的\n      <code>require</code>函数不能，而只能使用相对路径？\n      <a href=\"why.php#require_path\">Ref.</a></li>\n    </ol></td>\n  </tr>\n  <tr>\n    <td align=middle width=\"18%\">2010/12/20</td>\n    <td><ol>\n    <li>依照鸟哥站点样式更新此处样式，以达到更直观显示之目的；</li>\n    <li>安装双系统时，先装 Windows 后装 Linux 的原因；</li>\n    </ol></td>\n  </tr>\n</table>\n\n<!-- Wrap Daily Log to style it. -->\n<div id=\"daily-log\">\n<h3>Daily Log</h3>\n\n<h4><span class=\"red\">Last Week in 2010</span></h4>\n2010-12-27 Mon\n<ol>\n    <li>网易、新浪、腾讯、Google…… 当断不断！</li>\n    <li></li>\n</ol>\n<h4>Second Week in December</h4>\n2010-12-9 周四\n<ol>\n    <li>改进：\n    <pre>\nFrom: alias  kloglinux=\'cat /home/ts/www/doc/log-linux | less\'<span class=\"cmt\"> # 多此一举</span>\nTo  : alias  kloglinux=\'less /home/ts/www/doc/log-linux\'</pre>\n    </li>\n    <li>掌握 umask 命令的定义。参 loglinux /_ umask;</li>\n    <li>Shell Scripts 章节中讲到很多语句在 ~/.bashrc 文件中有实际的应用；</li>\n</ol>\n2010-12-8 周三\n<ol>\n    <li>苹果OS 什么架构？常见的架构<br>\n    [alpha][amd64][arm][armel][hppa][i386][ia64][mips][mipsel][powerpc][sparc][s390][source][multi-arch]</li>\n    <li>Create cs.php (Computer Science) </li>\n    <li>Debian 5.0 下启动的第二项（Single user mode）和第一项看上去一样；</li>\n    <li>Ctrl+Alt+Backspace restart X window 是发现异常；</li>\n    <li><code>chgrp users dd</code> 时出错</li>\n</ol>\n<h4>First Week in December</h4>\n2010-12-1 周三\n<ol>\n    <li>花费近三天时间将单位电脑和自己笔记本进行了优化，详细见安装笔记;</li>\n</ol>\n2010-11-30 周二\n<ol>\n    <li>cp: not writing through dangling symlink `/home/ts/www/bak/000-default\'\n    </li>\n</ol>\n<h4>Last Week in November</h4>\n2010-11-27 周六\n<ol>\n    <li>tooltip.js 中类似<code>&lt;a tooltip=\" \"href=\"\"&gt;</code>的样式并不符合\n    W3 要求。</li>\n    <li>_create: jsapi.php page.</li>\n</ol>\n2010-11-26 周五\n<ol>\n    <li>海结婚，至贾峪；</li>\n    <li> _undo: 有一定的顺序，两行颠倒则访问过的链接无法生效；\n<pre>\na, a:visited { text-decoration: none; }\na:hover { text-decoration: underline; }</pre>\n    </li>\n    <li> _undo: 在单位电脑上安装 gimp;</li>\n    <li>进一步修改 toc.js 文件，分为章节笔记和默认两种情形；</li>\n    <li>在改进 js/toc.js 文件时，遇到一个关于变量<code>undefined</code>\n    的问题 (<a href=\"101126-js-alter-global-variable-undefined-carefully.php\">Ref</a>)；</li>\n</ol>\n2010-11-25 周四\n<ol>\n    <li>why: Event Handling Functions 不能带参数吗？ 若能，该怎么触发？</li>\n    <li>关于 set.php 页面上面 blockquote 字体在单位和家里显示不同，估计是因为\n    该标签在 html 标签之外，CSS 样式无法控制，需单独使用 inlined 样式设定；</li>\n</ol>\n2010-11-24 周三\n<ol>\n    <li>JS 中 switch 语句有自己的特性，和 C, Java 不同；</li>\n    <li>\n<pre>\nError: missing : after case label\nSource File: http://localhost/jscode.php#TOC1.4\nLine: 644, Column: 7\nSource Code:\n case 1; \n</pre>\n    </li>\n</ol>\n2010-11-23 周二\n<ol>\n    <li>书中的引用、概念等内容比较适合放在 Google Notebook 中；</li>\n    <li>正式在 Notebook 中添加 \'@1011\' 格式的时间标签，用于标记创建时间；</li>\n</ol>\n2010-11-22 周一\n<ol>\n    <li>之前保存在 Debian 系统下的图片、资料（awk.pdf）等丢失，\n    有必要更新备份策略；</li>\n    <li>新建 lang.php 页面，从不同程序语言的角度看待具体的问题；</li>\n    <li>给张竟文算数学题；</li>\n    <li>李总打电话给石料厂买电脑；</li>\n</ol>\n<h4>3rd Week in November</h4>\n2010-11-21 周六\n<ol>\n    <li>用注释关掉亚龙网页上的浮动广告。但被告知广告仍在上面。进去一看，\n    原来注释符号出错！（见下）。另外由于这段 JS 代码不兼容 FF 浏览器，\n    致使自己没有及时发现问题。\n    <pre>\n&lt;!--<span class=\"red\">&gt;</span>\n&lt;DIV id=img1 style=\"Z-INDEX: 100; LEFT: 12px; WIDTH: 159px; POSITION: absolute; TOP: 43px; HEIGHT: 61px;\n visibility: visible;\"&gt;&lt;a href=\"#\" target=\"_blank\"&gt;&lt;img \n src=\"img/phone.jpg\" width=\"192\" height=\"101\" border=\"0\"&gt;&lt;/a&gt;&lt;/DIV&gt; \n&lt;SCRIPT src=\"js.js\"&gt;&lt;/SCRIPT&gt; \n--&gt;</pre>\n    </li>\n    <li>书中有很多的名词。它们不是定义，但特指某些事物，有些还不清楚具体内容。\n    比如：JavaScript interpreters, Specific implementation, \n    specific JavaScript embedding 等；</li>\n    <li><span class=\"new\">new</span><a \n      href=\"101121-lang-literal.php\">程序语言中的 Literal</a></li>\n    <li><span class=\"new\">new</span>FAQ page.</li>\n</ol>\n2010-11-20 周五\n<ol>\n    <li>截至今日，《JavaScript: The Definitive Guide》一书略读一遍。\n    2010 年 6 月 29 日购买，今天是 2010 年 11 月 20 日，近五个月时间；</li>\n    <li>Ch20 and ch21 is difficult to understand: xmlhttprequest, ajax, xml,\n    json...</li>\n</ol>\n11/18/2010 Thursday Cloudy\n<ol>\n    <li>晚上发现如下错误：\n<pre>\nError: headers is null\nSource File: http://localhost/p/js/linkdetail.js\nLine: 50\n</pre>\n    19日晨发现原因。同样不是代码本身的错。原因是自己电脑上的 Apache 默认的\n    Document Root 路径设置的是 /home/ts/www/ ,而单位电脑上的设置为 \n    /home/ts/www/p/,该目录就是地址链接中的http://localhost/\n    中替换的内容。所以，单位电脑中的地址\n    http://localhost/js/HTTP.js在家电脑上的实际路径是\n    /home/ts/www/js/HTTP.js, 而这个文件是不存在的，因而就无法获取\n    响应头信息。变量headers的值也就自然为 null 了。\n    </li>\n    <li>正式将 js/util.js 中自定义函数<code>out()</code>显示的区块放入\n    tsfooter.php 文件中。以避免想在页面中使用 out() 方法而没有在文档中添加\n    相应内容；</li>\n    <li>查看HTML源文件的字体难看，估计跟 Local 等语言设置有关，而不是浏览器字体\n    设置里；</li>\n    <li>P486 callback Functions. Ref callback-function file.</li>\n    <li>Front, Chen, 1983: http://varnow.org/?page_id=2</li>\n</ol>\n2010-11-17 Wednesday\n<ol>\n    <li><span class=\"new\">new</span>Chapter 20 starts.</li>\n</ol>\n2010-11-16 Tuesday\n<ol>\n    <li><span class=\"new\">new</span>身体状况记录文件；</li>\n    <li><span class=\"undo\">undo</span>\n    为什么U盘里复制过来的内容连普通文件都具有可执行性？这对普通文件无用；</li>\n</ol>\n<h4>2nd Week in November</h4>\n2010-11-13 Saturday\n<ol>\n    <li>出现下面错误的原因是因为Apache未重启，\n    这和安装PHP完成后需要重启一样；<br>\n<blockquote>\nFatal error: Call to undefined function mysql_connect() in \n/home/ts/www/p/t.mysql.php on line 6\n</blockquote>\n    </li>\n    <li>archives目录下的deb安装文件压缩比很底，故无必要压缩；</li>\n    <li>有个问题：中文的标点有点靠上,大概在汉字的中间位置;</li>\n</ol>\n2010-11-12 Friday\n<ol>\n    <li>三装Debian 5, 找到一种较快的安装方法；又多了一个需要经常备份的文件；\n    </li>\n    <li></li>\n</ol>\n2010-11-10 Wednesday\n<ol>\n    <li>遭到经理训斥，网站未更新、400电话欠费、留言本上垃圾信息未清理、微粉网\n    长期未关注……本职工作做得太差劲；有必要暂停手上的工作，将本职工作抓紧改善一下\n    。</li>\n    <li></li>\n</ol>\n2010-11-9 Tuesday\n<ol>\n    <li>Chapter 18 一天结束；</li>\n    <li>Form 和 HTMLFormElement 这两个借口名称的差别；</li>\n    <li><span class=\"new\">new</span>页面<a href=\"js19-cookie.php\">js19-cookie.php</a></li>\n    <li>禁用浏览器JavaScript, 访问Google notebook 出现如下信息：<br>\n    \"Javascript must be enabled in order for you to use Notebook in \n    full-page view. However, it seems JavaScript is either disabled or not \n    supported by your browser. To use full-page view, enable JavaScript by \n    changing your browser options, then try again.\" </li>\n</ol>\n<h4>1st Week in November</h4>\n2010-11-6\n<ol>\n    <li>掌握<a href=\"101106-js-onload-event-body-or-window.php\">以各种Event Model来触发<code>onload</code>事件</a>；</li>\n    <li>Windows, Linux 两大平台下通用的<code>zip</code>命令简单用法；</li>\n</ol>\n5/11/10\n<ol><li>\nAdd subject pages style, use the prefix \"z-category-***.php\";\n</li><li>\nAdd <code>color:#111;</code> to <code>body</code>;\n</li></ol>\n4/11/10\n<ol><li>\nHave understanded <code>HTMLElement</code>\'s <code>offsetLeft, offsetTop and \noffsetParent</code> property, 参<a \nhref=\"z-css-offsetleft-offsetparent.html\">总结</a>页面；\n</li></ol>\n3/11/10\n<ol><li>\nWhen learn the <code>offsetLeft</code>, found a blog relevant to it.\n</li><li>\n</li></ol>\n2/11/10\n<ol><li>\n把新装的系统配置成自己习惯并顺手的系统的过程很费时，能将其写成一个shell最好不过\n。其实也很简单主要也就三类工作：删除无用软件、安装新软件和覆盖配置文件；\n</li><li>\n接打电话的过程中会不自觉地说“那个”这个词。己所不欲，勿施于人。觉定改掉这个臭毛病\n</li><li>\n<span class=\"undo\">UNDO</span>Find a quirk about geometry.js.\n</li></ol>\n29,October 2010\n<ol><li>\n关键字 this, Scope的概念，这些内容由于Event \nhandler和函数、方法紧密联系而再次出现。\n</li></ol>\n10/28/10\n<ol><li>\n_undo: See Global in Part III\n</li></ol>\n10/27/10\n<ol><li>\ngeometry.js中提示不是函数的错误；\n</li><li>\n升级Firefox至3.6.12\n</li></ol>\n10/20/10\n<ol><li>\n利用<code>position: fixed;</code>样式，改进调式输出函数<code>out()</code>,\n参js/util.js\n</li></ol>\n10/19/10\n<ol><li>\n<span class=\"done\">done:</span>应用CSS的某属性，将调试信息统一显示在页面的正中间\n位置；参函数 util.js#out()\n</li></ol>\n10/18/10\n<ol><li>\n整理样式 span.red, span.redUL, span.redBG\n</li></ol>\n10/16/10\n<ol><li>\n表达同样的内容，HTML得多输入多少内容（标签）？！\n</li></ol>\n10/15/10\n<ol><li>\n解决Example 15-3@js15.php\n</li></ol>\n2010.10.13\n<ol><li>\nJavaScript 和 Java 两种语言不止是字面相近，两者都是面向对象语言，都提供了层次性\n的类库API;\n</li><li>\n开机在\"Loading kernel modules...\"处死机；\n</li></ol>\n2010.10.12\n<ol><li>\n马超把我玩实况的劲儿给斗上来了。自我控制难。要压下去。\n</li></ol>\n10/7/10\n<ol><li>\n将tsheader.php中TOC样式剥离到具体样式表（gray.css, console.css）中；\n</li><li>\n</li></ol>\n9/29/10\n<ol><li>\n将自定义的JS函数分离至js/util.js中，并在所有文件的开头加以引用。\n自jse15.php页面起；\n</li><li>\n</li></ol>\n9/28/10\n<ol><li>\n［数字］《牛津初阶英汉双解词典》收录词条15 000个\n</li><li>\n描述式的定义：如adventurous的定义是 An adventurous person likes to do exciting,\ndangerous things. 也就是说把需定义的\"adventurous\"使用于句中，而实际上并无定义。\n</li></ol>\n9/9/10 周四\n<ol>\n    <li>想来想去，还是HTML页面看着舒服呢？真的如此吗？“我不相信！”</li>\n</ol>\n8/28/10 Sat\n<ol>\n    <li>中企动力给小企业推销做网站的模式不行了，自己都很排斥这些东西，我想那些老板也是\n    如此。</li>\n</ol>\n8/24/10 Tue\n<ol>\n	<li>自己弄个模拟微博功能的东东怎样？</li>\n	<li>_t: docs 中嵌套的有序、无序列表的样式如何设定？比如，一级 li 标签为小写罗马\n	数字，二级为小写英文字母，三级为数字</li>\n</ol>\n2010-8-23\n<ol>\n	<li>22日在修改cnblogs博客上的页面表格时有一现象：明明 CSS 样式表已经更新了，但页面\n	显示的仍是之前的旧样式。原因在于：一个页面在正常显示前会将所有 CSS 文件提交下载\n	下来，当再打开相同页面时，浏览器会使用之前已经下载下来的样式表以提高页面显示速度。\n	所以，样式没有更新原因在于浏览器使用的是之前加载的样式表。此时，使用另一个不同的\n	浏览器访问该页面可验证上面所说；重启当前浏览器可解决此问题。</li>\n</ol>\n2010-8-4\n<ol>\n	<li>wp.php 中单词图片尺寸缩小至 350px, 使在打印页面中横排能容下两张图片；</li>\n	<li>缩放图片尺寸的软件名为 \'gimp\', 在 Alt + F2 中直接输入即可；</li>\n</ol>\n2010-7-30\n<ol>\n	<li>七月份单词统计：Verb: 33, Noun: 28, adj: 53, idiom: 19. 总计：141</li>\n</ol>\n2010-7-29\n<ol>\n	<li>想将页面标题细化，所以把js.php页面中原来的header统一向上调一级，即原来的h3\n	变为h2.</li>\n</ol>\n2010-7-23\n<ol>\n	<li>7.19-7.23 Ch7</li>\n</ol>\n2010-7-16\n<ol>\n	<li>The typos of log.js and toc.js were found this morning: <br>\n	<blockquote class=\"code\">\n	if (m.tagName <span class=\"red\">=</span> \"P\")  continue; <br>\n	if (m.tagName.length<span class=\"red\"> = </span>2 && m.tagName.charAt(0)==\"H\") sects.push(m); <br><br>\n	<code class=\"comment\"># log.js</code><br>\n	if (type<span class=\"red\"> = </span>\"object\") <br>\n	if (type<span class=\"red\"> = </span>\"function\") value = \"{/* source code suppressed */}\";<br>\n	</blockquote></li>\n</ol>\n2010-7-15\n<ol>\n	<li>How to find the typo (log.js) in the code is a problem. By now, it couldn\'t\n	not work.</li>\n</ol>\n2010-7-12\n<ol>\n	<li>资料连接：<a title=\"aaa\" href=\"http://www.unicornbbs.cn/dispbbs.asp?BoardID=22&replyID=89083&id=24049&skin=0\">坐牢家爸爸给女儿的八十封信</a></li>\n	<li>The <code>&lt;a&gt;</code>\'s <code>title</code> attribute will help you \n	accomplish the effect that when you hover the new word \'link\' with your mouse, \n	you will see the chinese explanation. For example, <a href=\"\" \n	title=\"该单词的中文意思在此处显示\">a new word</a></li>\n</ol>\n2010-7-11\n<ol>\n  <li>由于返回页面顶部和首页的快捷键已经掌握，去除页面底部的导航链接，同时将锚<code> &lt;a name=\"top\"&gt;&lt;/a&gt; </code>和指向该锚的链接<code> &lt;a href=\"#top\"&gt;page top&lt;/a&gt; </code>移到 tsheader.php 内。具体见 tsfooter.php 内注释;</li>\n  <li>新建日记页面diary.php, 新建一个页面类型 \"fix\", 用于设定定宽的页面样式</li>\n  \n</ol>\n2010-7-10\n<ol>\n  <li>将页面的默认字体由\"Arial\"修改为\"Dejevu Sans\", 在Debian下效果更佳。</li>\n  <li>升级console.css样式</li>\n</ol>\n2010-7-9\n<ol>\n  <li>Document Object的两个方法 <code>getElementsByTagName()</code> 和 <code>getElementById()</code> 的名称要特别注意。首先，由于<code>getElementsByTagName()</code>方法返回的是一个NodeList 类型的数据（类似数组），Document 内有多个元素符合要求，因此\'Element<b>s</b>\'为复数形式，而文档内标记有特定Id的元素具有唯一性，因此<code>getElementById()</code>方法名中的\'Element\'为单数形式，其次注意名称里字母的大小写，很易出错。（P322）</li>\n  <li>在yellow.css, gray.css 和 console.css 三文件中按钮（input, option等）样式中<a href=\"css.php#s_button_style\">添加 button 样式</a></li>\n</ol>\n2010-7-8 星期四\n<ol>\n  <li>开始于15.4.6</li>\n</ol>\n2010-7-6\n<ol>\n  <li>14章中提到的很多属性及方法的细节均在 Part IV 章节内；</li>\n  <li>Chapter 15 Scripting Documents 开始</li>\n</ol>\n2010-7-5\n<ol>\n  <li>CH14 Scripting Browser Windows 开始</li>\n  <li>删除 word.php页面</li>\n</ol>\n2010-7-3\n<ol>\n  <li>几大浏览器厂商联合一个WHATWG组织（Web Hypertext Application Technology Working \n  Group）, 留意其主页 <a href=\"http://www.whatwg.org\">www.whatwg.org</a></li>\n  <li>CH13 除 13.8 安全一节未看外，第一遍结束；</li>\n</ol>\n2010-7-2\n<ol>\n  <li>电子传真机发现不了硬件，相关人员在BIOS中修改如下：<code>Integrated Peripherals -\n  Super IO Device - Parallel Port Mode - ECP+EPP (最后一项默认好像是 Default)</code></li>\n</ol>\n2010-7-1\n<ol>\n  <li>改从CH13: JS in Web Browser 看起</li>\n</ol>\n\n2010-6-30\n<ol>\n  <li>Javascript Chapter 1, 2 结束；</li>\n  <li><code class=\"new\">NEW</code> <a href=\"js.php\">JS页面</a> js.php</li>\n  <li>在CSS中添加<code>div.new</code>样式用于标记新建的页面；</li>\n</ol>\n\n2010-6-29\n<ol>\n  <li>摘录<a href=\"mysql.php#s_mysql_manual_3.2\">MySQL Manual 3.2 要点</a></li>\n  <li>添加生词页面(word.php)和MySQL日志页面（mysql.php）</li>\n  <li>购买的两本书到货</li>\n</ol>\n\n2010-6-28\n<ol>\n  <li><code class=\"done\">DONE</code> 以最快速度复习之前总结的SQL笔记；</li>\n  <li><a href=\"css.php#s_css_note\">HTML 指南 CSS 章节摘录</a></li>\n  <li><a href=\"mysql.php#s_connect_mysql\">MySQL最基本的使用</a>，以前总结过，因为不经常用，所以都忘记了</li>\n  <li><code class=\"undo\">UNDO</code><code>&lt;code&gt;, &lt;span&gt;, </code>均可对单个字体进行样式化；<code>&lt;em&gt;, &lt;b&gt;</code>均可以对字体加粗。如何统一？</li>\n  <li>将照片移至 img/ 目录下；</li>\n</ol>\n\n2010-6-26\n<ol>\n  <li>解决了 clear: both; 的疑惑，移除 <code>div.fullwidth</code> 样式；</li>\n  <li>Ethernet Hub (集线器）, Switch (交换机）, Router (路由器)</li>\n  <li>BigPicture 使用的是 javascript 技术</li>\n  <li>数据从之前 ~/doc/ 下向 ~/www/p/ 下转移</li>\n</ol>\n\n2010-6-25\n<ol>\n  <li>模仿 <a href=\"css.php#s_big_picture\">Big Picture 的照片展示样式</a>；</li>\n  <li>针对锚进行约定：凡是标题（Header）中的锚，统一加前缀 <code>s_</code>, \'s\'代表 \'Section\'，比如<code>&lt;h3&gt;&lt;a name=\"s_tsheader\"&gt;&lt;/a&gt;新版本的 tsheader.php, tsfooter.php 页面&lt;/h3&gt;</code>;</li>\n  <li>高亮显示的内容分两种：一种是诸如<code class=\"note\">NOTE</code>的标记内容，另一种是诸如<code class=\"comment\"># a comment line</code>在<code>&lt;pre&gt;, &lt;blockquote&gt;</code> 中使用的内容，<strike>统一使用<code>&lt;code&gt;</code>\n  进行表示</strike>（注：后改为<code>&lt;span&gt;</code>）；</li>\n  <li><a href=\"html.php#s_tsheader\">将普通页面和照片页面的头、尾文件整合在一起</a>，以达到更好的通用性。</li>\n  <li><code class=\"done\">DONE</code>&nbsp;<code>div.cl { clear: both; }</code> 有何作用？参考<a href=\"css.php#s_clear_both\">此处</a>；</li>\n  <li>将样式表更新为 common.css, yellow.css 和 console.css 三个文件；</li>\n  <li>清晨发现 console 样式页面<a href=\"css.php#qHr\">顶端分隔线和返回首页的连接间间距太大</a>问题的原因。很有必要把样式变和不变的部分分离开来。</li>\n</ol>\n\n2010-6-24\n<ol>\n  <li>交换机（Switch）仅仅起到一个信号分散的功能；路由器（Router）需要对宽带帐户进行相应设置。</li>\n  <li>将本地 p 目录和 trekshot.org 网站格式保持一致。格式约定如下：</li>\n    <ol>\n      <li>将所有文件都放置在 /wwwroot/p/ 目录下；</li>\n      <li>不设定独立的 css/ 目录，而将 ts.css 和公共文件 tsheader.php 和 tsfooter.php 等一并放入该目录下以便于间接路径的使用；</li>\n      <li>单篇文章类加上前缀 e. (e =  Entry), 起到目录的作用；</li>\n    </ol>\n</ol>\n\n2010-6-23\n<ol>\n  <li>HTML 标签会忽略开始标签之后和结束标签之前的所有空格。—— 更新页首部分信息有感</li>\n  <li>将 tsheader.php 中的 index 链接添加 <code>accesskey=\"z\"</code> 属性，设置全局返回首页的快捷键，同时在 tsfooter.php 中添加 <code>accesskey=\"x\"</code> 属性，设置返回当前页面顶部的快捷键，说明：如果页面内还有等分导航块（如 css.php, index.php）则返回至此，而如果是像 table.php 之类的普通页面，直接返回真正的页面顶部，只需注意 <code>&lt;a name=\"top\"&gt;&lt;/a&gt;</code> 锚的位置即可。</li>\n  <li>在 tsfooter.php 中<a href=\"html.php#footer_nav_link\">添加统一的返回首页及页面顶部链接</a>；</li>\n</ol>\n\n2010-6-22\n<ol>\n  <li>如何<a href=\"html.php#s_create_anchor\">正确的设置锚</a>；见 css.php page</li>\n  <li>创建新页面<a href=\"css.php\">CSS 技巧汇总</a></li>\n  <li>添加表单提交成功后显示给用户的信息样式，使用 <code>&lt;blockquote class=\"info\"&gt;</code></li>\n  <li>创建设置样式页面 <a href=\"set.php\">set.php</a></li>\n</ol>\n\n2010-6-21\n<ol>\n  <li>想在页面顶部添加一个记住选择的样式的表单。cookie 的原理到底是什么？叙述其过程。</li>\n  <li>Create <a href=\"phpfunctions.php\">phpfunctions.php</a> page.</li>\n  <li>使用 <code>require</code> 函数，将页面顶部和底部不变的部分分离出来以简化代码，同时建立全局设置页面 top-set.php, 用以统一设置 CSS 属性。</li>\n</ol>\n\n2010-6-20\n<ol>\n  <li>将 index.php 页面的每个段落设置书签，并使用 <code>accesskey</code> 属性为每一个段落设置快捷键， 例如，使用 \"Alt + Shift + D\" 组合键可快速到达 Daily Log 段落，十分方便。有一点需要 <code class=\"note\">NOTE:</code> 的是，设置的快捷键不要和 Firefox 自身的快捷键重复；</li>\n  <li>笔记本上适合 console.css 样式，准备将所有文件的顶端部分分离成一个文件，这样便于更改样式。目前先暂时通过修改样式表文件名的方法实现；</li>\n</ol>\n</div>\n',NULL,2,1,'N',0,'util.js','2011-01-08 00:00:00','2014-02-27 13:20:18'),(14,'mysqldump 导出表格中文乱码的问题','<p>为保持单位电脑和家中电脑上 MySQL 数据同步，需要使用 mysqldump 命令导出数据库\n，但有个问题是导出的 SQL 文件中所有的中文都为乱码。在网上搜索到问题出在字符编码\n上。MySQL 有个<br>\n<code>--default-character-set=<i>charset_name</i></code>参数可以\n设定字符编码，5.0 手册中有这样一段话：</p>\n<blockquote>\nUse <code><i>charset_name</i></code> as the default character set. \nIf no character set is specified, mysqldump uses <code>utf8</code>, \nand earlier versions use <code>latin1</code>. \n</blockquote>\n<p>在MySQL中输入如下命令：</p>\n<pre class=\"tty\">\nmysql&gt; <span class=\"ttyipt\">show variables like \'%char%\';</span>\n+--------------------------+----------------------------+\n| Variable_name            | Value                      |\n+--------------------------+----------------------------+\n| character_set_client     | latin1                     | \n| character_set_connection | latin1                     | \n<span class=\"hl2\">| character_set_database   | latin1                     |</span>\n| character_set_filesystem | binary                     | \n| character_set_results    | latin1                     | \n| character_set_server     | latin1                     | \n<span class=\"hl2\">| character_set_system     | utf8                       |</span> \n| character_sets_dir       | /usr/share/mysql/charsets/ | \n+--------------------------+----------------------------+\n8 rows in set (0.00 sec)\n</pre>\n<p>注意到高亮处显示信息。这表明数据库的字符集为 latin1 格式。从\n<code>mysqldump</code>导出的SQL文件也可看出数据库默认编码格式：</p>\n<pre>\nCREATE TABLE `motd` (\n...\n) ENGINE=MyISAM AUTO_INCREMENT=7 DEFAULT <span class=\"hl2\">CHARSET=latin1;</span>\n</pre>\n<p>注意，最后一行自己在创建表格时并没有写，这是<code>mysqldump</code>\n“默认”添加上去的内容。</p>\n</p>\n而从上面的引用中我们得知：当不加任何参数时，导出的数据的格式为 utf8 格式，\n这和数据库的编码（latin1）显然不一致，自然显示为乱码。这和之前在 Debian 上打开\nWindows 上使用记事本编辑的文件显示乱码是一个道理。\n</p>\n<br>\n\n<p>解决方法就是在<code>mysqldump</code>命令后注明需要导出编码为 latin1 的 SQL \n文件，命令如下：</p>\n<pre>\nmysqldump -u root <b>--default-character-set=latin1</b> -p trekshot &gt; trekshot.sql\n</pre>\n<p><strike>目前已将此命令 alias 至 .bashrc 中。</strike></p>\n<blockquote>\nshell script 中不能直接使用 alias 命令！参 npu.sh 文件\n</blockquote>\n<br>\n\n<p>参考：</p>\n<ol>\n    <li><a target=\"_blank\" \n      href=\"http://www.eygle.com/archives/2010/05/mysql_5_chinese.html\">Mysql 5 数据库 中文乱码问题的解决</a> by eygle</li>\n</ol>\n<p></p>\n',NULL,3,1,'N',0,'util.js','2011-01-12 00:00:00','2014-02-27 13:20:18'),(26,'2010年总结','<p>学习：</p>\n<ul>\n    <li>安装并使用 Debian 系统：\n    2010 年 3 月 31 日第一次安装。之后先后由于双系统和Windows 7 的原因在 11, 12\n    月份重装并温习相关基础知识；\n    </li>\n    <li>5 月曾短暂学习过 Perl 语言（源自 eygle.com 网站），\n    参考《Beginning Perl》，后因于找工作冲突搁置；</li>\n    <li>后半年学习《JavaScript: The Definitive Guide》一书，\n    并做相对详细的电子笔记；了解 JavaScript 所起的作用和所扮演的角色；</li>\n</ul>\n<p>上网：</p>\n<ul>\n    <li>今年的 4 月 29 日，在cndns.com 网站第二次购买空间域名 trekshot.org,\n    一转眼，又是大半年过去了。自己先后曾两次建立个人站点，结果都没能坚持下来。\n    不会给自己第三次机会了，因为两次足以说明问题：自己不适合建立个人博客；</li>\n    <li>2009 年7月25日自己曾经在网易和腾讯空间上\n    <a href=\"http://kuixy.blog.163.com/blog/static/29217268200962555825219/\">\n    发表日志</a>，信誓旦旦地说自己从此不再被这些个网站所累。\n    没想到在此后的一年半时间里，自己仍旧被其所困；</li>\n</ul>\n<p>网购（6 本）：</p>\n<ul>\n    <li>3/12:《古文观止》；</li>\n    <li>5/11:《人类的敦煌》；</li>\n    <li>6/26:《李敖回忆录》；</li>\n    <li>6/26:《JavaScript: The Definitive Guide》；</li>\n    <li>11/10:《不过如此》；</li>\n    <li>12/17:《徐霞客游记》；</li>\n</ul>\n<p>Cry:</p>\n<p>结婚的头一年，共把她弄哭 7 次。原因包括：答应她的事没按时做；揭人短处；\n</p>\n<ul>\n    <li>2010/1/5: 昨天晚上我在床上上了一会网，她先我睡觉了，我故意和她捣乱\n    不让她休息，结果又给惹哭了。今早呢，妻子还没说句“以后不能哭了，眼都肿了”，\n    我在一边就接了句话，大概意思是说还是因为她爱哭，要是二姐早就踢我了，\n    这一说不当紧，也不起来给我热饭了，又哭了起来。她说我不够关心她。我也是了，\n    不晓得她这两天正闹肚子。哎！我这个人呐，开玩笑会，哄女人不行呀！</li>\n    <li>2010/1/14 昨晚妻子回来因为没有烧水哭了，说我不够关心她，\n    不知道她在我心里是什么地位。 \n    * 关心她不是让她少做点事，而是自己要多为她做些事。 </li>\n    <li>2010/7/15: 对调想想，那样说王就如同她嫌弃你腰上的问题一样，换你也生气。\n    故尊重对方，勿揭短。</li>\n    <li>2010/9/9: 老婆回家做饭是很辛苦的，不管菜做得如何，万万不可打击积极性；\n    </li>\n    <li>2010/9/13: 她值班，我晚上由于看天足没有按时接她。\n    好像给她的感觉是在我心里，电视机的地位要比她高。</li>\n    <li>2010/10/10: 她可能工作上不顺，加之自己的行为稍微不当，哭了；</li>\n</ul>\n<p>Relatives:</p>\n<ul>\n    <li>\n2010/1/12:\n昨晚至二姐家，三姐也在。姐夫过一会也回来了。又是给我递烟，又是开玩笑，可能是喝了点酒吧，其实姐夫平常话并不多。这就是主人对客人热情的一种表现吧。\n    </li>\n    <li>2010年正月初六，岳母至吴村；</li>\n    <li>2010/3/14: 首次至萍姐家；</li>\n    <li>2010/8/1: 首次至涣姐家；</li>\n</ul>\n<p>Mother:</p>\n<ul>\n    <li>2010/5/30: 跟母亲说想吃鸡蛋黄州丝面条，我买些黄瓜回去。到家发现母亲正在\n    做热菜，很是不解，问为何，答曰：这可好吃了。过了一会儿，母亲才说出真正原因，\n    原来是父母年纪大了，牙不好的原因！</li>\n    <li>2010/8/8: 喂狗看主人。爱憎分明；</li>\n    <li>2010/8/8: 我曾说将来要买辆车，母亲记在心里了；</li>\n</ul>\n',NULL,2,1,'N',0,'','2010-12-27 00:00:00','2014-02-27 13:20:18'),(27,'使用 Vim 的整行复制(yy)、粘贴(p) 时的注意事项','<p>想对 essay/manage.php 页面添加一个可以修改创建日期的功能。\n即在更新表记录时多加上一个<code>c_time</code>, 于是复制<code>tag</code>\n行进行修改。运行时出现如下错误：</p>\n<blockquote class=\"error\">\nYou have an error in your SQL syntax; check the manual that corresponds to \nyour MySQL server version for the right syntax to use \nnear \'c_time=\'2011-01-13 10:50:01\' WHERE (id=\'27\')\' at line 7\n</blockquote>\n<p>提示显示 SQL 语句<code>c_time=</code>附近语法错误。仔细一看，原来\n<code>tag</code>后少了一个逗号！如下：</p>\n<pre>\n$sql = sprintf(\"\n  UPDATE essay \n  SET file_name=\'%s\',\n      title=\'%s\', \n      js_file=\'%s\', \n      category=\'%s\', \n      <span class=\"red\">tag=\'%s\'<span class=\"cmt\"> &lt;-- 此处缺少逗号 #1</span>\n      c_time=\'%s\'</span><span class=\"cmt\"> #2</span>\n  WHERE (id=\'%s\')\", $new_file_name,$new_title,$new_js_file,\n      $new_category,$new_tag,$new_c_time,$edit_id);\n</pre>\n<p>原来 #1 行是最后一个列最后自然没有逗号，现在复制后的 #2 成了最后一列，\n那 #1 处就需要有逗号了。这就是使用 Vim 在整行复制、粘贴的时候没有修改彻底\n的原因。</p>\n<p></p>\n<p></p>\n<p></p>\n',NULL,3,1,'N',0,'util.js','2011-01-13 10:50:01','2014-02-27 13:20:18'),(28,'MySQL增改删查基本操作总结','<h2>查</h2>\n<pre>\n$sql = \"SELECT * FROM motd\";\n$result = mysql_query($sql);<span class=\"cmt\"> # 此函数返回值类型为 Resources, 它是一种特殊的变量，PHP 中另外一个特殊的变量是NULL</span>\n$row = mysql_fetch_assoc($result);\nwhile ($row) {\n    echo \"{$row[\"content\"]}\\n\"; \n    echo \"{$row[\"day\"]}\\n\"; \n    $row = mysql_fetch_assoc($result);\n}\n</pre>\n<p>上面的<code>while</code>循环还有另一种写法，但是，这两个有区别。</p>\n<pre>\n<span class=\"cmt\"># 循环的另一种写法</span>\n$sql = \"SELECT * FROM motd\";\n$result = mysql_query($sql);\n<strike>$row = mysql_fetch_assoc($result);</strike><span class=\"cmt\"> //使用这种格式就不能有这句了，否则将少遍历一次，确切的说是第一条记录。</span>\nwhile ($row = mysql_fetch_assoc($result)) {\n    echo $row[\"userid\"];\n    echo $row[\"fullname\"];\n    echo $row[\"userstatus\"];\n}\n</pre>\n<p>对比可以得出：第二种写法更好一些。</p>\n<br>\n<p>上面是查询多条记录。如果要查询一条记录，比如获取某一个 id 的记录的内容的话，就可以省去上面的 while 循环，如下：</p>\n<pre>\n$very_id = $_GET[\"id\"];\n$sql = \"SELECT id,file_name,title,js_file,category,tag,c_time\n	FROM essay WHERE id=\\\"$very_id\\\"\"; \n$result = mysql_query($sql); \n$row = mysql_fetch_assoc($result); \n<span class=\"cmt\"># 读取单条记录</span>\n$file_name = $row[\"file_name\"];\n$title     = $row[\"title\"];\n$js_file   = $row[\"js_file\"];\n$category  = $row[\"category\"];\n$tag       = $row[\"tag\"];\n$c_time    = $row[\"c_time\"];\n</pre>\n\n<h2>增</h2>\n<p>细分为以下两个步骤：</p>\n<ol>\n    <li>搜集需存入表格中的值；</li>\n    <li>使用<code>sprintf</code>函数生成一个 SQL INSERT 语句；</li>\n</ol>\n<p></p>\n\n<pre>\n$file_name = $_POST[\'txt_file_name\'];\n...\n$sql = sprintf(\"INSERT INTO essay\n	(id,file_name,title,js_file,category,tag,c_time)\n	VALUES (\'\',\'%s\',\'%s\',\'%s\',\'%s\',\'%s\',NOW())\", \n	$file_name,$title,$js_file,$category,$tag);\nmysql_query($sql) or die (mysql_error());\n$n = mysql_affected_rows($link);\nif ($n == 1) { <span class=\"cmt\">/* Add action succeed information */</span> }\n</pre>\n\n<h2>删</h2>\n<pre>\n$very_id = $_GET[\"id\"]; \n$result = mysql_query(\"DELETE FROM motd WHERE id = \\\"$very_id\\\"\") or die (mysql_error());\n$deleted_row = mysql_affected_rows($link);\nif ($deleted_row == 1)\n	echo \"Twitter <b>#$very_id</b> has deleted!\";\n</pre>\n<h2>改</h2>\n<p>目前常见的是更新单条记录。</p>\n<pre>\n<span class=\"cmt\"># 存储修改后的值</span>\n$new_category = $_POST[\'radio_category_edit\'];\n$edit_id = $_POST[\'hidden_id\'];\n<span class=\"cmt\"># 将更改的值写入 UPDATE 语句中，注意使用 sprintf 函数</span>\n$sql = sprintf(\"UPDATE motd \n		SET content=\'%s\',category=\'%s\' \n		WHERE (id=\'%s\')\", $new_content,$new_category,$edit_id);\nmysql_query($sql) or die (mysql_error());\n$n = 0;\n$n = mysql_affected_rows($link);\n</pre>\n<p>注意<code></code>函数返回值的两种情况：</p>\n<blockquote>\nFor SELECT, SHOW, DESCRIBE, EXPLAIN and other statements returning resultset, \nmysql_query() returns a resource on success, or FALSE on error.<br><br>\n\nFor other type of SQL statements, INSERT, UPDATE, DELETE, DROP, etc, \nmysql_query() returns TRUE on success or FALSE on error. \n-- PHP Manual\n</blockquote>\n<p>这里我们执行的是<code>UPDATE</code>操作，因此函数不返回结果集，而仅仅返回\n<code>TRUE</code></p>\n\n<h2>结论</h2>\n<ul>\n    <li>\n常用的函数，三个而已：\n<code>mysql_query(), \n<a target=\"_blank\" \n  href=\"/ref/php-manual/function.mysql-fetch-assoc.html\">mysql_fetch_assoc()</a>, mysql_affected_rows()</code>\n    </li>\n    <li>函数<code>sprintf()</code>仅在增、改操作中会用到；</li>\n</ul>\n<p></p>\n',NULL,1,1,'Y',0,'util.js','2011-01-13 21:18:41','2014-02-27 13:20:18'),(29,'增加 Essay 标签显示功能','<p>首先把所有记录中<code>tag</code>列存入一个字符串<code>$t_str</code>. (#1)。\n其次将此字符串使用英文逗点切割成数组<code>$t_arr</code>(#1)。\n注意此时有两种情况：</p>\n<ol>\n    <li>此数组中可能含有空字符\'\',因为有些文件可能没有设置标签；</li>\n    <li>数组元素需要进行去除两端空格的 trim 操作。这一步和下面按字母顺序列出\n    所有标签的操作有关。我们看这样一个情况，一个文件的标签设置为\n    <code>php, function</code>,注意字符 \"function\" 前面有个空格，那么，\n    进行上面的操作后，数组中的一个元素值将会是\n    <span class=\"ylBG\"><code>&nbsp;function</code></span>而不是\n    <span class=\"ylBG\"><code>function</code></span>.这样在下面的按顺序显示所有\n    标签的片段中，<code>&nbsp;function</code>会排在<code>array</code>之前，\n    因为空格要先于字母 \'a\'. 这也是 #3 处的用意。\n    </li>\n</ol>\n<pre>\n&lt;?php\n$rst_tag  = mysql_query(\"SELECT tag FROM essay\");\nwhile($rows_tag = mysql_fetch_assoc($rst_tag)) { \n    $t = $rows_tag[\'tag\']; \n    <span class=\"hl\">$t_str .= $t.\',\';</span><span class=\"cmt\"> #1</span>\n}\n<span class=\"hl\">$t_arr = explode(\',\',$t_str);</span><span class=\"cmt\"> #2</span>\n<span class=\"hl\">\nfor($i = 0; $i &lt; count($t_arr); $i++) { <span class=\"cmt\"> #3</span>\n	$t_arr[$i] = trim($t_arr[$i]);\n}\n</span>\necho \"Tags Pool\\n\";\n<span class=\"hl\">\n$t_count_arr = array_count_values($t_arr);<span class=\"cmt\"> #4</span>\nksort($t_count_arr);\nforeach ($t_count_arr as $key =&gt; $value) {</span>\n	if (!empty($key)) \n		echo \"\\t&lt;a href=\\\"tag.php?name=$key\\\"&gt;\".$key.\"&lt;/a&gt;(\".$value.\")&nbsp;&nbsp;\\n\";\n}\n?&gt;\n</pre>\n<p>还需要一个显示含有每个标签页面的个数功能。在之前的 Essay 页面是通过 SQL \n语句:</p>\n<pre>$num = mysql_affected_rows();</pre>\n<p>获得的，而这里我们使用一种比较简单的方法。\n数组中有一个函数<code>array_count_values()</code>用来计算每个元素在数组中出现\n的次数，并存储到一个关系数组中。而函数<code>ksort()</code>用来将此关系数组\n中的键按顺序排列，这也达到了目的。</p>\n<br>\n<p>最后需要注意的是<code>foreach</code>语句遍历普通数组和关系数组时语法上的\n不同：</p>\n<pre>\n<span class=\"cmt\"># 普通数值数组</span>\nforeach ($assoc_arr as $key =&gt; $value) {\n	echo \"$key: $value&lt;br&gt;\";\n}\n<span class=\"cmt\"># 关系数组遍历</span>\nforeach ($num_arr as $num) {\n	echo $num;\n}\n</pre>\n<p>EOF</p>\n<p></p>\n',NULL,1,1,'N',0,'util.js','2011-01-15 09:26:18','2014-02-27 13:20:18'),(30,'让 tsfoot.php 页面中 addt 模块脱离正常文本流','<blockquote>\n考察知识点：CSS 中 <code>left</code>, <code>postion</code> 属性及其值的含义。\n</blockquote>\n<p></p>\n<p></p>\n<p></p>\n<p>之前的样式:</p>\n<pre>\n&lt;div id=\"addt\" style=\"visibility:hidden;\"&gt;\n  &lt;form&gt;\n  ...\n  &lt;/form&gt;\n&lt;/div&gt;\n</pre>\n\n<blockquote class=\"warning\">\n<img src=\"/img/page/warning.png\" />\n不要在默认的文本流中使用 <code>visibility</code>属性。\n<div class=\"cf\"></div></blockquote>\n\n<p>在未激活 addt 输入框前，该区块的样式只有一个<code>visibility:hidden;</code>\n, 也就是说区块的<code>position</code>属性没有声明，是默认的<code>static</code>,\n这就说明：虽然不可见，但此区块在文档中的位置仍存在。\n这就是为什么页面下方总是有一片空白区域的原因（<a target=\"_blank\" \nhref=\"/img/page/snap-position-static-visibility-hidden-20110120.png\">参看原图</a>）。</p>\n<br>\n<p>修改如下：</p>\n<p>直接将<code>addt</code>区块的初始样式命名为\n<code>staticBlockHidden</code>.\n</p>\n\n<pre>\n<span class=\"cmt\"># tsfooter.php</span>\n&lt;div id=\"addt\" class=\"staticBlockHidden\"&gt;\n\n<span class=\"cmt\"># /p/css/common.css</span>\ndiv.staticBlockHidden {\n  display:none;\n}\n<span class=\"cmt\"># /js/util.js</span>\nfunction show_addt() {  \n	var nd = id(\"addt\");\n	nd.className = \"debugInfo\";\n	<strike>nd.style.visibility = \"visible\";</strike><span class=\"cmt\"></span>\n}\n</pre>\n',NULL,1,1,'N',0,'util.js','2011-01-20 12:02:09','2014-02-27 13:20:18'),(31,'HTML元素的可见性（CSS属性visibility和display的区别）','<p><code>visibility</code> 和 <code>display</code>均可用来控制元素的可见性。\n两种都有各自的使用场合：</p>\n<blockquote>\nYou\'ll typically use the <code>visibility</code> attribute when you are working\nwith dynamically positioned elements.（定位为 static 或 relative）\n的元素一般不希望文档中出现一片空白区域。\n<br><br>\nThe <code>display</code> attribute is usefull, for example, when creating \nexpanding and collapsing outlines.\n</blockquote>\n<p>16.2.1 中提到，元素的<code>position</code>值有四种。\n其实这四个值可分为两类：</p>\n<ol>\n    <li><code>static</code> (Default), <code>relative</code></li>\n    <li><code>absolute</code>, <code>fixed</code></li>\n</ol>\n<p></p>\n<p></p>\n<blockquote>\nThe difference between the <code>visibility</code> and <code>display</code>\nstyle attributes has to do with there effect on elements that are not\ndynamically positioned (with the <code>position</code> attribute set to\n<code>static</code> or <code>relative</code>).\n</blockquote>\n\n<blockquote>\nSetting <code>visibility</code> to <code>hidden</code> makes the element\ninvisible but reserves space for it in the document layout. Such an element\ncan be repeatedly hidden and shown without changing the document layout.\n</blockquote>\n<hr>\n<div id=\"blockVisibilityHidden\" class=\"bvh\">\n#1\n</div>\n<button onclick=\"display_hide()\">Display/Hide</button>\n<script>\nfunction display_hide() {\n	var nd = id(\"blockVisibilityHidden\");\n	nd.className = (nd.className == \"bvh\") ? \"bvd\" : \"bvh\";\n}\n</script>\n<hr>\n\n<blockquote>\nIf an element\'s <code>display</code> attribute is set to <code>none</code>, however,\nno space is allocated for it in the document layout; elements on either side\nof it close up as if it were not there.\n</blockquote>\n<hr>\n<button onclick=\"display_hide2()\">Display/Hide</button>\n<div id=\"blockDisplayNone\" class=\"staticBlockHidden\">\n#2\n</div>\n<script>\nfunction display_hide2() {\n	var nd = id(\"blockDisplayNone\");\n	nd.className = (nd.className == \"staticBlockDisplay\") ? \"staticBlockHidden\" : \"staticBlockDisplay\";\n}\n</script>\n<hr>\n<p>从上面两个例子即可直观理解两者的区别。</p>\n',NULL,3,1,'N',0,'util.js','2011-01-21 08:35:53','2014-02-27 13:20:18'),(32,'JS onmouseover 事件在 t.php 上的实践','<blockquote class=\"warning\">\n<p>Update:</p>\n<ol>\n<li>\n当输入内容中包含 <code>&lt;pre&gt;&lt;span class=\"**\"&gt;&lt;/span&gt;&lt;/pre&gt;</code> 时，出现另一个 bug; (2011-03-15)</li>\n</ol>\n<p>Update:</p>\n<ol>\n<li>\n此解决方法的一个 Bug：当输入内容中本身含有<code>&lt;span&gt;</code>标签时，\n<code>var cn = spanArr.item(1);</code>将定位错误。解决方法见下。</li>\n<li><code>onload</code>事件不仅适用于\"xxx.php\"类页面，也适用于\"xxx.php?xxx=xxx\"\n页面；</li>\n</ol>\n</blockquote>\n\n<p>在 HTML 输出中增加高亮部分，想实现这样一种效果：高亮部分的输出默认为不可见，\n当鼠标滑过条目时，高亮部分输出的内容设为可见，鼠标滑出<code>&lt;pre&gt;</code>\n区域时，重新将高亮部分输出设为不可见。\n</p>\n<p></p>\n<pre>\n&lt;pre&gt;\nessay 表中添加自定义CSS文件列有无必要？\n&lt;span class=\"entry-footer\"&gt;#139&nbsp;&nbsp;Friday 10:37 1/21/11<span class=\"hl\">&lt;span \n  class=\"hoverDisplaySpan\"&gt;&nbsp;&lt;a \n  href=\"index.php?id=139&action=edit\"&gt;Edit&lt;/a&gt;&lt;/span&gt;</span>&lt;/span&gt;\n&lt;/pre&gt;\n</pre>\n<p>CSS 相关文件如下：</p>\n<pre>\nspan.hoverDisplaySpan {\n  display:none;\n}\nspan.displayedSpan { \n  display:inline;\n}\n</pre>\n<pre>\n<span class=\"cmt\"># JS snippet in t/index.php\n# 功能：在页面加载完成后，将页面中所有的&lt;pre&gt;标签添加两个事件</span>\nwindow.onload = makePreEvent;\nfunction makePreEvent() {\n	var nl = document.getElementsByTagName(\"pre\");\n	for (var i = 0; i &lt; nl.length; i++) {\n		nl.item(i).onmouseover = showEntryFooter;\n		nl.item(i).onmouseout = hideEntryFooter;\n	}\n}\n<span class=\"cmt\"># JS snippet in /js/util.js</span> \nfunction showEntryFooter() {\n	var spanArr = this.getElementsByTagName(\"span\");\n	<strike>var cn = spanArr.item(1);</strike>\n	<span class=\"cmt\">/* 上句的问题是没有考虑文本中也含有&lt;span&gt;标签的情况，如果输入内容中含有&lt;span&gt;标签，\n	那么第2个&lt;span&gt;标签就不再是我们需要的。解决方法是找spanArr NodeList 中最后一个元素。\n	因为不管内容中是否含有&lt;span&gt;标签，它永远都是最后一个。*/</span> \n	var cn = spanArr.item(spanArr.length - 1);\n	cn.className = \"displayedSpan\";\n}\nfunction hideEntryFooter() {\n	var spanArr = this.getElementsByTagName(\"span\");\n	<strike>var cn = spanArr.item(1);</strike>\n	var cn = spanArr.item(spanArr.length - 1);\n	cn.className = \"hoverDisplaySpan\";\n}\n</pre>\n\n<p>以上可基本达到想要的效果。有两点不足或疑问：</p>\n<ol>\n    <li><strike>由于事件添加时间是在文档加载完成后，所以，加载完成后进行的新请求\n    后生成的<code>&lt;pre&gt;</code>内容中将没有此特效；</strike><br>\n    地址后面带\"?\"的请求链接返回的页面是服务器处理请求后重新发送的页面，因此，\n    也是需要加载的，事件处理同样适合这些页面。上面错误的原因在于没有理解 GET\n    请求返回的整个页面是重新发送的一个新页面；\n    </li>\n    <li>上面是以 JavaScript Properties 的形式声明的事件，HTML Attributes 形式\n    行不通：\n    <pre>\n<span class=\"cmt\"># A method that doesn\'t work</span>\nwhile ($row) {\n    echo \"&lt;pre <span class=\"hl\">onmouseover=\\\"showEntryFooter()\\\"</span>&gt;\\n\";\n    echo \"{$row[\"content\"]}\\n\"; \n    echo \"&lt;span class=\\\"entry-footer\\\"&gt;#{$row[\"id\"]}&nbsp;&nbsp;{$row[\"day\"]}&lt;span \n          class=\\\"hoverDisplaySpan\\\"&gt;&nbsp;&lt;a href=\\\"index.php?id={$row[\"id\"]}&action=edit\\\"&gt;\n	  Edit&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;\\n\"; \n    echo \"&lt;/pre&gt;\\n\\n\";\n    $row = mysql_fetch_assoc($result);\n}\nfunction showEntryFooter() {\n	<span class=\"red\">this</span>.className = \"displayedSpan\";\n}</pre>\n    问题在于 HTML Attributes 形式生成的事件处理函数中好像不能使用\n    <code>this</code>关键字，即它无法表示当前鼠标停留的<code>&lt;pre&gt;</code>\n    区块所对应的 JS 对象；\n    </li>\n</ol>\n\n<h3>新的 Bug</h3>\n如果输入如下内容将产生一个新的 bug:\n<pre>\n&lt;code&gt;-rw-r--r-- 1 www-data www-data 5.5K 2011-03-15 11:05 110315-php-convert-dynamic-pages-to-static-HTML.html&lt;/code&gt;\n&lt;code&gt;chmod($fn,644);&lt;/code&gt;\n<span class=\"hl\">&lt;pre&gt;&lt;span class=\"red\"&gt;--w--wx-wT&lt;/span&gt; 1 www-data www-data 5.5K 2011-03-15 11:07 110315-php-convert-dynamic-pages-to-static-HTML.html&lt;/pre&gt;</span>\n</pre>\n高亮处为输入内容，由于其符合程序的各种条件，所以这个输入内容也将被赋予\n<code>onmouseover</code> 事件。\n<br><br>\n临时解决方法：避免上面样式的出现，如确实有代码中高亮显示的部分，改用\n<code>&lt;pre&gt;&lt;b&gt;***&lt;/b&gt;&lt;/pre&gt;</code> 的样式。\n<br><br>\n',NULL,1,1,'N',0,'util.js','2011-01-22 10:19:05','2014-02-27 13:20:18'),(33,'新乡记','<p>\n本周四闫雷结婚。我和国强一起去新乡参加婚宴。由于郑州西站到新乡的车最早是八点。\n早上六点半就爬起来。到西站后国强已买好票。之前我们两人都未坐过这个车。结果差一点\n坐上去开封的车。经过两个多小时的路程，车子终于进入新乡市区。车子拐到化工路上时\n，我看到一个熟悉的建筑——一个税务局的大楼。九年前，我和家人第一次来新乡拿我的录取\n通知书的时候，我们就是在这个楼前面等一个中间帮忙的人。真的不敢相信，转眼间，近十\n年的光景已经流走。车子一点一点向火车站靠近。窗外，一些看上去有些年头的楼房时不时\n地映入眼中。新乡没有变，至少在我看来。\n</p><br>\n\n<p>\n我们在火车站坐上２４路公交车。车上的座椅很少，而且是木制的条椅，看上去已经很长一\n段时间了。车后面的玻璃在车子发动机的震动下发出紧凑的响声。我们跟一个女司机说车到\n行政服务中心站的时候叫我们一声。等到站的时候，司机跟我们说到了，然后又说了一句话\n让我们觉得这个司机很有趣。她说：“行政服务中心到了。不过，他们今天可能不会上班。”\n够热情，她八成以为我们要去那里去投诉！其实我们失去对面的餐馆吃饭呀。在马路对面，\n远远的看到闫雷和一个个子挺高的女的——她老婆。她给我的第一印象是笑起来很开朗、健康\n，脾气似乎也不错，鼻子下方隐约能看到一些胡须。一同来的还有陈栋和宋伟强。陈栋还是\n和上学时一样，为什么这么说，我们在等宋伟强的时候，他出去转一圈，回来的时候手里拿\n了几根“金箍棒”——小时候经常吃的玉米炸的东西，吃起来酥脆的那种。此举令众人很是意外\n，突然觉得他活得很简单，而自己活得却很累，因为太多的行为都不是源自内心的原始冲动\n，而是先经过脑子过滤一下。\n</p><br>\n\n<p>\n饭后，我们步行到闫雷家里，先是穿过人民公园到金穗大道，然后到劳动南街。走的时候是\n在附近的一个叫向阳市场的站牌坐上４路车到终点站医学院，那里有到航海路上客运总站的\n大巴车。等我们到郑州的时候，已经快七点。之后先后坐Ｂ１，３１、郑上１路，进家门的\n时候已是８点半。金艳等得竟然哭了起来。\n</p>\n<center>\n<img src=\"/img/page/essay-yanlei-home.png\" />\n<p>A:大丰收火锅店; B:闫雷家附近. 蓝线为步行路线</p>\n</center>\n\n',NULL,2,1,'N',0,'util.js','2011-01-24 16:57:00','2014-02-27 13:20:18'),(34,'又办了件出力不讨好的事','<blockquote class=\"warning\">\n不要把不好的情绪带到家里，切忌回家对她沉着脸。\n</blockquote>\n<p>\n下午汪群说她母亲住院，让我给他准备五千块钱。临下班的时候，经理打电话问我下午往车\n上送东西的时候是不是少放了三件东西。我这才想起来有三件干果没有拿下去。郁闷得要死\n。什么叫出力不讨好，这就叫。交代这一个简单的事，办得这么差劲。唉，他是计算好东西\n的个数去送礼的！深深地自责，怎么老是办这种事情！如果当时多问一下一共需要搬的东西\n的件数，也不会出现这样的结果。自己办事为何总是毛毛楞楞的？！晚上金艳又哭得很伤心\n。我自己也不清楚到底为什么，怎么问，就是不说话，索性过来写下这些东西。窝火……\n</p>\n',NULL,2,1,'N',0,'','2011-01-24 22:21:10','2014-02-27 13:20:18'),(35,'foreach 遍历时提示 Warning 信息','<blockquote class=\"error\">\nWarning: Invalid argument supplied for foreach() in /home/ts/www/p/essay/v.php on line 28\n</blockquote>\n<pre class=\"brush: php\">\n# Snippet in /p/essay/v.php\n$tags = $row[\"tag\"];\nif (!empty ($tags)) \n	$tag_arr = explode(\',\',$tags);\nforeach ($tag_arr as $tag) { \n	echo $tag.\", \";\n}\n</pre>\n<p>上面代码少考虑一种情况：如果 essay/add.php 页面中没有添加标签，那么\n<code>$tags</code>值为<code>empty</code>, 高亮处代码将不会执行，\n<code>$tag_arr</code>根本就不存在，当然要提示参数非法的信息。</p>\n<br>\n<p>修正后的代码如下：</p>\n<pre class=\"brush: php\">\n$tags = $row[\"tag\"];\nif (!empty ($tags)) { \n	echo \" Tags: \".\n	$tag_arr = explode(\',\',$tags); \n	foreach ($tag_arr as $tag) { # 将此片段放入if语句中即可\n		echo $tag.\", \"; \n	} \n}\n</pre>\n<a name=\"foreachError3\">\n<h2>第 3 次遇到</h2>\n</a>\n<p>2011-11-21 更新\n</p><br><p>\nE-Orders 应用 V0.0.8 中为了实现普通物品发货的管理，在表 om_dispatch 中新增了列\n<tt>goods_type ENUM (\'order\',\'etc\')</tt>, 用 \'etc\' 来标记普通货物，\n之前的发货记录由于都是订单，所以默认值都是 \'order\'.\n数据库结构更新后，下面代码 L13 处再次出现文章开始的错误提示。\n</p>\n<pre class=\"brush: php\">\n// Snippet in md.template-functions.php\n//AND goods_type = \'order\'\nfunction tf_count_month_qutity2($yearMonth) {\n	global $db,$g_mainland_salers,$g_aborad_salers;\n	$month_customers = $db-&gt;get_col(\"SELECT DISTINCT customer_id FROM om_dispatch \n		WHERE date_format(c_time,\'%Y%m\') = \'$yearMonth\'\n		ORDER BY customer_id DESC\");\n	if ($month_customers != null) {\n		foreach ($month_customers as $c) {\n			$dispatch_ids = $db-&gt;get_col(\"SELECT dispatch_id FROM om_dispatch WHERE date_format(c_time,\'%Y%m\') = \'$yearMonth\' \n				AND customer_id = \'$c\'\");\n			$order_ids = array();\n			foreach ($dispatch_ids as $did) {\n				//...\n			}\n		}\n	}\n}\n</pre>\n<p>\n为了找到原因，我们以查询 \'201111\' 在终端验证一下：\n<pre class=\"tty\">\nmysql&gt; <span class=\"ttyipt\">select distinct customer_id from om_dispatch</span>\n     &gt; <span class=\"ttyipt\">WHERE date_format(c_time,\'%Y%m\') = \'201111\';</span>\n+-------------+\n| customer_id |\n+-------------+\n|        NULL | \n|          31 | \n|          29 | \n|         110 | \n|         ... | \n+-------------+\n</pre>\n可以看到数组<tt>$month_customers</tt>中有个特殊值<tt>\'NULL\'</tt>,\n这个<tt>\'NULL\'</tt>在 L9 的循环中导致<tt>$dispatch_ids</tt>值为<tt>NULL</tt>\n（<tt>AND customer_id = \'NULL\'</tt>）\n</p><br><p>\n\n',NULL,1,1,'N',0,'util.js','2011-01-25 11:21:31','2014-02-27 13:20:18'),(36,'每个人都有自己的故事','<p>\n今天上午和经理一起去送礼，在车里我们聊到了孩子。经理说他的女儿出生前也是经历了一\n番小波折的。经理的老婆在怀孕三、四个月的时候曾经发烧至四十几度，她由于担心对胎儿\n的健康有影响而曾经有过不要孩子的念头，后来还是经理决定生下这个孩子，孩子的出生前\n也是做了很多的检查，生怕小孩生出来智力上有什么问题。他们还曾经给小孩子起了一个小\n名叫“聪聪”。最后孩子还是健康地出生了，他们两人悬着的心也终于放下了。这件事让我觉\n得：人的家境虽有贫富之分，但在生命面前，都是平等的。\n</p>\n',NULL,2,1,'N',0,'util.js','2011-01-26 22:42:37','2014-02-27 13:20:18'),(37,'春天里','<pre>\n还记得许多年前的春天\n那时的我还没剪去长发\n没有信用卡也没有她\n没有24小时热水的家\n可当初的我却那么快乐\n虽然只有一把破木吉他\n在街上在桥下在田野中\n唱着那无人问津的歌谣\n如果有一天我老无所依\n请把我留在那段时光里\n如果有一天我悄然离去\n请把我埋在这春天里\n\n还记得那些寂寞的春天\n那时的我还没留起胡须\n没有情人节也没有礼物\n没有我那可爱的小公主\n可我觉得一切没那么糟\n虽然我只有对爱的幻想\n在清晨在夜晚在风中\n唱着那无人问津的歌谣\n也许有一天我老无所依\n请把我留在那段时光里\n如果有一天我悄然离去\n请把我埋在这春天里\n\n凝视着此刻烂漫的春天\n依然象那时温暖的模样\n我剪去长发留起了胡须\n曾经的苦痛都随风而去\n可我感觉却是那么悲伤\n岁月留给我更深的迷惘\n在这阳光明媚的春天里\n我的眼泪忍不住的流淌\n也许有一天我老无所依\n请把我留在那时光里\n如果有一天我悄然离去\n请把我埋在这春天里\n如果有一天我老无所依\n请把我留在那时光里\n如果有一天我悄然离去\n请把我埋在这春天里\n</pre>\n',NULL,2,1,'N',0,'util.js','2011-01-28 10:15:05','2014-02-27 13:20:18'),(38,'xbeta.info 网站标题样式借鉴','<p>\n周日下午花费几个小时浏览 xbeta.info 网站。对其正文中 Header 的红色双行下划线的\n样式很是喜欢，看着特别醒目。遂借鉴过来。\n</p>\n<p>\n其实就是 CSS 样式<code>border-style</code>的使用。其可接受的值如下：\n</p>\n\n<table align=\"center\" border=1 width=\"400\" cellspacing=0 cellpadding=5>\n  <tr>\n    <th>Value</th>\n    <th>Note</th></tr>\n  <tr>\n    <td><code>dashed</code></td>\n    <td>虚线</td></tr>\n  <tr>\n    <td><code>dotted</code></td>\n    <td>点线</td></tr>\n  <tr>\n    <td><code>double</code></td>\n    <td>双实线</td></tr>\n  <tr>\n    <td><code>groove</code></td>\n    <td>沟，槽，纹</td></tr>\n  <tr>\n    <td><code>inset</code></td>\n    <td>嵌入</td></tr>\n  <tr>\n    <td><code>none</code></td>\n    <td>Default</td></tr>\n  <tr>\n    <td><code>outset</code></td>\n    <td>&nbsp;</td></tr>\n  <tr>\n    <td><code>ridge</code></td>\n    <td>隆起，山脊</td></tr>\n  <tr>\n    <td><code>solid</code></td>\n    <td>单实线</td></tr>\n</table>\n<br><br>\n\n<p>在 css/common.css 文件中添加如下样式内容：</p>\n<pre>\nh2 {\n  border-bottom: <span class=\"hl\">3px double</span> red; \n  padding-bottom: 8px;\n}\nh3 {\n  border-bottom: <span class=\"hl\">1px solid</span> red; \n  padding-bottom: 8px;\n}\nh4 {\n  border-bottom: <span class=\"hl\">1px dotted</span> red; \n  padding-bottom: 8px;\n}\n</pre>\n<p>这样，页面内容会以不同样式的“红线”分开，利于阅读。</p>\n<p></p>\n',NULL,1,1,'N',0,'util.js','2011-02-21 10:12:49','2014-02-27 13:20:18'),(39,'利用 PHP 的文件、目录函数为 Essays 添加文档修改日期信息、改进add.php页面','<p>\nessay/v.php 页面的一个不足是当文本文档内容发生改变时，修改时间不能及时反映在相关\n页面上。其实也很简单：需要利用 PHP 相关函数对 Linux 文件系统中的文件进行相关操作\n。例如读取文件的基本信息。PHP 提供了一系列 <a target=\"_blank\" \nhref=\"http://localhost/ref/php-manual/book.filesystem.html\">FileSystem\n相关的函数</a>供我们使用。这里我们使用<code>filemtime()</code>\n来获取文件的修改时间。\n</p>\n\n<pre>\n<span class=\"cmt\"># Snippet in v.php</span>\n&lt;?php \n$name = $_GET[\"name\"];\n$dir = \'/home/ts/www/p/essay/\';\n$basename = $dir.$name;\nif (file_exists($basename)) {\n	$essay_mtime = date (\"Y-n-d H:i\", <span class=\"hl\">filemtime($basename)</span>);\n}\n?&gt;\n&lt;span class=\"entry-footer\"&gt;Modified at: &lt;?=$essay_mtime?&gt;&lt;/span&gt;\n</pre>\n\n<h3>essay/add.php</h3>\n<p>上月曾经对 add.php 页面有过下面一个设想：</p>\n<blockquote>\nessay/add.php 达到这样一种效果：输入文件名时，可以自动记忆，类似 \nGoogle Notebook 标签编辑功能。\n</blockquote>\n<p>\n但此效果暂时不能实现。现阶段对其改进如下：将原来的文本输入框更改为复选框。\n由于所有 essays 文件名格式均为 \"110222***\"。另外，自己往往都是使用 vi 新建、\n编辑一个新的文档后立即在 add.php 页面中添加该文档的其它信息。利用这些特点，\n我们可以利用函数筛选出当天创建的文档，\n并让这个（或这些）文件的文件名作为复选框的值。这样，\n就能避免手工输入从而提高一些效率。add.php 添加代码部分如下：\n</p>\n<pre>\n<span class=\"cmt\"># Snippet in add.php</span>\n&lt;select name=\"txt_file_name\"&gt;\n&lt;?php \nif ($handle = opendir(\'/home/ts/www/p/essay/\')) {\n    while (false !== ($file = <span class=\"hl\">readdir($handle)</span>)) {\n        if (substr($file,0,6) == date(\'ymd\')) {\n	    echo \"    &lt;option value=\\\"$file\\\"&gt;$file&lt;/option&gt;\\n\";\n        }\n    }\n    closedir($handle);\n}\n?&gt;\n&lt;/select&gt;\n\n<span class=\"cmt\"># Old Version</span>\n&lt;input type=\"text\" name=\"txt_file_name\" size=\"30\" maxlength=\"256\" accesskey=\"i\" /&gt;\n</pre>\n<blockquote>\n一个<a href=\"/p/essay/v.php?name=110307-plog-fetch-latest-file-for-essay-add-select-option.php\">更新的版本</a>\n</blockquote>\n<p>这里使用的是<a target=\"_blank\" \nhref=\"/ref/php-manual/book.dir.html\">Directory相关的函数</a>。</p>\n\n<h3>小节</h3>\n<p>PHP 的函数分为几大类，这里使用到了如下几种：</p>\n<ol>\n    <li>Array Functions</li>\n    <li>String Functions</li>\n    <li>Directory Functions</li>\n    <li>FileSystem Functions</li>\n</ol>\n',NULL,1,1,'N',0,'util.js','2011-02-22 13:27:45','2014-02-27 13:20:18'),(40,'亲戚有时信不过——修热水器有感','<p>\n晚上把热水器装上去，发现外壁有一个洞，估计是姑夫发到郑州维修过程中破了。心里很是\n不舒服。心想假如这个热水器不是在亲戚那里买的，而是在外面的专卖店买的，\n发生这种情况时，自己就可以理直气壮地去找他们要求赔偿。但现在的情况就比较复杂了，\n如果直接去理论，就有可能伤了和气呀。反过来一想，这也不是姑夫故意的。归根结底，\n还是东西的质量太差。就像家里的开关一样，用了没多久就换掉了。\n金艳花八块钱买的新开关质量明显要\n好很多，真是一份价钱一份货，没得说。等将来自己要是有能力买一个自己的房子，装修的\n时候一定不会找熟人，一定要自己亲自选择上等的东西来装修。哪怕东西坏掉了，自己也不\n会埋怨任何人。\n</p>\n',NULL,2,1,'N',0,'util.js','2011-02-22 21:40:42','2014-02-27 13:20:18'),(42,'郑渊洁在 sinat 中倒写汉字有没有对应的函数？[Fixed]','<p>\n今天对 PHP 中的字符串函数进行了一些了解，看到一个名为<code>strrev()</code>的函数\n，其功能如其名字（String Reverse），是将一个字符串整个反序显示。例如：</p>\n<pre class=\"brush: php\">\necho strrev(\"2bliss\"); //# Return \"ssibl2\"\n</pre>\n<p>这让我立刻联想到郑渊洁曾经在新浪微博上“倒写汉字”的事情。\n心想这个事情也不难实现，通过这个简单的函数转换一下不就行了？实践后发现不行，\n该函数处理英文字母\n可以，但对汉字将输出乱码：</p>\n<pre class=\"brush: php\">\n$sina = \"新浪围脖很有趣呀！\";\necho strrev($sina); //��壶艜戾善贛媵氖�\n</pre>\n<p>原因未知。</p>\n\n<h2>Update:</h2>\n<p>偶然间在<tt>phpinfo.php</tt>页面中搜索<tt>char_set</tt>关键字。发现\nApache Environment 中有如下一组设置：</p>\n<pre class=\"brush: xml\">\nHTTP_ACCEPT_CHARSET 	ISO-8859-1,utf-8;q=0.7,*;q=0.7</pre>\n<p>回想之前的乱码有可能是这里的编码顺序的问题。同时发现 PHP 函数中有一组\nMultibyte String Functions. 上面的问题可能会用这里的函数来解决。\n首先通过<tt>mb_internal_encoding()</tt>获得内部字符的编码规则：</p>\n<pre class=\"brush: php\">\necho mb_internal_encoding(); //ISO-8859-1\n</pre>\n<p>这并不是自己常用的<tt>UTF-8</tt>编码。对于类似汉字的多字节字符，\nPHP 提供了一系列专用的字符串处理函数，和单字节字符串处理函数对应。\n使用这些函数新建函数：</p>\n<pre class=\"brush: php\">\nfunction utf8_strrev($cnstr) {\n	mb_internal_encoding(\"UTF-8\"); \n	for ($i = 0; $i &lt; mb_strlen($cnstr); $i++) { \n		$a[] = mb_substr($cnstr,$i,1); \n	} \n	\n	krsort($a);\n	echo implode($a);\n}\n</pre>\n<p>需要注意的是，<tt>mb_strlen()</tt>不仅对多字节（例如汉字）有效，对单字节\n（字母）也同样使用。但<tt>strlen()</tt>却只适用于单字节。</p>\n<pre class=\"brush: php\">\necho mb_strlen(\"hello\"); // 5\nmb_internal_encoding(\"UTF-8\"); \necho mb_strlen(\"陈安琢不错\"); // 5\n</pre>\n<blockquote>\nif you\'re using mbstring functions, you need to explicitly tell it what \ncharacter set your string is, either with mbstring.internal_encoding or \nas the last argument to any mbstring function. [1]\n</blockquote>\n<p></p>\n<h3>Reference</h3>\n<ul>\n<li>[1] <a target=\"_blank\" href=\"http://stackoverflow.com/questions/558033/php-utf-8-questions-if-i-create-a-string-in-php-is-it-in-utf-8\">If I create a string in PHP… is it in UTF-8?</a> stackoverflow.com</li>\n</ul>\n',NULL,3,1,'N',0,'util.js','2011-02-23 22:17:28','2014-02-27 13:20:18'),(43,'cp 命令误用导致 npu.sh 备份失败、数据不同步','<blockquote class=\"keynote\">\nKEYNOTE:\n<ol>\n    <li>使用<code>cp</code>将多个文件复制到一个文件夹时需特别注意：最后的文件夹\n    名称不要忘记（尤其是往当前目录<code>./</code>），否则很容易覆盖原有文件的\n    内容；</li>\n    <li>永远不要使用命令<code>rm -rf</code>, 所以新建<code>trm</code></li>\n    <li>优化<code>npu.sh</code></li>\n    <li>改进 npu.sh 漏掉备份数据库的问题；2011-04-13</li>\n</ol>\n</blockquote>\n<h2>Today List</h2>\n<p>The following is the command history between 8:00 - 8:24 2/24/11</p>\n<pre>\nshellexample \n<span class=\"red\">cp /home/ts/npu.sh /home/ts/nup.sh</span>\n<span class=\"cmt\"># 目的是将家目录下的 npu.sh nup.sh 文件复制到 ~/shell-example\n# 下，由于忘记最后一个\".\", 导致昨晚的更改未生效。其实红色行的结果是将 npu.sh\n# 内容复制（覆盖）到 nup.sh 中（自己常用的备份文件就是使用此方法）。也就是说，\n# 最下方执行 nup 命令时，其实执行的是 npu</span>\n<span class=\"hl\">cp /home/ts/npu.sh /home/ts/nup.sh .</span><span class=\"cmt\"> # 正确写法</span>\ntype chmod\nchmod 755 npu.sh nup.sh \nvi npu.sh \nnup\nshellexample \nshex\nvi shex \nmv npu.sh npu\nmv nup.sh nup\nshellexample \nnup\nvi nup \nmv nup npu ~/\ncd\nls\nvi .bashrc \nls\nshellexample \nls\ncd\nnup<span class=\"cmt\"> # 实际执行的是 npu</span>\n</pre>\n<p>将 npu.sh, nup.sh 文件属性值变为可执行（755）后，注意两处：</p>\n<ol>\n    <li>需要修改原来的文件名，即分别修改为 npu, nup. \n    <strike>因为命令中不能带有点号</strike> 经验证，此说法错误；</li>\n    <li>注意脚本中的路径问题：原来是在家目录下执行的，现在的路径为 \n    ~/shell-example/, 已经在此处出错，解决方法是将家目录也追加到环境变量\n    <code>PHTH</code>中，同时还将 npu, nup 两个命令放在家目录下；<br>\n    <b>更新</b>：当多个文件夹中存放相同文件名称的命令时，就需要注意<a \n      href=\"/p/essay/v.php?name=110308-linux-classic-path-problem-occurred-again.php\">系统通过 PATH 变量搜寻命令的顺序</a>的问题；</li>\n</ol>\n\n<h3>自制临时删除命令<code>trm</code> (Template Remove)</h3>\n<pre>\n#!/bin/bash\n#\n# Created: 2011-02-24\n#\n\nmv $1 /home/ts/garbage/\n</pre>\n\n<h3>改进 npu.sh 避免悲剧重演</h3>\n<pre>\n#!/bin/bash\n#\nmysqldump -u root -p trekshot &gt; trekshot.sql\ntar -zcpvf bak.tgz www/p/ <span class=\"hl\">www/img/page/</span> trekshot.sql .bashrc npu.sh nup.sh\nrm -f trekshot.sql\n<span class=\"hl\">cp bak.tgz bak.tgz.bak</span>\nmv bak.tgz <span class=\"hl\">bak.tgz.bak</span> /media/A8/\numount /media/A8\necho \"Good work! Now pull the udisk out. ;)\"\n</pre>\n<p>这和 ~/bak-of-wwwp-before-run-nup.tgz 备份类似，目的是在执行两个命令之前都先\n进行备份。</p>\n\n<h3>Update: 改进 nup.sh 避免悲剧重演</h3>\n<p>2011-04-13</p>\n<pre>\n<span class=\"cmt\"># Old snippet in nup.sh</span>\ntar -zcpvf bak-of-wwwp-before-run-nup.tgz www/p/ www/common/ www/wp-v1.0/ www/img/page/ .bashrc npu nup</pre>\n<p>从 nup.sh 中可看到：bak-of-wwwp-before-run-nup.tgz 备份的内容唯独缺少\n数据库的备份。今天就遭遇此情况，MOTD 中昨天的几条记录就此丢失。赶快添加之。</p>\n<pre>tar -zcpvf bak-of-wwwp-before-run-nup.tgz www/p/ www/common/ www/wp-v1.0/ www/img/page/ .bashrc npu nup <span class=\"hl\">trekshot.sql</span></pre>\n<p>这样有一点不方便的就是在执行 nup.sh 的过程中，需要输入两次 MySQL 密码。</p>\n<p></p>\n',NULL,3,1,'N',0,'util.js','2011-02-24 19:54:19','2014-02-27 13:20:18'),(44,'差点把经理的信用卡弄丢，玩游戏玩得忙中出错','<p>\n下午黄榆林说经理让我跟她出去买吸尘器和其它一些小东西。我们先是到西站路的纺织大世\n界买了一块桌布，然后到大商超市买吸尘器。选定后，黄把经理的信用卡给我让我去结帐（\n经理的信用卡没有密码，黄说性别不一样的人不能结帐），我去结帐的时候前面有一个人，\n自己是属于那张稍微等一会儿就心情焦躁的人。收银员是一个戴眼镜、年纪不大的女孩，\n我看着她把一张张票据分类、盖章，再用订书机订起来，之后再把商场保留的一些票据穿在\n一个钉子上，看着她不紧不慢地做着事情，自己心想：“这人办事怎么这么慢？”\n终于轮到了自己，在她做完和刚才流程一样的动作后，她把一叠票据递了过来，我紧接着就\n到旁边的柜台开具发票，之后拿着票据去提货。\n</p><br>\n\n<p>\n我们打车回到公司，我接着玩了会儿实况游戏（上午买了一支手柄，经过一下午的练习，\n很不习惯）。过了一会儿，黄来到我们的办公室问我要信用卡，还说等会儿下班怕忘了，\n我习惯性地往口袋里找，可找了两遍都没有找到信用卡。黄提醒我说是不是忘在商场了，\n这时我才想起在开发票之前，那个女孩根本没有把信用卡给我！！想到这，我赶紧向黄要了\n买东西时的发票向大商赶去。在路上也没有拦到出租车，最后一路跑步跑到商场。在路上还\n在想：万一那个收银员拿着信用卡买东西怎么办？那可是没有密码呀！拿着卡疯狂购物，\n这比捡到钱还方便！再一次走到收银台，看到那个女孩，我把情况跟她说明一下。她问我叫\n什么名字，说出经理的名字后，她把信用卡还给了我！真是失而复得！拿着信用卡，\n我嘴上还抱怨她为什么不及时提醒我拿走卡。她也是一脸的歉意。想到只是有惊无险，\n没有出什么大的事情，也就算了。\n</p><br>\n\n<p>\n继上次过年给经理少拿三件礼品的事之后，再次犯下马虎的错误。就像金艳说我的话：\n你说你是慌的什么？这件事情的主要原因就是今天在玩实况游戏正起劲的时候被拉出去\n买东西，导致自己出现想急着回去继续玩游戏的急躁情绪，并最终忙中出错。\n以后一定要吸取教训，做到既来之、则安之，忙而有序。没有什么比当前的事情更重要，\n不是吗？\n</p><br>\n',NULL,2,1,'N',0,'util.js','2011-02-24 21:30:21','2014-02-27 13:20:18'),(45,'对 PHP 字符串函数列表的一点理解','<p>\n字符串类函数主要分为两大类：\n</p>\n<ol>\n    <li>字符串和其它数据类型或存在形式之间的相互转化；\n    《JavaScript: The definitive Guide》书中有基本数据类型之间各种的转换描述。\n    对 PHP 来说，数组中大多数存储的都是字符串。那么就会有针对数组的字符串函数。\n    比如，可以对字符串进行分割并存储到数组中；再比如，数值类型可以转化成特定的\n    字符串（如货币）。\n        <ol>\n	    <li><b>HTML</b>:</li>\n	    <li><b>SQL Query</b>:</li>\n	    <li><b>URL</b>:</li>\n	    <li><b>Number</b>:</li>\n	    <li><b>Array</b>:</li>\n        </ol>\n    </li>\n    <li>对字串传本身进行的具体操作。这又包括： \n        <ol>\n	    <li>对字符串进行再加工<br>\n	    例如分割、大小写转换、在两端（或某一端）删除（或添加）字符；</li>\n	    <li>输出字符串的相关统计信息<br>\n	    长度、位置、MD5 信息、对应的 ASCII 码等等；\n	    </li>\n	    <li>字符串之间的比较<br>\n	    某个字符出现的次数等\n	    </li>\n        </ol>\n    </li>\n</ol>\n',NULL,1,1,'N',0,'util.js','2011-02-25 09:17:25','2014-02-27 13:20:18'),(46,'WordPress V1.0 代码学习笔记（一）','<pre>\nmysql&gt; show tables;\n+------------------------+\n| Tables_in_wordpress    |\n+------------------------+\n| wp_categories          | \n| wp_comments            | \n| wp_linkcategories      | \n| wp_links               | \n| wp_optiongroup_options | \n| wp_optiongroups        | \n| wp_options             | \n| wp_optiontypes         | \n| wp_optionvalues        | \n| wp_post2cat            | \n| wp_posts               | \n| wp_users               | \n+------------------------+\n12 rows in set (0.00 sec)\n</pre>\n\n<h2>表格结构</h2>\n<h3><code>wp_categories</code></h3>\n<pre>\nmysql&gt; desc wp_categories;\n+----------------------+--------------+------+-----+---------+----------------+\n| Field                | Type         | Null | Key | Default | Extra          |\n+----------------------+--------------+------+-----+---------+----------------+\n| cat_ID               | int(4)       | NO   | PRI | NULL    | auto_increment | \n| cat_name             | varchar(55)  | NO   | UNI |         |                | \n| category_nicename    | varchar(200) | NO   | MUL | NULL    |                | \n| category_description | text         | NO   |     | NULL    |                | \n| category_parent      | int(4)       | NO   |     | NULL    |                | \n+----------------------+--------------+------+-----+---------+----------------+\n</pre>\n\n<h3><code>wp_comments</code></h3>\n<pre>\nmysql&gt; desc wp_comments;\n+----------------------+------------------+------+-----+---------------------+----------------+\n| Field                | Type             | Null | Key | Default             | Extra          |\n+----------------------+------------------+------+-----+---------------------+----------------+\n| comment_ID           | int(11) unsigned | NO   | PRI | NULL                | auto_increment | \n| comment_post_ID      | int(11)          | NO   |     | 0                   |                | \n| comment_author       | tinytext         | NO   |     | NULL                |                | \n| comment_author_email | varchar(100)     | NO   |     |                     |                | \n| comment_author_url   | varchar(100)     | NO   |     |                     |                | \n| comment_author_IP    | varchar(100)     | NO   |     |                     |                | \n| comment_date         | datetime         | NO   |     | 0000-00-00 00:00:00 |                | \n| comment_content      | text             | NO   |     | NULL                |                | \n| comment_karma        | int(11)          | NO   |     | 0                   |                | \n| comment_approved     | enum(\'0\',\'1\')    | NO   | MUL | 1                   |                | \n+----------------------+------------------+------+-----+---------------------+----------------+\n10 rows in set (0.00 sec)\n</pre>\n\n<h3><code>wp_linkcategories</code></h3>\n<pre>\nmysql&gt; desc wp_linkcategories;\n+------------------+---------------+------+-----+---------+----------------+\n| Field            | Type          | Null | Key | Default | Extra          |\n+------------------+---------------+------+-----+---------+----------------+\n| cat_id           | int(11)       | NO   | PRI | NULL    | auto_increment | \n| cat_name         | tinytext      | NO   |     | NULL    |                | \n| auto_toggle      | enum(\'Y\',\'N\') | NO   |     | N       |                | \n| show_images      | enum(\'Y\',\'N\') | NO   |     | Y       |                | \n| show_description | enum(\'Y\',\'N\') | NO   |     | Y       |                | \n| show_rating      | enum(\'Y\',\'N\') | NO   |     | Y       |                | \n| show_updated     | enum(\'Y\',\'N\') | NO   |     | Y       |                | \n| sort_order       | varchar(64)   | NO   |     | name    |                | \n| sort_desc        | enum(\'Y\',\'N\') | NO   |     | N       |                | \n| text_before_link | varchar(128)  | NO   |     | &lt;li&gt;    |                | \n| text_after_link  | varchar(128)  | NO   |     | &lt;br /&gt;  |                | \n| text_after_all   | varchar(128)  | NO   |     | &lt;/li&gt;   |                | \n| list_limit       | int(11)       | NO   |     | -1      |                | \n+------------------+---------------+------+-----+---------+----------------+\n13 rows in set (0.00 sec)\n</pre>\n\n<h3><code>wp_links</code></h3>\n<pre>\nmysql&gt; desc wp_links;\n+------------------+---------------+------+-----+---------------------+----------------+\n| Field            | Type          | Null | Key | Default             | Extra          |\n+------------------+---------------+------+-----+---------------------+----------------+\n| link_id          | int(11)       | NO   | PRI | NULL                | auto_increment | \n| link_url         | varchar(255)  | NO   |     |                     |                | \n| link_name        | varchar(255)  | NO   |     |                     |                | \n| link_image       | varchar(255)  | NO   |     |                     |                | \n| link_target      | varchar(25)   | NO   |     |                     |                | \n| link_category    | int(11)       | NO   |     | 0                   |                | \n| link_description | varchar(255)  | NO   |     |                     |                | \n| link_visible     | enum(\'Y\',\'N\') | NO   |     | Y                   |                | \n| link_owner       | int(11)       | NO   |     | 1                   |                | \n| link_rating      | int(11)       | NO   |     | 0                   |                | \n| link_updated     | datetime      | NO   |     | 0000-00-00 00:00:00 |                | \n| link_rel         | varchar(255)  | NO   |     |                     |                | \n| link_notes       | mediumtext    | NO   |     | NULL                |                | \n| link_rss         | varchar(255)  | NO   |     | NULL                |                | \n+------------------+---------------+------+-----+---------------------+----------------+\n14 rows in set (0.00 sec)\n</pre>\n\n<h3><code>wp_optiongroup_options</code></h3>\n<pre>\nmysql&gt; desc wp_optiongroup_options;\n+-----------+---------+------+-----+---------+-------+\n| Field     | Type    | Null | Key | Default | Extra |\n+-----------+---------+------+-----+---------+-------+\n| group_id  | int(11) | NO   | PRI | NULL    |       | \n| option_id | int(11) | NO   | PRI | NULL    |       | \n| seq       | int(11) | NO   |     | NULL    |       | \n+-----------+---------+------+-----+---------+-------+\n3 rows in set (0.01 sec)\n</pre>\n\n<h3><code>wp_optiongroups</code></h3>\n<pre>\nmysql&gt; desc wp_optiongroups;\n+----------------+--------------+------+-----+---------+----------------+\n| Field          | Type         | Null | Key | Default | Extra          |\n+----------------+--------------+------+-----+---------+----------------+\n| group_id       | int(11)      | NO   | PRI | NULL    | auto_increment | \n| group_name     | varchar(64)  | NO   |     | NULL    |                | \n| group_desc     | varchar(255) | YES  |     | NULL    |                | \n| group_longdesc | tinytext     | YES  |     | NULL    |                | \n+----------------+--------------+------+-----+---------+----------------+\n4 rows in set (0.00 sec)\n</pre>\n\n<h3><code>wp_options</code></h3>\n<pre>\nmysql&gt; desc wp_options;\n+---------------------+---------------+------+-----+---------+----------------+\n| Field               | Type          | Null | Key | Default | Extra          |\n+---------------------+---------------+------+-----+---------+----------------+\n| option_id           | int(11)       | NO   | PRI | NULL    | auto_increment | \n| blog_id             | int(11)       | NO   | PRI | 0       |                | \n| option_name         | varchar(64)   | NO   | PRI |         |                | \n| option_can_override | enum(\'Y\',\'N\') | NO   |     | Y       |                | \n| option_type         | int(11)       | NO   |     | 1       |                | \n| option_value        | varchar(255)  | NO   |     |         |                | \n| option_width        | int(11)       | NO   |     | 20      |                | \n| option_height       | int(11)       | NO   |     | 8       |                | \n| option_description  | tinytext      | NO   |     | NULL    |                | \n| option_admin_level  | int(11)       | NO   |     | 1       |                | \n+---------------------+---------------+------+-----+---------+----------------+\n10 rows in set (0.00 sec)\n</pre>\n\n<h3><code>wp_optiontypes</code></h3>\n<pre>\nmysql&gt; desc wp_optiontypes;\n+-----------------+-------------+------+-----+---------+----------------+\n| Field           | Type        | Null | Key | Default | Extra          |\n+-----------------+-------------+------+-----+---------+----------------+\n| optiontype_id   | int(11)     | NO   | PRI | NULL    | auto_increment | \n| optiontype_name | varchar(64) | NO   |     | NULL    |                | \n+-----------------+-------------+------+-----+---------+----------------+\n2 rows in set (0.00 sec)\n</pre>\n\n<h3><code>wp_optionvalues</code></h3>\n<pre>\nmysql&gt; desc wp_optionvalues;\n+------------------+--------------+------+-----+---------+-------+\n| Field            | Type         | Null | Key | Default | Extra |\n+------------------+--------------+------+-----+---------+-------+\n| option_id        | int(11)      | NO   | MUL | NULL    |       | \n| optionvalue      | tinytext     | YES  |     | NULL    |       | \n| optionvalue_desc | varchar(255) | YES  |     | NULL    |       | \n| optionvalue_max  | int(11)      | YES  |     | NULL    |       | \n| optionvalue_min  | int(11)      | YES  |     | NULL    |       | \n| optionvalue_seq  | int(11)      | YES  |     | NULL    |       | \n+------------------+--------------+------+-----+---------+-------+\n6 rows in set (0.00 sec)\n</pre>\n\n<h3><code>wp_post2cat</code></h3>\n<p>处理一个文章可能归属于多个 Category 的表。</p>\n<pre>\nmysql&gt; desc wp_post2cat;\n+-------------+---------+------+-----+---------+----------------+\n| Field       | Type    | Null | Key | Default | Extra          |\n+-------------+---------+------+-----+---------+----------------+\n| rel_id      | int(11) | NO   | PRI | NULL    | auto_increment | \n| post_id     | int(11) | NO   | MUL | NULL    |                | \n| category_id | int(11) | NO   |     | NULL    |                | \n+-------------+---------+------+-----+---------+----------------+\n3 rows in set (0.00 sec)\n</pre>\n\n<h3><code>wp_posts</code></h3>\n<pre>\nmysql&gt; desc wp_posts;\n+-----------------------+-----------------------------------+------+-----+---------------------+----------------+\n| Field                 | Type                              | Null | Key | Default             | Extra          |\n+-----------------------+-----------------------------------+------+-----+---------------------+----------------+\n| ID                    | int(10) unsigned                  | NO   | PRI | NULL                | auto_increment | \n| post_author           | int(4)                            | NO   |     | 0                   |                | \n| post_date             | datetime                          | NO   |     | 0000-00-00 00:00:00 |                | \n| post_content          | text                              | NO   |     | NULL                |                | \n| post_title            | text                              | NO   |     | NULL                |                | \n| post_category         | int(4)                            | NO   |     | 0                   |                | \n| post_excerpt          | text                              | NO   |     | NULL                |                | \n| post_lat              | float                             | YES  |     | NULL                |                | \n| post_lon              | float                             | YES  |     | NULL                |                | \n| post_status           | enum(\'publish\',\'draft\',\'private\') | NO   | MUL | publish             |                | \n| comment_status        | enum(\'open\',\'closed\')             | NO   |     | open                |                | \n| ping_status           | enum(\'open\',\'closed\')             | NO   |     | open                |                | \n| post_password         | varchar(20)                       | NO   |     |                     |                | \n| post_name             | varchar(200)                      | NO   | MUL | NULL                |                | \n| to_ping               | text                              | NO   |     | NULL                |                | \n| pinged                | text                              | NO   |     | NULL                |                | \n| post_modified         | datetime                          | NO   |     | NULL                |                | \n| post_content_filtered | text                              | NO   |     | NULL                |                | \n+-----------------------+-----------------------------------+------+-----+---------------------+----------------+\n18 rows in set (0.00 sec)\n</pre>\n\n<h3><code>wp_users</code></h3>\n<pre>\nmysql&gt; desc wp_users;\n+------------------+------------------+------+-----+---------------------+----------------+\n| Field            | Type             | Null | Key | Default             | Extra          |\n+------------------+------------------+------+-----+---------------------+----------------+\n| ID               | int(10) unsigned | NO   | PRI | NULL                | auto_increment | \n| user_login       | varchar(20)      | NO   | UNI |                     |                | \n| user_pass        | varchar(20)      | NO   |     |                     |                | \n| user_firstname   | varchar(50)      | NO   |     |                     |                | \n| user_lastname    | varchar(50)      | NO   |     |                     |                | \n| user_nickname    | varchar(50)      | NO   |     |                     |                | \n| user_icq         | int(10) unsigned | NO   |     | 0                   |                | \n| user_email       | varchar(100)     | NO   |     |                     |                | \n| user_url         | varchar(100)     | NO   |     |                     |                | \n| user_ip          | varchar(15)      | NO   |     |                     |                | \n| user_domain      | varchar(200)     | NO   |     |                     |                | \n| user_browser     | varchar(200)     | NO   |     |                     |                | \n| dateYMDhour      | datetime         | NO   |     | 0000-00-00 00:00:00 |                | \n| user_level       | int(2) unsigned  | NO   |     | 0                   |                | \n| user_aim         | varchar(50)      | NO   |     |                     |                | \n| user_msn         | varchar(100)     | NO   |     |                     |                | \n| user_yim         | varchar(50)      | NO   |     |                     |                | \n| user_idmode      | varchar(20)      | NO   |     |                     |                | \n| user_description | text             | NO   |     | NULL                |                | \n+------------------+------------------+------+-----+---------------------+----------------+\n19 rows in set (0.00 sec)\n\n</pre>\n\n<h2>MISC</h2>\n<h3>Users</h3>\n<p>注册一个一般用户后进入<code>wp-admin/post.php</code>页面后的提示信息：</p>\n<blockquote>\nSince you’re a newcomer, you’ll have to wait for an admin to raise your level \nto 1, in order to be authorized to post.<br>\nYou can also e-mail the admin to ask for a promotion.<br>\nWhen you’re promoted, just reload this page and you’ll be able to blog. :)\n</blockquote>\n\n<p></p>\n<p></p>\n',NULL,1,1,'Y',0,'util.js','2011-02-25 21:28:16','2014-02-27 13:20:18'),(47,'查看别人代码太有必要了——categories 页面有感','<p>之前有一篇添加 Tags Pool 功能的文章，将其归类在 Site Logs 目录下，\n其实将其归类在 PHP 下也很有必要。这说明一篇文章同属于多个目录是合理的。\n但目前自己的代码实现这个功能还有些不便。于是昨晚上下载了 WordPress 1.0 \n的代码来研究一下，看看他是如何处理此问题的，同时也看看其 SQL 表格的设计。\n今天上午先找了一个最基本的增、删、改、查分类的页面 wp-admin/categories.php . \n单这一个简单的页面，就发现了很多自己不熟悉的知识点，\n同时里面处理问题的方式也很值得学习。这让我开始反思自己的学习方法。举几个例子：\n</p>\n<ol>\n  <li>\n关于数据库查询：<br>\n前几天自己还将注意力放在掌握 PHP 中 MySQL 函数。WP 创建了一个名为\n<code>$wpdb</code>的类，并将常用的操作作为其方法。这样在使用的时候就很简单了。\n以插入操作为例，自己的做法如下：\n</p>\n<pre>\n$sql = sprintf(\"INSERT INTO essay\n	(id,file_name,title,js_file,category,tag,c_time)\n	VALUES (\'\',\'%s\',\'%s\',\'%s\',\'%s\',\'%s\',NOW())\", \n	$file_name,$title,$js_file,$category,$tag);\nmysql_query($sql) or die (mysql_error());\n$n = mysql_affected_rows($link);\nif ($n == 1) {\n</pre>\n<p>WP 的做法相当简单，只有一句：</p>\n<pre>\n$wpdb-&gt;query(\"INSERT INTO $tablecategories (cat_ID, cat_name, \n	category_nicename, category_description) \nVALUES (\'0\', \'$cat_name\', \'$category_nicename\', \'$category_description\')\");\n</pre>\n自己的方法是最传统的，能完成工作是不错，但不够简洁，不够高效；\n  </li>\n  <li>关于 Variable Variables <code>$$var</code> 的知识点<br>\n  不明白其意。查看<a \n  href=\"/ref/php-manual/language.variables.variable.html\">相关文档</a>\n  后知道一些基本的使用：\n  <pre>\n$a = \"hello\";\n$$a = \"world\"; <span class=\"cmt\"> # Equals to $hello = world;</span>\necho \"$a ${$a}\"; <span class=\"cmt\"> # \"Hell world\"</span>\n</pre>\n  </li>\n  <li>三个全局变量，用于存储表单提交的变量\n  <pre>\nif (!get_magic_quotes_gpc()) {\n	<span class=\"hl\">$HTTP_GET_VARS</span> = add_magic_quotes($HTTP_GET_VARS);\n	<span class=\"hl\">$HTTP_POST_VARS</span>   = add_magic_quotes($HTTP_POST_VARS);\n	<span class=\"hl\">$HTTP_COOKIE_VARS</span> = add_magic_quotes($HTTP_COOKIE_VARS);\n}</pre>\n  <strike>这比自己用的 <code>$_POST, $_GET, $_COOKIE</code> 变量要高级；\n  </strike> PHP 4.1.0 introduced <code>$_POST</code> that \n  deprecated <code>$HTTP_POST_VARS</code>.\n  </li>\n  <li>核心配置变量 <code>magic_quotes_gpc</code><br>\n  此变量默认值为<code>true</code>,含有<code>\', \", \\</code>的表单提交值自动将这些\n  特殊字符进行转义；\n  </li>\n</ol>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n\n',NULL,1,1,'N',0,'util.js','2011-02-26 22:07:31','2014-02-27 13:20:18'),(48,'摔碎眼药瓶','<p>\n早上到司法局楼下的一个药店给父亲买一个叫伊视清的眼药。这药是健康益家的衡医生推荐\n给父亲的，父亲说这个药只有那个药店有卖的。到药店后问价钱，卖药的人说１３９，\n我看到瓶子上打着“赠品”字样。一看心里就很不情愿，想起前两年去亚细亚给父亲买西藏药\n的时候。这种朝老年人下手的人渣真是恶心。等自己这个年龄段的人老了，我想这些人渣就\n不那么好糊弄老年人了，又一想，他们也没法糊弄了，死了都。回到家后，\n拿出来准备给父亲滴两滴试一下，一不小心瓶子掉地上一下摔碎了！\n一百多块钱就这样没了。哎呀，这本来是给老年人用的东西，你说你用什么玻璃瓶？！\n</p>\n',NULL,2,1,'N',0,'util.js','2011-02-27 21:01:48','2014-02-27 13:20:18'),(49,'WordPress 代码学习笔记（二）——wp-db 类','<p>wpdb 类要点：</p>\n<ol><li>\n注意函数参数带有默认值function get_row($query=null, $output=OBJECT, $y=0) {}\n</li><li>\nget_var(), get_row() 方法的本质还是调用方法 query(). 若查询成功，query() \n方法本身返回值为 boolean 型的 true, 需要的结果集在属性 last_result 内（\nget_results() 返回的正是该属性）。\nget_var() 等 \'get*\' 函数都是对 last_result 属性值进行优化而已；\n</li></ol>\n\n<h2>Properties in Class <code>db</code></h2>\n<h3><code>$db-&gt;insert_id</code></h3>\n<h3><code>$db-&gt;rows_affected</code></h3>\n<h2>Methods in Class <code>db</code></h2>\n<h3><code>$db-&gt;select()</code></h3>\n<pre>$db->select(\"mysql\")<span class=\"cmt\"> # Select another db.</span><br></pre>\n<h3><code>$db-&gt;escape()</code></h3>\n<pre><br />\n<b>Fatal error</b>:  Call to a member function escape() on a non-object in <b>/home/ts/www/p/essay/110228-php-wordpress-learning-02-wpdb-class.php</b> on line <b>30</b><br />\n',NULL,1,1,'Y',0,'util.js','2011-02-28 14:23:16','2014-02-27 13:20:18'),(50,'炎生哥感冒，我却连个电话都没打，该打','<blockquote>\n当亲人生病时，哪怕一个电话，也会让对方的心里变得温暖。\n</blockquote>\n<p>\n自上午下下来的雪到下班都没有停的意思，走在湿滑的路面，担心家中的父母走在雪地上会\n摔跤，遂给母亲打去电话。母亲说没事，他们已经吃完饭回屋了。自己也放心了。在临挂电\n话的时候，母亲问我有没有给大姐打电话询问炎生哥的病情，我说还没有，并说晚上的时候\n打电话。挂掉电话，顿觉自己好不懂事。大姐和炎生哥对自己那是没得说，平时来往本来就\n不多，在已经知道哥生病的情况下却连打个电话关心一下都没去做，真是太不应该了！记得\n前段时间，我感冒发烧，大姐还特意给我打电话问我轻些了没有。唉，以后这种事情可得上\n心才是。\n</p>\n',NULL,2,1,'N',0,'util.js','2011-02-28 22:35:25','2014-02-27 13:20:18'),(51,'Twitter 页面修改日志','<p>\nTwitter 页面调整记录：\n</p>\n<ol>\n    <li><b>tsfooter.php</b><br>\n    将添加新记录的 PHP 代码移至 t/index.php 的 <code>switch case</code> 结构中；\n    其中关键是在表单中添加一个隐藏变量：\n    <pre>&lt;input type=\"hidden\" name=\"action\" value=\"add\" /&gt;</pre>\n    </li>\n    <li><b>tsheader.php</b><br>\n    将数据库全局配置文件 top-set.php 包含在 tsheader.php 中，使每个页面都可直接\n    访问数据库；\n    </li>\n    <li></li>\n</ol>\n',NULL,1,1,'N',0,'util.js','2011-03-01 15:48:48','2014-02-27 13:20:18'),(52,'Never Use Aliased Commands in Shell Scripts','<p>In order to fix the error code problem in mysqldump, I have to use \nthe following code explicitly: <p>\n<pre>\nmysqldump -u root --default-character-set=latin1 -p trekshot &gt; trekshot.sql\n</pre>\nso I created the alias command in file <code>.bashrc</code> for my bak\nshell script <code>npu</code>\n<pre>\nalias msd=\'mysqldump -u root --default-character-set=latin1 -p trekshot &gt; trekshot.sql\'\n</pre>\n<pre>\n#!/bin/bash\n#\n<span class=\"hl\">msd</span>\ntar -zcpvf bak.tgz www/p/ www/wp-v1.0/ www/img/page/ trekshot.sql .bashrc npu nup\nrm -f trekshot.sql\ncp bak.tgz bak.tgz.bak\nmv bak.tgz bak.tgz.bak /media/A8/\numount /media/A8\necho \"Good work! Now pull the udisk out. ;)\"\n</pre>\n<p>Then I was told that command <code>msd</code> was not found. It turns out\nthat <b>Only</b> raw commands are allowed in shell scripting.</p>\n\n<h3>See Also</h3>\n<p></p>\n<p></p>\n',NULL,3,1,'N',0,'util.js','2011-03-01 20:40:54','2014-02-27 13:20:18'),(53,'ID VS CSS: Use HTML Attribute id in JavaScript, class in CSS','<!--\n<h3>DIV标签中id属性值应具有唯一性理解</h3>\n-->\n<p>标签的<code>class</code>和<code>id</code>两个属性均可用CSS控制文档。\n<code>id</code>属性在文档中应具有唯一性，因此应尽量避免使用<code>id</code>属性控\n制文档样式，因为CSS最好的用法是用一个样式控制大量的标签。</p>\n<p><code>id</code>属性的唯一性在JavaScript中会更明显的看出。比如下面的一段文档：\n</p>\n<pre>\n&lt;div <span class=\"hl\">id=\"abcd\"</span>&gt;\n	&lt;p <span class=\"hl\">id=\"abcd\"</span>&gt;问题描述：显示&lt;b&gt;bbb&lt;/b&gt;不出合并后的字符串，显示为空。&lt;/p&gt; \n	&lt;b&gt;I\'m bold.&lt;/b&gt; \n	&lt;p&gt; another p.&lt;/p&gt; \n	&lt;p&gt;go to hell.&lt;/p&gt;\n&lt;/div&gt;\n</pre>\n<p>假如我们需要用JavaScript代码对id为abcd的P段落进行控制。例如：</p>\n<pre>var node = document.getElementById(abcd)</pre>\n方法<p>这时，程序将不能得到预期效果。原因在于\n<code>document.getElementById()</code>\n方法要求参数id在文档中必须具有唯一性。而我们的文档中含有两个id为\"abcd\"的标签。\n</p>\n<blockquote>\n<code>Document.getElementById()</code>说明<br>\nReturn a desendant Element of this document that has the specified value for\nits <code>id</code> attribute, or <code>null</code> if no such Element exists \nin the document.  (P757,JDG Reference)\n</blockquote>\n<p>上面这句引用有两点信息：</p>\n<ol>\n    <li>若发现指定id的元素，则返回之；</li>\n    <li>若文档中不存在指定id的元素，返回<code>null</code></li>\n</ol>\n<p>这两条信息是在“id属性值在文档中具有唯一性”这一前提下的。在实际的不规范的文档\n中（比如自己的文档），有可能存在多个相同id属性值的标签，此时，方法将返回\n<span class=\"redUL\">第一个满足条件的元素</span>。所以，上面的JS语句实际返回的元\n素是id为abcd的DIV块而非段落P.</p>\n<p></p>\n',NULL,1,1,'N',0,'util.js','2010-10-15 11:42:14','2014-02-27 13:20:18'),(54,'The Tiananmen Square Massacre, 1989','<div><i>What Really Happened at Tiananmen?&nbsp;</i></div>\n<div><i>By Kallie Szczepanski, About.com Guide</i></div>\n<div><i>From http://asianhistory.about.com/od/china/a/TiananmenSquare.htm</i></div>\n<br>\n<div>Most people in the western world remember the Tiananmen Square <a href=\"http://#\" id=\"vk:y\" title=\"屠杀，杀戮\">Massacre</a> this way:</div>\n<br>\n<div>1) Students protest for democracy in Beijing, China, in June of 1989.</div>\n<div>2) Chinese government sends troops and tanks to Tiananmen Square.</div>\n<div>3) Student protesters are <a href=\"http://#\" id=\"wz6x\" title=\"残忍地\">brutally</a> massacred.</div>\n<br>\n<div><a href=\"http://#\" id=\"lt00\" title=\"从本质上说\">In essence</a>, this is a fairly accurate <a href=\"http://#\" id=\"rn5u\" title=\"描述\">depiction</a> of what happened around Tiananmen Square, but the situation was much longer-lasting and more chaotic than this outline suggests.</div>\n<br>\n<div>The protests actually started in April of 1989, as public <a href=\"http://#\" id=\"ix.:\" title=\"游行示威\">demonstrations</a> of <a href=\"http://#\" id=\"nqd8\" title=\"伤逝，哀悼\">mourning</a> for former Communist Party <a href=\"http://#\" id=\"v3z2\" title=\"秘书长，总书记\">Secretary General</a> Hu Yaobang.</div>\n<br>\n<div>A high government official\'s funeral seems like an unlikely spark for <a href=\"http://#\" id=\"fh83\" title=\"亲民主\">pro-democracy</a> demonstrations and chaos. Nonetheless, by the time the Tiananmen Square Protests and Massacre were over less than two months later, 250 to 7,000 people <a href=\"http://#\" id=\"t2va\" title=\"倒地身亡\">lay dead</a>.</div>\n<br>\n<div>What really happened that spring in Beijing?</div>\n<br>\n<br>\n<div><b>Background to Tiananmen</b></div>\n<br>\n<div>By the 1980s, the leaders of China\'s Communist Party knew that classical Maoism had failed. Mao Zedong\'s policy of rapid industrialization and <a href=\"http://#\" id=\"ky0_\" title=\"集体化\">collectivization</a> of land, the \"Great Leap Forward,\" had killed tens of millions of people by <a href=\"http://#\" id=\"x4tc\" title=\"饥饿\">starvation</a>.</div>\n<br>\n<div>The country then <a href=\"http://#\" id=\"u8hi\" title=\"陷入\">descended into</a> the <a href=\"http://#\" id=\"m6gv\" title=\"恐怖\">terror</a> and <a href=\"http://#\" id=\"x2qj\" title=\"无政府状态，混乱\">anarchy</a> of the Cultural Revolution (1966-76), an <a href=\"http://#\" id=\"vo7i\" title=\"放纵，放荡\">orgy</a> of violence and destruction that saw teenaged Red Guards <a href=\"http://#\" id=\"w9go\" title=\"使蒙耻辱丢脸\">humiliate</a>, <a href=\"http://#\" id=\"fq-u\" title=\"拷打，折磨\">torture</a>, murder and sometimes even <a href=\"http://#\" id=\"lbpc\" title=\"吃同类的肉\">cannibalize</a> hundreds of thousands or millions of their <a href=\"http://#\" id=\"zd:l\" title=\"同胞\">compatriots</a>. <a href=\"http://#\" id=\"cr97\" title=\"不能调换的\">Irreplaceable</a> cultural <a href=\"http://#\" id=\"e40t\" title=\"世代相传之物\">heirlooms</a> were destroyed; traditional Chinese arts and <a href=\"http://#\" id=\"zh9z\" title=\"宗教\">religion</a> were all but extinguished.</div>\n<br>\n<div>China\'s leadership knew that they had to make changes in order to remain in power, but what reforms should they make? The Communist Party leaders split between those who advocated <a href=\"http://#\" id=\"i5t8\" title=\"激烈的，猛烈的\">drastic</a> reforms, including a move toward <a href=\"http://#\" id=\"zdsk\" title=\"资本主义\">capitalist</a> economic policies and greater personal freedoms for Chinese citizens, versus those who favored careful <a href=\"http://#\" id=\"wtk9\" title=\"修补\">tinkering</a> with the command economy and continued strict control of the population.</div>\n<br>\n<div>Meanwhile, with the leadership unsure of which direction to take, the Chinese people <a href=\"http://#\" id=\"v7ry\" title=\"处于不稳定状态\">hovered</a> in a no-man\'s land between fear of the <a href=\"http://#\" id=\"ms7e\" title=\"权利主义，专制\">authoritarian</a> state, and the desire to speak out for reform. The <a href=\"http://#\" id=\"drat\" title=\"政府调查\">government-instigated</a> <a href=\"http://#\" id=\"sq8c\" title=\"惨案\">tragedies</a> of the previous two decades left them hungry for change, but aware that the <a href=\"http://#\" id=\"bh:9\" title=\"铁拳\">iron fist</a> of Beijing\'s leadership was always ready to <a href=\"http://#\" id=\"gfb_\" title=\"粉碎\">smash down</a> opposition. China\'s people waited to see which way the wind would blow.</div>\n<br>\n<div><b>The Spark - Memorial for Hu Yaobang</b></div>\n<br>\n<div><img id=\"jmfv\" src=\"/img/people/huyaobang.jpeg\" style=\"float: left; height: 154.43px; margin-left: 0px; margin-right: 1em; width: 160px;\">Hu Yaobang was a reformist, who served as General Secretary of the Communist Party of China from 1980 to 1987. He advocated <a href=\"http://#\" id=\"y1.j\" title=\"恢复名誉；昭雪；平反\">rehabilitation</a> of people <a href=\"http://#\" id=\"f5ek\" title=\"迫害\">persecuted</a> during the Cultural Revolution, greater <a href=\"http://#\" id=\"dz0w\" title=\"自治\">autonomy</a> for Tibet, <a href=\"http://#\" id=\"d6fg\" title=\"（国家间）友好关系的恢复\">rapprochement</a> with Japan, and social and economic reform. As a result, he was forced <a href=\"http://#\" id=\"qupm\" title=\"在野\">out of office</a> by the <a href=\"http://#\" id=\"h5kn\" title=\"（主张）强硬者；强硬派\">hardliners</a> in January of 1987, and made to offer humiliating public \"self-criticisms\" for his <a href=\"http://#\" id=\"hckn\" title=\"被传说的\">allegedly</a> <a href=\"http://#\" id=\"n3li\" title=\"中产阶级，资产阶级\">bourgeois</a> ideas.</div>\n<br>\n<div>One of the charges leveled against Hu was that he had encouraged (or at least allowed) wide-spread student protests in late 1986. As General Secretary, he refused to <a href=\"http://#\" id=\"z6a0\" title=\"打击\">crack down on</a> such protests, believing that <a href=\"http://#\" id=\"iy51\" title=\"持异议\">dissent</a> by the <a href=\"http://#\" id=\"opmn\" title=\"知识阶层\">intelligentsia</a> should be <a href=\"http://#\" id=\"fxac\" title=\"容忍，不干预\">tolerated</a> by the Communist government.</div>\n<br>\n<div>Hu Yaobang died of a heart attack not long after his <a href=\"http://#\" id=\"nyot\" title=\"驱逐罢免\">ouster</a> and <a href=\"http://#\" id=\"ph7y\" title=\"不光彩\">disgrace</a>, on April 15, 1989.</div>\n<br>\n<div>Official media made just brief mention of Hu\'s death, and the government at first did not plan to give him a state funeral. In reaction, university students from across Beijing marched on Tiananmen Square, shouting acceptable, government-approved slogans, and calling for the rehabilitation of Hu\'s reputation.</div>\n<br>\n<div>Bowing to this pressure, the government decided to accord Hu a state funeral after all. However, government officials on April 19 refused to receive a delegation of student <a href=\"http://#\" id=\"p5nf\" title=\"请愿者\">petitioners</a>, who patiently waited to speak with someone for three days at the Great Hall of the People. This would prove to be the government\'s first big mistake.</div>\n<br>\n<div>Hu\'s <a href=\"http://#\" id=\"r_3l\" title=\"抑制住的，被制服的\">subdued</a> memorial service took place on April 22, and was greeted by huge student demonstrations involving about 100,000 people. Hardliners within the government were extremely uneasy about the protests, but General Secretary Zhao Ziyang believed that the students would <a href=\"http://#\" id=\"u6iw\" title=\"分散，疏散\">disperse</a> once the funeral ceremonies were over. Zhao was so confident that he took a week-long trip to North Korea for a summit meeting.</div>\n<br>\n<div>The students, however, were <a href=\"http://#\" id=\"f2.y\" title=\"愤怒，激怒\">enraged</a> that the government had refused to receive their petition, and <a href=\"http://#\" id=\"yl7_\" title=\"使增加勇气胆量\">emboldened</a> by the <a href=\"http://#\" id=\"zkhq\" title=\"温顺的，谦恭的\">meek</a> reaction to their protests. After all, the Party had <a href=\"http://#\" id=\"w-x1\" title=\"克制\">refrained</a> from cracking down on them thus far, and had even caved in to their demands for a proper funeral for Hu Yaobang. They continued to protest, and their slogans <a href=\"http://#\" id=\"a2lm\" title=\"偏离\">strayed</a> further and further from the approved texts.</div>\n<br>\n<div><b>Events Begin to Spin Out of Control</b></div>\n<br>\n<div>With Zhao Ziyang out of the country, hardliners in the government such as Li Peng took the opportunity to <a href=\"http://#\" id=\"x_d0\" title=\"弯腰，倾向\">bend</a> the ear of the powerful leader of the Party Elders, Deng Xiaoping. Deng was known as a reformer himself, supportive of market reforms and greater openness, but the hardliners <a href=\"http://#\" id=\"whw1\" title=\"夸张\">exaggerated</a> the threat posed by the students. Li Peng even told Deng that the protesters were <a href=\"http://#\" id=\"gbk4\" title=\"心怀敌意，不友善\">hostile</a> to him personally, and were calling for his ouster and the <a href=\"http://#\" id=\"p0g4\" title=\"垮台\">downfall</a> of the Communist government. (This <a href=\"http://#\" id=\"r5hr\" title=\"告发，谴责\">accusation</a> was a <a href=\"http://#\" id=\"dvgq\" title=\"捏造\">fabrication</a>.)</div>\n<br>\n<div>Clearly worried, Deng Xiaoping decided to <a href=\"http://#\" id=\"t28d\" title=\"谴责\">denounce</a> the demonstrations in an editorial published in the April 26th People\'s Daily. He called the protests dongluan (meaning \"turmoil\" or \"rioting\") by a \"tiny minority.\" These highly emotive terms were associated with the <a href=\"http://#\" id=\"w072\" title=\"残暴，残酷\">atrocities</a> of the Cultural Revolution. Rather than <a href=\"http://#\" id=\"jmf0\" title=\"压下\">tamping down</a> the students\' <a href=\"http://#\" id=\"xd-s\" title=\"热情\">fervor</a>, Deng\'s editorial further <a href=\"http://#\" id=\"gzl8\" title=\"使燃烧，使极度激动\">inflamed</a> it. The government had just made its second grave mistake.</div>\n<br>\n<div>Not unreasonably, the students felt that they could not end the protest if it was labeled dongluan, for fear that they would be prosecuted. Some 50,000 of them continued to press the case that <a href=\"http://#\" id=\"n_e8\" title=\"爱国主义\">patriotism</a> motivated them, not <a href=\"http://#\" id=\"n3cd\" title=\"暴力\">hooliganism</a>. Until the government stepped back from that <a href=\"http://#\" id=\"iqb8\" title=\"刻画，界定\">characterization</a>, the students could not leave Tiananmen Square.</div>\n<br>\n<div>But the government too was trapped by the editorial. Deng Xiaoping had <a href=\"http://#\" id=\"gsoc\" title=\"stake one\'s reputation on sth 把某人的声誉压在某事上\">staked his reputation</a>, and that of the government, on getting the students to <a href=\"http://#\" id=\"oqr-\" title=\"放弃，打退堂鼓\">back down</a>. Who would blink first?</div>\n<br>\n<div><b>Leadership Showdown: Zhao Ziyang vs. Li Peng</b></div>\n<br>\n<div>General Secretary Zhao returned from North Korea to find China <a href=\"http://#\" id=\"hbn1\" title=\"惊呆\">transfixed</a> by the crisis. He still felt that the students were no real threat to the government, though, and sought to <a href=\"http://#\" id=\"whlp\" title=\"除去危险性\">defuse</a> the situation, urging Deng Xiaoping to <a href=\"http://#\" id=\"rd87\" title=\"取消，撤回\">recant</a> the <a href=\"http://#\" id=\"jqwd\" title=\"激动的\">inflammatory</a> editorial.</div>\n<br>\n<div>Li Peng, however, argued that to step back now would be a fatal show of weakness by the Party leadership.</div>\n<br>\n<div>Meanwhile, students from other cities poured into Beijing to join the protests. More <a href=\"http://#\" id=\"n_bn\" title=\"不吉利的\">ominously</a> for the government, other groups also joined in: housewives, workers, doctors, and even sailors from the Chinese Navy! The protests also spread to other cities - Shanghai, Urumqi, Xi\'an, Tianjin... almost 250 in all.</div>\n<br>\n<div>By May 4, the number of protesters in Beijing had topped 100,000 again. On May 13, the students took their next <a href=\"http://#\" id=\"urse\" title=\"对未来有重大（负面）影响的\">fateful</a> step. They announced a <a href=\"http://#\" id=\"dbc.\" title=\"绝食（抗议）\">hunger strike</a>, with the goal of getting the government to retract the April 26 editorial.</div>\n<br>\n<div>Over a thousand students took part in the hunger strike, which <a href=\"http://#\" id=\"oqm0\" title=\"产生、引起某种感觉或情况\">engendered</a> wide-spread <a href=\"http://#\" id=\"bodo\" title=\"同情心\">sympathy</a> for them among the general <a href=\"http://#\" id=\"oc9-\" title=\"普通大众\">populace</a>.</div>\n<br>\n<div>The government met in an emergency Standing Committee session the following day. Zhao urged his fellow leaders to <a href=\"http://#\" id=\"bv.p\" title=\"答应\">accede</a> to the students\' demand and <a href=\"http://#\" id=\"x9d2\" title=\"撤回\">withdraw</a> the editorial. Li Peng urged a crack-down.</div>\n<br>\n<div>The Standing Committee was deadlocked, so the decision was passed to Deng Xiaoping. The next morning, he announced that he was placing Beijing under <a href=\"http://#\" id=\"b2l1\" title=\"戒严令\">martial law</a>. Zhao was fired and placed <a href=\"http://#\" id=\"l2fm\" title=\"软禁\">under house arrest</a>; hard-liner Jiang Zemin succeeded him as General Secretary; and fire-brand Li Peng was placed in control of the military forces in Beijing.</div>\n<br>\n<div>In the midst of the <a href=\"http://#\" id=\"lv9v\" title=\"骚动，混乱\">turmoil</a>, Soviet Premier and fellow reformer Mikhail Gorbachev arrived in China for talks with Zhao on May 16.</div>\n<br>\n<div>Due to Gorbachev\'s presence, a large <a href=\"http://#\" id=\"azka\" title=\"代表团\">contingent</a> of foreign journalists and photographers also descended on the tense Chinese capital. Their reports fueled international concern and calls for restraint, as well as sympathetic protests in Hong Kong, Taiwan, and ex-patriot Chinese communities in Western nations.</div>\n<br>\n<div>This international outcry placed even more pressure on the Chinese Communist Party leadership.</div>\n<br>\n<div>Early in the morning on May 19, the <a href=\"http://#\" id=\"pqf4\" title=\"罢免，废（王位）\">deposed</a> Zhao made an extraordinary appearance in Tiananmen Square. Speaking through a <a href=\"http://#\" id=\"p.t9\" title=\"话筒\">bullhorn</a>, he told the protesters: \"Students, we came too late. We are sorry. You talk about us, criticize us, it is all necessary. The reason that I came here is not to ask you to forgive us. All I want to say is that students are getting very weak, it is the 7th day since you went on hunger strike, you can\'t continue like this... You are still young, there are still many days yet to come, you must live healthy, and see the day when China accomplishes the four modernizations. You are not like us, we are already old, it doesn\'t matter to us any more.\" It was the last time he was ever seen in public.</div>\n<br>\n<div>Perhaps in response to Zhao\'s <a href=\"http://#\" id=\"bvte\" title=\"感染\">appeal</a>, during the last week of May tensions eased a bit, and many of the student protesters from Beijing grew <a href=\"http://#\" id=\"l3tm\" title=\"疲倦\">weary</a> of the protest and left the square. However, reinforcements from the provinces continued to pour into the city. Hard-line student leaders called for the protest to continue until June 20, when a meeting of the National People\'s Congress was scheduled to take place.</div>\n<br>\n<div>On May 30, the students set up a large sculpture called the \"Goddess of Democracy\" in Tiananmen Square. Modeled after the Statue of Liberty, it became one of the <a href=\"http://#\" id=\"tc:3\" title=\"持久的，耐久的\">enduring</a> symbols of the protest.</div>\n<br>\n<div>Hearing the calls for a prolonged protest, on June 2 the Communist Party Elders met with the remaining members of the <a href=\"http://#\" id=\"x_lj\" title=\"政治局常委\">Politburo Standing Committee</a>. They agreed to bring in the People\'s Liberation Army (PLA) to clear the protesters out of Tiananmen Square by force.</div>\n<br>\n<div><b>The Tiananmen Square Massacre</b></div>\n<br>\n<div>The morning of June 3, 1989, the 27th and 28th divisions of the People\'s Liberation Army moved into Tiananmen Square on foot and in tanks, firing tear gas to disperse the demonstrators. They had been ordered not to shoot the protesters; indeed, most of them did not carry firearms.</div>\n<br>\n<div>The leadership selected these divisions because they were from distant provinces; local PLA troops were considered <a href=\"http://#\" id=\"tsrh\" title=\"不可靠的，不可信赖的\">untrustworthy</a> as potential supporters of the protests.</div>\n<br>\n<div>Not only the student protesters, but tens of thousands of workers and ordinary citizens of Beijing joined together to <a href=\"http://#\" id=\"xqtr\" title=\"击退，驱逐\">repel</a> the Army. They used burned-out buses to create <a href=\"http://#\" id=\"o:bg\" title=\"路障，障碍物\">barricades</a>, threw rocks and bricks at the soldiers, and even burned some tank <a href=\"http://#\" id=\"xsyz\" title=\"人员\">crews</a> alive inside their tanks. Thus, the first <a href=\"http://#\" id=\"q3m1\" title=\"（战争，事故）伤员，亡者\">casualties</a> of the Tiananmen Square Incident were actually soldiers.</div>\n<br>\n<div>The student protest leadership now faced a difficult decision. Should they <a href=\"http://#\" id=\"ua1w\" title=\"疏散，转移\">evacuate</a> the Square before further blood could be <a href=\"http://#\" id=\"x.up\" title=\"（尤指在战争中）造成伤亡；使流（血）\">shed</a>, or hold their ground? In the end, many of them decided to remain.</div>\n<br>\n<div>That night, around 10:30 pm, the PLA returned to the area around Tiananmen with <a href=\"http://#\" id=\"gc_x\" title=\"来福枪；步枪\">rifles</a>, <a href=\"http://#\" id=\"q-rw\" title=\"枪刺，刺刀\">bayonets</a> fixed. The tanks <a href=\"http://#\" id=\"j74j\" title=\"轰鸣着缓慢行进\">rumbled</a> down the street, firing <a href=\"http://#\" id=\"j7gu\" title=\"不加区分的，随意选择的\">indiscriminately</a>.</div>\n<br>\n<div>Students shouted \"Why are you killing us?\" to the soldiers, many of whom were about the same age as the protesters. <a href=\"http://#\" id=\"h.4y\" title=\"黄包车，人力车\">Rickshaw</a> drivers and bicyclists <a href=\"http://#\" id=\"p8yf\" title=\"猛冲，突进，飞奔\">darted</a> through the <a href=\"http://#\" id=\"ocxf\" title=\"混乱，混乱的群众\">melee</a>, rescuing the wounded and taking them to hospitals. In the chaos, a number of non-protesters were killed as well.</div>\n<br>\n<div>Contrary to popular belief, the <a href=\"http://#\" id=\"cw4c\" title=\"庞大的，巨大的\">bulk</a> of the violence took place in the neighborhoods all around Tiananmen Square, rather than in the Square itself.</div>\n<br>\n<div>Throughout the night of June 3 and early hours of June 4, the troops beat, bayoneted, and shot protesters. Tanks drove straight into crowds, <a href=\"http://#\" id=\"w_mv\" title=\"碾压\">crushing</a> people and bicycles under their <a href=\"http://#\" id=\"ggqu\" title=\"踩，踏，践踏\">treads</a>. By 6 a.m. on June 4th, 1989, the streets around Tiananmen Square had been cleared.</div>\n<br>\n<div><b>\"Tank Man\" or the \"Unknown Rebel\"</b></div>\n<br>\n<div>The city <a href=\"http://#\" id=\"o43r\" title=\"陷入\">lapsed into</a> shock during June 4, with just the occasional <a href=\"http://#\" id=\"z27q\" title=\"（子弹）群射，齐发\">volley</a> of gunfire breaking the stillness. Parents of missing students pushed their way to the protest area, seeking their sons and daughters, only to be warned off and then shot in the back as they fled from the soldiers. Doctors and ambulance drivers who tried to enter the area to help the wounded were also shot down in cold blood by the PLA.</div>\n<br>\n<div>Beijing seemed utterly <a href=\"http://#\" id=\"n4ty\" title=\"制服，控制\">subdued</a> the morning of June 5. However, as foreign journalists and photographers, including Jeff Widener of the AP, watched from their hotel <a href=\"http://#\" id=\"z1jd\" title=\"阳台\">balconies</a> as a column of tanks <a href=\"http://#\" id=\"c2.e\" title=\"（使缓慢、轰鸣地）移动，滚动\">trundled</a> up Chang\'an Avenue (the Avenue of Eternal Peace), an amazing thing happened.</div>\n<br>\n<div><img id=\"pxsr\" src=\"/img/page/tank-man.jpeg\" style=\"float: left; height: 214.585px; margin-left: 0px; margin-right: 1em; width: 320px;\">A young man in a white shirt and black pants, with shopping bags in each hand, stepped out into the street and stopped the tanks. The lead tank tried to <a href=\"http://#\" id=\"qhxw\" title=\"（车辆）急转弯，突然转向\">swerve</a> around him, but he jumped in front of it again.</div>\n<br>\n<div>Everyone watched in horrified <a href=\"http://#\" id=\"c2pu\" title=\"魅力\">fascination</a>, afraid that the tank driver would lose patience and drive over the man. At one point, the man even climbed up onto the tank and spoke to the soldiers inside, <a href=\"http://#\" id=\"z6tz\" title=\"据说，据传闻\">reportedly</a> asking them, \"Why are you here? You have caused nothing but <a href=\"http://#\" id=\"apz1\" title=\"痛苦，悲惨\">misery</a>.\"</div>\n<br>\n<div>After several minutes of this <a href=\"http://#\" id=\"x6nx\" title=\"公然违抗的，挑衅的\">defiant</a> dance, two more men rushed up to the Tank Man and <a href=\"http://#\" id=\"vikr\" title=\"推搡，猛推\">hustled</a> him away. His fate is unknown.</div>\n<br>\n<div>However, still images and video of his brave act were captured by the western press members nearby, and <a href=\"http://#\" id=\"m2_s\" title=\"私运，偷运\">smuggled</a> out for the world to see. Widener and several other photographers hid the film in the tanks of their hotel toilets, to save it from searches by the Chinese security forces.</div>\n<br>\n<div><a href=\"http://#\" id=\"s1l4\" title=\"具有讽刺性的是\">Ironically</a>, the story and the image of the Tank Man\'s act of defiance had the greatest immediate effect thousands of miles away, in Eastern Europe. Inspired in part by his courageous example, people across the Soviet <a href=\"http://#\" id=\"t_w1\" title=\"集团，团体\">bloc</a> poured into the streets. In 1990, beginning with the Baltic states, the republics of the Soviet Empire began to break away. The USSR collapsed.</div>\n<br>\n<div>Nobody knows how many people died in the Tiananmen Square Massacre. The official Chinese government figure is 241, but this is almost certainly a drastic <a href=\"http://#\" id=\"em-z\" title=\"不完全统计\">undercount</a>. Between soldiers, protesters and civilians, it seems likely that anywhere from 800 to 4,000 people were killed. The Chinese Red Cross initially put the toll at 2,600, based on counts from local hospitals, but then quickly retracted that statement under intense government pressure.</div>\n<br>\n<div>Some <a href=\"http://#\" id=\"uhcn\" title=\"目击者\">witnesses</a> also stated that the PLA carted away many bodies; they would not have been included in a hospital count.</div>\n<br>\n<div><b>The <a href=\"http://#\" id=\"dknb\" title=\"余波，后果\">Aftermath</a> of Tiananmen 1989</b></div>\n<br>\n<div>The protesters who survived the Tiananmen Square Incident met a variety of fates. Some, particularly the student leaders, were given relatively light jail terms (less than 10 years). Many of the professors and other professionals who joined in were simply black-listed, unable to find jobs. A large number of the workers and provincial people were executed; exact figures, as usual, are unknown.</div>\n<br>\n<div>Chinese journalists who had published reports sympathetic to the protesters also found themselves purged and unemployed. Some of the most famous were sentenced to multi-year prison terms.</div>\n<br>\n<div>As for the Chinese government, June 4, 1989 was a <a href=\"http://#\" id=\"b.ls\" title=\"（标志着重大变化的事件或时期）转折点，分水岭\">watershed</a> moment. Reformists within the Communist Party of China were stripped of power and reassigned to <a href=\"http://#\" id=\"pt4b\" title=\"礼仪性的\">ceremonial</a> roles. Former Premier Zhao Ziyang was never <a href=\"http://#\" id=\"f_0j\" title=\"（使）复兴，（使）恢复原状\">rehabilitated</a>, and spent his final 15 years under house arrest. Shanghai\'s mayor, Jiang Zemin, who had moved quickly to <a href=\"http://#\" id=\"v5s6\" title=\"镇压，平息\">quell</a> protests in that city, replaced Zhao as the Party\'s General Secretary.</div>\n<br>\n<div>Since that time, political <a href=\"http://#\" id=\"u775\" title=\"骚动\">agitation</a> has been extremely <a href=\"http://#\" id=\"yf4v\" title=\"沉默，一时说不出话来\">muted</a> in China. The government and the majority of citizens alike have focused on economic reform and prosperity, rather than political reform. Because the Tiananmen Square Massacre is a <a href=\"http://#\" id=\"ejxo\" title=\"禁忌\">taboo</a> subject, most Chinese under the age of 25 have never even heard about it. Websites that mention the \"June 4 Incident\" are blocked in China.</div>\n<br>\n<div>Even decades later, the people and the government of China have not dealt with this <a href=\"http://#\" id=\"y42r\" title=\"重要的，重大的\">momentous</a> and <a href=\"http://#\" id=\"rqvv\" title=\"悲剧\">tragic</a> incident. The memory of the Tiananmen Square Massacre <a href=\"http://#\" id=\"t94a\" title=\"伤口化脓，不快的情感更加苦恼\">festers</a> under the surface of everyday life for those old enough to recall it. Someday, the Chinese government will have to face this piece of its history.</div>\n<br>\n<br>\n<div>For a very powerful and <a href=\"http://#\" id=\"do:3\" title=\"令人不安的，引起恐慌的\">disturbing</a> take on the Tiananmen Square Massacre, see the PBS Frontline special \"The Tank Man,\" available to view online.</div>\n<br>\n<br>\n<div>Sources</div>\n<br>\n<div>Roger V. Des Forges, Ning Luo, Yen-bo Wu. Chinese Democracy and the Crisis of 1989: Chinese and American Reflections, (New York: SUNY Press, 1993)</div>\n<br>\n<div>PBS, \"Frontline: The Tank Man,\" April 11, 2006.</div>\n<br>\n<div>U.S. National Security Briefing Book. \"Tiananmen Square, 1989: The Declassified History,\" posted by George Washington University.</div>\n<br>\n<div>Zhang Liang. The Tiananmen Papers: The Chinese Leadership\'s Decision to Use Force Against Their Own People - In Their Own Words,\" ed. Andrew J. Nathan and Perry Link, (New York: Public Affairs, 2001)</div>\n<br>\n\n',NULL,1,1,'N',0,'util.js','2011-03-02 11:50:31','2014-02-27 13:20:18'),(57,'［表格结构］Essay Change Logs','<p>Table Structures:</p>\n<span class=\"cmt\">/* V3.1 */</span>\n<h2>Essay</h2>\n<h3><tt>w_words</tt></h3>\n<pre>\n+---------------+-----------------------+------+-----+---------+----------------+\n| Field         | Type                  | Null | Key | Default | Extra          |\n+---------------+-----------------------+------+-----+---------+----------------+\n| ID            | bigint(20) unsigned   | NO   | PRI | NULL    | auto_increment | \n| name          | varchar(100)          | NO   |     |         |                | \n| basic_meaning | varchar(40)           | NO   |     |         |                | \n| basic_type    | enum(\'n\',\'v\',\'a\',\'i\') | NO   |     | v       |                | \n| chain         | varchar(60)           | NO   |     |         |                | \n| pronounce     | varchar(20)           | NO   |     |         |                | \n| img_name      | varchar(20)           | NO   |     |         |                | \n| root          | varchar(20)           | NO   |     |         |                | \n<span class=\"hl\">| term_id       | int(4) unsigned       | NO   |     | NULL    |                |</span>\n+---------------+-----------------------+------+-----+---------+----------------+\n</pre>\n\n<h3><tt>w_term_taxonomy</tt></h3>\n<pre>\n+---------------+---------------------+------+-----+---------+----------------+\n| Field         | Type                | Null | Key | Default | Extra          |\n+---------------+---------------------+------+-----+---------+----------------+\n| term_id       | bigint(20) unsigned | NO   | PRI | NULL    | auto_increment | \n| term_name     | varchar(200)        | NO   |     |         |                | \n| term_slug     | varchar(80)         | NO   |     |         |                | \n| term_taxonomy | varchar(80)         | NO   |     |         |                | \n| term_note     | varchar(200)        | NO   |     |         |                | \n| term_parent   | bigint(20)          | NO   |     | 0       |                | \n+---------------+---------------------+------+-----+---------+----------------+\n</pre>\n\n<h3><tt>w_explanations</tt></h3>\n<p>2011/5/3: Change type \'phrasalverb\':</p>\n<p></p>\n<p></p>\n<pre>\n+-------------+-------------------------------------------------------+------+-----+-------------------+----------------+\n| Field       | Type                                                  | Null | Key | Default           | Extra          |\n+-------------+-------------------------------------------------------+------+-----+-------------------+----------------+\n| rel_id      | bigint(20) unsigned                                   | NO   | PRI | NULL              | auto_increment | \n| word_id     | bigint(20) unsigned                                   | NO   |     | NULL              |                | \n| type        | enum(\'n\',\'vt\',\'vi\',\'adj\',\'adv\',\'idiom\',\'phrasalverb\') | NO   |     | vt                |                | \n| en_exp      | text                                                  | NO   |     | NULL              |                | \n| cn_exp      | varchar(100)                                          | NO   |     | NULL              |                | \n| dic_example | text                                                  | NO   |     | NULL              |                | \n| see_also    | varchar(80)                                           | NO   |     |                   |                | \n| c_time      | datetime                                              | YES  |     | NULL              |                | \n| m_time      | timestamp                                             | NO   |     | CURRENT_TIMESTAMP |                | \n+-------------+-------------------------------------------------------+------+-----+-------------------+----------------+\n</pre>\n\n<h3><tt>w_places</tt></h3>\n<pre>\n+---------------+---------------------------------+------+-----+-------------------+----------------+\n| Field         | Type                            | Null | Key | Default           | Extra          |\n+---------------+---------------------------------+------+-----+-------------------+----------------+\n| rel_id        | bigint(20) unsigned             | NO   | PRI | NULL              | auto_increment | \n| exp_id        | bigint(20) unsigned             | NO   |     | NULL              |                |\n| word_id       | bigint(20) unsigned             | NO   |     | NULL              |                |\n| sentence      | text                            | NO   |     | NULL              |                | \n<span class=\"hl\">| term_id       | int(4) unsigned       	  | NO   |     | NULL    	   |                |</span>\n| book_page     | smallint(4)                     | NO   |     | 0                 |                | \n| c_time        | datetime                        | YES  |     | NULL              |                | \n| m_time        | timestamp                       | NO   |     | CURRENT_TIMESTAMP |                | \n+---------------+---------------------------------+------+-----+-------------------+----------------+\n</pre>\n\n<pre>\nmysql&gt; desc essay;\n+-----------+-----------------------------------+------+-----+-------------------+----------------+\n| Field     | Type                              | Null | Key | Default           | Extra          |\n+-----------+-----------------------------------+------+-----+-------------------+----------------+\n| id        | int(8) unsigned                   | NO   | PRI | NULL              | auto_increment | \n| file_name | varchar(140)                      | NO   |     | NULL              |                | \n| title     | varchar(140)                      | NO   |     | NULL              |                | \n| status    | enum(\'publish\',\'draft\',\'private\') | NO   |     | draft             |                | \n| show_toc  | enum(\'Y\',\'N\')                     | NO   |     | N                 |                | \n| toc_cid   | tinyint(2)                        | NO   |     | NULL              |                | \n| js_file   | varchar(40)                       | NO   |     | NULL              |                | \n| c_time    | datetime                          | NO   |     | NULL              |                | \n| m_time    | timestamp                         | NO   |     | CURRENT_TIMESTAMP |                | \n+-----------+-----------------------------------+------+-----+-------------------+----------------+\n9 rows in set (0.00 sec)\n\nmysql&gt; desc essay_categories;\n+----------+-----------------+------+-----+---------+----------------+\n| Field    | Type            | Null | Key | Default | Extra          |\n+----------+-----------------+------+-----+---------+----------------+\n| cat_id   | int(4) unsigned | NO   | PRI | NULL    | auto_increment | \n| cat_name | varchar(40)     | NO   |     | NULL    |                | \n<span class=\"hl\">| cat_slug | varchar(40)     | NO   |     | NULL    |                |</span><span class=\"cmt\"> // new added</span>\n| cat_desc | text            | NO   |     | NULL    |                | \n+----------+-----------------+------+-----+---------+----------------+\n3 rows in set (0.00 sec)\n\nmysql&gt; desc essay2cat;\n+-------------+------------------+------+-----+---------+----------------+\n| Field       | Type             | Null | Key | Default | Extra          |\n+-------------+------------------+------+-----+---------+----------------+\n| rel_id      | int(11) unsigned | NO   | PRI | NULL    | auto_increment | \n| essay_id    | int(11)          | NO   |     | NULL    |                | \n| category_id | int(11)          | NO   |     | NULL    |                | \n+-------------+------------------+------+-----+---------+----------------+\n3 rows in set (0.01 sec)\nmysql&gt; desc essay_tags;\n+----------+---------------------+------+-----+---------+----------------+\n| Field    | Type                | Null | Key | Default | Extra          |\n+----------+---------------------+------+-----+---------+----------------+\n| tag_id   | bigint(20) unsigned | NO   | PRI | NULL    | auto_increment | \n| tag_name | varchar(200)        | NO   |     | NULL    |                | \n+----------+---------------------+------+-----+---------+----------------+\n2 rows in set (0.00 sec)\n\nmysql&gt; desc essay2tag;\n+----------+---------------------+------+-----+---------+----------------+\n| Field    | Type                | Null | Key | Default | Extra          |\n+----------+---------------------+------+-----+---------+----------------+\n| rel_id   | bigint(20) unsigned | NO   | PRI | NULL    | auto_increment | \n| essay_id | bigint(20)          | NO   |     | NULL    |                | \n| tag_id   | bigint(20)          | NO   |     | NULL    |                | \n+----------+---------------------+------+-----+---------+----------------+\n\n\nmysql&gt; desc motd;\n+----------+-----------------+------+-----+-------------------+----------------+\n| Field    | Type            | Null | Key | Default           | Extra          |\n+----------+-----------------+------+-----+-------------------+----------------+\n| id       | int(8) unsigned | NO   | PRI | NULL              | auto_increment | \n| content  | text            | NO   |     | NULL              |                | \n| category | varchar(20)     | NO   |     |                   |                | \n| time     | datetime        | NO   |     | NULL              |                | \n| m_time   | timestamp       | NO   |     | CURRENT_TIMESTAMP |                | \n+----------+-----------------+------+-----+-------------------+----------------+\n5 rows in set (0.00 sec)\n\nmysql&gt; desc words;\n+--------------+-----------------------------------------+------+-----+-------------------+----------------+\n| Field        | Type                                    | Null | Key | Default           | Extra          |\n+--------------+-----------------------------------------+------+-----+-------------------+----------------+\n| id           | bigint(20) unsigned                     | NO   | PRI | NULL              | auto_increment | \n| name         | varchar(20)                             | NO   |     | NULL              |                | \n| sound        | varchar(20)                             | NO   |     | NULL              |                | \n| type         | enum(\'n\',\'vt\',\'vi\',\'adj\',\'adv\',\'idiom\') | NO   |     | NULL              |                | \n| root         | varchar(20)                             | NO   |     | NULL              |                | \n| category     | varchar(20)                             | NO   |     | NULL              |                | \n| img_name1    | varchar(20)                             | NO   |     | NULL              |                | \n| img_name2    | varchar(20)                             | NO   |     | NULL              |                | \n| meaning      | text                                    | YES  |     | NULL              |                | \n| cn_meaning   | text                                    | YES  |     | NULL              |                | \n| dic_example1 | text                                    | YES  |     | NULL              |                | \n| dic_example2 | text                                    | YES  |     | NULL              |                | \n| see_also     | varchar(120)                            | NO   |     | NULL              |                | \n| c_time       | datetime                                | NO   |     | NULL              |                | \n| m_time       | timestamp                               | NO   |     | CURRENT_TIMESTAMP |                | \n+--------------+-----------------------------------------+------+-----+-------------------+----------------+\n15 rows in set (0.00 sec)\n\nmysql&gt; desc word_places;\n+---------------+---------------------------------+------+-----+-------------------+----------------+\n| Field         | Type                            | Null | Key | Default           | Extra          |\n+---------------+---------------------------------+------+-----+-------------------+----------------+\n| rel_id        | bigint(20) unsigned             | NO   | PRI | NULL              | auto_increment | \n| words_id      | bigint(20) unsigned             | NO   |     | NULL              |                | \n| sentence      | text                            | YES  |     | NULL              |                | \n| place_type    | enum(\'book\',\'web_essay\',\'life\') | NO   |     | NULL              |                | \n| book_name     | varchar(20)                     | NO   |     | NULL              |                | \n| book_chapter  | tinyint(3)                      | NO   |     | NULL              |                | \n| book_page     | smallint(4)                     | NO   |     | NULL              |                | \n| web_ess_url   | varchar(200)                    | NO   |     | NULL              |                | \n| web_ess_title | varchar(100)                    | NO   |     | NULL              |                | \n| c_time        | datetime                        | NO   |     | NULL              |                | \n| m_time        | timestamp                       | NO   |     | CURRENT_TIMESTAMP |                | \n+---------------+---------------------------------+------+-----+-------------------+----------------+\n11 rows in set (0.00 sec)\n</pre>\n<h2>WordPress V3.1</h2>\n<h3><tt>users</tt></h3>\n<pre>\n+---------------------+---------------------+------+-----+---------------------+----------------+\n| Field               | Type                | Null | Key | Default             | Extra          |\n+---------------------+---------------------+------+-----+---------------------+----------------+\n| ID                  | bigint(20) unsigned | NO   | PRI | NULL                | auto_increment | \n| user_login          | varchar(60)         | NO   | MUL |                     |                | \n| user_pass           | varchar(64)         | NO   |     |                     |                | \n| user_nicename       | varchar(50)         | NO   | MUL |                     |                | \n| user_email          | varchar(100)        | NO   |     |                     |                | \n| user_url            | varchar(100)        | NO   |     |                     |                | \n| user_registered     | datetime            | NO   |     | 0000-00-00 00:00:00 |                | \n| user_activation_key | varchar(60)         | NO   |     |                     |                | \n| user_status         | int(11)             | NO   |     | 0                   |                | \n| display_name        | varchar(250)        | NO   |     |                     |                | \n+---------------------+---------------------+------+-----+---------------------+----------------+\n</pre>\n<h3><tt>terms</tt></h3>\n<pre>\n+------------+---------------------+------+-----+---------+----------------+\n| Field      | Type                | Null | Key | Default | Extra          |\n+------------+---------------------+------+-----+---------+----------------+\n| term_id    | bigint(20) unsigned | NO   | PRI | NULL    | auto_increment | \n| name       | varchar(200)        | NO   | MUL |         |                | \n| slug       | varchar(200)        | NO   | UNI |         |                | \n| term_group | bigint(10)          | NO   |     | 0       |                | \n+------------+---------------------+------+-----+---------+----------------+\n4 rows in set (0.00 sec)\n</pre>\n\n<h3><tt>terms_taxonomy</tt></h3>\n<pre>\n+------------------+---------------------+------+-----+---------+----------------+\n| Field            | Type                | Null | Key | Default | Extra          |\n+------------------+---------------------+------+-----+---------+----------------+\n| term_taxonomy_id | bigint(20) unsigned | NO   | PRI | NULL    | auto_increment | \n| term_id          | bigint(20) unsigned | NO   | MUL | 0       |                | \n| taxonomy         | varchar(32)         | NO   | MUL |         |                | \n| description      | longtext            | NO   |     | NULL    |                | \n| parent           | bigint(20) unsigned | NO   |     | 0       |                | \n| count            | bigint(20)          | NO   |     | 0       |                | \n+------------------+---------------------+------+-----+---------+----------------+\n6 rows in set (0.00 sec)\n</pre>\n\n<h3><tt>terms_relationship</tt></h3>\n<pre>\n+------------------+---------------------+------+-----+---------+-------+\n| Field            | Type                | Null | Key | Default | Extra |\n+------------------+---------------------+------+-----+---------+-------+\n| object_id        | bigint(20) unsigned | NO   | PRI | 0       |       |<span class=\"cmt\"> // post id</span> \n| term_taxonomy_id | bigint(20) unsigned | NO   | PRI | 0       |       | \n| term_order       | int(11)             | NO   |     | 0       |       | \n+------------------+---------------------+------+-----+---------+-------+\n3 rows in set (0.00 sec)\n</pre>\n\n<h2>WordPress</h2>\n<h3><code>wp_categories</code></h3>\n<pre>\nmysql&gt; desc wp_categories;\n+----------------------+--------------+------+-----+---------+----------------+\n| Field                | Type         | Null | Key | Default | Extra          |\n+----------------------+--------------+------+-----+---------+----------------+\n| cat_ID               | int(4)       | NO   | PRI | NULL    | auto_increment | \n| cat_name             | varchar(55)  | NO   | UNI |         |                | \n| category_nicename    | varchar(200) | NO   | MUL | NULL    |                | \n| category_description | text         | NO   |     | NULL    |                | \n| category_parent      | int(4)       | NO   |     | NULL    |                | \n+----------------------+--------------+------+-----+---------+----------------+\n</pre>\n\n<h3><code>wp_comments</code></h3>\n<pre>\nmysql&gt; desc wp_comments;\n<span class=\"cmt\">/* V1.0 */</span>\n+----------------------+------------------+------+-----+---------------------+----------------+\n| Field                | Type             | Null | Key | Default             | Extra          |\n+----------------------+------------------+------+-----+---------------------+----------------+\n| comment_ID           | int(11) unsigned | NO   | PRI | NULL                | auto_increment | \n| comment_post_ID      | int(11)          | NO   |     | 0                   |                | \n| comment_author       | tinytext         | NO   |     | NULL                |                | \n| comment_author_email | varchar(100)     | NO   |     |                     |                | \n| comment_author_url   | varchar(100)     | NO   |     |                     |                | \n| comment_author_IP    | varchar(100)     | NO   |     |                     |                | \n| comment_date         | datetime         | NO   |     | 0000-00-00 00:00:00 |                | \n| comment_content      | text             | NO   |     | NULL                |                | \n| comment_karma        | int(11)          | NO   |     | 0                   |                | \n| comment_approved     | enum(\'0\',\'1\')    | NO   | MUL | 1                   |                | \n+----------------------+------------------+------+-----+---------------------+----------------+\n10 rows in set (0.00 sec)\n\n<span class=\"cmt\">/* V3.1 */</span>\n+----------------------+---------------------+------+-----+---------------------+----------------+\n| Field                | Type                | Null | Key | Default             | Extra          |\n+----------------------+---------------------+------+-----+---------------------+----------------+\n| comment_ID           | bigint(20) unsigned | NO   | PRI | NULL                | auto_increment | \n| comment_post_ID      | bigint(20) unsigned | NO   | MUL | 0                   |                | \n| comment_author       | tinytext            | NO   |     | NULL                |                | \n| comment_author_email | varchar(100)        | NO   |     |                     |                | \n| comment_author_url   | varchar(200)        | NO   |     |                     |                | \n| comment_author_IP    | varchar(100)        | NO   |     |                     |                | \n| comment_date         | datetime            | NO   |     | 0000-00-00 00:00:00 |                | \n<span class=\"hl\">| comment_date_gmt     | datetime            | NO   | MUL | 0000-00-00 00:00:00 |                |</span> \n| comment_content      | text                | NO   |     | NULL                |                | \n| comment_karma        | int(11)             | NO   |     | 0                   |                | \n| comment_approved     | varchar(20)         | NO   | MUL | 1                   |                | \n<span class=\"hl\">| comment_agent        | varchar(255)        | NO   |     |                     |                |</span> \n<span class=\"hl\">| comment_type         | varchar(20)         | NO   |     |                     |                |</span> \n<span class=\"hl\">| comment_parent       | bigint(20) unsigned | NO   | MUL | 0                   |                |</span> \n<span class=\"hl\">| user_id              | bigint(20) unsigned | NO   |     | 0                   |                |</span> \n+----------------------+---------------------+------+-----+---------------------+----------------+\n</pre>\n\n<h3><code>wp_linkcategories</code></h3>\n<pre>\nmysql&gt; desc wp_linkcategories;\n+------------------+---------------+------+-----+---------+----------------+\n| Field            | Type          | Null | Key | Default | Extra          |\n+------------------+---------------+------+-----+---------+----------------+\n| cat_id           | int(11)       | NO   | PRI | NULL    | auto_increment | \n| cat_name         | tinytext      | NO   |     | NULL    |                | \n| auto_toggle      | enum(\'Y\',\'N\') | NO   |     | N       |                | \n| show_images      | enum(\'Y\',\'N\') | NO   |     | Y       |                | \n| show_description | enum(\'Y\',\'N\') | NO   |     | Y       |                | \n| show_rating      | enum(\'Y\',\'N\') | NO   |     | Y       |                | \n| show_updated     | enum(\'Y\',\'N\') | NO   |     | Y       |                | \n| sort_order       | varchar(64)   | NO   |     | name    |                | \n| sort_desc        | enum(\'Y\',\'N\') | NO   |     | N       |                | \n| text_before_link | varchar(128)  | NO   |     | &lt;li&gt;    |                | \n| text_after_link  | varchar(128)  | NO   |     | &lt;br /&gt;  |                | \n| text_after_all   | varchar(128)  | NO   |     | &lt;/li&gt;   |                | \n| list_limit       | int(11)       | NO   |     | -1      |                | \n+------------------+---------------+------+-----+---------+----------------+\n13 rows in set (0.00 sec)\n</pre>\n\n<h3><code>wp_links</code></h3>\n<pre>\nmysql&gt; desc wp_links;\n+------------------+---------------+------+-----+---------------------+----------------+\n| Field            | Type          | Null | Key | Default             | Extra          |\n+------------------+---------------+------+-----+---------------------+----------------+\n| link_id          | int(11)       | NO   | PRI | NULL                | auto_increment | \n| link_url         | varchar(255)  | NO   |     |                     |                | \n| link_name        | varchar(255)  | NO   |     |                     |                | \n| link_image       | varchar(255)  | NO   |     |                     |                | \n| link_target      | varchar(25)   | NO   |     |                     |                | \n| link_category    | int(11)       | NO   |     | 0                   |                | \n| link_description | varchar(255)  | NO   |     |                     |                | \n| link_visible     | enum(\'Y\',\'N\') | NO   |     | Y                   |                | \n| link_owner       | int(11)       | NO   |     | 1                   |                | \n| link_rating      | int(11)       | NO   |     | 0                   |                | \n| link_updated     | datetime      | NO   |     | 0000-00-00 00:00:00 |                | \n| link_rel         | varchar(255)  | NO   |     |                     |                | \n| link_notes       | mediumtext    | NO   |     | NULL                |                | \n| link_rss         | varchar(255)  | NO   |     | NULL                |                | \n+------------------+---------------+------+-----+---------------------+----------------+\n14 rows in set (0.00 sec)\n</pre>\n\n<h3><code>wp_optiongroup_options</code></h3>\n<pre>\nmysql&gt; desc wp_optiongroup_options;\n+-----------+---------+------+-----+---------+-------+\n| Field     | Type    | Null | Key | Default | Extra |\n+-----------+---------+------+-----+---------+-------+\n| group_id  | int(11) | NO   | PRI | NULL    |       | \n| option_id | int(11) | NO   | PRI | NULL    |       | \n| seq       | int(11) | NO   |     | NULL    |       | \n+-----------+---------+------+-----+---------+-------+\n3 rows in set (0.01 sec)\n</pre>\n\n<h3><code>wp_optiongroups</code></h3>\n<pre>\nmysql&gt; desc wp_optiongroups;\n+----------------+--------------+------+-----+---------+----------------+\n| Field          | Type         | Null | Key | Default | Extra          |\n+----------------+--------------+------+-----+---------+----------------+\n| group_id       | int(11)      | NO   | PRI | NULL    | auto_increment | \n| group_name     | varchar(64)  | NO   |     | NULL    |                | \n| group_desc     | varchar(255) | YES  |     | NULL    |                | \n| group_longdesc | tinytext     | YES  |     | NULL    |                | \n+----------------+--------------+------+-----+---------+----------------+\n4 rows in set (0.00 sec)\n</pre>\n\n<h3><code>wp_options</code></h3>\n<pre>\nmysql&gt; desc wp_options;\n+---------------------+---------------+------+-----+---------+----------------+\n| Field               | Type          | Null | Key | Default | Extra          |\n+---------------------+---------------+------+-----+---------+----------------+\n| option_id           | int(11)       | NO   | PRI | NULL    | auto_increment | \n| blog_id             | int(11)       | NO   | PRI | 0       |                | \n| option_name         | varchar(64)   | NO   | PRI |         |                | \n| option_can_override | enum(\'Y\',\'N\') | NO   |     | Y       |                | \n| option_type         | int(11)       | NO   |     | 1       |                | \n| option_value        | varchar(255)  | NO   |     |         |                | \n| option_width        | int(11)       | NO   |     | 20      |                | \n| option_height       | int(11)       | NO   |     | 8       |                | \n| option_description  | tinytext      | NO   |     | NULL    |                | \n| option_admin_level  | int(11)       | NO   |     | 1       |                | \n+---------------------+---------------+------+-----+---------+----------------+\n10 rows in set (0.00 sec)\n</pre>\n\n<h3><code>wp_optiontypes</code></h3>\n<pre>\nmysql&gt; desc wp_optiontypes;\n+-----------------+-------------+------+-----+---------+----------------+\n| Field           | Type        | Null | Key | Default | Extra          |\n+-----------------+-------------+------+-----+---------+----------------+\n| optiontype_id   | int(11)     | NO   | PRI | NULL    | auto_increment | \n| optiontype_name | varchar(64) | NO   |     | NULL    |                | \n+-----------------+-------------+------+-----+---------+----------------+\n2 rows in set (0.00 sec)\n</pre>\n\n<h3><code>wp_optionvalues</code></h3>\n<pre>\nmysql&gt; desc wp_optionvalues;\n+------------------+--------------+------+-----+---------+-------+\n| Field            | Type         | Null | Key | Default | Extra |\n+------------------+--------------+------+-----+---------+-------+\n| option_id        | int(11)      | NO   | MUL | NULL    |       | \n| optionvalue      | tinytext     | YES  |     | NULL    |       | \n| optionvalue_desc | varchar(255) | YES  |     | NULL    |       | \n| optionvalue_max  | int(11)      | YES  |     | NULL    |       | \n| optionvalue_min  | int(11)      | YES  |     | NULL    |       | \n| optionvalue_seq  | int(11)      | YES  |     | NULL    |       | \n+------------------+--------------+------+-----+---------+-------+\n6 rows in set (0.00 sec)\n</pre>\n\n<h3><code>wp_post2cat</code></h3>\n<p>处理一个文章可能归属于多个 Category 的表。</p>\n<pre>\nmysql&gt; desc wp_post2cat;\n+-------------+---------+------+-----+---------+----------------+\n| Field       | Type    | Null | Key | Default | Extra          |\n+-------------+---------+------+-----+---------+----------------+\n| rel_id      | int(11) | NO   | PRI | NULL    | auto_increment | \n| post_id     | int(11) | NO   | MUL | NULL    |                | \n| category_id | int(11) | NO   |     | NULL    |                | \n+-------------+---------+------+-----+---------+----------------+\n3 rows in set (0.00 sec)\n</pre>\n\n<h3><code>wp_posts</code></h3>\n<pre>\nmysql&gt; desc wp_posts;\n+-----------------------+-----------------------------------+------+-----+---------------------+----------------+\n| Field                 | Type                              | Null | Key | Default             | Extra          |\n+-----------------------+-----------------------------------+------+-----+---------------------+----------------+\n| ID                    | int(10) unsigned                  | NO   | PRI | NULL                | auto_increment | \n| post_author           | int(4)                            | NO   |     | 0                   |                | \n| post_date             | datetime                          | NO   |     | 0000-00-00 00:00:00 |                | \n| post_content          | text                              | NO   |     | NULL                |                | \n| post_title            | text                              | NO   |     | NULL                |                | \n| post_category         | int(4)                            | NO   |     | 0                   |                | \n| post_excerpt          | text                              | NO   |     | NULL                |                | \n| post_lat              | float                             | YES  |     | NULL                |                | \n| post_lon              | float                             | YES  |     | NULL                |                | \n| post_status           | enum(\'publish\',\'draft\',\'private\') | NO   | MUL | publish             |                | \n| comment_status        | enum(\'open\',\'closed\')             | NO   |     | open                |                | \n| ping_status           | enum(\'open\',\'closed\')             | NO   |     | open                |                | \n| post_password         | varchar(20)                       | NO   |     |                     |                | \n| post_name             | varchar(200)                      | NO   | MUL | NULL                |                | \n| to_ping               | text                              | NO   |     | NULL                |                | \n| pinged                | text                              | NO   |     | NULL                |                | \n| post_modified         | datetime                          | NO   |     | NULL                |                | \n| post_content_filtered | text                              | NO   |     | NULL                |                | \n+-----------------------+-----------------------------------+------+-----+---------------------+----------------+\n18 rows in set (0.00 sec)\n</pre>\n\n<h3><code>wp_users</code></h3>\n<pre>\nmysql&gt; desc wp_users;\n<span class=\"cmt\">/* V1.0 */</span>\n+------------------+------------------+------+-----+---------------------+----------------+\n| Field            | Type             | Null | Key | Default             | Extra          |\n+------------------+------------------+------+-----+---------------------+----------------+\n| ID               | int(10) unsigned | NO   | PRI | NULL                | auto_increment | \n| user_login       | varchar(20)      | NO   | UNI |                     |                | \n| user_pass        | varchar(20)      | NO   |     |                     |                | \n| user_firstname   | varchar(50)      | NO   |     |                     |                | \n| user_lastname    | varchar(50)      | NO   |     |                     |                | \n| user_nickname    | varchar(50)      | NO   |     |                     |                | \n| user_icq         | int(10) unsigned | NO   |     | 0                   |                | \n| user_email       | varchar(100)     | NO   |     |                     |                | \n| user_url         | varchar(100)     | NO   |     |                     |                | \n| user_ip          | varchar(15)      | NO   |     |                     |                | \n| user_domain      | varchar(200)     | NO   |     |                     |                | \n| user_browser     | varchar(200)     | NO   |     |                     |                | \n| dateYMDhour      | datetime         | NO   |     | 0000-00-00 00:00:00 |                | \n| user_level       | int(2) unsigned  | NO   |     | 0                   |                | \n| user_aim         | varchar(50)      | NO   |     |                     |                | \n| user_msn         | varchar(100)     | NO   |     |                     |                | \n| user_yim         | varchar(50)      | NO   |     |                     |                | \n| user_idmode      | varchar(20)      | NO   |     |                     |                | \n| user_description | text             | NO   |     | NULL                |                | \n+------------------+------------------+------+-----+---------------------+----------------+\n19 rows in set (0.00 sec)\n\n<span class=\"cmt\">/* V3.1 */</span>\n+---------------------+---------------------+------+-----+---------------------+----------------+\n| Field               | Type                | Null | Key | Default             | Extra          |\n+---------------------+---------------------+------+-----+---------------------+----------------+\n| ID                  | bigint(20) unsigned | NO   | PRI | NULL                | auto_increment | \n| user_login          | varchar(60)         | NO   | MUL |                     |                | \n| user_pass           | varchar(64)         | NO   |     |                     |                | \n| user_nicename       | varchar(50)         | NO   | MUL |                     |                | \n| user_email          | varchar(100)        | NO   |     |                     |                | \n| user_url            | varchar(100)        | NO   |     |                     |                | \n| user_registered     | datetime            | NO   |     | 0000-00-00 00:00:00 |                | \n| user_activation_key | varchar(60)         | NO   |     |                     |                | \n| user_status         | int(11)             | NO   |     | 0                   |                | \n| display_name        | varchar(250)        | NO   |     |                     |                | \n+---------------------+---------------------+------+-----+---------------------+----------------+\n\n</pre>\n\n',NULL,3,1,'Y',0,'util.js','2011-03-02 15:38:24','2014-02-27 13:20:18'),(58,'Happy, ah?','<p>Old Essay pages structure:</p>\n<ol>\n    <li>add.php</li>\n    <li>category.php</li>\n    <li>tag..php</li>\n    <li>index.php</li>\n    <li>v.php</li>\n    <li>.php</li>\n</ol>\n<p>New Essay pages structure:</p>\n<ol>\n    <li>index.php: Display all essays, add an essay, tag pool display,\n    category index.(equals add.php + category.php + tag.php + index.php)</li>\n    <li>categories.php: Manage essay categories;</li>\n    <li>v.php: Essay view, edit essay;</li>\n</ol>\n<p>In fact, it is possible to put function of index.php into page v.php,\nso that there are only two pages (v.php and categories.php).</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n',NULL,1,1,'N',0,'util.js','2011-03-03 10:18:47','2014-02-27 13:20:18'),(59,'Make Sure The Data Type is correct When Using foreach and in_array','When modifing essay page via class <code>db</code>, two warning message occurred\nfrequently:\n<blockquote class=\"error\">\nWarning: Invalid argument supplied for foreach() in /home/ts/www/p/essay/v.php on line 28\n</blockquote>\n<blockquote class=\"error\">\nWarning: in_array() [function.in-array]: Wrong datatype for second argument in /home/ts/www/p/essay/v.php on line 61		\n</blockquote>\nThat means either arguments supplied is invalid or wrong type.\n<pre>\n$essay_cat = $db-&gt;get_col(\"SELECT category_id from essay2cat WHERE essay_id = \'$very_id\'\");\n$cats      = $db-&gt;get_results(\"SELECT cat_id, cat_name from essay_categories\");\n...\nforeach (<span class=\"hl\">$cats</span> as $cat) {\n	if (in_array($cat-&gt;cat_id, <span class=\"hl\">$essay_cat</span>)) { \n		echo \"&lt;input type=\\\"checkbox\\\" checked=\\\"checked\\\" name=\\\"cats[]\\\" value=\\\"$cat-&gt;cat_id\\\" /&gt;$cat-&gt;cat_name&lt;br&gt;\";\n	} else {\n		echo \"&lt;input type=\\\"checkbox\\\" name=\\\"cats[]\\\" value=\\\"$cat-&gt;cat_id\\\" /&gt;$cat-&gt;cat_name&lt;br&gt;\";\n	}\n}\n</pre>\n<p>\nWhat the warning message means is that variable <code>$cats</code> is invalid,\nthe data type of variable <code>$essay_cat</code> is wrong. Where are these\ntwo variables from? Both two are return values of <code>db</code> methods\n(<code>$db-&gt;get_col</code> and <code>$db-&gt;get_results</code>).\n</p>\n<br>\n<p>\nMostly, these two methods will return an array, which contains records what \nwe want. But There is another case: The SQL statement returns nothing. That is,\nno record fixes the condition.\n</p>\n<br>\n<p>\nLet\'s have a test:\n</p>\n<br />\n<b>Fatal error</b>:  Call to a member function get_results() on a non-object in <b>/home/ts/www/p/essay/110303-php-make-sure-data-type-is-array-when-using-foreach-and-in_array.php</b> on line <b>39</b><br />\n',NULL,3,1,'N',0,'util.js','2011-03-03 16:08:28','2014-02-27 13:20:18'),(60,'I Thought a Name for My Baby','<p>\nYesterday night, I thought a name Chen Anzhuo (陈安琢) for my baby. I registered\na gmail account (chenanzhuo@gmail.com) and a QQ number using this name just\nnow. I wish this name will be the final one.\n</p>\n',NULL,2,1,'N',0,'util.js','2011-03-03 22:10:58','2014-02-27 13:20:18'),(61,'Resoved Error Count Bug of Tag Pool Module','<p>Bug description:</p>\n<blockquote>\n发现 essay/tag.php 的一处 bug:\n<code>FROM essay WHERE tag LIKE \'%$tag%\' ORDER BY c_time DESC</code>\n问题在 %$tag%, 例如含有 php_function 标签的记录也匹配 php, 导致标签计数不准确。\n</blockquote>\n<p></p>\n<pre>\n<span class=\"cmt\"># Snippet in essay/index.php</span>\n$essays = $db-&gt;get_results(\"SELECT * FROM essay ORDER BY c_time\");\necho \"&lt;p&gt;List of $tag_name:&lt;/p&gt;\"; \necho \"&lt;ul&gt;\"; \n$num = 0;\nforeach ($essays as $e){ \n	<span class=\"hl\">$tag_arr = explode(\',\',$e-&gt;tag);\n	if ($tag_arr != NULL and (in_array($tag_name, $tag_arr))) {</span>\n		echo \"&lt;li&gt;&lt;a href=\\\"v.php?name=$e-&gt;file_name\\\"&gt;$e-&gt;title&lt;/a&gt;&nbsp;at &lt;span \n			class=\\\"entry-footer\\\"&gt;$e-&gt;c_time&lt;/span&gt;&lt;/li&gt;\"; \n		$num++;\n	}\n}\necho \"&lt;/ul&gt;\";\necho \"&lt;p&gt;Total &lt;b&gt;$num&lt;/b&gt; essays.&lt;/p&gt;\"; \n</pre>\n<p>Here we use a full loop of all essays, then extract the tag variable,\nexplode it into an array. if tag name what we wants is in the array, display it.\nThis method is the same as categories checkbox module in essay edit page\n(v.php).</p>\n<br>\n<p>Note: When table records are huge, this method may be not very efficient.</p>\n<p></p>\n',NULL,1,1,'N',0,'util.js','2011-03-04 10:17:12','2014-02-27 13:20:18'),(62,'Redirect Page Using JavaScript','<p>We use JavaScript\'s <code>window.setTimeout()</code> function to do this \ntask:</p>\n<pre>\n$db-&gt;query(\"UPDATE essay_categories SET cat_name = \'$new_content\', cat_desc = \'$new_desc\' WHERE cat_id = $cat_id\");\necho $db-&gt;rows_affected.\" line(s) has saved.\";\n\n$url = $_SERVER[\'PHP_SELF\'];\necho \"Page will redirect after 2 seconds...\";\necho \"&lt;script language=\\\"javascript\\\"&gt;\\n\";\necho \"<span class=\"hl\">window.setTimeout(function() {document.location=\\\"{$url}\\\";},2000);</span>\";\necho \"&lt;/script&gt;\";\n</pre>\n<p>For page relating to <code>INSERT</code>, <code>REPLACE</code> or \n<code>DELETE</code> operation, the target page url is \noften <code>$_SERVER[\'PHP_SELF\']</code>. If you want to redirect a certain one,\ngive it explicitly.</p>\n<br>\n<p>As it is a frequently used module, I create a function:</p>\n<pre>\n<span class=\"cmt\"># /p/common/ts-functions.php</span>\nfunction page_redirect($url, $delay) {\n	echo \"&lt;p&gt;Page will redirect to &lt;b&gt;$url&lt;/b&gt; after $delay seconds...&lt;/p&gt;\";\n	echo \"&lt;script language=\\\"javascript\\\"&gt;\\n\";\n	echo \"window.setTimeout(function() {document.location=\\\"{$url}\\\";},$delay*1000);\";\n	echo \"&lt;/script&gt;\";\n}\n</pre>\n<p>With this function, only one line could work.</p>\n<pre>page_redirect($_SERVER[\'PHP_SELF\'], 3);</pre>\n<pre>page_redirect(\'http://kuixy.com\', 3);</pre>\n<h3>Reference</h3>\n<ul>\n    <li>P932, 《JavaScript: the Definitive Guide》</li>\n</ul>\n',NULL,1,1,'N',0,'util.js','2011-03-04 15:00:59','2014-02-27 13:20:18'),(63,'Invoke JavaScript Codes in a Link Using javascript: URL','<p>Knowledge</p>\n<ul>\n    <li>the <code>javascript:</code> pseudoprotocol</li>\n    <li><code>void</code> operator in JavaScript</li>\n    <li>Unary operator in JavaScript</li>\n</ul>\n\n<h2>Sinat\'s Comments Display and Hide Style</h2>\n\n<p>\nSinat\'s display/hide comments module looks good. When hover to the link, I found\nthe following line in browser\'s status bar:\n</p>\n\n<pre>javascript: void(0);</pre>\n\n<p>\nI used this method in my \'tsheader.php\' page to invoke/hide my addt box. But\nI didn\'t know how it worked, just know that it worked.\n</p><br>\n<p>The following sentences are from P79 in JavaScript: the Definitive Guide.\nThey answers my question very well.\n</p>\n<blockquote>\n<p>\n<code>void</code> is a unary operator that appears before its single operand.\n</p><br>\n\n<p>\nThe purpose of this operator is: it discards its operand value and \nreturn <code>undefined</code>.\n</p><br>\n\n<p>\nThe most common use for this operator is in a client-side javascript: URL,\nwhere it allows you to evaluate an expression for its side effects without\nthe browser displaying the value of the evaluated expression.\n</p><br>\n<a href=\"javascript:void window.open();\">Open New Window</a>\n<pre>&lt;a href=\"javascript:void window.open()<span class=\"hl\">;</span>\"&gt;Open New Window&lt;/a&gt;</pre>\n</blockquote>\n<blockquote>\nA JavaScript URL consists of the <code>javascript:</code> protocol\n(pseudoprotocol) specifier\nfollowed by arbitrary JavaScript code (with statements separated from one\nanother by semicolons).(Note: This sentence shows that the following ones are\nalso OK:\n<pre>&lt;a href=\"javascript:void window.open()\"&gt;Open New Window&lt;/a&gt;</pre>\n<pre>&lt;a href=\"javascript:<span class=\"hl\">void 0</span>\" onclick=\"show_addt()\" accesskey=\"j\"&lt;/a&gt;</pre>\nWhen the browser loads such a URL, it executes the JavaScript code. The value\nof the last expression in the URL is converted to a string, and this string is\ndisplayed by the web browser as its new document. For example, you might click\n<a href=\"javascript:5+2\">this link</a> to see what will happen. the link is:\n<pre>&lt;a href=\"javascript:5+2\"&gt;this link&lt;/a&gt;</pre>\n---- P11 JDG\n</blockquote>\n\n<h2>This Time True, Next Time False Loop</h2>\n<pre>\n<span class=\"cmt\"># Snippet in /p/essay/index.php</span>\n&lt;script&gt;\nfunction display_hide_tags_pool() {\n        var nd = id(\"tag-pool\");\n        if (nd.className == \'bdn\') \n                nd.className = \"bdd\";\n        else if (nd.className == \'bdd\') \n                nd.className = \"bdn\";\n}\n&lt;/script&gt;\n\n&lt;a onclick=\"display_hide_tags_pool()\" href=\"javascript:void(0);\"&gt;Show/Hide Tags&lt;/a&gt;\n</pre>\n<p>Inspired by WordPress\'s way of displaying table row:</p>\n<pre>\n$bgcolor = (\'#eed\' == $bgcolor) ? \'none\' : \'#eed\'; \necho \"&lt;tr style=\'background-color: $bgcolor\'&gt;\\n\";\n</pre>\n<p>The function above was optimized again as below:</p>\n<pre>\nfunction display_hide_tags_pool() {\n	var nd = id(\"tag-pool\"); \n	nd.className = (nd.className == \'bdn\') ? \"bdd\": \"bdn\";\n}\n</pre>\n',NULL,1,1,'N',0,'util.js','2011-03-05 09:22:28','2014-02-27 13:20:18'),(64,'Apple\'s Navigation Style','<p></p>\n<p>The following is the output:</p>\n<br>\n<div class=\"index-link\">\n<ul>\n  <li><a href=\"../jsbasic.php\">JavaScript Basic</a></li>\n  <li><a href=\"../mysqlbasic.php\">MySQL Basic</a></li> \n  <li><a href=\"../jsapi.php\">Mine JS API</a></li>\n  <li><a href=\"../lang.php\">Summit View</a></li> \n  <li><a href=\"/wp-v1.0/index.php\">WP1.0</a></li>\n</ul>\n<div class=\"cf\"></div>\n</div>\n<pre class=\"brush: xml\">\n&lt;div class=\"index-link\"&gt;\n&lt;ul&gt;\n  &lt;li&gt;&lt;a href=\"jsbasic.php\"&gt;JavaScript Basic&lt;/a&gt;&lt;/li&gt;\n  &lt;li&gt;&lt;a href=\"mysqlbasic.php\"&gt;MySQL Basic&lt;/a&gt;&lt;/li&gt; \n  &lt;li&gt;&lt;a href=\"jsapi.php\"&gt;Mine JS API&lt;/a&gt;&lt;/li&gt;\n  &lt;li&gt;&lt;a href=\"lang.php\"&gt;Summit View&lt;/a&gt;&lt;/li&gt; \n  &lt;li&gt;&lt;a href=\"/wp-v1.0/index.php\"&gt;WP1.0&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;div class=\"cf\"&gt;&lt;/div&gt;<span class=\"cmt\"> # Never forget this line after floating elements.</span>\n&lt;/div&gt;\n</pre>\n<pre class=\"brush: css\">\ndiv.index-link {\n  margin:0px 0px 30px 0px; padding:0px;\n  background-color:#eed;\n}\ndiv.index-link ul, div.index-link li {\n	margin:0px; padding:0px;\n}\ndiv.index-link li {\n  display:inline;\n  width:170px; height:36px;\n  float:left;\n}\ndiv.index-link ul li a {\n  padding: 5px 10px;\n  display:block;\n  text-align:center;\n  color:#857010;\n  background-color:#111;\n}\ndiv.index-link ul li a:hover {\n  background-color:#a38;\n  color:#000;\n}\n</pre>\n<p></p>\n<p></p>\n',NULL,1,1,'N',0,'util.js','2011-03-06 21:10:04','2014-02-27 13:20:18'),(65,'改掉抽烟的毛病','<p>\n要改掉抽烟的恶习。另尽可能避免主动接受外界刺激（A），倒头就睡，床是用来睡眠的。\n</p>\n',NULL,2,1,'N',0,'util.js','2011-03-07 09:08:08','2014-02-27 13:20:18'),(66,'Optimize Display TOC Module in Essay','<p><b>Update on 3/10/11: Make The TOC Module Able To Input Chapter ID</b></p>\n<br>\n<p>2 days ago, I viewed chapter 10 of MySQL Rerference, and \n<a href=\"/p/essay/v.php?name=110308-doc-mysql-manual-notes-ch10-data-type.php\">made a note</a>.\nI recall that if I want to make an electronic note for a certain chapter\nof a book, I could assign the variable <code>chapterId</code> to value of \nthe chapter number. It\'s time to finish this small function. The main\nsteps include:</p>\n<ol>\n    <li>Add a new column named <code>toc_cid</code> with \n    type <code>TINYINT(3)</code> after column <code>show_toc</code>; </li>\n    <li>In essay adding (index.php) and essay editing (v.php) page, add a \n    text box, which is unvisible by default.\n    If I turn on the toc switch, this box becomes visible and wait me to input\n    the chapter id. In edit module.\n    </li>\n</ol>\n<p>Optimized snippets follow:</p>\n<pre>\n<span class=\"cmt\"># Snippet in essay/v.php</span>\nif ($row-&gt;show_toc == \"Y\") { \n	echo \"  &lt;script src=\\\"/p/js/toc.js\\\"&gt;&lt;/script&gt;\\n\";\n	if (<span class=\"hl\">$row-&gt;toc_cid == \"0\"</span>) {<span class=\"cmt\"> // \'0\' is the default value.</span> \n		echo \"  &lt;script&gt;var chapterId;&lt;/script&gt;\\n\"; \n	} else {\n		echo \"  <span class=\"hl\">&lt;script&gt;var chapterId = $row-&gt;toc_cid;&lt;/script&gt;</span>\\n\"; \n	}\n	echo \"  &lt;div id=\\\"toc\\\"&gt;&lt;!--Table Of Content is here --&gt;&lt;/div&gt;\\n\";\n}\n</pre>\n<pre>\n<span class=\"cmt\"># Snippet in essay/index.php</span>\nShow TOC? \n&lt;input type=\"radio\" <span class=\"hl\">onclick=\"showBlock(\'tocChapNo\')\"</span> name=\"radio_show_toc\" value=\"Y\"/&gt;Yes \n&lt;input type=\"radio\" <span class=\"hl\">onclick=\"hideBlock(\'tocChapNo\')\"</span> name=\"radio_show_toc\" value=\"N\" checked=\"checked\"/&gt;No&lt;br&gt;\n&lt;div id=\"tocChapNo\" class=\"staticBlockHidden\"&gt;\n    Input the Chapter Number:&lt;input type=\"text\" name=\"txt_toc_cid\" size=\"3\" maxlength=\"256\" /&gt;&lt;br&gt;\n&lt;/div&gt;\n</pre>\n<p></p>\n\n<h2>Original</h2>\n<p>Before today, if I wante to show TOC in an essay. I have to put the \nfollowing snippet in head of every essay:</p>\n<pre>\n&lt;script&gt;var chapterId;&lt;/script&gt;\n&lt;div id=\"toc\"&gt;&lt;!--Table Of Content is here --&gt;&lt;/div&gt;\n</pre>\n<p>This method is not esay engough. Now, I create a TOC show switch in essay\nadding form. The main steps are:</p>\n<ol>\n    <li>Add a new column named <code>show_toc</code>, it is an enum type, with\n    values \"Y\" and \"N\";</li>\n    <li>When loading an essay, the code (that is <code>essay/v.php</code>) \n    read value of <code>show_toc</code>, \n    if it\'s value is \"Y\", put the folowing two lines before essay content.  \n    <pre>&lt;script&gt;var chapterId;&lt;/script&gt; \n&lt;div id=\"toc\"&gt;&lt;!--Table Of Content is here --&gt;&lt;/div&gt;</pre>\n    </li>\n</ol>\n<p>The advantages of this method are:</p>\n<ol>\n    <li>Show/Hide the TOC with just a switch without changing content of \n    the essay ( repeatedlly insert/delete operations);\n    </li>\n    <li>Suppose I want to create a single document containning all essays in\n    2011, and a TOC index at the head of this document, if there is a  \n    <code>toc</code> division in any of essays, there will be at least two\n    <code>toc</code> divisions which <a \n    href=\"/p/essay/v.php?name=101015-js-id-for-jsvascript-class-for-css.php\">should be unique</a> in documents, and toc.js\n    file will not work. The switch method ensures that there isn\'t any\n    <code>toc</code> division in any essay.</li>\n</ol>\n<p></p>\n',NULL,1,1,'N',0,'util.js','2011-03-07 10:51:58','2014-02-27 13:20:18'),(67,'Optimize Essay Add Module: Fetch the Latest Essay File Directly','<p>Old version ( fetch today\'s all essays, in disorder):</p>\n<pre>\nif ($handle = opendir(\'/home/ts/www/p/essay/\')) {\n    while (false !== ($file = readdir($handle))) {\n        if (substr($file,0,6) == date(\'ymd\')) {\n	    echo \"    <option value=\\\"$file\\\">$file</option>\\n\";\n        }\n    }\n    closedir($handle);\n}\n</pre>\n<p>The old version\'s problem is that if I submit more than one essays in one\nday, the select option displayed alaways is not what I want (in other words,\nit is not the latest one), I have to click the option box to select the right\none. Could I focus on essay title without concerning about this file name?\nYes, Look the following edition:</p>\n<br>\n\n<p>Optimized version:</p>\n<pre>\n&lt;?php \nif ($handle = opendir(\'/home/ts/www/p/essay/\')) {\n    while (false !== ($file = readdir($handle))) {\n        if (substr($file,0,6) == date(\'ymd\')) {\n		<span class=\"cmt\"># First, I stored today\'s essays\' file name and mtime into an associate array called $arr_fn_mt</span>\n		<span class=\"hl\">$arr_fn_mt[$file] = filemtime(\'/home/ts/www/p/essay/\'.$file); \n		<span class=\"cmt\"># Second, also stored the essays\' mtime to an index array called $arr_mt,</span>\n		$arr_mt[] = filemtime(\'/home/ts/www/p/essay/\'.$file);</span>\n        }\n    }\n    closedir($handle);\n}\necho \"&lt;pre&gt;\";\n<span class=\"cmt\"># By rsorting it, the first element will be what we want: the latest modified file name\'s mtime</span>\n<span class=\"hl\">rsort($arr_mt);</span>\nforeach ($arr_fn_mt as $k =&gt; $v) {\n	if ($v == $arr_mt[0]) \n		echo \"&lt;input type=\\\"text\\\" name=\\\"txt_file_name\\\" size=\\\"50\\\" maxlength=\\\"256\\\" value=\\\"$k\\\" /&gt;\\n\";\n}\n?&gt;\n</pre>\n<h2>Summary</h2>\n<p>The knowledge used in essay are: Array functions, File system functions.</p>\n<p></p>\n<p></p>\n',NULL,1,1,'N',0,'util.js','2011-03-07 14:12:39','2014-02-27 13:20:18'),(68,'How Does WordPress 3.1 Deal With Tags','<p>It is same as the categories module, using table\n<code>nwp_term_relationships</code> to store the relations between them.</p>\n<pre class=\"brush:sql\">\nmysql&gt; desc nwp_term_relationships;\n+------------------+---------------------+------+-----+---------+-------+\n| Field            | Type                | Null | Key | Default | Extra |\n+------------------+---------------------+------+-----+---------+-------+\n| object_id        | bigint(20) unsigned | NO   | PRI | 0       |       | \n| term_taxonomy_id | bigint(20) unsigned | NO   | PRI | 0       |       | \n| term_order       | int(11)             | NO   |     | 0       |       | \n+------------------+---------------------+------+-----+---------+-------+\n3 rows in set (0.00 sec)\n\nmysql&gt; desc nwp_terms;\n+------------+---------------------+------+-----+---------+----------------+\n| Field      | Type                | Null | Key | Default | Extra          |\n+------------+---------------------+------+-----+---------+----------------+\n| term_id    | bigint(20) unsigned | NO   | PRI | NULL    | auto_increment | \n| name       | varchar(200)        | NO   | MUL |         |                | \n| slug       | varchar(200)        | NO   | UNI |         |                | \n| term_group | bigint(10)          | NO   |     | 0       |                | \n+------------+---------------------+------+-----+---------+----------------+\n4 rows in set (0.01 sec)\nmysql&gt; desc nwp_term_taxonomy;\n+------------------+---------------------+------+-----+---------+----------------+\n| Field            | Type                | Null | Key | Default | Extra          |\n+------------------+---------------------+------+-----+---------+----------------+\n| term_taxonomy_id | bigint(20) unsigned | NO   | PRI | NULL    | auto_increment | \n| term_id          | bigint(20) unsigned | NO   | MUL | 0       |                | \n| taxonomy         | varchar(32)         | NO   | MUL |         |                | \n| description      | longtext            | NO   |     | NULL    |                | \n| parent           | bigint(20) unsigned | NO   |     | 0       |                | \n| count            | bigint(20)          | NO   |     | 0       |                | \n+------------------+---------------------+------+-----+---------+----------------+\n6 rows in set (0.00 sec)\n\n</pre>\n',NULL,1,1,'N',0,'util.js','2011-03-08 08:41:05','2014-02-27 13:20:18'),(69,'WEB: MySQL integer columns and display width','<p>One confusing aspect of MySQL is declaring <strong>integer columns</strong>. It took me a while to understand what the <strong>number in parenthesis</strong> meant, for example:</p>\n<p><code>INT(6)</code></p>\n<p>Initially, I thought it meant that column could only hold <strong>unsigned</strong> (no negatives) integer values up to a maximum <strong>999999</strong>, which is <strong>6 characters wide</strong>.</p>\n\n<p>This is wrong thinking. The <strong>6</strong> means something else entirely...</p>\n<p>However, the reason I thought this is because string columns are declared in a similar fashion:</p>\n<p><code>CHAR(6)</code></p>\n<p>This means a <strong>character</strong> column, with a maximum length of <strong>6 characters</strong>, such as these words:</p>\n<ul>\n\n<li>houses</li>\n<li>string</li>\n<li>column</li>\n<li>grease</li>\n<li>streak</li>\n</ul>\n<p>Notice those are all 6 characters in length.</p>\n<p>If I tried storing the word \"special\" in that column, MySQL would chop the value to be \"specia\", since the original word has 7 characters.</p>\n<p>Anyway, integer columns all have a <strong>preset</strong> range of values allowed. The number in parenthesis only indicates the <strong>display width</strong>.</p>\n\n<p>This is probably still confusing, so let me explain further...</p>\n<p>The <strong>display width</strong> is a number from 1 to 255. You can set the display width if you want all of your integer values to \"appear\" similarly:</p>\n<p><code>INT(6)</code></p>\n<ul>\n<li>&nbsp;&nbsp;&nbsp;&nbsp;55</li>\n<li>&nbsp;&nbsp;&nbsp;643</li>\n<li>&nbsp;&nbsp;1098</li>\n<li>&nbsp;81153</li>\n\n</ul>\n<blockquote>\n<p>Wait... those numbers above don\'t appear similar at all! They\'re all different lengths!</p>\n</blockquote>\n<p>Actually, you can\'t <strong>see</strong> it, because the left side is <strong>padded with spaces</strong>.</p>\n<p>To help visualize it easier, try this:</p>\n<ul>\n<li>_ _ _ _ 5 5</li>\n\n<li>_ _ _ 6 4 3</li>\n<li>_ _ 1 0 9 8</li>\n<li>_ 8 1 1 5 3</li>\n</ul>\n<p>Does that help? Notice how they all have a display width of <strong>6</strong>.</p>\n<blockquote>\n<p>Sure, that helps. But no one can <em>see</em> spaces normally, so why does setting the \"display width\" matter?</p>\n\n</blockquote>\n<p>Enter <strong>ZEROFILL</strong>.</p>\n<p>If you declare your integer column like this:</p>\n<p><code>INT(6) ZEROFILL</code></p>\n<p>... your numbers will \"appear\" like this:</p>\n<ul>\n<li>000055</li>\n<li>000643</li>\n<li>001098</li>\n\n<li>081153</li>\n</ul>\n<p>Notice how the <strong>left side</strong> is padded with zero\'s, which makes the numbers look consistent, no matter what the \"real\" length is.</p>\n<blockquote>\n<p>Great! Does declaring the \"display width\" affect the actual range of values allowed, or the storage space?</p>\n</blockquote>\n<p>No, for both. You can still store up to the maximum value allowed for that column type, no matter what you set as the \"display width.\" Also, the \"display width\" <strong>does not</strong> affect the number of bytes of storage required.</p>\n\n<p>For example, if your column is declared like this:</p>\n<p><code>INT(6)</code></p>\n<p>... and you want to store the number 6543210, which is <strong>7 characters</strong>, it will still be accepted.</p>\n<p>Here is a partial list of <strong>numeric column type ranges</strong>:</p>\n<table>\n\n    <tr>\n       <th>Column Type</th>\n\n       <th>Signed (negative) values</th>\n       <th>Unsigned (non-negative) values</th>\n    </tr>\n\n    <tr>\n       <td>TINYINT</td>\n       <td>-128 to 127</td>\n\n       <td>0 to 255</td>\n    </tr> \n\n    <tr>\n       <td>SMALLINT</td>\n       <td>-32768 to 32767</td>\n       <td>0 to 65535</td>\n    </tr>\n\n    <tr>\n       <td>MEDIUMINT</td>\n       <td>-8388608 to 8388607</td>\n       <td>0 to 16777215</td>\n    </tr>\n\n    <tr>\n\n       <td>INT</td>\n       <td>-2147683648 to 2147483647</td>\n       <td>0 to 4294967295</td>\n    </tr>\n\n    <tr>\n       <td>BIGINT</td>\n\n       <td>-9223372036854775808 to 9223372036854775807</td>\n       <td>0 to 18446744073709551615</td>\n    </tr>\n\n</table>\n\n',NULL,1,1,'N',0,'util.js','2011-03-08 10:57:15','2014-02-27 13:20:18'),(70,'Classic PATH Problem in Java Occurred in Shell Scriptting Again','<p>In order to bak the new <code>wp-v3.1</code> directory which was installed\non A840, I modified the shell script <code>npu</code> yesterday night:</p>\n<pre>\ntar -zcpvf bak.tgz www/p/ www/wp-v1.0/ <span class=\"hl\">www/wp-v3.1/</span> www/img/page/ trekshot.sql .bashrc npu nup\n</pre>\n<p>But after running <code>npu</code>, Directory wp-v3.1 wasn\'t in bak file.\nI thought a question suddenly this morning: Is there a script also called \n<code>npu</code> in directory <code>shell-example</code>? \nIn directory shell-example, there\nwas indeed a execuable shell script called <code>npu</code>, when I opened \nthe <code>.bashrc</code> file, I knew the reason.</p>\n<pre>PATH=\"$PATH\":~/www/shell-example:~/</pre>\n<p>The environment variable <code>PATH</code> tells the computer \nto search a command \n(<code>npu</code> for example) in the following three directories with order:\n\"$PATH\", ~/www/shell-example and ~/ . The computer first finds such a command in\ndirectory ~/www/shell-example, as this file is just there, so it runs the \ncommand and stop searching the other two directories,\neven if the \"real\" script is in directory ~/ .</p>\n<h2>Conclusion</h2>\n<p></p>\n<ol>\n    <li>Change variable <code>PATH</code>\'s value to:\n    <pre>PATH=\"$PATH\":~/:~/www/shell-example/</pre>\n    </li>\n    <li>Move the files <code>npu</code> and <code>nup</code> from directory\n    <code>~/www/shell-example/</code> to <code>~/www/bak/</code>.</li>\n</ol>\n',NULL,3,1,'N',0,'util.js','2011-03-08 14:20:44','2014-02-27 13:20:18'),(71,'[ MySQL Reference Notes ] - Ch10 - Data Type','<a target=\"_blank\" href=\"/ref/mysql-manual/data-types.html\">View Source</a>\n<blockquote>\nMySQL supports a number of data types in several categories: numeric types, \ndate and time types, and string (character) types.\n</blockquote>\n\n<h2>Data Type Overview</h2>\n<h3>Overview of Numeric Types</h3>\n<img src=\"/img/page/110310-mysql-int-range.png\" />\n\n<h4><code>TINYINT[ (M) ] [ UNSIGNED ] [ ZEROFILL ]</code></h4>\n<p>A very small integer. The signed range is -128 to 127. \nThe unsigned range is 0 to 255. </p>\n<blockquote>\n<code>M</code> indicates the maximum display width for integer types. \nThe maximum legal display width is 255. Display width is <b>unrelated</b> \nto the range of values a type can contain\n</blockquote>\n<p>Now, I will test it out. For the following table, although we have known\nthat the signed range of <code>TINYINT</code> is -128 - 127, we still add\na column <code>num_tinyint2</code> with type <code>TINYINT(<span class=\"red\">200</span>)</code></p>\n<pre>\nmysql&gt; desc t_datatype;\n+--------------+---------------------+------+-----+---------+----------------+\n| Field        | Type                | Null | Key | Default | Extra          |\n+--------------+---------------------+------+-----+---------+----------------+\n| id           | bigint(20) unsigned | NO   | PRI | NULL    | auto_increment | \n| num_bit      | bit(7)              | NO   |     | NULL    |                | \n| num_tinyint  | tinyint(4)          | NO   |     | NULL    |                | \n<span class=\"hl\">| num_tinyint2 | tinyint(200)        | NO   |     | NULL    |                |</span>\n+--------------+---------------------+------+-----+---------+----------------+\n</pre>\n<p>Now, we insert a big integer into <code>t_datatype</code> and output the\nnew added record:</p>\n<pre>\nmysql&gt; insert into t_datatype values(\'\',\'10\',<span class=\"hl\">\'12788\'</span>,<span class=\"hl\">\'-1288\'</span>);\n\nQuery OK, 1 row affected, 4 warnings (0.00 sec)\n| 10 |       |         <span class=\"hl\">127</span> |         <span class=\"hl\">-128</span> | \n</pre>\n<p>The result explains the sentence \"The maximum legal display width is 255. \nDisplay width is unrelated to the range of values a type can contain\" \nvery well. </p> \n\n<h4><code>BOOL</code>, <code>BOOLEAN</code></h4>\n<p>These types are synonyms for <code>TINYINT(1)</code>. A value of zero is \nconsidered false. Nonzero values are considered true:</p>\n<pre class=\"tty\">\nmysql&gt; <span class=\"ttyipt\">select if(0, \'true\', \'false\');</span>\n+------------------------+\n| if(0, \'true\', \'false\') |\n+------------------------+\n| false                  | \n+------------------------+\nmysql&gt; \nmysql&gt; <span class=\"ttyipt\">select if(1, \'true\', \'false\');</span>\n+------------------------+\n| if(1, \'true\', \'false\') |\n+------------------------+\n| true                   | \n+------------------------+\nmysql&gt; \nmysql&gt; <span class=\"ttyipt\">select if(7, \'true\', \'false\');</span>\n+------------------------+\n| if(7, \'true\', \'false\') |\n+------------------------+\n| true                   | \n+------------------------+\n</pre>\n<p>However, the values <code>TRUE</code> and <code>FALSE</code> are merely \naliases for 1 and 0, respectively:</p>\n<pre class=\"tty\">\nmysql&gt; <span class=\"ttyipt\">select if(0 = FALSE, \'true\', \'false\');</span>\n+--------------------------------+\n| if(0 = FALSE, \'true\', \'false\') |\n+--------------------------------+\n| true                           | \n+--------------------------------+\nmysql&gt; <span class=\"ttyipt\">select if(1 = TRUE, \'true\', \'false\');</span>\n+--------------------------------+\n| if(1 = TRUE, \'true\', \'false\')  |\n+--------------------------------+\n| true                           | \n+--------------------------------+\nmysql&gt; <span class=\"ttyipt\">select if(2 = TRUE, \'true\', \'false\');</span>\n+--------------------------------+\n| if(2 = TRUE, \'true\', \'false\')  |\n+--------------------------------+\n| false                          |<span class=\"cmt\"> # 2 is equal to neither 1 or 0</span> \n+--------------------------------+\n</pre>\n\n<h4><code>SMALLINT[ (M) ] [ UNSIGNED ] [ ZEROFILL ]</code></h4>\n<p>A small integer. The signed range is -32768 to 32767. \nThe unsigned range is 0 to 65535.</p>\n\n<h4><code>MEDIUMINT[ (M) ] [ UNSIGNED ] [ ZEROFILL ]</code></h4>\n<p>A medium-sized integer. The signed range is -8388608 to 8388607. \nThe unsigned range is 0 to 16777215.</p>\n\n<h4><code>INT[ (M) ] [ UNSIGNED ] [ ZEROFILL ]</code> or <code>INTEGER[ (M) ] [ UNSIGNED ] [ ZEROFILL ]</code></h4>\n<p>A normal-size integer. The signed range is -2147483648 to 2147483647. \nThe unsigned range is 0 to 4294967295.</p>\n\n<h4><code>BIGINT[ (M) ] [ UNSIGNED ] [ ZEROFILL ]</code></h4>\n<p>A large integer. The signed range is -9223372036854775808 to\n9223372036854775807. The unsigned range is 0 to \n18446744073709551615.</p>\n\n<h4><code>SERIAL</code></h4>\n<p><code>SERIAL</code> is an alias for \n<code>BIGINT UNSIGNED NOT NULL AUTO_INCREMENT UNIQUE</code>.\n<br>\n<p>There are some issues you should notice, for detail, reference the source \npage.</p>\n\n<h3>Overview of Date and Time Types</h3>\n<h4><code>DATE</code></h4>\n<p>The supported range is <code>\'1000-01-01\'</code> to <code>\'9999-12-31\'</code>\n. MySQL displays DATE values in <code>\'YYYY-MM-DD\'</code> format, but permits \nassignment of values to DATE columns using either strings or numbers.</p>\n\n<h4><code>DATETIME</code></h4>\n<p>A date and time combination. The supported range is \n<code>\'1000-01-01 00:00:00\'</code> to <code>\'9999-12-31 23:59:59\'</code>. \nMySQL displays DATETIME values in <code>\'YYYY-MM-DD HH:MM:SS\'</code> format, \nbut permits assignment of values to DATETIME columns using either \nstrings or numbers. </p>\n\n<h4><code>TIMESTRAMP</code></h4>\n<p>A timestamp. The range is <code>\'1970-01-01 00:00:01\'</code> UTC \nto <code>\'2038-01-19 03:14:07\'</code> UTC. <code>TIMESTAMP</code> values are \nstored as the number of seconds since the \nepoch (\'1970-01-01 00:00:00\' UTC). A TIMESTAMP cannot represent the value \n\'1970-01-01 00:00:00\' because that is equivalent to 0 seconds from the epoch a\nnd the value 0 is reserved for representing \'0000-00-00 00:00:00\', \nthe “zero” TIMESTAMP value.</p>\n<blockquote>\nA <code>TIMESTAMP</code> column is useful for recording the date and \ntime of an <code>INSERT</code> or <code>UPDATE</code> operation.\n</blockquote>\n<p>By default, the first TIMESTAMP column in a table is automatically set to \nthe date and time of the most recent operation if you do not assign it a \nvalue yourself.</p>\n<br>\n<p>You can also set any TIMESTAMP column to the current date and time by \nassigning it a NULL value.</p> \n<br>\n<p>Variations on automatic initialization and update properties are described in Section 10.3.1.1, “TIMESTAMP Properties”. </p>\n\n<h4><code>TIME</code></h4>\n<h4><code>YEAR[ (2|4) ]</code></h4>\n\n<h3>String Types</h3>\n\n<h4><code>[ NATIONAL ] CHAR[ (<i>M</i>) ] [ CHARACTER SET <i>charset_name</i> ] [ COLLATE <i>collation_name</i> ]</code></h4>\n<p>A fixed-length string that is always right-padded with spaces to the \nspecified length when stored. <code><i>M</i></code> represents the column \nlength in characters. The range of <code><i>M</i></code> is 0 to 255. \nIf M is omitted, the length is 1. </p>\n<blockquote>\nMySQL 4.1 and up uses <code>utf8</code> as this predefined character set.\n</blockquote>\n<p>In MySQL 5.0.3 and later, a CHAR length greater than 255 is illegal and \nfails with an error: </p>\n<pre class=\"tty\">\nmysql&gt; <span class=\"ttyipt\">alter table t_datatype add string_char char(500) not null;</span>\nERROR 1074 (42000): Column length too big for column \'string_char\' (max = 255);\nuse BLOB or TEXT instead\n</pre>\n\n<h4><code>[ NATIONAL ] VARCHAR[ (<i>M</i>) ] [ CHARACTER SET <i>charset_name</i> ] [ COLLATE <i>collation_name</i> ]</code></h4>\n<p>A variable-length string. <code><i>M</i></code> represents the maximum \ncolumn length in characters.</p>\n<blockquote>\nIn MySQL 5.0, the range of <code><i>M</i></code> is 0 to 255 before \nMySQL 5.0.3, and 0 to 65,535 in MySQL 5.0.3 and later. <br><br>\nThat is why in tables of WordPress 1.0, all varchar\'s length is no more than 255\n</blockquote>\n<p>The effective (有效的) maximum length of a VARCHAR in MySQL 5.0.3 and later \nis subject to (受……支配) the maximum row size (65,535 bytes, \nwhich is shared among all columns) and the character set used. For example, \nutf8 characters can require up to three bytes per character, so a VARCHAR \ncolumn that uses the utf8 character set can be declared to be a maximum of \n21,844 characters. </p>\n<blockquote>\nConfused<br><br>\nMySQL stores VARCHAR values as a one-byte or two-byte length <b>prefix plus data</b>. \nThe length prefix indicates the number of bytes in the value. A VARCHAR column \nuses one length byte if values require no more than 255 bytes, \ntwo length bytes if values may require more than 255 bytes. \n</blockquote>\n\n<h4><code>BINARY(M)</code></h4>\n<p>The <code>BINARY</code> type is similar to the <code>CHAR</code> type, \nbut stores binary byte strings rather than nonbinary character strings. \nM represents the column length in bytes. </p>\n\n<h4><code>VARBINARY(M)</code></h4>\n<p>The <code>VARBINARY</code> type is similar to the <code>VARCHAR</code> type, \nbut stores binary byte strings rather than nonbinary character strings. \nM represents the column length in bytes. </p>\n\n<h4><code>TINYBLOB</code></h4>\n<p>A <code>BLOB</code> column with a maximum length of 255 (28 – 1) bytes. \nEach <code>TINYBLOB</code> value is stored using a one-byte length prefix \nthat indicates the number of bytes in the value. </p>\n\n<h4><code>BLOB[ (M) ]</code></h4>\n<p>A <code>BLOB</code> column with a maximum length of 65,535 (216 – 1) bytes. \nEach BLOB value is stored using a two-byte length prefix that indicates \nthe number of bytes in the value.</p><br>\n\n<h4><code>MEDIUMBLOB</code></h4>\n<p>\nA <code>BLOB</code> column with a maximum length of 16,777,215 (224 – 1) bytes.\nEach <code>MEDIUMBLOB</code> value is stored using a three-byte length prefix \nthat indicates the number of bytes in the value.\n</p>\n\n<h4><code>LONGBLOB</code></h4>\n<p>\nA <code>BLOB</code> column with a maximum length of 4,294,967,295 or \n4GB (232 – 1) bytes. The effective maximum length of <code>LONGBLOB</code> \ncolumns depends on the configured maximum packet size in the client/server \nprotocol and available memory. Each LONGBLOB value is stored using a four-byte length prefix that indicates the number of bytes in the value.\n</p>\n\n<p>An optional length M can be given for this type. If this is done, \nMySQL creates the column as the smallest BLOB type large enough to hold \nvalues M bytes long. </p>\n\n<h4><code>TINYTEXT [ CHARACTER SET charset_name ] [ COLLATE collation_name ]</code></h4>\n<p>A <code>TEXT</code> column with a maximum length of 255 (28 – 1) characters.\nThe effective maximum length is less if the value contains multi-byte \ncharacters. Each <code>TINYTEXT</code> value is stored using a \none-byte length prefix that indicates the number of bytes in the value. </p>\n\n<h4><code>TEXT [ CHARACTER SET charset_name ] [ COLLATE collation_name ]</code></h4>\n<p>A <code>TEXT</code> column with a maximum length of 65,535 (216 – 1) \ncharacters.  Each <code>BLOB</code> value is stored using a two-byte length \nprefix that indicates the number of bytes in the value.</p><br>\n\n<p>An optional length M can be given for this type. If this is done, \nMySQL creates the column as the smallest TEXT type large enough to hold \nvalues M bytes long. </p>\n\n<h4><code>MEDIUMTEXT [ CHARACTER SET charset_name ] [ COLLATE collation_name ]</code></h4>\n<p>\nA <code>TEXT</code> column with a maximum length of 16,777,215 (224 – 1) \ncharacters. The effective maximum length is less if the value contains \nmulti-byte characters. Each MEDIUMTEXT value is stored using a three-byte \nlength prefix that indicates the number of bytes in the value. \n</p>\n\n<h4><code>LONGTEXT [ CHARACTER SET charset_name ] [ COLLATE collation_name ]</code></h4>\n<p>\nA <code>TEXT</code> column with a maximum length of 4,294,967,295 or 4GB (232 – 1) characters. The effective maximum length is less if the value contains multi-byte characters. The effective maximum length of LONGTEXT columns also depends on the configured maximum packet size in the client/server protocol and available memory. Each LONGTEXT value is stored using a four-byte length prefix that indicates the number of bytes in the value. \n</p>\n\n<h4><code>ENUM(<i>\'value1\',\'value2\',...</i>) [ CHARACTER SET charset_name ] [ COLLATE collation_name ]</code></h4>\n<p>\nAn enumeration. A string object that can have only one value, \nchosen from the list of values <code>\'value1\', \'value2\', ...</code>, \n<code>NULL</code> or the special <code>\'\'</code> error value. \nAn <code>ENUM</code> column can have a maximum of 65,535 distinct values. \n<code>ENUM</code> values are represented internally as integers. \n</p>\n\n<h4><code>SET(<i>\'value1\',\'value2\',...</i>) [ CHARACTER SET charset_name ] [ COLLATE collation_name ]</code></h4>\n\n<h3>Default Values of Date Type</h3>\n<p>As of MySQL 5.0.2, if a column definition includes no \nexplicit <code>DEFAULT</code> value, MySQL determines the default value \nas follows: </p>\n<p></p>\n<p></p>\n \n<h2>MISC</h2>\n<h3><code>UNSIGNED</code> and <code>SIGNED</code></h3>\n<p>Numeric data types that permit the <code>UNSIGNED</code> attribute also \npermit <code>SIGNED</code>. However, these data types are signed by default, \nso the <code>SIGNED</code> attribute has no effect. </p>\n<pre>\nmysql&gt; desc essay2tag;\n+----------+---------------------+------+-----+---------+----------------+\n| Field    | Type                | Null | Key | Default | Extra          |\n+----------+---------------------+------+-----+---------+----------------+\n| rel_id   | bigint(20) unsigned | NO   | PRI | NULL    | auto_increment | \n| essay_id | bigint(20)          | NO   |     | NULL    |                | \n| tag_id   | bigint(20)          | NO   |     | NULL    |                | \n+----------+---------------------+------+-----+---------+----------------+\n3 rows in set (0.00 sec)\n\nmysql&gt; <span class=\"hl\">insert into essay2tag values (\'\',\'-4\',\'-4859548473493\');</span><span class=\"cmt\"> # singned default, insert negative number succefully</span>\nQuery OK, 1 row affected, 1 warning (0.01 sec)\n\nmysql&gt; select * from essay2tag where rel_id = \'101\';\n+--------+----------+----------------+\n| rel_id | essay_id | tag_id         |\n+--------+----------+----------------+\n|    101 |       -4 | -4859548473493 | \n+--------+----------+----------------+\n1 row in set (0.00 sec)\n\n</pre>\n<p></p>\n\n<a target=\"_blank\" href=\"/ref/mysql-manual/language-structure.html#reserved-words\">Reserved Words in MySQL</a>\n\n',NULL,3,1,'Y',10,'util.js','2011-03-08 17:00:56','2014-02-27 13:20:18'),(72,'What\'s The Meaning of Number in Parenthesis When Declaring Integer Columns','<blockquote>\nIn <code>VARCHAR(<i>M</i>)</code>, <code><i>M</i></code> represents (代表) the \nmaximum column length in characters.<br><br>\nIn <code>INT(<i>M</i>)</code>, <code><i>M</i></code> indicates (暗示) the \nmaximum display width for integer types.</code>\n</blockquote>\n\n<blockquote>\n<code>INT(5)</code> <b>tells me</b>: Theorially, this column could store \nintegers \nfrom <code>-2147483648</code> to <code>2147483647</code> (signed) or \n<code>0</code> to <code>4294967295</code>. But in fact, I will not store\ninteger larger than <code>99999</code>, five bits width is engough for this\ncolumn\n</blockquote>\n\n<h2></h2>\n<p>Yesterday, I viewed chapter 10: Data Types in MySQL Reference and read the \nfollowing content:</p>\n<blockquote>\n<code>TINYINT[ (M) ] [ UNSIGNED ] [ ZEROFILL ]</code> is a very small \ninteger. <br>\nThe signed range is -128 to 127.  The unsigned range is 0 to 255. </p>\n<br>\n<code>M</code> indicates the maximum display width for integer types. \nThe maximum legal display width is 255. Display width is <b>unrelated</b> \nto the range of values a type can contain\n</blockquote>\nWhat does \'Maximum display width for integer types\'? Recall a relevant\nnote on Google Notebook two years ago:\n<blockquote>\n7/31/09 <br>\nMySQL 数据类型 varchar(10) 中的 “10” 代表什么？<br>\n表示该数据最大能接受的长度为 10 个字节。比如 “worldworld\" 可以接受，”\nworldworld2\" <strike>就存不进去</strike> It will cut the first 10 characters\nfrom left and store <code>worldworld</code>.\n</blockquote>\n<p>Based on this note, I think that if I declar \na <code>INT(5) UNSIGNED</code> column, and will fail to store a integer\n\'123456\' in this column, as the \'5\' has told me that the \'maxmium accepted \nvalue is \'999999\'.  It seems right, Let\'s test it out:</p>\n<br>\n<p>First, I create a table with following structure:</p>\n<pre>\nmysql&gt; desc t_int;\n+----------+-----------------+------+-----+---------+----------------+\n| Field    | Type            | Null | Key | Default | Extra          |\n+----------+-----------------+------+-----+---------+----------------+\n| id       | int(5) unsigned | NO   | PRI | NULL    | auto_increment | \n| num_int5 | int(5)          | NO   |     | NULL    |                | \n+----------+-----------------+------+-----+---------+----------------+\n</pre>\n<p>Second, I make a try to insert number \'123456\' into t_int and see what\nwill happen:</p>\n<pre>\nINSERT INTO t_int VALUES (\'\', \'123456\');\n\n<b>Query OK, 1 row affected, 1 warning (0.00 sec)</b>\n\nmysql&gt; select * from t_int;\n+----+----------+\n| id | num_int5 |\n+----+----------+\n|  1 |   <b>123456</b> | \n+----+----------+\n1 row in set (0.00 sec)\n</pre>\n\n<p>Why succeed this time? It turns out that the number \'5\' doesn\'t mean the \nmax <b>store</b> width (Reference has told me that it means \' maximum \n<b>display</b> width), but what does \'<b>display</b>\' mean?</p>\n<br>\n<p>With the help of <a \nhref=\"http://matthom.com/archive/2006/11/28/mysql-integer-columns-and-display-width\">this relevant blog</a>, I do another test:</p>\n<pre>\n<span class=\"cmt\"># Based on the table above, I add a new column:</span>\nALTER TABLE t_int ADD num_int5_zerofill INT(5) ZEROFILL NOT NULL;\n<span class=\"cmt\"># Now the table structure is:</span>\n+-------------------+--------------------------+------+-----+---------+----------------+\n| Field             | Type                     | Null | Key | Default | Extra          |\n+-------------------+--------------------------+------+-----+---------+----------------+\n| id                | int(5) unsigned          | NO   | PRI | NULL    | auto_increment | \n| num_int5          | int(5)                   | NO   |     | NULL    |                | \n| num_int5_zerofill | int(5) unsigned zerofill | NO   |     | NULL    |                | \n+-------------------+--------------------------+------+-----+---------+----------------+\n<span class=\"cmt\"># I insert some records with the following statement:</span>\nINSERT INTO t_int VALUES (\'\', \'1123456\', \'1\');\nINSERT INTO t_int VALUES (\'\', \'1123456\', \'12\');\nINSERT INTO t_int VALUES (\'\', \'1123456\', \'123\');\nINSERT INTO t_int VALUES (\'\', \'1123456\', \'1234\');\nINSERT INTO t_int VALUES (\'\', \'1123456\', \'12345\');\nINSERT INTO t_int VALUES (\'\', \'1123456\', \'123456\');\n<span class=\"cmt\"># Query output:</span>\n+----+----------+-------------------+\n| id | num_int5 | num_int5_zerofill |\n+----+----------+-------------------+\n|  1 |   123456 |             00000 | \n|  2 |  1123456 |             00001 | \n|  3 |  1123456 |             00012 | \n|  4 |  1123456 |             00123 | \n|  5 |  1123456 |             01234 | \n|  6 |  1123456 |             12345 | \n|  7 |  1123456 |            123456 | \n+----+----------+-------------------+\n</pre>\n<p>The display shows that all integers which less than \'99999\' (\'5\' bits width)\nwere left-padded with \'0\' to 5 bits wide. That is the number \'5\' really meant.\n</p>\n<br>\n',NULL,3,1,'N',0,'util.js','2011-03-10 08:21:07','2014-02-27 13:20:18'),(73,'[ Bugs Found and Resolved ] 01','<h2>Essay Module</h2>\n<h3>110310: Add Essay</h3>\nView <a target=\"_blank\" href=\"/img/page/110309-bug-addessay.png\">Snap</a>\n<pre>\nif ($handle = opendir(\'/home/ts/www/p/essay/\')) {\n    while (false !== ($file = readdir($handle))) {\n        if (substr($file,0,6) == date(\'ymd\')) {\n		$arr_fn_mt[$file] = filemtime(\'/home/ts/www/p/essay/\'.$file); \n		$arr_mt[] = filemtime(\'/home/ts/www/p/essay/\'.$file);\n        }\n    }\n    closedir($handle);\n}\nrsort($arr_mt);\nforeach ($arr_fn_mt as $k =&gt; $v) {\n	if ($v == $arr_mt[0]) \n		echo \"&lt;input type=\\\"text\\\" name=\\\"txt_file_name\\\" size=\\\"90\\\" maxlength=\\\"256\\\" value=\\\"$k\\\" /&lt;\\n\";\n}\n</pre>\n\n<pre>\n...  \nif ($arr_fn_mt == null ) { \n    echo \"&lt;input type=\\\"text\\\" name=\\\"txt_file_name\\\" size=\\\"90\\\" maxlength=\\\"256\\\" \n        value=\\\"\\\" /&gt;\\n&lt;br&gt;&lt;span class=\\\"red\\\"&gt;No essay today!&lt;/span&gt;\\n\"; \n} else { \n    rsort($arr_mt); \n    foreach ($arr_fn_mt as $k =&gt; $v) { \n        if ($v == $arr_mt[0]) { \n	    echo \"&lt;input type=\\\"text\\\" name=\\\"txt_file_name\\\" size=\\\"90\\\" maxlength=\\\"256\\\" value=\\\"$k\\\" /&gt;\\n\"; \n	}\n    } \n}\n</pre>\n',NULL,1,1,'Y',0,'util.js','2011-03-10 10:10:33','2014-02-27 13:20:18'),(74,'Ask Yourself A Question Before Using An Array Variable','<p>Before doing array-related operations ( for reach an array or using array \nfunctions such as <code>in_array()</code> , ask yourself:</p> \n<blockquote>\nAre you sure this array exists? <br><br>\nIf not exist, is there snippet dealing with this situation?\n</blockquote>\n<p>Related essays:</p>\n<ol>\n    <li><a href=\"/p/essay/v.php?name=110125-php-foreach-warning.php\">foreach 遍历时提示 Warning 信息</a></li>\n    <li><a href=\"/p/essay/v.php?name=110303-php-make-sure-data-type-is-array-when-using-foreach-and-in_array.php\">Make Sure The Data Type is correct When Using foreach and in_array</a></li>\n</ol>\n',NULL,1,1,'N',0,'util.js','2011-03-10 11:03:17','2014-02-27 13:20:18'),(75,'[ Pages Logs ]','<h2>Word Dictionary Page (/p/w.php)</h2>\n<h2>Twitter Page (/p/t.php)</h2>\n<h3>将各种条件查询的代码模块化——WP首页代码有感(2011.04.02)</h3>\n<p>WP1.0 中首页中主要涉及如下三个页面：</p>\n<pre>\nWP1.0/ \n  |-- wp-blog-title.php \n  |-- index.php \n  |-- wp-comments.php \n</pre>\n<p>其中<tt>index.php</tt>和<tt>wp-comments.php</tt>可以看作是模板页面，\n里面仅有模板函数和 PHP 变量。而这些值全部都在页面<tt>wp-blog-title.php</tt>\n中获取。这样就以一种简单的方式达到了代码和样式的分离。</p>\n<br>\n<p>首页中经常变动的位置就是块<tt>#content</tt>,通过各种条件（月份、分类、\n搜索等）筛选出符合要求的文章都显示在此处。最重要的就是获取满足要求的文章结果集（\n<span class=\"hl\">高亮处</span>，<span class=\"hl2\">高亮处</span>都是模板函数\n，专门用于输出 HTML 内容，这些函数均在文件\n<tt>wp-includes/template-functions.php</tt>中）。而这个值正是在页面\n<tt>wp-blog-title.php</tt>中获取的。</p>\n<pre>\n<span class=\"cmt\">// Snippet in wp/index.php</span>\n&lt;div id=\"content\"&gt;\n&lt;?php if (<span class=\"hl\">$posts</span>) { foreach ($posts as $post) { <span class=\"hl2\">start_wp();</span> ?&gt;\n\n&lt;?php <span class=\"hl2\">the_date(\'\',\'&lt;h2&gt;\',\'&lt;/h2&gt;\');</span> ?&gt;\n	\n&lt;div class=\"post\"&gt;\n	 &lt;h3 class=\"storytitle\" id=\"post-&lt;?<span class=\"hl2\">php the_ID()</span>; ?&gt;\"&gt;&lt;a href=\"&lt;?php <span class=\"hl2\">echo get_permalink()</span> ?&gt;\" rel=\"bookmark\" title=\"Permanent Link: &lt;?php <span class=\"hl2\">the_title()</span>; ?&gt;\"&gt;&lt;?php <span class=\"hl2\">the_title()</span>; ?&gt;&lt;/a&gt;&lt;/h3&gt;\n	&lt;div class=\"meta\"&gt;Filed under: &lt;?php <span class=\"hl2\">the_category()</span> ?&gt; &#8212; &lt;?php <span class=\"hl2\">the_author()</span> ?&gt; @ &lt;?php <span class=\"hl2\">the_time()</span> ?&gt; &lt;?php <span class=\"hl2\">edit_post_link()</span>; ?&gt;&lt;/div&gt;\n	\n	&lt;div class=\"storycontent\"&gt;\n		&lt;?php <span class=\"hl2\">the_content()</span>; ?&gt;\n	&lt;/div&gt;\n	\n	&lt;div class=\"feedback\"&gt;\n		&lt;?php <span class=\"hl2\">link_pages(\'&lt;br /&gt;Pages: \', \'&lt;br /&gt;\', \'number\')</span>; ?&gt; \n		&lt;?php <span class=\"hl2\">comments_popup_link(\'Comments (0)\', \'Comments (1)\', \'Comments (%)\')</span>; ?&gt; \n	&lt;/div&gt;\n	\n	&lt;!--\n	&lt;?php <span class=\"hl2\">trackback_rdf()</span>; ?&gt;\n	--&gt;\n\n&lt;?php include(ABSPATH . \'wp-comments.php\'); ?&gt;\n&lt;/div&gt;\n\n&lt;?php } } else { // end foreach, end if any posts ?&gt;\n&lt;p&gt;Sorry, no posts matched your criteria.&lt;/p&gt;\n&lt;?php } ?&gt;\n&lt;/div&gt;\n</pre>\n<pre>\n<span class=\"cmt\">// Snippet in wp/wp-blog-title.php</span>\n$request = \" SELECT $distinct * FROM $tableposts $join WHERE 1=1\".$where.\" ORDER BY post_$orderby $limits\";\n$posts = $wpdb-&gt;get_results($request);\n</pre>\n<p>关键就在变量<tt>$request</tt>上，各式各样的筛选的差别仅在于查询条件的不同。\n如果能够根据当前查询的条件动态生成查询语句就会很高效，因为这样就省去了给每一次\n查询都建立一个查询语句。自己的<tt>t.php</tt>页面\n最适合不过了。</p>\n<pre>\n$custom_header = \"All Twitts\";\n$cols = \"id, content, category, date_format(time,\'%W %k:%i %c/%e/%Y\') AS custom_day\";\n$where = \'\';\n$orderby = \" ORDER BY id DESC\";\n\n<span class=\"cmt\">// 根据不同的查询条件生成不同的查询语句</span>\nif ($action == \"ls_undo\") { \n\n	$custom_header = \"Undo List\";\n	$where = \"AND category = \'undo\'\";\n\n} elseif ($action == \"ls_done\") { \n\n	$custom_header = \"You Have Done:\";\n	$where = \"AND category = \'done\'\"; \n	\n}\n\n$request = \"SELECT \".$cols.\" FROM motd WHERE 1=1 \".$where.$orderby; \n$rows = $db-&gt;get_results($request);\n\n<span class=\"cmt\">// 获得结果集后，就可以直接使用了</span>\n&lt;?php\necho \"&lt;h3&gt;\".<span class=\"hl\">$custom_header</span>.\"&lt;/h3&gt;\\n&lt;ol&gt;\"; \nforeach ($rows as $row) { \n?&gt;\n&lt;li&gt;&lt;pre class=\"bottom-line\"&gt;&lt;?=<span class=\"hl\">$row-&gt;content</span>?&gt;&lt;br&gt;\n&lt;span class=\"entry-footer\"&gt;&lt;?=<span class=\"hl\">$row-&gt;custom_day</span>?&gt;...&lt;/span&gt; \n&lt;/pre&gt;&lt;/li&gt;\n&lt;?php\n}\necho \"&lt;/ol&gt;\";\n?&gt;\n</pre>\n<div class=\"tip\">\n<p><tt>WHERE 1=1</tt>由于<tt>1=1</tt>永远成立，因此默认返回所有记录。</p>\n</div>\n<p></p>\n<p></p>\n\n<h2>CSS Files</h2>\n<h3>2011-03-11 Drop <code>div.bdn</code>, <code>div.bdn</code> in common.css</h3>\n<p>Duplicate with <code>staticBlockDisplay</code> \nand <code>staticBlockHidden</code></p>\n<pre>\ndiv.bdn {\n	display:none;\n	/* uncomment if for test.\n	border:2px solid red;\n	height:100px;\n	*/\n}\ndiv.bdd { /* Block Display */\n	display:block;\n	/*\n	border:2px solid red;\n	height:100px;\n	*/\n}\n</pre>\n',NULL,1,1,'Y',0,'util.js','2011-03-10 16:06:07','2014-02-27 13:20:18'),(76,'Convert Dynamic Pages To Static HTML Pages','<pre>\n$s = file_get_contents(\'http://localhost/p/essay/v.php?name=110310-php-ask-yourself-a-question-before-using-an-array.php\');\n\n$file = \'c.html\';\ntouch($file);\nfile_put_contents($file, $s);\n</pre>\n<p>Permission denied. After change directory <code>z/</code> \nfrom <code>755</code> to <code>777</code>. Then succed.</p>\n<p>Again</p>\n<p></p>\n',NULL,1,1,'N',0,'util.js','2011-03-13 19:01:42','2014-02-27 13:20:18'),(77,'如何将一个 PHP 页面转换为 HTML页面','一直以来，自己都很想找到一种将 PHP 动态页面自动转化为静态页面的方法\n（类似 MovableType 中的 \"Publish\" 功能）。这样可以提高页面的载入速度。\n自己能不能用简单的代码来实现？\n<br><br>\n就以当前页面（http://localhost/p/essay/v.php?name=110315-php-convert-dynamic-pages-to-static-HTML.php）为例，如何将这篇文章转换为静态 HTML 页面？ PHP 中有个\n<code>header()</code>函数可以用来指定返回内容的类型。通常情况下，返回的页面类型\n为 HTML 页面：\n<pre>header(\'Content-Type: text/html\');</pre>\n如果在页面的顶端指定为纯文本，则返回的将是纯文本格式，效果相当于查看 HTML 页面\n的源文档：\n<pre>header(\'Content-Type: text/plain\');</pre>\n如果我们能新建一个 HTML 文件，然后将上面的原文档的内容复制到 HTML 文件内，\n就是一个静态页面了。 PHP 关于处理文件系统的函数里有这样三个函数：\n<ol>\n    <li><code>file_get_contents()</code>: Reads entire file into a string;</li>\n    <li><code>touch()</code>Create a new file;</li>\n    <li><code>file_put_contents()</code>: Write a string to a file;</li>\n</ol>\n从函数的简单说明中可以知道大概的过程：首先将一个请求页面的返回结果存入一个字符串\n中；然后创建一个文件，并将刚才的字符串内容写入该文件。代码如下：\n<pre>\n&lt;?php <span class=\"cmt\"># /p/essay/convert.php</span>\n$fn = \'110315-php-convert-dynamic-pages-to-static-HTML.html\';\ntouch($fn);<span class=\"cmt\">#1</span>\n$file_str = file_get_contents(\"http://localhost/p/essay/v.php?name=110315-php-convert-dynamic-pages-to-static-HTML.php\");\nfile_put_contents($fn,$file_str);\n?&gt;\n</pre>\n<blockquote>\nNote:<br><br>\n新建一个新文件只是 <code>touch()</code> 函数的功能之一，其更主要的功能是更新一个\n文件的修改时间和访问时间两个参数。这点和 Linux 中<code>touch</code> 命令完全相同\n。其实此处完全可以省去 #1 处，因为 <code>file_put_contents($fn,$file_str)</code>\n会在 <code>$fn</code> 不存在时自动创建。\n</blockquote>\n运行此页面后，函数 <code>touch()</code> 和 <code>file_put_contents()</code> \n提示 \"Permission denied\" 的警告信息。由以前 Linux 中文件权限的相关知识推测可能是\n因为没有在创建文件的权限。先查看当前目录 <code>essay</code> 的读写权限:\n<pre class=\"tty\">\nts@TS:~/www/p$ <span class=\"ttyipt\">ls -dl essay/</span>\ndrwxr-xr-x 2 ts ts 4096 2011-03-15 09:36 essay/\n</pre>\n输出表明：除了我自己（ts），任何人都没有在 <code>essay/</code> 下新建文件的权限\n。将 <code>essay/</code> 目录权限设置为 <code>777</code> 后，成功生成静态页面。\n',NULL,1,1,'N',0,'util.js','2011-03-15 09:05:44','2014-02-27 13:20:18'),(78,'对待家庭应有一颗包容的心','<p>农历二月十一 晴</p>\n<br>\n<p class=\"cn\">\n中午听李霞谈及其婆婆不再给她照看孩子的事情。她说她婆婆经常和楼下的同龄人聊天\n，听到一些家庭里的事情：有的家里有几个孩子，做父母的可能给这个儿子看孩子的时间多\n一些或者没有给另一个儿子看孩子，这些都可能是将来子女之间和父母产生矛盾的源头。\n她婆子整天听这些事情可能也有些担心，因此决定回老家给他另外一个儿子看孩子。听到这\n个事情我立马想到的是自己。王金艳的妹妹也就比王金艳晚怀孕两个月时间，平日里听王金\n艳说王金慧到时候准备从江苏跑回来生孩子，而且有可能会让我岳母跟着去江苏给她照看小\n孩。每说到此事，自己的第一反应就是：我们也有小孩呀，为什么给她看不给我们看？自私\n是人的弱点。换位思考一下，子女在父母眼中应该都是平等的，哪怕有时在子女看来他们得\n到的爱是不等的。我想全天下大多数的父母都不会害自己的孩子。这时我们做子女的需要的\n是一种包容的态度。\n</p>\n',NULL,2,1,'N',0,'util.js','2011-03-15 22:26:34','2014-02-27 13:20:18'),(79,'第二次安装 MovableType','<a target=\"_blank\" href=\"http://movabletype.org/documentation/installation/install-movable-type.html\">Ref.</a>\n<br><br>\n<p>在将<code>mt-static/ 和 mt/ 目录上传至 wwwroot/ 和 cgi-bin/ 之后，\n需要对一个文件夹的权限进行更改：</p>\n<ul>\n    <li>Application Scripts: 所有以 .cgi 为后缀的文件的属性都应该设定为 755,\n    这里仅对配置信息 mt/mt-config.cgi 进行更改，因为其默认为文本信息，\n    而不是可执行脚本；</li>\n    <li>Support  and Themes directory: 这两个目录位于 mt-static/ 目录下，\n    需要将其读写属性修改为 777;</li>\n</ul>\n<p>\n之后登录 http://www.trekshot.org/cgi-bin/mt/mt.cgi 进入配置页面，案桌过程倒是顺利，\n只是速度有些慢。\n</p>\n<br>\n<p>\n管理员入口：http://www.trekshot.org/cgi-bin/mt/mt.cgi\n</p>\n<br>\n<p>\n安装之后消耗掉 24M 空间。\n</p>\n',NULL,1,1,'N',0,'util.js','2011-03-16 09:40:42','2014-02-27 13:20:18'),(80,'优化 Essay 类别管理页面 categories.php','<h2>更改表 <code>essay</code> 结构，添加新列<code>status</code></h2>\n<pre>\n+-----------+-----------------------------------+------+-----+-------------------+----------------+\n| Field     | Type                              | Null | Key | Default           | Extra          |\n+-----------+-----------------------------------+------+-----+-------------------+----------------+\n| status    | enum(\'publish\',\'draft\',\'private\') | NO   |     | draft             |                |\n+-----------+-----------------------------------+------+-----+-------------------+----------------+\n</pre>\n<p>此结构借鉴 WordPress\nV1.0 中表格结构。目的在于更方便地给文章分类。例如，如果要过滤掉所有的个人日记，\n直接查询表<code>essay</code>即可：</p>\n<pre>\n$work_essays = $db-&gt;get_results(\"SELECT id,file_name, title, c_time, FROM essay \n				    <b>WHERE status != \'private\'</b> ORDER BY c_time DESC\"); \n</pre>\n<p>否则，这个过程将变得很繁琐：</p>\n<pre>\n<span class=\"cmt\">// Filter diaries without column \'status\'</span>\n$hide_cat_id       = $db-&gt;get_var(\"SELECT cat_id FROM essay_categories WHERE cat_name = \'Life\'\");\n$hide_essay_id_arr = $db-&gt;get_col(\"SELECT essay_id FROM essay2cat WHERE category_id = \'$hide_cat_id\'\");\n\n$essays = $db-&gt;get_results(\"SELECT * FROM essay ORDER BY c_time DESC\"); \nforeach ($essays as $e) { \n	if (!(in_array($e-&gt;id, $hide_essay_id_arr))) { \n		echo \"  &lt;li&gt;&lt;a href=\\\"v.php?name=$e-&gt;file_name\\\"&gt;$e-&gt;title&lt;/a&gt;&nbsp;at $e-&gt;day&lt;/li&gt;\\n\"; \n	} \n}\n</pre>\n<h2>修改页面 <code>essay/categories.php</code></h2>\n<pre>\n<span class=\"cmt\">// Old edition</span>\ncase \'delete\':\n	$db-&gt;query(\"DELETE FROM essay_categories WHERE cat_id = $cat_id\"); \n	echo $db-&gt;rows_affected.\" record has deleted.&lt;br&gt;&lt;br&gt;\";\n	page_redirect($_SERVER[\'PHP_SELF\'], 3);\nbreak;\n</pre>\n<p>其问题在于仅仅删除分类名称，分类和文章的关系记录没有删除。另外一些改进包括：\n<ul>\n    <li>将不包含任何类别的文章放在类别<code>MISC</code> 下；</li>\n    <li>禁止删除<code>MISC</code>分类；</li>\n    <li>优化添加、更改文章表单中的类别选择部件如下：<br>\n<fieldset class=\"categorydiv\">\n      <legend>Enter Category:</legend> \n        <div>\n	    <label class=\'selectit\'><input type=\"checkbox\" name=\"cats[]\" value=\"1\" />&nbsp;JavaScript</label>\n	    <label class=\'selectit\'><input type=\"checkbox\" name=\"cats[]\" value=\"1\" />&nbsp;PHP</label>\n	    <label class=\'selectit\'><input type=\"checkbox\" name=\"cats[]\" value=\"1\" />&nbsp;SQL</label>\n	    <label class=\'selectit\'><input type=\"checkbox\" name=\"cats[]\" value=\"1\" />&nbsp;Web</label>\n        </div> \n</fieldset>\n    <pre>\nfieldset.categorydiv {\n	border: 1px solid #ccc;\n	padding: 2px;\n	width:300px;\n	margin:0px;\n}\n\nfieldset label.selectit {\n	background: #f0f0f0;\n	display: block;\n	font-size: 12px;\n	font-family:Georgia;\n	padding: 0 2px;\n	margin:0px;\n}\n\nfieldset label.selectit:hover { <span class=\"cmt\"> /* 不止链接可以使用 :hover 属性 */</span>\n	background: #dadada;\n}\n\nlabel {\n	cursor: pointer;\n}\n\nfieldset legend {\n	padding: .1em;\n} </pre>\n    </li>\n</ul>\n\n<p></p>\n<p></p>\n',NULL,1,1,'N',0,'util.js','2011-03-16 15:15:59','2014-02-27 13:20:18'),(81,'Joelonsoft 网站归档模块样式借鉴','<p>继发布静态分类页面之后，今天添加了月份归档功能（博客中很常见）。\n但也有个问题：随着时间的推移，此列表会越来越长（Juliae.com 即是如此）。\n在网站 Joelonsoft.com 上看到一个很不错的显示历史归档的样式，如下图：</p>\n<img src=\"/img/page/pg-joel-on-soft-site-archive-style.png\" />\n<p>方寸之间，竟然记录下作者十余年的文章，很是震撼。自己马上借鉴过来（代码附后）\n。此小功能很容易实现，仅需一个嵌套循环。最终的样式如下：</p>\n\n<br>\n<table class=\"monthgrid\"><br />\n<b>Fatal error</b>:  Call to a member function get_var() on a non-object in <b>/home/ts/www/p/essay/110317-css-joel-on-soft-archive-style.php</b> on line <b>15</b><br />\n',NULL,3,1,'N',0,'util.js,geometry.js','2011-03-17 16:08:04','2014-02-27 13:20:18'),(82,'空标签老是出现的原因','<blockquote class=\"keynote\">\n本文发现并修正了自定义函数<code>trim_array()</code>的一处 Bug, 原因在于对 PHP\n中“空字符”、“空格变量”<code>empty()</code>, \n<code>isset()</code>, <code>NULL</code>等基本概念不清楚。\n</blockquote>\n\n<p>新建一个不带任何标签的页面时，正常；问题出在新添加一个标签之后。例如，\n当我给本页面添加 <code>tag_problem</code> 标签后，当再次编辑此页面时，\n表单中标签数组栏中的值将是<code>tag_problem, </code>。</p>\n<pre>\n<span class=\"cmt\">// old version in essay/v.php</span>\n$tag = \"\";\nforeach ($essay_tag as $tid) {\n	$c_tag = $db-&gt;get_var(\"SELECT tag_name from essay_tags WHERE tag_id = \'$tid\'\");\n	<span class=\"hl\">$tag .= \"$c_tag, \";</span><span class=\"cmt\"> // 这样的遍历出来的字符串最后永远都有 \', \'解决方法就是数组中最后一个元素不遍历，单独添加到最后</span>\n}\n</pre>\n<pre>\n<span class=\"cmt\">// optimized version in essay/v.php</span>\n$tag = \'\';\n$tag_nums = count($essay_tag);\nfor ($i = 0; $i &lt; ($tag_nums - 1); $i++) {\n	//$tag = \'\';\n	$c_tag = $db-&gt;get_var(\"SELECT tag_name from essay_tags WHERE tag_id = \'$essay_tag[$i]\'\");\n	$tag .= \"$c_tag, \";\n} \n$last_tag_id = $tag_nums - 1;\n$last_tag = $db-&gt;get_var(\"SELECT tag_name from essay_tags WHERE tag_id = \'$essay_tag[$last_tag_id]\'\");\n$tag = $tag.$last_tag;\n</pre>\n<p>可以看到，修改后的代码比原来要麻烦（此处不适合，比较适合文章基本信息 v.php\n中显示标签链接处）。要是不管最后的字符，在存储到数据库的时候\n将空格字符删除就好了。来看一下存储数据的片段：</p>\n<pre>\nif ($new_tag != \'\') {\n	$tags_arr = explode(\',\',$new_tag);\n	<span class=\"hl\">$tags_arr = trim_array($tags_arr);</span><span class=\"cmt\"> // trim_array() 没有把空格字符过滤掉？</span>\n	foreach ($tags_arr as $t) {\n		$t_id = $db-&gt;get_var(\"SELECT tag_id FROM essay_tags WHERE tag_name = \'$t\'\");\n		if ($t_id == null) {\n			$db-&gt;query(\"INSERT INTO essay_tags (tag_id, tag_name) VALUES (\'\', \'$t\')\");\n			$t_id = $db-&gt;insert_id;\n			echo \"Okey, a new tag #\".$t_id.\" has been created.&lt;br&gt;\";\n		}\n		$db-&gt;query(\"INSERT INTO essay2tag (rel_id, essay_id, tag_id) VALUES (\'\', \'$very_id\', \'$t_id\')\");\n		echo \"Okey, essay to tag #\".$db-&gt;insert_id.\" has stored.&lt;br&gt;\";\n	}\n}\n</pre>\n<p>来看一下这个<code>trim_array()</code>函数：</p>\n<pre>\nfunction trim_array($array) {\n	for ($i = 0; $i &lt; count($array); $i++) {\n		if (!empty($array[$i]))<span class=\"cmt\"> // 目的是舍弃空格字符，只将有意义的字符送进数组。问题出在 empty() 函数使用有误</span> \n			$new_array[] = trim($array[$i]);	\n	}\n	return $new_array;\n}\n</pre>\n<pre>\n<span class=\"cmt\">// 使用函数 empty() 来检验下面三个变量是否为 empty:</span>\n$empty_str = \'\'; <span class=\"opt\">Yes</span>\n$space     = \' \'; <span class=\"opt\">No</span>\n$space2    = \'  \'; <span class=\"opt\">No</span>\n$space3    = \'   \'; <span class=\"opt\">No</span>\n</pre>\n<p>经过上面三个变量的验证，表明函数没有实现过滤掉空格字符的功能。改正如下：</p>\n<pre>\nfunction trim_array($array) {\n	for ($i = 0; $i &lt; count($array); $i++) {\n		$array[$i] = trim($array[$i]); <span class=\"cmt\">// 先把所有字符两端的多余空格去掉，这样本来就是空格的字符经过处理就变成了空字符\'\'</span>\n		if (!empty($array[$i]))<span class=\"cmt\"> // 空字符将在这里被过滤掉</span>\n			$new_array[] = $array[$i];	\n	}\n	return $new_array;\n}\n</pre>\n<p></p>\n<p></p>\n',NULL,1,1,'N',0,'util.js','2011-03-18 08:11:59','2014-02-27 13:20:18'),(83,'Sans Serifs 字体简介','<p>Debian 的新主页上的字体显示效果很好。查看其字体样式后发现用的是一个叫做\n<code>sans-serif</code>的字体。</p>\n<blockquote>\nIn typography, a sans-serif, sans serif or san serif typeface is one that \ndoes not have the small features called \"serifs\" at the end of strokes. \nThe term comes from the French word sans, meaning \"without\". \n-- wiki\n</blockquote>\n<p>从上面 wiki 中的介绍中我们得知 \"Sans\" 一词源自法语，意思是“无”。\n那么相对应的就是 <code>Serifs</code> 字体了。什么是“衬线”？</p>\n<img src=\"/img/page/pg-font-serif.gif\" />\n<p>从图中可以看到，所谓衬线就是给字母的一些部分加上细短横线，达到一种美观、\n庄重的效果。自己之前常用的 Georgia 字体就属于衬线字体。相对应的，\n另一个常用的字体 Arial 则属于无衬线字体。当字体较小的时候，\n衬线部分显示效果就不会太好。因此：</p>\n<blockquote>\n标题适合用衬线字体；正文和小字体适合用非衬线字体。\n</blockquote>\n<p></p>\n<h2>Reference</h2>\n<ol>\n    <li><a href=\"http://www.ruanyifeng.com/blog/2008/06/typography_notes.html\">Ruan Yifeng\'s blog</a></li>\n    <li><a href=\"http://big5.cgan.net/book/books/print/westword/wwbcp21.htm\">书写的演进</a></li>\n    <li>wiki</li>\n    \n</ol>\n<p></p>\n',NULL,3,1,'N',0,'util.js','2011-03-18 15:28:42','2014-02-27 13:20:18'),(84,'CSS 字体大小单位（pt, px, em）','<dl>\n    <dt><tt>px</tt></dt>\n    <dd>PiXel.非自然界的长度单位，为相对长度；</dd>\n    <dt><tt>pt</tt></dt>\n    <dd>PoinT.印刷单位“磅”，自然界的长度单位。大小为 1/72 英寸<br>\n    <pre>px = pt * DPI / 72</pre>\n    适用于打印出字体（如 Google docs, Photoshop, Word 等），不适用于网页字体；\n    </dd>\n    <dt><tt>em</tt></dt>\n    <dd>行高，所有浏览器的默认字体高都是 16px, 所以未经调整的浏览器都符合\n      <tt>1em = 16px</tt>.<br>\n      </dd>\n</dl>\n\n<p>对想实现中文段落首行空两格的效果，可以使用如下的样式：</p>\n<pre>p.cn { text-indent: 2em; }</pre>\n<p>由于汉字的形状为正方形，因此，<tt>1 em</tt>就相当于一个汉字所占的水平距离，\n如果使用其它单位（px, pt）就很麻烦。</p>\n<p></p>\n<p></p>\n\n<h2>Reference</h2>\n<ol>\n    <li><a href=\"http://www.chxwei.com/article.asp?id=621\">样式中文字大小px、pt、em的区别</a> chxwei.com</li>\n    <li><a href=\"http://blog.imbolo.com/the-differents-between-px-and-em/\">px与em的区别（转95%的中国网站需要重写CSS）</a> imbolo.com</li>\n\n</ol>\n\n\n',NULL,1,1,'N',0,'util.js','2011-03-19 09:59:36','2014-02-27 13:20:18'),(85,'汪峰谈成功与失败','<p>\n刚刚在电视里看到一个关于汪峰的访谈，谈到创作一个作品时的不易，汪峰说到那是一个\n很痛苦的过程，其中会经历数不清的失败。关于失败与成功，汪峰说：\n</p>\n\n<blockquote>\n当我失败的次数比你成功的次数要多不知道多少倍的时候，请问：我是不是要比你更成功？\n</blockquote>\n',NULL,2,1,'N',0,'util.js','2011-03-20 21:41:28','2014-02-27 13:20:18'),(86,'[ 一周工作小节 ] W11 ( 2011.3.14 - 2011.3.20 )','<p>\n本周学习要点：\n</p>\n<ol>\n    <li>在通往自己心中理想的记录方式（网站形式）上又进一步：用 PHP 代码实现将\n    自己的随笔发布到网上；</li>\n    <li>对分类页面和标签管理页面进行微调，发现并解决几个小问题；</li>\n    <li>对自己使用的 HTML 标签和 CSS 样式进行回顾，发现一些不规范和不够高效的\n    地方并简单修正。对 CSS 样式进行一次简单、初步的梳理；</li>\n</ol>\n<p>\n十二周任务列表：\n</p>\n<ol>\n    <li>系统复习 PHP 中类、对象部分内容；</li>\n</ol>\n<!--\n-->\n',NULL,1,1,'N',0,'util.js','2011-03-20 22:00:46','2014-02-27 13:20:18'),(87,'相识两年','<p>\n今天是个特别的日子。两年前的今天，我和我老婆相识。\n</p>\n',NULL,2,1,'N',0,'util.js','2011-03-21 10:27:08','2014-02-27 13:20:18'),(88,'最小化静态发布','<p>\n仅备份两天以来发布的公开文章。\n</p>\n<p>\n静态发布的目录结构如下：\n</p>\n<pre>\n/static/\n   <span class=\"hl\">|--index.html</span>\n   <span class=\"hl2\">|--201010/\n      |--index.html\n   |--201011/\n      |--index.html\n   |--201012/\n      |--index.html\n   |--201103/\n      |--index.html</span>\n   <span class=\"hl3\">|--css/\n      |--index.html\n   |--linux/\n      |--index.html\n   |--sitelogs/\n      |--index.html</span>\n   <span class=\"hl4\">|--z/\n      |--101123-css-***.html\n      |--110321-plog-***.html</span>\n</pre>\n<p><tt>z/</tt>目录下的文件随着时间会越来越多。在往虚拟主机上上传时，仅上传那些\n新建的或者新修改过的文件可以有效节省时间。同样日期归档的静态目录（<span \n  class=\"hl2\">高亮处</span>）也具有此特点，只要重新发布当月静态目录即可。\n与之相对的是<span class=\"hl\">首页</span>和<span \n  class=\"hl3\">分类归档目录</span>（对之前的短文进行修改一般包括内容的修改和所属\n分类的变动），这两处属于内容经常变动的地方。下面分别对月份归档和短文生成页面\n进行改进：\n</p>\n<pre>\n<span class=\"cmt\"># Snippet in essay/convert.php</span>\n...\n$current_month = $db-&gt;get_var(\"SELECT date_format(NOW(),\'%Y%m\')\"); \n...\n$file_str = file_get_contents(\"http://localhost/p/essay/publish.index.php?action=ls_mon&month=$current_month\"); \n...\n</pre>\n<pre>\n<span class=\"cmt\"># Snippet in essay/convert.php</span>\n...\n$twodaysago = time() - (2 * 24 * 60 * 60);\n$base = \"/home/ts/www/p/essay/\";\nforeach($file_names as $f) { \n	$ff = $base.$f;\n	if (filemtime($ff) &gt; $twodaysago) { <span class=\"cmt\">// 仅对两天来新建或修改过的文件进行重新发布</span>\n		$file_str = file_get_contents(\"http://localhost/p/essay/publish.v.php?name=$f\");\n		$f = substr($f,0,-4);\n		$f = $archive_dir.$f.\'.html\'; \n	\n		$count += file_put_contents($f,$file_str);\n	}\n\n}\n</pre>\n<p>接下来的问题是如何将刚生成的这些静态页面上传到虚拟空间。\n<tt>lftp</tt>工具中的镜像命令<tt>mirror</tt>有这样一个参数：</p>\n<blockquote>\n<tt>-R, --reverse</tt>       	reverse mirror (put files) <br>\n<tt>-N, --newer-than=SPEC</tt>  	download only files newer than specified time\n</blockquote>\n<p>将这两个参数合在一起就能实现只将某个时间以后的文件反镜像到服务器的相应目录。\n例如我们可以使用如下命令将新发布的文件上传至服务器：</p>\n<pre>mirror -R --newer-than=\'2011-03-21\' static/</pre>\n',NULL,3,1,'N',0,'util.js','2011-03-21 10:30:01','2014-02-27 13:20:18'),(89,'一个 Bug 引出函数 file_get_contents() 使用时的注意事项','<blockquote class=\"keynote\">\n在 URL 中出现空格是很危险的。本文在实践中明白了为什么 WordPress 的分类表中会有\nSlug 列。\n</blockquote>\n<p>在<tt>Site Logs</tt>分类下发布一篇短文。但在发布静态网站的时候，点击该分类\n所在的静态链接时，显示如下：</p>\n<blockquote class=\"error\">\nNo record was found. \n</blockquote>\n<p>经查，该内容是由下面一段代码生成：</p>\n<pre>\n<span class=\"cmt\">// publish.index.php</span>\ncase \'ls_cat\': \n    $cid  = $db-&gt;get_var(\"SELECT cat_id FROM essay_categories WHERE cat_name = \'$cat_name\'\");\n    $essids = $db-&gt;get_col(\"SELECT essay_id FROM essay2cat WHERE category_id = \'$cid\'\"); \n    \n    if ($essids != NULL) { \n        ...  \n    } else { \n        echo \"No record was found.\"; \n    }\nbreak;\n</pre>\n<p>这表明<tt>$essids</tt>所承载的 SQL 查询没有返回任何记录。但是在地址栏中输入\n<tt>http://localhost/p/essay/publish.index.php?action=ls_cat&cat_name=Site Logs</tt>却能看到刚提交过的短文。那么上面这段问题代码是由谁触发的？页面\n<tt>publish.index.php</tt>是专门用来做静态发布的页面，在实际中不会使用该文件，\n它是为<tt>convert.php</tt>服务的。</p>\n<pre>\n<span class=\"cmt\">// convert.php</span>\n$fn = $cat_dir.\'index.html\'; \n$file_str = <span class=\"red\">file_get_contents(\"http://localhost/p/essay/publish.index.php?action=ls_cat&cat_name=$cat-&gt;cat_name\");</span>\nfile_put_contents($fn,$file_str);\n</pre>\n<p>问题就出在红色代码行。<tt>$cat-&gt;cat_name</tt>是由<tt>$_GET</tt>获取，\n这里其值为<tt>Site Logs</tt>.问题就在中间的空格上面。<tt>file_get_contents()</tt>中有这样一段说明：</p>\n<blockquote>\nNote:<br><br> \nIf you\'re opening a URI with special characters, such as <b>spaces</b>, \nyou need to encode the URI with <tt>urlencode()</tt>.\n</blockquote>\n<p>显然我们没有对地址进行编码。这就使得<tt>$_GET[\'cat_name\']</tt>得到一个错误的\n值，并导致查询失败。</p>\n<p>这表明 URI Request String 中是不能出现空格的。</p>\n<h3>单词应用中随即单词模块的问题</h3>\n<pre>\n</pre>\n<p>随机单词中</p>\n<p></p>\n<p></p>\n',NULL,3,1,'N',0,'util.js','2011-03-21 15:21:19','2014-02-27 13:20:18'),(90,'区块间边距重叠现象','<p>计划将文档中的元素分类放置在<tt>#header</tt>, <tt>#main</tt>和\n<tt>#footer</tt>\n三个区块中，以便于将来使用 CSS 控制整个页面。创建如下样式的一个初始文档（\n仿照 WordPress V3.1 默认样式）：</p>\n<pre>\nhtml,body { \n	margin:0px; padding:0px; \n	background-color:#eee;\n}\n#header,#main, #footer { \n	margin: 0px auto; width:80%; \n	padding:0px;\n	background-color:#fff;\n}\n<span class=\"cmt\">// HTML source</span>\n&lt;div id=\"header\"&gt;\n	Return to &lt;a href=\"/\"&gt;Home&lt;/a&gt;\n&lt;/div&gt;\n&lt;div id=\"main\"&gt;\n	&lt;h1&gt;Debian Using Logs&lt;/h1&gt;\n	&lt;p&gt;This is the main content area.&lt;/p&gt;\n&lt;/div&gt;\n&lt;div id=\"footer\"&gt;\n	&lt;p&gt;&amp;copy;trekshot.org&lt;/p&gt;\n&lt;/div&gt;\n</pre>\n<p>在文档中显示如下：</p>\n<img src=\"/img/page/pg-css-collapse-margins.png\" />\n<p>#header, #marin 和 #footer 三个区块的上下边距均设置为 0, 为什么#main \n块上下两端却都有\n边距存在？其实这里的上边距实际上是区块内标题<tt>&lt;h1&gt;</tt>的默认边距。\n可是<tt>&lt;h1&gt;</tt>明明是在区块<tt>#main</tt>内部，其上边距怎么跑到外面了？查看 CSS \n规范后发现这是个 \"Collapsing margins\" 的问题：</p>\n<blockquote>\nThe top margin of an in-flow block box (注：在此处指的是<tt>#main</tt>) is \nadjoining to its first in-flow block-level child\'s (<tt>&lt;h1&gt;</tt>) top margin if the element (<tt>#main</tt>) has no top border, no top padding, and the child has no clearance.\n-- <a href=\"http://www.w3.org/TR/CSS2/box.html#collapsing-margins\">Box model</a>\n</blockquote>\n<p>上面的话指明：如果<tt>#main</tt>块的<tt>border-top</tt>, <tt>padding-top</tt>\n的值均为 0,那么<tt>#main</tt>块的<tt>margin-top</tt>将和元素\n<tt>&lt;h1&gt;Debian Using Logs&lt;/h1&gt;</tt>的上边距边缘紧挨。</p>\n<br>\n<p>不想出现边距重叠的现象也很简单：将父块的<tt>padding</tt>值设为非0值即可：</p>\n<pre>\n#header,#main, #footer { \n	margin: 0px auto; width:80%; \n	padding:<span class=\"hl\">0.1px</span>;\n	background-color:#fff;\n}\n</pre>\n<img src=\"/img/page/pg-css-collapse-margins-fixed.png\" />\n<p></p>\n<p></p>\n',NULL,3,1,'N',0,'util.js','2011-03-24 17:08:47','2014-02-27 13:20:18'),(91,'JS 文档之间的交流','<script>\nfunction bb() {\n	document.location = \"/p/php.php\";\n	window.scrollTo(0,180);\n}\n</script>\n<button onclick=\"bb()\">Scroll</button>\n<pre>\nfunction bb() {\n	document.location = \"/p/php.php\";\n	window.scrollTo(0,180);\n}\n&lt;/script&gt;\n&lt;button onclick=\"bb()\"&gt;Scroll&lt;/button&gt;\n</pre>\n对于上面的代码，验证后会发现是将当前文档下移 180px, 而不是自己希望的页面\n/p/php.php.\n',NULL,1,1,'N',0,'util.js','2011-03-29 14:39:10','2014-02-27 13:20:18'),(92,'Adult Images','<script>\nvar currImg = -2; \nvar imgArr; \nvar isLoaded = 0; \n\nfunction getElementsByClassName(node, classname){ \n	var a = []; \n	var re = new RegExp(\'\\\\b\' + classname + \'\\\\b\'); \n	var els = node.getElementsByTagName(\"*\"); \n	\n	for(var i=0,j=els.length; i<j; i++) \n		if(re.test(els[i].className))a.push(els[i]);\n	return a;\n}\n\nfunction bpload() { \n	imgArr = getElementsByClassName(document.body,\"bpImage\"); \n	isLoaded = 1; \n}\n\nfunction jkaction(e) { \n	if(!e) e=window.event; \n	key = e.keyCode ? e.keyCode : e.which;\n\n	if((key==107)&&(isLoaded)){ \n		if(currImg > 0) { \n			currImg--; \n			window.scrollTo(0,imgArr[currImg].offsetTop - 5);\n		} \n		else if(currImg == 0) { \n			currImg--; \n			window.scrollTo(0,20); \n		} \n		else if(currImg == -1) window.scrollTo(0,20); \n\n		e.cancelBubble = true; \n		if (e.stopPropagation) e.stopPropagation();\n	}\n	\n	if((key==106)&&(isLoaded)){ \n		if(currImg == -2) {\n			currImg++;\n			window.scrollTo(0,20); \n		}\n		else if(currImg < imgArr.length - 1) { \n			currImg++; \n			window.scrollTo(0,imgArr[currImg].offsetTop - 5); \n		}\n		else if(currImg == imgArr.length - 1) { \n			window.scrollTo(0,imgArr[imgArr.length - 1].offsetTop - 5); \n		}\n\n		e.cancelBubble = true;\n		if (e.stopPropagation) e.stopPropagation();\n	}\n}\n\nwindow.onload = bpload;\ndocument.onkeypress = jkaction;\n</script>\n<br />\n<b>Warning</b>:  opendir(/home/ts/www/img/s/misc/) [<a href=\'function.opendir\'>function.opendir</a>]: failed to open dir: No such file or directory in <b>/home/ts/www/p/essay/110329-life-adult-images.php</b> on line <b>62</b><br />\n',NULL,2,1,'N',0,'util.js','2011-03-29 20:59:10','2014-02-27 13:20:18'),(93,'去新火线办公室、给三姐装电脑','<p class=\"cn\">\n早上刚一上班，经理告诉我说公司的网站打不开了。当我打开网站时，看到“Bad Request“\n的字样，这和前几天微粉网的情况一样。我估计是网站备案的问题，随即登录工信部的网站\n查看，发现已经查不到两个域名的信息。在先后和万网、新火线交流后，得知需要重新到新\n火线那里提交备案。下午我需要到新火线那里进行人像采集。\n</p><br>\n\n<p class=\"cn\">\n吃过中午饭，我坐上６０路公交车至东大街紫荆山站下车。在顺着紫荆山路往北走的路上，\n看到不远处气派的金城国际写字楼，这楼外形好像一个鸟笼，跟澳门那个有名的赌场很相似\n。大约走了十几分钟，在商城路与紫荆山路交叉口东北角找到新火线的办公楼——一个看上去\n也挺气派的写字楼。上电梯至１２楼，看到一个防盗门上写着１２０７、１２０８房间，\n门左边有个不很醒目的新火线标志。敲门进去，上次来拿网站费用的那个女的开的门。\n走到里屋，看到了丁一。办好了相关的事情，我大概看了一下他们的办公室。屋内的装修很\n简单，甚至有些简陋。里面大概有四、五个员工，用的还是纯平的显示器。在和丁一交谈的\n过程中，他抽了两支五渠。想想这个地段，想必作为老板的丁的压力也不小。\n</p><br>\n\n<p class=\"cn\">\n<a href=\"/img/page/pg-sisters-house.jpg\" title=\"View original\"><img src=\"/img/page/pg-sisters-house.jpg\" class=\"lf\" /></a>\n由于下午不用再回办公室，自己刚好可以到三姐家修电脑。昨天由于常用的装机软件没有放\n在Ａ８内导致没有能一次性解决问题，今天把常用的软件又重新放在Ａ８内。安装的过程很\n顺利。期间三姐特意跑下楼买了些水果。在三姐记录宽带帐号、密码的本子上，我发现了她\n０９年装修房子时的帐目。０９年３号、５号两天三姐先后取出近两万块钱用于装修，其中\n付的房款是９５００块。那个时候正是我结婚前夕，由于要装修房子，三姐不得不搬了出去\n。看到本子上的记录，我心里有一丝过意不去。亲人对我的爱永远让我觉得是那么感激。\n三姐家的条件算不上富裕，家里的家具是吴村家旧的。这跟大姐看到我结婚一年多身上穿的\n还是她两年前给我买的衣服时的心情类似。希望三姐和我都能过得好一些，省去亲人们对我\n们的挂念。\n</p>\n<p class=\"cn\">\n三姐还说等到清明放假时要请我们吃饭，估计是想聚一聚。我当时没多想，说了句：\n”你准备请俺？“现在想来很是不妥。如果当时能爽快地答应该多好。换过来想一想：假如\n我跟大姐说哪一天请你和炎生哥吃饭吧，大姐也说句“你准备请俺？”自己心里会是什么感觉\n？至少再我看来，有点看不起别人的意思，这是自卑者的心理。不管怎么说，以后再遇到\n类似的场合，爽快的答应要比无意的疑问语气要好得多。\n</p>\n',NULL,2,1,'N',0,'util.js','2011-03-31 21:03:21','2014-02-27 13:20:18'),(94,'Learn WordPress\'s Index Page','<blockquote>\nGenerally, you should use the <tt>ON</tt> clause for conditions that specify \nhow to join tables, and the <tt>WHERE</tt> clause to restrict which rows \nyou want in the result set.  -- Ch12.2.8.1\n</blockquote>\n<ol>\n    <li><tt>use_cache</tt></li>\n    <li></li>\n</ol>\n\n',NULL,1,1,'N',0,'util.js','2011-04-01 15:56:34','2014-02-27 13:20:18'),(95,'[ 一周工作小节 ] W13 ( 2011.3.27 - 2011.4.3 )','<p>HTML/CSS 方面：</p>\n<ol>\n    <li>新学习标签<tt>&lt;acronym&gt;</tt>, <tt>&lt;abbr&gt;</tt></li>\n    <li>添加 CSS 样式<tt>img.lf</tt>和<tt>img.rf</tt>, 用于在日记中插入图片；</li>\n    <li>借鉴 Debian.org 网张上的样式 <tt>div.tip</tt>, 解决了图片背景不透明的问题；</li>\n</ol>\n<p>PHP 方面</p>\n<ol>\n    <li>主要学习 WP 中 <tt>wp-blog-title.php</tt>,\n    <tt>index.php</tt>两个页面。由此将目前的两个应用（MOTD 及 Essay）\n    进行模块化。其中有很多的技巧。例如，如何处理各种各样的查询。 \n    </li>\n</ol>\n<p>总之，对蔡学墉的学习方法有了切身的体会。深刻感到看范例的好处，每看一个页面，\n都能发现新的、自己尚未掌握的知识点和一些启发。</p>\n<br>\n<p>明天清明第二天假期决定先弄出单词应用的框架来。</p>\n',NULL,1,1,'N',0,'util.js','2011-04-03 22:46:22','2014-02-27 13:20:18'),(96,'清明扫墓、给官庄玲姑修电脑','<p class=\"cn\">\n一早回家上坟，母亲和二姐已经在农历２３给姥姥和东姨上过坟了。午饭后，至官庄玲姑家\n维修电脑。看到\"CPU Fan Error\"的故障。通过搜索，发现系主板ＢＩＯＳ设置问题。\n玲姑夫（马振玉）跟着喜顺叔在天津挣钱。家里有两个男牌友。玲姑家很好找。\n顺着张村二中那条路走到村口右转，然后在“官庄文化广场“那道街左转一直走到头，\n在北面一个房子（墙外都是爬山虎）。\n</p>\n\n<br>\n<p class=\"cn\">\n下午和金艳走河王大坝回荥阳。走在十几年前走过的路上，看到了几处残存在记忆中地点。\n感叹时光飞逝。\n</p>\n',NULL,2,1,'N',0,'util.js','2011-04-03 23:16:21','2014-02-27 13:20:18'),(97,'本来该发商丘的东西鬼使神差发到驻马店风波','<ol>\n    <li>\n为什么经理非得到汽车站发送文件，而且还是那么重要的东西？快还是便宜？\n    </li>\n    <li>\n我怎么感觉自己像携带毒品通过安检一样？\n    </li>\n    <li>\n心理上发生的变化竟会导致大脑发出如此荒唐的指令！\n    </li>\n</ol>\n\n',NULL,2,1,'N',0,'util.js','2011-04-07 21:43:30','2014-02-27 13:20:18'),(98,'单词管理小应用创建记录','<p>本周新建记录单词的应用，将自己学过的单词矩阵化。主要涉及如下几个页面：</p>\n<ol>\n    <li><tt>w.php</tt>: 主页面。具有基本的显示、查询功能；</li>\n    <li><tt>w-manage.php</tt>增、删模块；</li>\n    <li><tt>ts-template.php</tt>:主页面中生成相关 HTML 内容的部分以模块函数的\n    形式放在此处，以达到简化主页面的目的，使其更清晰、易于阅读。此处借鉴 WP\n    相关部分；</li>\n    <li><s><tt>tsfooter.php</tt>: 和添加 Twitter 表单一样，\n    将添加单词的表单放于此，以方便在网站任何页面都可快速添加单词</s> 已创建单独\n    放置全局表单的页面<tt>ts-global-forms.php</tt>；</li>\n</ol>\n\n<p>本应用的关键在于表格结构的设计上。使用 PHP 代码实现输出单词所有内容时发现其\n过程包含多层嵌套循环，用文字描述如下：</p>\n<ol>\n    <li>符合要求的单词会有多种；</li>\n    <li>一个单词可能有多种词性；</li>\n    <li>每一中词性下会有多种具体的含义；</li>\n    <li>每一个含义下的单词自己会在多种场合不断地看到；</li>\n</ol>\n<p>那么如果要输出查询结果，就需要四层嵌套循环，再加上一些基本的逻辑判断，中间在\n夹杂着 HTML 内容，整个代码看起来非常混乱。因此，针对上面四种循环，分别创建各自的\n模板函数（<tt>make_word()</tt>, <tt>make_type()</tt>, \n<tt>make_explanation()</tt> 和 <tt>make_place()</tt>, 这样同时具有易于维护和阅读\n的优点。</p>\n<p></p>\n<h4>关于源文档显示缩进问题</h4>\n<p>为使生成的页面的源文档有一个整齐的缩进，自己在模板函数中进行了一番比较繁琐的\n调整，效果不佳。忽然想起之前看到国外一网站博客内容的源文档根本没有缩进，仅有基本\n的换行符。遂觉得自己的这个念头无太大意义。此处无需精雕细琢，只要有一个基本的秩序\n即可。</p>\n<blockquote>关注程序的缩进，而不是 HTML 文档的缩进。</blockquote>\n',NULL,3,1,'N',0,'util.js','2011-04-09 21:53:38','2014-02-27 13:20:18'),(99,'[ 一周工作小节 ] W14 ( 2011.4.4 - 2011.4.10 )','<p>本周添加单词应用。在设计表格结构时有以下经验：</p>\n<ol>\n    <li><tt>VARCHAR(n)</tt>类型的数据所接受的最大字节数<tt>n</tt>取值应适当，\n    防止由于取值过小而导致不能将内容完全存储到数据库中。例如<tt>w_words</tt>\n    表中<tt>name</tt>列存储的是单词本身，本以为单词一般不会超过 20 个字母，\n    但此处存储的也可以是短语，对短语来说， 20 个字母往往是不够的。在实际的存储\n    过程中就出现数据丢失的情况，之后又将<tt>n</tt>值扩大；</li>\n    <li><tt>ENUM</tt>枚举类型的排序比较特殊。它是以枚举类型中允许值出现的先后\n    顺序进行排序，而不是常见的一字母顺序；</li>\n</ol>\n<p>在编写添加、编辑模块时，有以下经验：</p>\n<ol>\n    <li>表单元素的命名问题：名称和数据库中相应列名称对应为佳<br>\n    之前自己采取的方法是名称中带有元素类型的字符。例如，文本输入框均以\n    <tt>txt_</tt>前缀开始。这样做意义不大；</li>\n    <li>编辑模块中将数据库中的内容作为元素的默认值中，<tt>textarea</tt>比较特殊:\n    <pre>\n&lt;textarea name=\"en_exp\" cols=\"50\" rows=\"2\" wrap=\"virtual\" &gt;<span class=\"hl\">&lt;?=$cat-&gt;en_exp?&gt;</span>&lt;/textarea&gt;\n&lt;input type=\"text\" name=\"cn_exp\" <span class=\"hl\">value=\"&lt;?=$cat-&gt;cn_exp?&gt;</span>\" size=\"14\" maxlength=\"256\" /&gt;</pre>\n    </li>\n</ol>\n<p></p>\n<p></p>\n<p></p>\n',NULL,1,1,'N',0,'util.js','2011-04-10 16:47:06','2014-02-27 13:20:18'),(100,'简易编辑框和 popup 表单右上角透明关闭按钮实现','<p>在添加 MOTD 过程中，经常需要对内容进行简单的样式修饰。比如等宽字体、代码等等\n。我所见到过的大多数的编辑框功能过于复杂。WP 1.0 中的就很简单，满足我的需求。\n查看<tt>post.php</tt>页面后，发现其使用的是一个叫做<tt>quicktags.js</tt>的文件。\nHTML 中调用代码如下：</p>\n<pre>\n&lt;div id=\"quicktags\"&gt;\n	&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;edToolbar(\"content\");&lt;/script&gt;\n&lt;/div&gt;\n \n&lt;textarea id=\"content\" name=\"txtarea_content\" cols=\"80\" rows=\"16\" required wrap=\"virtual\" accesskey=\"k\" &gt;&lt;/textarea&gt;&lt;br&gt;&lt;br&gt;\n&lt;script&gt; \n	var edCanvas = document.getElementById(\"content\");\n&lt;/script&gt;\n</pre>\n<p>其原理很简单：先借助 JavaScript 生成编辑器的按钮栏，每一个按钮都有一个\n<tt>onclick</tt>属性，单击该按钮会对输入框<tt>textarea</tt>中的内容进行修改，\n加入对应的标签。</p>\n<br>\n<p>查看源码发现，此函数主要使用了<tt>textarea</tt>对象中如下两个属性：</p>\n<pre>\nfunction edInsertTag(myField, i) { \n	var edCanvas = document.getElementById(myField);\n	...\n	var startPos = <span class=\"hl\">myField.selectionStart</span>;\n	var endPos = <span class=\"hl\">myField.selectionEnd</span>;\n	var cursorPos = endPos;\n	if (startPos != endPos) {\n		myField.value = myField.value.substring(0, startPos)\n		              + edButtons[i].tagStart\n		              + myField.value.substring(startPos, endPos) \n		              + edButtons[i].tagEnd\n		              + myField.value.substring(endPos, myField.value.length);\n		cursorPos += edButtons[i].tagStart.length + edButtons[i].tagEnd.length;\n	}\n	else {\n		if (!edCheckOpenTags(i) || edButtons[i].tagEnd == \'\') {\n			myField.value = myField.value.substring(0, startPos) \n			              + edButtons[i].tagStart\n			              + myField.value.substring(endPos, myField.value.length);\n			edAddTag(i);\n			cursorPos = startPos + edButtons[i].tagStart.length;\n		}\n		else {\n			myField.value = myField.value.substring(0, startPos) \n			              + edButtons[i].tagEnd\n			              + myField.value.substring(endPos, myField.value.length);\n			edRemoveTag(i);\n			cursorPos = startPos + edButtons[i].tagEnd.length;\n		}\n	}\n	myField.focus();\n	myField.selectionStart = cursorPos;\n	myField.selectionEnd = cursorPos;\n	...\n}\n</pre>\n<p>这两个属性未在《JDG》参考中找到，在<a \n  href=\"http://help.dottoro.com/ljtfkhio.php\">一个网站上</a>找到一些简单介绍：\n</p>\n<blockquote>\n<p>Keynote of properties <tt>selectionStart</tt> and <tt>selectionEnd</tt>\nin object <tt>input</tt> and <tt>textarea</tt>:</p>\n<ul>\n    <li>This property is read/write.</li>\n    <li>元素<tt>input</tt>和<tt>textarea</tt>有这两个属性；</li>\n    <li>Specifies or returns the start/end position of the selected text \n    within the current element.</li>\n    <li>When the values of the <tt>selectionStart</tt> and <tt>selectionEnd</tt>\n    properties are the same, no text is selected. </li>\n    <li>Possible Values: <b>Zero-based Integer</b> that specifies or retrieves \n    the start position of the selection, in characters.</li>\n    <li>In Internet Explorer, use the <tt>createRange</tt> method of the \n    <tt>selection</tt> object to retrieve the selection within the document \n    and use the <tt>createTextRange</tt> method to select a part of the text \n    content within an element.</li>\n</ul>\n</blockquote>\n<div class=\"testBox\">\n<p>下面是一个对这两个属性的实际应用：模仿 sinat 中添加话题功能：</p>\n<script type=\"text/javascript\">\n    function addTopic () {\n        var input = document.getElementById (\"myText\");\n        if (input.selectionStart === undefined) {   // Internet Explorer\n		// empty now...\n        }\n        else {      // Firefox, Opera, Google Chrome and Safari\n	    if (input.selectionStart == input.selectionEnd) {\n		var str = \"#在此输入话题#\";\n		input.value = str;\n		input.selectionStart = 1;\n		input.selectionEnd   = 7;\n		input.focus();\n	    } else {\n	    	var sStart =  input.selectionStart;\n	    	var sEnd   =  input.selectionEnd;\n	    	var sFinalPos   =  sEnd + 2;\n\n		var v = input.value;\n		input.value = v.substring(0,sStart) + \"#\" + v.substring(sStart,sEnd) + \"#\" + v.substring(sEnd);\n		input.focus();\n		input.selectionStart = sFinalPos; \n		input.selectionEnd = sFinalPos;\n	    }\n        }\n    }\n</script>\n<textarea id=\"myText\" cols=\"40\" rows=\"5\" wrap=\"virtual\"></textarea><br>\n<button onclick=\"addTopic ()\">添加话题</button>\n</div><!-- /testBox -->\n<p></p>\n\n<h3>Xclose</h3>\n<img src=\"/img/page/pg-xclose-sinat.png\" />\n<p>一直以来都很想实现新浪微博中发布窗口中右上角那个“叉号”关闭按钮，以便在使用\n鼠标的时候也能方便地关闭弹出窗口。自己也做了个简单的透明图标，但是在使用的过程\n中去出现如下样子：</p>\n<img src=\"/img/page/pg-xclose2.png\" />\n<p>背景明明是透明的，在这里却变成了白色。相应的内容如下：</p>\n<pre>\n&lt;img src=\"/img/page/xclose.png\" /&gt;\n</pre>\n<p>后来参考 Debian 网站上 CSS 样式发现正确的写法。关键是将透明图片作为元素的背景\n图片而不是在文档中直接嵌入图片：</p>\n<p></p>\n<p></p>\n<p></p>\n<pre>&lt;a class=\"xclose\" href=\"javascript:void (0);\" onclick=\"hideBlock(\'addt\')\" title=\"Close\"&gt;&lt;/a&gt;\n\na.xclose {\n	<span class=\"hl\">background-image: url(\'/img/x.png\');</span>\n	width:15px; height:15px;\n	border:0px solid #333;\n	<span class=\"hl\">display:block;</span>\n	float:right;\n}\n</pre>\n<p></p>\n<p></p>\n',NULL,1,1,'N',0,'util.js','2011-04-13 08:38:49','2014-02-27 13:20:18'),(101,'初识 JQuery','<script type=\"text/javascript\">\n	$().ready(function() { \n		$(\'#tab\').click(function(){\n			var c = $(\'#ta\').val();\n			alert(c);\n			/*\n			if (c===\'dddd\')\n				alert(\'right\');\n			else\n				alert(\'wrong\');\n			*/\n		});\n	});\n</script>\n\n<h3>回车、换行</h3>\n<textarea id=\"ta\" cols=\"2\" rows=\"8\" wrap=\"hard\" style=\"\"></textarea>\n<button id=\"tab\">提交一下</button>\n<br><br>\n\n上午在研究 Gmail 中编辑框中单击链接后弹出的对话框，很想弄清楚它到底是怎么实现\n的。搜到了一个叫 \"boxy\" 的 JQuery 插件，简单查看了一下 Demo, 发现此效果还行。\n由于其需要 JQuery 类库支持，因而转向 JQuery 的学习。在官网上搜到一篇入门文章，\n经过简单的演示，对 JQuery 的使用方法有了大致了解。这个文章的不足是好几个例子堆叠\n在一起，不够精短。很容易让第一次没看太懂的人产生急躁情绪，容易打击积极性\n（自己即是如此）。其实将内容以一个个小例子为段落分开将更易让初学者上手。\n<br><br>\n\n<h3>.animate()</h3>\n<div class=\"testBox\">\n<button id=\"go\">&raquo; 显示颜色渐变</button>\n<div  id=\"block\" style=\"background-color:#bca; width:600px; border:1px solid green;\">Hello!</div>\n<script>\n\n/* Using multiple unit types within one animation. */\n\n$(\"#go\").click(function(){\n	$(\"#block\").animate({\n		backgroundColor:\"#6fa8dc\" \n	}, 600 );\n	$(\"#block\").animate({\n		backgroundColor:\"#cfe2f3\" \n	}, 600 );\n	$(\"#block\").animate({\n		backgroundColor:\"#6fa8dc\" \n	}, 600 );\n	$(\"#block\").animate({\n		backgroundColor:\"#bca\" \n	}, 600 );\n});\n</script>\n</div>\n',NULL,1,1,'Y',0,'util.js','2011-04-13 21:16:42','2014-02-27 13:20:18'),(102,'表格比区块更适合装载表单','<p>\n今天主要成果：仿照 Gmail 中的样式将 addt, addword 两个弹出表单的样式进行优化。\n最终效果图如下：\n</p>\n<a href=\"/img/page/snap-a-better-style-of-popup-div.png\">\n<img src=\"/img/page/snap-a-better-style-of-popup-div.png\" alt=\"addt\" width=\"500px\" /></a>\n<p>改进要点如下：</p>\n<ol>\n    <li>取消之前使用<tt>formRow</tt>, <tt>divth</tt> 和 <tt>divtd</tt> 三个样式\n    来控制表单显示的方法，用传统的表格替代（以后所有的表单都将使用此格式）；\n    <pre>\n&lt;table class=\"popupTableForm\" width=\"100%\" cellpadding=\"8\" cellspacing=\"8\"&gt; \n	&lt;tr&gt; \n		&lt;th&gt;Sentence:&lt;/th&gt; \n		&lt;td&gt; \n			&lt;textarea id=\"content\" name=\"txtarea_content\" cols=\"80\" rows=\"16\" wrap=\"virtual\"&gt;&lt;/textarea&gt;\n		&lt;/td&gt; \n	&lt;/tr&gt; \n	...\n	&lt;tr&gt; \n		&lt;th&gt;&amp;nbsp;&lt;/th&gt; \n		&lt;td <span class=\"hl\">align=\"right\"</span>&gt; <span class=\"cmt\"> # 提交按钮一律靠右</span>\n			&lt;input type=\"submit\" name=\'btn_submit_t\' value=\"Submit\"&gt;\n			&lt;input type=\"reset\" value=\"Reset\" /&gt;\n		&lt;/td&gt; \n	&lt;/tr&gt; \n&lt;/table&gt;</pre></li>\n    <li>对 wordQuickAdd 模块中二选一显示英文句子位置的问题，之前一直想从\n    <tt>display:table-row</tt>上入手。其实没必要，使用如下方式即可：\n    <pre>\n&lt;tr&gt; \n	&lt;th&gt;Place Types:&lt;/th&gt; \n	&lt;td&gt; \n		&lt;input type=\"radio\" name=\"place_type\" value=\"book\" checked=\"checked\" \n			onclick=\"showBlock(\'bookDiv\');hideBlock(\'essayDiv\')\" /&gt;Book \n		&lt;input type=\"radio\" name=\"place_type\" value=\"web_essay\" \n			onclick=\"showBlock(\'essayDiv\');hideBlock(\'bookDiv\')\" /&gt;Web Essay \n		&lt;input type=\"radio\" name=\"place_type\" value=\"life\" \n			onclick=\"hideBlock(\'essayDiv\');hideBlock(\'bookDiv\')\" /&gt;Life \n		<span class=\"hl\">&lt;div id=\"bookDiv\"&gt;<span class=\"cmt\"> # 直接将此部分放入单元格中，没必要非得让其跨一整行</span> \n			&lt;input type=\"text\" name=\"book_name\" size=\"14\" maxlength=\"256\" /&gt;\n			&lt;input type=\"text\" name=\"book_chapter\" size=\"4\" maxlength=\"256\" /&gt;\n			&lt;input type=\"text\" name=\"book_page\" size=\"4\" maxlength=\"256\" /&gt; (Name/Ch/Page)\n		&lt;/div&gt;\n		&lt;div id=\"essayDiv\" class=\"staticBlockHidden\"&gt; \n			&lt;input type=\"text\" name=\"web_ess_url\" size=\"34\" maxlength=\"256\" /&gt; (Url)&lt;br&gt;\n			&lt;input type=\"text\" name=\"web_ess_title\" size=\"34\" maxlength=\"256\" /&gt; (Title)\n		&lt;/div&gt;</span>\n	&lt;/td&gt;\n&lt;/tr&gt;</pre></li>\n</ol>\n<p></p>\n<p></p>\n',NULL,1,1,'N',0,'util.js','2011-04-14 21:02:49','2014-02-27 13:20:18'),(103,'实践：找到养老保险表中重复输入的身份证号','<pre class=\"brush: php;\">\n$handle = @fopen(\"2.txt\", \"r\");\nif ($handle) {\n    while (($buffer = fgets($handle, 4096)) !== false) {\n\n        $ids[] = $buffer;\n    }\n    if (!feof($handle)) {\n        echo \"Error: unexpected fgets() fail\\n\";\n    }\n    fclose($handle);\n}\n$times = array_count_values($ids);\nksort($times);\necho \"&lt;pre&gt;\";\nprint_r($times);\nforeach ($times as $k=&gt;$v) {\n	echo \"$k = $v\\n\";\n}\necho \"&lt;/pre&gt;\";\n</pre>\n',NULL,1,1,'Y',2,'util.js','2011-04-14 22:17:35','2014-02-27 13:20:18'),(104,'反色显示表格行效果中切勿设置单元格背景色','<blockquote class=\"keynote\">\n不要在全局样式中对单元格的颜色进行单独设置。\n</blockquote>\n<p>从 WP 中借鉴过来的<a href=\"/p/essay/v.php?name=110305-js-use-void-in-javascript-url.php\">反色显示单元格</a>的方法在自己修改样式后失效。原因在于自己对所有表格\n单元格的背景色进行了设置：</p>\n<pre>\nbody,table,tr, th, <span class=\"red\">td</span>, textarea { \n	font-family:sans-serif; \n	font-size: 14px; \n	background-color:#fff;\n	color:#111;\n}\n</pre>\n<p>上面样式将文档中所有的表格单元格的背景色设置为白色。我们已经知道，应用到一个\n元素上的三种样式形式的优先级是：外联样式&gt;文档样式&gt;内联样式。反色显示的代码\n已经将单元行的设置为<tt>#eed</tt>, 这是优先级最高的。但实际上无此效果。原因在于\n：在表格行内部，单元格的样式优先于单元行的样式。也就是说，单元行的背景色是没有\n问题的，但单元格的背景色又将其覆盖了。</p>\n<br>\n<p>所以，上面全局变量的设置中，修改为以下形式为好：</p>\n<pre>\nbody {\n	background-color:#fff;\n	color:#111;\n}\nbody,table,tr, th, td, textarea { \n	font-family:sans-serif; \n	font-size: 14px; \n}\n</pre>\n',NULL,1,1,'N',0,'util.js','2011-04-15 09:29:42','2014-02-27 13:20:18'),(105,'将单词出处信息独立出来','<div class=\"keynote\">\n<ol>\n    <li>对表格结构作较大变动；</li>\n</ol>\n</div>\n\n<pre>\n<span class=\"cmt\"># structure of w_places (old version)</span>\n+---------------+---------------------------------+------+-----+-------------------+----------------+\n| Field         | Type                            | Null | Key | Default           | Extra          |\n+---------------+---------------------------------+------+-----+-------------------+----------------+\n| rel_id        | bigint(20) unsigned             | NO   | PRI | NULL              | auto_increment | \n| exp_id        | bigint(20) unsigned             | NO   |     | NULL              |                |\n| word_id       | bigint(20) unsigned             | NO   |     | NULL              |                |\n| sentence      | text                            | NO   |     | NULL              |                | \n<span class=\"hl\">| term_id       | int(4) unsigned       	  | NO   |     | NULL    	   |                |</span>\n<span class=\"red\">| place_type    | enum(\'book\',\'web_essay\',\'life\') | NO   |     | book              |                |</span>\n<span class=\"red\">| book_name     | varchar(40)                     | NO   |     |                   |                |</span> \n<span class=\"red\">| book_chapter  | tinyint(3)                      | NO   |     | 0                 |                |</span> \n| book_page     | smallint(4)                     | NO   |     | 0                 |                | \n<span class=\"red\">| web_ess_url   | varchar(200)                    | NO   |     |                   |                |</span> \n<span class=\"red\">| web_ess_title | varchar(100)                    | NO   |     |                   |                |</span> \n| c_time        | datetime                        | YES  |     | NULL              |                | \n| m_time        | timestamp                       | NO   |     | CURRENT_TIMESTAMP |                | \n+---------------+---------------------------------+------+-----+-------------------+----------------+\n</pre>\n<h3>表格<tt>w_places</tt>设计上的几个问题：</h3>\n<p>在看一篇英语文章的时候，会发现不止一个生单词，每添加一个生词时，单词的\n出处信息（<tt>book_name</tt>, <tt>web_ess_title</tt>）都需要手工填写。\n而这些内容是一样的，因此这些信息符合“分类”的特点，可以像存储单词分类那样进行\n处理。也就是将红色列单独新建一个表格。查看 WordPress V3.1 的代码发现：其分类信息\n和标签信息以及 Blogroll 链接均放在一个叫<tt>terms_taxonomy</tt>的表格中。\n也就是说，只要是能分类的，都放在此表内，这样做的好处是不用见到一个具有分类特征的\n项就为其创建一个分类表，一个表就够了。例如，我们可以创建类似的表格，将单词词性的\n分类信息和例句出处分类信息都存储在一个表格内。</p>\n\n<h3>改进版本</h3>\n<pre>\n<span class=\"cmt\"># structure of w_term_taxonomy;</span>\n+---------------+---------------------+------+-----+---------+----------------+\n| Field         | Type                | Null | Key | Default | Extra          |\n+---------------+---------------------+------+-----+---------+----------------+\n| term_id       | bigint(20) unsigned | NO   | PRI | NULL    | auto_increment | \n| term_name     | varchar(200)        | NO   |     |         |                | \n| term_slug     | varchar(80)         | NO   |     |         |                | \n| term_taxonomy | varchar(80)         | NO   |     |         |                | \n| term_note     | varchar(200)        | NO   |     |         |                | \n| term_parent   | bigint(20)          | NO   |     | 0       |                | \n+---------------+---------------------+------+-----+---------+----------------+\n</pre>\n<p>主要列信息说明：</p>\n<ul>\n    <li><tt>term_name</tt>, <tt>term_slug</tt>:<br>\n    条目名称（for users/url）。可以是诸如“anti 前缀“的单词词性类名称，也可以是\n    诸如”JavaScript the Definitive Guide“例句出处类名称。原表中\n    <tt>place_type</tt>代表的信息可由此列反映出；\n    </li>\n    <li><tt>term_taxonomy</tt>:<br>\n    条目所属类别。即一个条目是属于例句分类呢还是词性分类。该列是实现将多个分类\n    表聚合成一个表的关键。目前使用的有两个值：\"resource (例句出处类)\" 和 \n    \"word (单词词性类)\". 关于该列的数据类型，本来想使用枚举类型，但考虑到将来\n    如果新增一个分类的话会比较麻烦（修改表格结构），所以采用<tt>VARCHAR</tt>\n    类型；\n    </li>\n    <li><tt>term_parent</tt><br>\n    该列是实现<b>子分类</b>的效果的关键。默认值为<tt>0</tt>,代表一级目录。\n    利用此列之前<tt>book_name</tt> 和<tt>book_chapter</tt>两列可以并为一列\n    <tt>term_name</tt>,只需将章节信息作为书名的子项即可；\n    </li>\n    <li><tt>term_note</tt>:<br>\n    备注项。如果例句出自网络上的某个页面，将该页的链接（原表<tt>web_ess_url</tt>\n    ）放在此列；\n    </li>\n</ul>\n\n<p></p>\n<p></p>\n<p></p>\n',NULL,1,1,'N',0,'util.js','2011-04-17 07:03:25','2014-02-27 13:20:18'),(106,'[ 一周工作小节 ] W15 ( 2011.4.11 - 2011.4.17 )','<ol>\n    <li>使用JS实现了一个只有自己需要的几个功能（加粗、等宽、代码）编辑框工具栏；\n    同时对 jQuery 有一个初步认识（参照一个教程简单演示了一遍）；</li>\n    <li>实现了一段时间以来一直想实现的区块右上角关闭按钮功能；</li>\n    <li>将 addT, addEssay, wordQuickAdd 三个表单的代码独立到文件 \n    ts-global-forms.php 中，并借鉴 Gmail 探出表单的样式对其优化\n    （文档中所有的表单元素样式有一个统一样式）；</li>\n    <li>发现 Shell script <tt>nup</tt> 中一个 Bug 并修正之；</li>\n    <li>发现单词应用中表<tt>w_places</tt>列结构中一个问题（模块化没有达到最大）\n    ，对单词应用做了第一个修正（add table <tt>w_term_taxonomy</tt>）；</li>\n</ol>\n',NULL,1,1,'N',0,'util.js','2011-04-18 08:19:27','2014-02-27 13:20:18'),(107,'实践：深度遍历树并用缩进形式显示单词例句的所有出处','<div class=\"keynote\">\n<tt>toc.js</tt>中按层次显示标题链接的本质也是如此。\n</div>\n<p>决定采用树状结构表示分类，并使用缩进的方式在<tt>&lt;option&gt;</tt>中显示。\n但在实践中发现缩进显示出现问题。此问题昨天晚上一晚上都没想出来，今天在来上班的\n公交车上想到了问题所在。为了描述方便，我们这里只是将分类名称以等宽字体显示出来。\n</p>\n<pre class=\"brush: php;\">\nfunction make_options_simple_with_bug($parent, $depth) {\n	global $db;\n	$taxs= $db-&gt;get_results(\"SELECT * FROM w_term_taxonomy WHERE term_parent=\'$parent\'\"); \n\n	if ($taxs != null) {\n		foreach ($taxs as $t) {\n			$blanks = str_repeat(\"&amp;nbsp;&amp;nbsp;\",($depth - 1));\n			echo \"$blanks$t-&gt;term_name\\n\"; \n			 \n			$depth = $depth + 1; //! Error line\n			make_options_simple_with_bug($t-&gt;term_id, <span class=\"red\">$depth</span>);\n		}\n	}\n}\n</pre>\n<p>Invoke:</p>\n<pre class=\"brush: php\">\necho \"&lt;pre&gt;\";\nmake_options_simple_with_bug(0,1);\necho \"&lt;/pre&gt;\";\n</pre>\n<pre><br />\n<b>Fatal error</b>:  Call to a member function get_results() on a non-object in <b>/home/ts/www/p/essay/110418-plog-depth-first-search-a-tree.php</b> on line <b>33</b><br />\n',NULL,1,1,'N',0,'util.js','2011-04-18 09:22:55','2014-02-27 13:20:18'),(108,'生命','<p class=\"cn\">\n昨天晚上下班后丽娜姐突然打电话说姐夫哥曹永走了。紧接着向姐打电话说不要跟爸、妈说这事情，还问我准备上多少钱的礼。我说我也没经历过这种事情，不知道上多少合适，向姐说大姐、三姐和她都上二百，我上三百？挂了电话，我第一次感觉到自己和几个姐姐分离开，因为从血缘关系上说，这是我“自己家”的事情。在这个事情的角度上，我处的位置要比三个姐姐更近一层。我还问了大姐现在在哪里，向姐说朋姐和三姑、老姑、莹姐正在曹李村吃饭，还说她们担心曹勇哥的叔叔会找丽娜姐的事情。听到这里，我觉得作为丽娜姐的兄弟，一个男的，有必要到家里去看看。我随后向三姐问了丽改姐的电话，打过去发现手机关机。我心里担心晚上过去会不会不合适。所以又打电话给丽娜姐\n</p>\n\n\n\n<p class=\"cn\">\n<ol>\n    <li>\n晚上自己曾经想到丽娜姐家看看，由于天晚找不到地方又回去了；说到底还是不熟，印象中我一共才去过她家两次；\n    </li>\n    <li>\n爸妈人没有过来，但作为儿子，我没有想到应该替父母把礼上上，最后大姐把钱出了。还是自己经历的事情少。以后像这种事情，嘴要勤问才是；\n    </li>\n    <li>\n丽娜姐嘱咐我说以后多对曹辉心理上进行沟通，说我有类似的经历，能够帮助他；\n    </li>\n    <li>\n小郑哥忙前跑后，又是让烟，又是买水。村子里的人都是伸手帮忙的，哥考虑的很周到。假如自己能提前兜里带上纸巾、火机、小瓶装的矿泉水……心细体现于此；\n    </li>\n    <li>\n家庭的不幸给丽娜姐、丽改姐和我三个人的心理上都造成了不同程度上的阴影。父母之间的恩怨竟会影响子女长达三十余年之久；一个和睦的家庭对一个孩子来说很是重要；\n    </li>\n</ol>\n\n\n\n\n</p>\n',NULL,2,1,'N',0,'util.js','2011-04-19 21:03:15','2014-02-27 13:20:18'),(109,'English Grammar','<p>最近新发现一个在线英语字典：<a target=\"_blank\" href=\"http://www.oxfordadvancedlearnersdictionary.com\">Oxford Advanced Learns\' Dictionary</a>, \n即大名鼎鼎的牛津高阶字典（谷歌英文字典上的解释就是源自此字典）。\n此词典的特色是全英文，可以更好地理解词意。在查阅该词典时，子标题中反复出现一些\n语法、词性方面的名词。为了更好地使用，有必要将这些反复出现的特殊名词归类强化记忆\n，以英语自己的角度来重新复习、理解基本的词法、语法知识点。</p>\n<br>\n<p></p>\n\n<p>Seven major word classes: <b>noun</b>, <b>verb</b>, <b>adjective</b>, \n<b>adverb</b>, <b>preposition</b> (介词),<b>conjunction</b> (连词), and \n<b>determiner</b> (限定词).</p>\n\n<p></p>\n<h3>词型</h3>\n<ul>\n    <li>动词（Verb）<br>\n    <ul>\n        <li>及物动词（Transitive）：<span class=\"engExpInP\">(of verbs) used <b>with</b> a direct object.</span>\n	跟直接宾语一起使用的动词；<br>\n	</li>\n        <li>不及物动词（Intransitive）：<span class=\"engExpInP\">(of verbs) used <b>without</b> a \n	direct object</span> 后面没有跟直接宾语的动词。例如：\n	\"He <span class=\"hl\">died</span> suddenly.\"\n	</li>\n    </ul>\n    </li>\n\n    <li>副词（Adverb）<br><span class=\"engExpInP\">\n    a word that adds more information about place, time, manner, cause or \n    degree to a verb, an adjective, a phrase or another adverb.</span> \n    <br>For example: ‘speak <span class=\"hl\">kindly</span>’, \n    ‘<span class=\"hl\">incredibly</span> deep’, \n    ‘<span class=\"hl\">just</span> in time’ \n    and ‘<span class=\"hl\">too</span> quickly’\n    <br>\n    （注：在之前的记忆中，副词就是“修饰动词的词”。现在看来，这种理解是片面的。）\n    </li>\n\n    <li>连词（conjunction）<span class=\"engExpInP\">\n    a word that joins words, phrases or sentences</span>\n    <ul>\n        <li>从属连词（subordinating conjunction）<span class=\"engExpInP\">\n	a word that begins a subordinate clause</span>, \n	for example ‘<b>although</b>’ or ‘<b>because</b>’\n        </li>\n        <li>并列连词（coordinating conjunction）<span class=\"engExpInP\">\n	a word that connects clauses or sentences of equal importance\n	</span>. For example: \'<b>or</b>\', \'<b>and</b>\' or \'<b>but</b>\', \n        </li>\n    </ul>\n    </li>\n\n    <li>限定词（Determiner）<br><span class=\"engExpInP\">\n    a word that comes before a noun to show how the noun is being used</span> \n    such as <b>the</b>, <b>some</b>, <b>my</b>, etc. \n    </li>\n     \n    <li>代词（Pronoun）<span class=\"engExpInP\">a word that is used instead of a noun or noun phrase.</span>\n    <ul>\n        <li>人称代词（personal pronoun）\n	any of the pronouns <b>I, you, he, she, it, we, they, me, him, \n	her, us, them</b></li>\n        <li>非人称代词（impersonal pronoun）\'<b>it</b>\': <span class=\"engExpInP\">\n	a pronoun (in English, the pronoun ‘it’) that does not refer to a \n	person or thing or to any other part of the sentence\n	</span>. For example: \'it was raining’\n	</li>\n    </ul>\n    </li>\n\n    <li>短语动词（Phrasal Verb）<br><span class=\"engExpInP\">\n    a verb combined with an adverb or a preposition, or sometimes both, \n    to give a new meaning. </span>\n    For example: \"She <span class=\"hl\">tore up</span> the letter.\"\n    </li>\n    <li>小品词（Particle）<br><span class=\"engExpInP\">\n    an adverb or a preposition that can combine with a verb to make a \n    phrasal verb.</span> \n    For example: \"She tore <span class=\"hl\">up</span> the letter.\"\n    </li>\n</ul>\n\n<h3>语法常见名词</h3>\n<ul>\n    <li>主语 (Subject)<br>\n    a noun, noun phrase or pronoun representing the person or thing that \n    performs the action of the verb (<i>I</i> in I sat down.), about which something \n    is stated (the house in the house is very old) or, in a passive sentence, \n    that is affected by the action of the verb (the tree in the tree was \n    blown down in the storm)\n    <ul>\n        <li><b>I</b> sat down.</li>\n        <li><b>The house</b> is very old.</li>\n        <li><b>The tree</b> was blown down in the storm.</li>\n    </ul>\n    </li>\n    <li>谓语 (Predicate)<br>\n    a part of a sentence containing a verb that makes a statement about the \n    subject of the verb, such as \'went home\' in \'John went home.\'</li>\n    <li>宾语 (Object)<br>\n    <ul>\n        <li>直接宾语（Direct Object）<br>\n	a noun, noun phrase or pronoun that refers to a person or thing that \n	is directly affected by the action of a verb. <br>\n	For example: \"I met <span class=\"hl\">him</span> in town.\"\n	</li>\n        <li>间接宾语（Indirect Object）<br>\n	a noun, noun phrase or pronoun in a sentence, used after some verbs, \n	that refers to the person or thing that an action is done to or for.\n	For example:<br>\n	\"Give <span class=\"hl2\">him</span> (间接宾语) the <span class=\"hl\">money\n	 </span>(直接宾语).\"\n	</li>\n    </ul>\n    </li>\n    <li>定语<br>\n    在名词前边表示领属、性质、数量等的修饰成分。名词、代词、形容词、\n    数量词等都可以做定语。如“金华火腿”中的“金华”，“新鲜空气”中的“新鲜”，\n    “三间房子”中的“三间”都是定语。</li>\n    <li>状语<br>\n    语法名词。动词、形容词前边的表示状态、程度、时间、处所、方式等的修饰成分。\n    副词、形容词及表示时间、处所的名词都可以作状语。</li>\n    <li>补语<br>\n    动词或形容词后边的一种补充成分，用来表示动作的结果或性状的程度等。\n    如“写得好”的“好”，“妙得很”的“很”。</li>\n</ul>\n\n<h3>Idiom 和 Phrasal Verb 的区别</h3>\n<p>之前自己学到一个词组时，都会将其标记为“Idiom“。但在查询牛津高阶字典时发现经常\n出现 \"Phrasal verb\" 类别。两者之间有那些异同？如何区分？</p>\n<blockquote>\n<p><b>Phrase</b>: a group of words without a finite verb, especially one that \nforms part of a sentence.</p>\n<p><b>Idiom</b>: a group of words whose meaning is different from\nthe meanings of the individual words. (习语，类似中国的成语)</p>\n<p><b>Phrasal Verb</b>: a verb combined with an adverb or a preposition, \nor sometimes both, to give a new meaning. (动词词组)</p>\n</blockquote>\n<p>\n从英文解释中我们得知，\"Idiom\" 的特征是短语的意思\n<b>不是短语中单词字面意思的叠加</b>。\n例如‘Let the cat out of the bag’ 这个短语，如从字面上理解，\n意思是猫从袋子中跑出来。但实际意思是“泄露秘密”；而 \"Phrasal verb\"\n指的是一个<b>动词</b>和介词或副词组合形成的一个新的意思。\n</p>\n<br>\n<p>据此，之前学习的短语 \"brake out (of something)\" 准确的说应该归类为\n\"Phrasal verb\", 而不是 \"Idiom\".</p>\n<p></p>\n',NULL,3,1,'N',0,'util.js','2011-04-28 11:20:33','2014-02-27 13:20:18'),(110,'[Entity Relationship Module]','<h3>Entity 还是 Attribute</h3>\n<ul>\n    <li>Is the item of direct interest to the database?</li>\n    <li>Does the item have components ot its own?</li>\n    <li>Can the object have multiple instances?</li>\n    <li>Is the object often nonexistent or unknown?</li>\n</ul>\n<p><p>\n<p><p>\n<p><p>\n',NULL,1,1,'N',0,'util.js','2011-05-07 08:40:55','2014-02-27 13:20:18'),(111,'锻炼注意力','坚持应该坚持的；\n放弃应该放弃的；\n耐得住寂寞；\n经得起诱惑。\n',NULL,2,1,'N',0,'util.js','2011-05-10 13:12:24','2014-02-27 13:20:18'),(112,'进行INSERT操作时省去自动增加的列','<p>当向一个表格中添加一条新的记录时，默认需要为每一列都赋上相应的值。\n以表格 <tt>motd</tt>为例：\n</p>\n<pre>\n+----------+-----------------+------+-----+-------------------+----------------+\n| Field    | Type            | Null | Key | Default           | Extra          |\n+----------+-----------------+------+-----+-------------------+----------------+\n| id       | int(8) unsigned | NO   | PRI | NULL              | auto_increment | \n| content  | text            | NO   |     | NULL              |                | \n| category | varchar(20)     | NO   |     |                   |                | \n| time     | datetime        | NO   |     | NULL              |                | \n| m_time   | timestamp       | NO   |     | CURRENT_TIMESTAMP |                | \n+----------+-----------------+------+-----+-------------------+----------------+\n</pre>\n<p>添加一条新记录的默认语句如下：</p>\n<pre>INSERT INTO motd VALUES (\'3\', \'hello\', \'log\', NOW(), NOW())</pre>\n<p>上面语句有三点不足：</p>\n<ol>\n    <li>你必须记住列的顺序；</li>\n    <li>你必须为每一个列都提供相应的值，尽管为<tt>id</tt>, \n    <tt>m_time</tt>两列提供值无意义；</li>\n    <li>该语句严重依赖表格的结构。如果将来表格的结构发生变化，\n    该语句也将做相应调整。也就是说，通用性不够好；</li>\n</ol>\n<p>\n但有些特殊的数据类型可省去此过程。比如，可作为 Primary Key , 且 autoincrement \n的列；再比如时间戳类型，其默认值为<tt>CURRENT_TIMESTAMP</tt>. \n</p>\n<pre>$db-&gt;query(\"INSERT INTO motd (<span class=\"red\">id</span>, content, category, time) VALUES (<span class=\"red\">\'\'</span>, \'$content\', \'$category\', NOW())\");</pre>\n<p>上面的语句中，表格<tt>motd</tt>后面的括号中已经省去了<tt>m_time</tt>列，\n但仍保留<tt>id</tt>列。此列完全可以省去。而且括号内列的顺序是<b>任意</b>的，\n即没有必要和表格结构中保持一致。</p>\n<p></p>\n<pre>$db-&gt;query(\"INSERT INTO motd (content, category, time) VALUES (\'$content\', \'$category\', NOW())\");</pre>\n',NULL,1,1,'N',0,'util.js','2011-05-10 14:33:23','2014-02-27 13:20:18'),(113,'[ Learning MySQL ] Ch06 Notes','<p>Word</p>\n<pre>\nconceive, refine\n</pre>\n\n<h2>有价值的句子</h2>\n<ol>\n    <li>\n    To <b>word through</b> this chapter;\n    </li><li>\n    You\'ll have the skills to <b>carry out</b> a wide range of basic operations.\n    </li><li>\n    This command must be entered on one line and need not be terminated with\n    a semicolon, though we usually do so automatically <b>through habit</b>.\n    （出于习惯）；\n    </li><li>\n    Before we <b>move on to creating</b> other structures,<br>\n    move on (to something): 开始做（别的事）；\n    </li><li>\n    There\'s a way <b>around</b> this problem.\n    此处 \'around\' 为介词，而非“动词“。\n    </li><li>\n    Don\'t <b>panic</b>: even though MySQL reports that zero rows were affected,\n    it\'s <b>definitely</b> created the table;\n    </li><li>\n    The basic syntax <b>is as follows</b>;\n    </li><li>\n    If you specify a value with the <tt>DEFAULT</tt> clause, \n    it\'ll be used to <b>populate</b> the column when you don\'t \n    <b>otherwise</b> provide data.\n    </li><li>\n    Whether it works or not is dependent on the <b>underlying constraints</b>\n    and conditions of the database.\n    </li><li>\n    The default collation for this character set is <tt>latin1_swedish_ci</tt>,\n    which follows Swedish conventions to sort <b>accened</b> characters.\n    </li><li>\n    It\'s actually hard to <b>tell success from failure</b> here.\n    </li><li>\n    It\'s certainly worth reviewing when you\'re <b>tackling</b> the exercises\n    at the end of this chapter.\n    </li><li>\n    For tables with many rows, this <b>exhaustive</b>, sequential searching\n    is extremely slow. (P205)\n    </li><li>\n    Don\'t <b>bother</b> indexing columns before you see what queries your users\n    and your applications need. You can always add indexes <b>afterward</b>\n    (P208).\n    </li><li>\n    MySQL\'s <b>proprietary</b> <tt>AUTO_INCREMENT</tt> feature allows you to\n    create a unique identifier for a row without running a <tt>SELECT</tt>\n    query. (P208)\n    </li><li>\n    It can also lead to <b>ambiguity</b>.(P210)\n    </li><li>\n    We\'ve used the <tt>music</tt> database <b>extensively</b> in this and \n    previous chapter, so you\'re already familiar with its structure.\n    </li><li>\n    Loading the file just <b>wipes</b> the database and starts again. \n    Of course, in a production environment, always ensure your backups are\n    <b>reasonably</b> up-to-date before <b>commencing</b> a restore operation \n    that involves dropping tales or deleting existing data. (P212)\n    </li><li>\n    We use the <tt>CHAR</tt> type instead of the <tt>VARCHAR</tt> type so that\n    each row has an fixed, <b>predictable</b> size; this allows MySQL to better\n    optimize the <b>retrieval</b> of rows from its files, typically making the \n    application faster <span class=\"hl\">despite</span> the file being \n    typically larger than if <tt>VARCHAR</tt> was used. (P213)\n    </li><li>\n    The <tt>album</tt> table follows the similar <b>rationale</b>; (P213)\n    </li><li>\n    The <tt>time</tt> column stores the <b>duration</b> of each track. (P214)\n    </li><li>\n    To remove a column, use the <tt>DROP</tt> keyword followed by the column\n    name. Here\'s how to <b>get rid of</b> the newly added <tt>formed</tt>\n    column. (P217)\n    </li><li>\n    You\'ll therefore find it useful to be able to add, alter, and remove\n    indexes <b>on the fly</b> after you application is deployed. (P217)\n    </li>\n</ol>\n\n<h2>章节重点</h2>\n<h3>\"<tt>Query OK, * row(s) affected (0.10 sec)</tt>\" 的误导性及真正含义</h3>\n<p>新建一个数据库时终端显示如下：</p>\n<pre class=\"tty\">\nmysql&gt; <span class=\"ttyipt\">CREATE DATABASE abc;</span>\nQuery OK, 1 row affected (0.01 sec)\n</pre>\n<p>提示信息说\"1 row affected\", 这里我们仅仅新建了一个数据库，数据库内根本没有\n表格，更没有记录，哪来的 \"row\"？ 需要说明的是，这类提示信息在表格记录操作语句中\n意思是准确的，但如果是数据库、表格等的操作，此处信息有一定误导性。</p>\n<blockquote>\nThis isn\'t infact a normal row in any specific database--but a new entry added\nto the list that you see with <tt>SHOW DATABASES</tt>.\n----- P179\n</blockquote>\n<pre class=\"tty\">\nmysql&gt; <span class=\"ttyipt\">SHOW DATABASES;</span>\n+--------------------+\n| Database           |\n+--------------------+\n| information_schema | \n| abc                | \n| mysql              | \n| test               | \n| trekshot           | \n+--------------------+\n5 rows in set (0.00 sec)\n</pre>\n<p>通过上面引用中的说明，我们可以得出 \"row\" 的真正含义是语句\n<tt>SHOW DATABASES;</tt>返回的<b>表格中的行</b>。</p>\n<br>\n<p>类似的还有数据库、表格的删除操作，起意义也各不相同，</p>\n<p>删除数据库时，数字 \"row\" 表示的是<b>数据库中删除的表格</b>的数量：</p>\n<pre class=\"tty\">\nmysql&gt; <span class=\"ttyipt\">DROP DATABASE trekshot;</span>\nQuery OK, 5 rows affected (0.00 sec)\n</pre>\n<p>而删除表格时，尽管显示的是\"0 rows affected\", 但实际结果却是表格<tt>m2</tt>\n被彻底删除了。</p>\n<pre class=\"tty\">\nmysql&gt; <span class=\"ttyipt\">DROP TABLE m2;</span>\nQuery OK, 0 rows affected (0.00 sec)\n</pre>\n<p>类似的情况在创建一个表格时也出现：</p>\n<pre class=\"tty\">\nmysql&gt; <span class=\"ttyipt\">CREATE TABLE IF NOT EXISTS artist (</span>\n    -&gt; <span class=\"ttyipt\">artist_id SMALLINT(5) NOT NULL DEFAULT 0,</span>\n    -&gt; <span class=\"ttyipt\">artist_name CHAR(128) DEFAULT NULL,</span> \n    -&gt; <span class=\"ttyipt\">PRIMARY KEY (artist_id)</span> \n    -&gt; <span class=\"ttyipt\">);\n    </span>\nQuery OK, 0 rows affected (0.00 sec)\n</pre>\n<p>不管表格<tt>artist</tt>是否已经存在，显示的都是 \"0 rows affected\",\n即使存在，也不会出现错误提示。书中有这样一句话来描述：</p>\n<blockquote>\nIt\'s actually hard to tell success from failure here. --P186\n</blockquote>\n\n<h3>语句<tt>CREATE DATABASE abc</tt> 背后发生了什么</h3>\n<p>每当新建一个数据库，MySQL 都会在数据存放目录（<tt>/var/lib/mysql/</tt>）\n下创建一个以数据库名为名称的目录。该目录下同时会生成一个名为<tt>db.opt</tt>\n的文本文件，用来存储数据库的一些基本设置。例如，新建的数据库<tt>abc</tt>\n中相应文件的内容如下：</p>\n<pre>\ndefault-character-set=latin1\ndefault-collation=latin1_swedish_ci\n</pre>\n\n<h3>子句<tt>IF NOT EXISTS</tt>和<tt>IF EXISTS</tt>有何作用？</h3>\n<p>前面我们已经新建了数据库<tt>abc</tt>, 现在我们尝试再创建一个同样名称的数据库\n，看看会发生什么：</p>\n<pre class=\"tty\">\nmysql&gt; <span class=\"ttyipt\">CREATE DATABASE abc;</span>\nERROR 1007 (HY000): Can\'t create database \'abc\'; database exists\n</pre>\n<p>我们看到信息行显示错误代码。<tt>IF NOT EXISTS</tt>的作用就是隐藏错误信息:</p>\n<pre class=\"tty\">\nmysql&gt; <span class=\"ttyipt\">CREATE DATABASE IF NOT EXISTS abc;</span>\nQuery OK, 0 rows affected, 1 warning (0.00 sec)\n</pre>\n<p>\"0 rows affected\" 表明数据没有发生任何变化。语句<tt>SHOW WARNINGS</tt>\n可以显示隐藏的错误信息：</p>\n<pre class=\"tty\">\nmysql&gt; <span class=\"ttyipt\">SHOW WARNINGS;</span>\n+-------+------+----------------------------------------------+\n| Level | Code | Message                                      |\n+-------+------+----------------------------------------------+\n| Note  | 1007 | Can\'t create database \'abc\'; database exists | \n+-------+------+----------------------------------------------+\n1 row in set (0.00 sec)\n</pre>\n<p>这有什么用？在终端中是否显示错误信息差别不大。但当 SQL 语句出现在脚本程序中\n时（如 PHP），隐藏错误信息可以防止程序由于错误而中止运行（MySQL 错误信息将显示\n在页面中并中止程序运行）。</p>\n<br>\n<p>创建操作为防止建立一个<b>已经存在</b>的数据库或表格而加入\n<tt>IF NOT EXISTS</tt>,与之对应的就是在删除操作中为防止删除一个\n<b>根本不存在</b>的数据库或表格而加入<tt>IF EXISTS</tt>子句。这就是为什么\nWordPress 源码中数据库、表格创建的语句中都带有<tt>IF NOT EXISTS</tt>子句。</p>\n\n<h3>数据库命名及字符大小写问题</h3>\n<blockquote>\nDatabase names define physical directory (or folder) names on disk. -- P180\n</blockquote>\n<p>由上可知，数据库的名称实际是就是磁盘上文件夹的名称。我们知道，Windows \n下的文件夹不区分大小写，而 Linux 下则区分大小写。同样，MySQL 数据库名称是否分\n大小写跟它所在的操作系统有关。换句话说，数据库<tt>abc</tt> 和<tt>aBc</tt>\n在 Windows 下指的是同一个数据库，而在 Linux 下指的却是两个不同的数据库。</p>\n<br>\n<p>为了统一起见，我们约定所有的数据库、表格、索引等名称\n<b>一律使用小写字母</b>表示。</p>\n<br>\n<p>关于数据库命名的其它限制：</p>\n<ul>\n    <li>允许的字符最大宽度为<tt>64</tt>;</li>\n    <li>不得使用 MySQL 保留字符（如<tt>SELECT</tt>, <tt>FROM</tt>, \n    <tt>USE</tt>等）；这种限制并非绝对，如果你非要使用<tt>SELECT</tt>\n    作为数据库名称，通过在字符两端加上符号<tt>`</tt>(backtick symbol,\n    Tab 键正上方的那个键)可以实现。但不建议使用，因为经常会忘记这个步骤（\n    It\'s more trouble remembering to do so than it\'s worth. --P181）； \n    这也是为什么使用<tt>mysqldump</tt>工具导出的 SQL 文件中数据库名称、\n    表格名称、列名称等两边都带有该符号的原因：为了避免产生歧义；\n    <pre>DROP TABLE IF EXISTS `animals`;</pre>\n    </li>\n    <li>名称中不得含有斜杠、反斜杠、分号和点号。另外，不得以空格字符作为结尾；\n    </li>\n</ul>\n<p>相对于数据库名称命名约定，列命名的限制相对小一些。不管在什么操作系统下，\n所有列名都不区分大小写。</p>\n\n<h3>Collation 的含义</h3>\n<p>该词在手册中没有理解其意思，《Learning MySQL》书中用简单的几句话就讲明白了\nCharacter Set 和 Collation 各自的含义：\n</p>\n<blockquote>\nCharacter sets defines what characters can be stored;<br>\nA collation defines how strings are orderd.\n</blockquote>\n<p>上面我们使用语句<tt>CREATE DATEBASE abc</tt>后生成的文件<tt>db.opt</tt>\n就是对这两项的定义。通常情况下，其内容如下：</p>\n<pre>\ndefault-character-set=latin1\ndefault-collation=latin1_swedish_ci<span class=\"cmt\"> # \'ci\' indicates Case Insensitive</span>\n</pre>\n<p><tt>SHOW CHARACTER SET;</tt> 和\n<tt>SHOW COLLATION;</tt>用于显示 MySQL 所接受的所有类型。</p>\n<br>\n<p>如何获取当前系统中所有的默认变量？ （<a target=\"_blank\" \nhref=\"/p/essay/v.php?name=110112-mysql-dump-chinese-with-latin1.php\">eygle 博客上解决导出表格中文乱码中</a>曾使用过此语句）。</p>\n<pre>SHOW VARIABLES LIKE \'c%\';</pre>\n\n<h3>键、索引（<tt>INDEX</tt>, <tt>KEY</tt>）</h3>\n<p></p>\n<blockquote>\nA primary key uniquely identifies each row in a table.\n</blockquote>\n<p>当我们在一个表中声明一个主键时，MySQL 会在磁盘中新建一个文件（<tt>.MYD</tt>\n后缀）用来存储表中每一行数据的存储位置的相应信息。这个信息就叫索引（Index）。\n其作用和书本前面的目录索引一样。在没有目录索引的情况下，如果我们想找到某一章节,\n就必须从书本的第一页开始逐页查找。而有了目录素引，我们就可以先在索引中查找该章节\n的位置（页码），然后直接翻到那一页。所以，索引的作用在于加快查找的速度。</p>\n<br>\n<p>设想这样一个情况：在使用的过程中你发现程序中的某一个特性特别受欢迎，\n你开始考虑在不影响现有数据的情况下针对相关的查询进行优化以提高性能。\n其实也就是在使用的过程中随时添加、编辑或删除索引。</p>\n<p></p>\n<p></p>\n\n<h3>MySQL 专有的特性：<tt>AUTO_INCREMENT</tt></h3>\n<ol>\n    <li>是 MySQL 专有特性（proprietary)，别的 SQL 中没有此特性；</li>\n</ol>\n\n<h3>MySQL结构中限制越少越好；请节约使用<tt>NOT NULL</tt>限制</h3>\n<p>先来看一下以前自己建立一个表格时的语句：</p>\n<pre>\nCREATE TABLE w_term_taxonomy(\n    term_id     	BIGINT(20) UNSIGNED     NOT NULL        AUTO_INCREMENT,\n    term_name   	VARCHAR(200)    NOT NULL DEFAULT \'\',\n    term_slug   	VARCHAR(80)     NOT NULL DEFAULT \'\',\n    term_taxonomy       VARCHAR(80)     NOT NULL DEFAULT \'\',\n    term_note   	VARCHAR(200)    NOT NULL DEFAULT \'\',\n    term_parent 	BIGINT(20) 	NOT NULL,\n    PRIMARY KEY(term_id)\n);\n</pre>\n<p>表<tt>w_term_taxonomy</tt>中的每一列都有<tt>NOT NULL</tt>限制。\n这样做是必须的吗？或者说有好处吗？书中表<tt>artist</tt>中<tt>artist_name</tt>\n列就没有此限制：</p>\n<pre>\nCERATE TABLE artist {\n    artist_id SMALLINT(5) NOT NULL DEFAULT 0,\n    artist_name CHAR(128) DEFAULT NULL,\n    PRIMARY KEY (artist_id)\n};\n</pre>\n<p>理由如下：</p>\n<blockquote>\nWe haven\'t added a <tt>NOT NULL</tt> clause to the <tt>artist_name</tt>.\nInstead we\'ll assume that whatever application we build will do the checking\nfor us.<br><br>\nThe fewer the constraints and conditions that are built into the database,\nthe faster it is for MySQL to work with. --P213\n</blockquote>\n<p>MySQL 中的限制越少，其运行速度就越快。这里我们假定输入的<tt>artist_name</tt>\n列值永远都不为空，我们可以通过其它手段来确保这一条件（有太多的客户端、\n服务器段脚本可以完成这一任务）。</p>\n\n<h3><tt>VARCHAR</tt> or <tt>CHAR</tt>?</h3>\n<p><tt>artist</tt>表结构的<tt>artist_name</tt>列声明的数据类型为\n<tt>CHAR(128)</tt>, 要是自己声明的话，几乎所有的字符数据都会声明为\n<tt>VARCHAR</tt>类型。书中这么声明的原因是什么呢？\n或者说自己原先的方法的问题是什么？</p>\n<blockquote>\nWe use the <tt>CHAR</tt> type instead of the <tt>VARCHAR</tt> type so that\n<b>each row has an fixed, predictable size; this allows MySQL to better\noptimize the retrieval of rows from its files</b>, typically making the \napplication faster despite the file being \ntypically larger than if <tt>VARCHAR</tt> was used. (P213)\n</blockquote>\n<p>这说明，这两个设置的目的都是为了使程序的速度更快。</p>\n\n<h3><tt>ALTER TABLE played CHANGE played last_played TIMESTAMP</tt> 背后的细节</h3>\n<p>我们可以将上面语句产生的结果分解如下：</p>\n<ol>\n    <li>MySQL 依照修改后的表格结构新建一个全新的表格；</li>\n    <li>将原来表格中的数据复制到新表格中；</li>\n    <li>删除原表格<tt>played</tt>;</li>\n    <li>将新表格重命名为<tt>played</tt>;</li>\n</ol>\n<p>由于每执行一次这样的操作，都会按顺序执行上面四个步骤，因此当针对某个表格有\n多个修改操作时，将这些操作放在一起就会提高效率。下面这句即是如此，\n先是新增一个列，然后有修改了一个现有列。</p>\n<pre class=\"tty\">\nmysql&gt; <span class=\"ttyipt\">ALTER TABLE artist ADD formed YEAR, MODIFY artist_name CHAR(256);</span>\n</pre>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n',NULL,3,1,'Y',0,'util.js','2011-05-11 10:57:12','2014-02-27 13:20:18'),(114,'Particle Size Distribution','<h2>Diamond Innovations</h2>\n<ol>\n    <li>\n    Size Measurement <b>Expertise</b> （专门知识；专门技能）\n    </li><li>\n    Methods for particle size analysis of <b>sub-sieve</b> （子筛） \n    size powders include laser light <b>scattering</b> (分散；散落),\n    electrical <b>sensing</b> （检测；测出） zone. <b>microscopy</b> （显微镜）,\n    <b>sedimentation</b> （沉积） and <b>photon</b> （光子） \n    <b>correlation</b> （相互关系） <b>spectroscopy</b> （光谱学）.\n    </li><li>\n    field emission SEM: Field-Emission Scanning Electron Microscope\n    场效发射式扫描电子显微镜\n    </li><li>\n    Quantifiable shape <b>characterization</b> （描述方法；界定方法） \n    results in consistent powders delivering maximum performance.\n    </li><li>\n    DI utilizes <b>optical imaging</b> （光学成像） for the design and \n    production of uniform, blocky, three dimensional （三维） \n    particle shapres...\n    </li><li>\n    Compared with typical qualitative （质量的；定性的） descriptors, \n    quantitative （定量性的） data <b>is not subject to</b> （受…支配） \n    individual interpretation. For this reason DI uses multiple shape \n    measurement descriptors including <b>aspect ratio</b> （图像纵横比）.\n    </li><li>\n    Product designed utilizing quantitative data eliminates （排除；清除） \n    subjective analysis.\n    </li><li>\n    Surface Integrity <b>Paramount</b> （至高无上的）\n    </li><li>\n    DI\' powders are <b>rigorously</b> （严厉地；残酷地） controlled \n    for <b>utmost</b> （最大的；极度的） purity on the diamond\'s surface.\n    </li><li>\n    Surface cleanliness is critical for proper <b>dispersion</b> （分散） \n    with slurry vehicles, as well as mixing and <b>retention</b> （保持；阻滞）\n    with bond components.\n    </li><li>\n    </li><li>\n    </li><li>\n    </li><li>\n    </li><li>\n    </li><li>\n    </li>\n</ol>\n<!--\n<p>microdiamant</p>\n<ol>\n    <li>\n\n    </li><li>\n    </li><li>\n    </li><li>\n    </li><li>\n    </li>\n</ol>\n-->\n<pre>\nhfdiamond.com 自锐型金刚石微粉\n\n产品特性：产品呈灰白色或白色，块状，多晶结构，粒度分布较窄；\n在一定压力下破碎时可连续出现锋利的切削刃，具有良好的自锐性能。\n\n建议用途：适用于玻璃、陶瓷、树脂和陶瓷结合剂、\n硬质合金的加工等材料的抛光和研磨等。\n</pre>\n<h2>Microdiamant Diamond</h2>\n<ol>\n    <li>\n    原材料有三种：Synthetic polycrystalline, monocrystalline and natural\n    diamond. yl 的原材料则只有人造单晶一种；\n    </li><li>\n    Diamond powders are used as <b>loose abrasives</b>, in bonded tools...<br>\n    与之对应的又是什么？\n    </li><li>\n    Like synthetic monocrystalline diamond, it features major cleavage planes, \n    which are oriented parallel to the optical axis （光轴）. \n    Natural diamond particles break relatively easy parallel to the cleavage planes. \n    </li><li>\n    In most lapping and polishing applications, there are only minor \n    differences between monocrystalline synthetic and natural diamond.\n    <br>\n    人造单晶金刚石和天然金刚石的效果差不多。\n    </li><li>\n    </li>\n</ol>\n<h2>Reference</h2>\n<h3>人造金刚石简介</h3>\n<blockquote>\n人造金刚石属于超硬材料,被广泛应用于石材工业、建筑、精密机械加工、汽车制造、\n地质钻探、电子工业及航空航天等领域。\n<br><br>\n其工业制造方法通常是将高纯石墨、金属触媒等材料混合后放置于专用压机内,\n在超高压高温下,使石墨转化为不同等级的金刚石。\n(<a target=\"_blank\" \n  href=\"http://biz.cn.yahoo.com/05-09-/4/cy8r.html\">Source</a>)\n</blockquote>\n\n<h3>中南网站产品简介</h3>\n<blockquote>\n金刚石单晶包含ZND21、 ZND22两大系列每种系列可提供100多个品种，粒度由粗到细（20/25-325/400），品级由低到高（如ZND2110-ZND2180）,质量稳定，可满足用户各种使用要求：\n<br><br>\nZND21系列人造金刚石是指40/45以细（≤0.425mm）粒度的中、高品级人造金刚石产品。金刚石品级质量达到了发达国家利用两面顶技术生产的中、高品级金刚石的质量水平，不但使产品畅销国内，替代进口产品，而且对国际金刚石市场形成了强有力的冲击。\n<br><br>\nZND22系列人造金刚石是指40/45以粗（0.355mm～2.5mm）粒度的高品级粗颗粒人造金刚石产品。与21系列工艺相比，生产的金刚石产品粒径更大，品级更高，△TTi（冲击韧性差值）、晶形、色泽、透明度等质量指标全面达到国际标准，填补了我国大颗粒金刚石生产技术的空白，标志着我国金刚石制造技术达到了世界先进水平。目前，生产与22系列粒度、品级相当的产品的企业仅我公司一家。\n</blockquote>\n\n<h2>FAQ</h2>\n<h3>黄河、中南的金刚石原材料是如何变成微粉的</h3>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n',NULL,1,1,'Y',0,'util.js','2011-05-13 15:57:35','2014-02-27 13:20:18'),(115,'[ Learning MySQL Notes] Ch07: Advanced Querying','<h2>Valuable Sentences</h2>\n<ol>\n    <li>\n    The column <tt>artist_name</tt> is aliased as <tt>artists</tt>. The\n    advantage is that the alias <tt>artists</tt> might be more meaningful\n    to users. <b>Other than that</b>, it\'s not very useful. (P224)\n    </li><li>\n    The <tt>DISTINCT</tt> clause is<b>n\'t</b> really an aggregate function,\n    <b>but</b> more of a <b>post-</b>processing filter that allows you \n    to remove duplicates. (P228)\n    <br>\n    首先，本句的主基调是一个 \"not...but...\" 结构；其次，\"post-processing filter\"\n    的理解有误：不是“垃圾邮件过滤系统”，而是“后处理过滤器”；\n    </li><li>\n    If you rephrase the previous query to output both <tt>artist_name</tt>\n    and <tt>album_name</tt> (but <b>otherwise</b> don\'t change the <tt>JOIN</tt>\n    clause and still use <tt>DISTINCT</tt>, you\'ll get all 13 rows in the\n    output. (P229)\n    </li><li>\n    Let\'s try another example. <b>Say</b> we want to know how many times we\'ve\n    listened to tracks on each album. (P232)\n    </li><li>\n    We don\'t want to group by track, since that\'d <b>split</b> the tracks from\n    each album <b>into</b> different groups and tell us how many times we\'d \n    listened to each track. P232\n    </li><li>\n    At the conclusion of this section, you\'ll be able to <b>answer</b> difficult\n    information needs and be familiar with the correct choice of join for the\n    task. (P237) 符合，非“回答”\n    </li><li>\n    You can actually write inner-join queries with the <tt>WHERE</tt> clause\n    without using the <tt>INNER JOIN</tt> <b>keyphrase</b>. (P237) 同 \"keyword\"\n    </li><li>\n    You can see that we\'ve <b>spelled out</b> the inner join: we\'re selecting\n    from the <tt>artist</tt> and <tt>album</tt> tables the rows where the \n    identifiers match between the tables. (P238) 讲清楚\n    </li><li>\n    There\'s no real advantage or disadvantage in using <tt>ON</tt> or a \n    <tt>WHERE</tt> clause; it\'s just <b>a matter of taste</b>.  ---- P238\n    </li><li>\n    The output is <b>nonsensical</b>: what\'s happened is that each row...\n    ---- P239\n    </li><li>\n    <b>Incidentally</b>, you also get the Cartesian product if you perform an\n    inner join without specifying a column with a <tt>USING</tt> or <tt>ON</tt>\n    clause. 偶然的，附带的 ---- P239\n    </li><li>\n    The <tt>UNION</tt> statement isn\'t really a join operator. <b>Rather</b>,\n    it allows you to combine the output of more than one <tt>SELECT</tt>\n    statement to give a <b>consolidated</b> result set. \n    ---- P239<br>\n    Rather: （纠正所说的话或提供更确切的信息）更确切地讲，更准确地说\n    </li><li>\n    If you wanted to output all of the text in the <tt>music</tt> database,\n    you could do this with a <tt>UNION</tt> statement. It is a <b>contrived</b>\n    example, but you might want to do this just to list all of the text fragemet\n    , rather than to meaningfully present the relationships between the data.\n    ---- P239 \n    人为的；做作的\n    </li><li>\n    The <tt>UNION</tt> statement outputs all results from all queries together,\n    under a <b>heading</b> appropriate to the first query.\n    ---- P240 <br>\n    这是\'ing\'后缀，但是是个名词。值得分类；\n    </li><li>\n    Adding a <tt>LIMIT</tt> clause to the previous query selects the first five\n    tracks played, in <b>chronological</b> order--no surprises here.\n    ---- P243 按发生事件顺序排列的\n    </li>\n</ol>\n<h2>Key Notes</h2>\n<h3>Aggregating Data (<tt>DISTINCT</tt>, <tt>GROUP BY</tt>, <tt>HAVING</tt>)</h3>\n<blockquote>\nThe <tt>GROUP BY</tt> clause sorts data into groups for the purpose of \naggregation. --P230\n</blockquote>\n<p>上面这句引用说明了<tt>GROUP BY</tt>语句的目的——合并运算，同时也表明\n<tt>GROUP BY</tt>从句必定和诸如<tt>AVG()</tt>, <tt>SUM()</tt>等 aggregate\nfunctions 一起组合使用，而不是独自使用。\n</p>\n<br>\n<p>\n从外表上看，<tt>GROUP BY</tt> 和<tt>ORDER BY</tt>看起来很象。两者的不同之处在于\n：在查询语句执行的流程中，<tt>GROUP BY</tt> 要先于<tt>ORDER BY</tt>执行。\n<tt>GROUP BY</tt>的目的是在其它从句（<tt>WHERE</tt>, <tt>ORDER BY</tt>\n和其它函数）执行前对<b>原始数据</b>进行组织；<tt>ORDER BY</tt>则相反，\n当所有其它的从句都执行完后，它再对<b>查询输出</b>进行组织以显示。\n下面，我们结合一个具体句子来进一步理解<tt>GROUP BY</tt>对原始数据的组织过程：\n</p>\n<pre class=\"tty\">\nmysql&gt; <span class=\"ttyipt\">SELECT term_name, COUNT(*) FROM</span>\n    -&gt; <span class=\"ttyipt\">w_places INNER JOIN w_term_taxonomy USING (term_id)</span> \n    -&gt; <span class=\"ttyipt\">GROUP BY term_name;</span><span class=\"cmt\"></span>\n+----------------------------------------------+----------+\n| term_name                                    | COUNT(*) |\n+----------------------------------------------+----------+\n| Ai Weiwei Was Arrested                       |        1 | \n| Ch0201 Perl Statement Basic                  |        1 | \n| Chapter 04: Modeling and Designing Databases |        4 | \n| Chapter 05: Basic SQL                        |        1 | \n| Chapter 06: Working with Database Structures |       13 | \n| Chapter 12. SQL Statement Syntax             |        3 | \n| Clash at Tibetan monastery in China          |        4 | \n| Everyday Life                                |        3 | \n| Google Dictionary                            |        1 | \n| Google Notebook                              |        1 | \n| JDG Chpater 1                                |        1 | \n| jQuery tutorial                              |        1 | \n| MISC                                         |        5 | \n| Profession                                   |        6 | \n| The meaning of Open                          |        2 | \n| Web News                                     |        8 | \n| WordPress Sourcecode                         |        1 | \n+----------------------------------------------+----------+\n17 rows in set (0.00 sec)\n</pre>\n<p>\n上面的句子统计出每个单词出处类别下例句的总量。句子最先从<tt>GROUP BY</tt>\n处执行。在这里，我们告诉 MySQL 凡是<tt>term_name</tt>值一样的行都合并成一个簇。\n在接下来的操作中，我们将视每一个簇为单独一行。\n</p>\n<br>\n<p><tt>HAVING</tt>从句一般都跟在<tt>GROUP BY</tt>从句之后。</p>\n<blockquote>\nYou can use the <tt>HAVING</tt> clause to <b>add additional control</b> to the\nattregation of rows in a <tt>GROUP BY</tt> operation. P234\n</blockquote>\n\n<h3>Advanced Joins</h3>\n<h4><tt>INNER JOIN</tt></h4>\n<p>有三种常见的语法。</p><br>\n<p>最常见的形式（<tt>USING</tt>）：</p>\n<pre>\nSELECT ID, name, term_name, basic_meaning FROM\n	w_words INNER JOIN w_term_taxonomy USING (term_id);\n</pre>\n<p>对于 Inner-join 类查询，其实直接使用<tt>WHERE</tt>子句即可完成相同的工作</p>\n<pre>\nSELECT ID, name, term_name, basic_meaning FROM\n	<b>w_words, w_term_taxonomy \n	WHERE</b> w_words.term_id = w_term_taxonomy.term_id;\n</pre>\n<p><tt>INNER JOIN</tt> 还有另一种类似<tt>WHERE</tt>子句中表示连接条件的语法\n（<tt>ON</tt>）：\n</p>\n<pre>\nSELECT ID, name, term_name, basic_meaning FROM\n	w_words INNER JOIN w_term_taxonomy \n	<b>ON</b> w_words.term_id = w_term_taxonomy.term_id;\n</pre>\n<p>此语法的应用范围为：</p>\n<blockquote>\nThis is useful if the names of the identifiers don\'t match between the tables.\n---- P238\n</blockquote>\n<p>假设我们想要获取单词表格中所有词意多于一种的单词，相应语句如下：</p>\n<pre class=\"tty\">\nmysql&gt; <span class=\"ttyipt\">SELECT ID, name, COUNT(*) AS explanations_nums FROM</span>\n     &gt; <span class=\"ttyipt\">w_words INNER JOIN w_explanations ON w_words.ID = w_explanations.word_id</span>\n     &gt; <span class=\"ttyipt\">GROUP BY word_id HAVING COUNT(*) &gt; 1;</span>\n+----+---------+-------------------+\n| ID | name    | explanations_nums |\n+----+---------+-------------------+\n|  4 | yield   |                 2 | \n|  9 | elegant |                 3 | \n| 23 | trump   |                 2 | \n| 42 | draft   |                 2 | \n+----+---------+-------------------+\n</pre>\n<p>上面的查询语句中，表格<tt>w_explanations</tt>和<tt>w_words</tt>中表示单词ID\n的列分别是<tt>ID</tt>和<tt>word_id</tt>.这就是上面引用中语句的含义：名称不一致。\n</p>\n<br>\n<p>关于到底是使用<tt>USING</tt>句法类型的语句还是<tt>ON</tt>句法的选择标准：</p>\n<blockquote>\nThere\'s no real advantage or disadvantage in using <tt>ON</tt> or a \n<tt>WHERE</tt> clause; it\'s just a matter of taste. Typically, you\'ll find\nmost SQL professionals use the <tt>WHERE</tt> clause in preference to \n<tt>INNER JOIN</tt>, most likely because it\'s the technique they learned first.\n---- P238\n</blockquote>\n\n<br>\n<p>上面 Inner Join 中的<tt>WHERE</tt>, <tt>ON</tt> and <tt>USING</tt> \n三个从句的到底起什么作用？我们可以通过省去这些从句查看查询输出：</p>\n<br>\n<p>这是正常的语句及输出：</p>\n<pre class=\"tty\">\nmysql&gt; <span class=\"ttyipt\">SELECT ID, name, cn_exp FROM w_words INNER JOIN w_explanations</span>\n     &gt; <span class=\"ttyipt\">ON w_words.ID = w_explanations.word_id;</span>\n+----+---------------------------+-----------------------------------------------------------------------------+\n| ID | name                      | cn_exp                                                                      |\n+----+---------------------------+-----------------------------------------------------------------------------+\n|  4 | yield                     | 屈服；让步                                                             | \n|  4 | yield                     | 产生出……效果                                                       | \n|  5 | quirk                     | 怪事；奇事；巧合；偶发事件                                     | \n|  6 | harpoon                   | 渔猎标枪；鱼叉                                                       | \n|  9 | elegant                   | 优雅,（论述等）简练确切                                          | \n|  8 | bliss                     | 极乐；喜悦                                                             | \n|  9 | elegant                   | 雅致                                                                      | \n|  9 | elegant                   | 雅致之                                                                   | \n|  7 | slice                     | 片段，一片                                                             | \n+----+---------------------------+-----------------------------------------------------------------------------+\n67 rows in set (0.00 sec)\n</pre>\n<p>省去<tt>ON</tt>从句的语句及输出：</p>\n<pre class=\"tty\">\nmysql&gt; <span class=\"ttyipt\">SELECT ID, name, cn_exp FROM w_words INNER JOIN w_explanations;</span>\n+----+---------------------------+---------------------------+\n\n...\n\n| 60 | utilize                   | （使）猛烈撞击，猛烈碰撞  | \n| 61 | integrated                | （使）猛烈撞击，猛烈碰撞  | \n| 62 | process                   | （使）猛烈撞击，猛烈碰撞  | \n| 63 | unmatched                 | （使）猛烈撞击，猛烈碰撞  | \n| 64 | quota                     | （使）猛烈撞击，猛烈碰撞  | \n| 65 | smash                     | （使）猛烈撞击，猛烈碰撞  | \n+----+---------------------------+---------------------------+\n4154 rows in set (0.00 sec)\n</span>\n</pre>\n<p>初看结果，该查询公返回 4154 条结果。仔细查看返回结果，就会明白其来由：\n表格<tt>w_words</tt>和<tt>w_explanations</tt>分别含有 62 和 67 条记录，\n不加<tt>ON</tt>子句的情况下，连接查询的结果是将两个表中的记录作一个排列组合，\n即表一中的每条记录都和表二中的所有记录进行组合，这样就有 62*67 = 4154 条记录。\n这些记录中的绝大多数都是无意义（nonsensical）的记录。这类没有匹配行的子句的查询\n叫做 Catesian product.所以：</p>\n<blockquote>\nInner Join 中的<tt>WHERE</tt>, <tt>ON</tt> and <tt>USING</tt> \n三个从句的作用在于 <b>matches rows</b>.\n</blockquote>\n\n<h4><tt>UNION</tt></h4>\n<blockquote>\nThe <tt>UNION</tt> statement isn\'t really a join operator. Rather,\nit allows you to combine the output of more than one <tt>SELECT</tt>\nstatement to give a consolidated result set. \n---- P239\n</blockquote>\n<tt>UNION</tt>是个语句而不是连接操作符号，和<tt>INNER JOIN</tt>有着本质区别。\n\n<h4>The Left and Right Joins</h4>\n<h2>MISC</h2>\n',NULL,3,1,'Y',0,'util.js','2011-05-18 17:24:14','2014-02-27 13:20:18'),(116,'大姐给我买了件安踏短袖','<p class=\"cn\">\n晚上正在厨房刷碗，大姐碰巧从窗户外路过，她要去买件短袖。说心里话，大姐能和我打\n招呼我心里很高兴。自从结婚以后，大姐和我之间的关系有着微妙的变化。\n内心深处，很害怕她对自己表示失望。十几分钟过后，大姐又在窗户外叫我，\n并递过来一件安踏短袖，给我买的。有这样的姐姐，真是幸福。\n</p>\n',NULL,2,1,'N',0,'util.js','2011-05-18 22:26:33','2014-02-27 13:20:18'),(117,'显示 andro 来到这个世界的精确时间','<p>\n自从 andro 出生后，自己一直想在计算机上找个专属于他自己的空间，\n来记录他的点点滴滴。这其中第一个问题就是：他来到这个世界多少天了？\n要是能在页面上像倒计时牌那样动态地显示这些时间信息就很不错。\n自己在天气网首页上找到一个动态显示当前时间的 JS 代码：\n\n</p>\n<pre>\n&lt;div id=\"time\"&gt;\n&lt;script language=\"javascript\" type=\"text/javascript\"&gt; \n	window.onload = function () { \n		setInterval(\"document.getElementById(\'time\').innerHTML=new Date().toLocaleString();\", 1000); \n	}\n&lt;/script&gt;\n&lt;/div&gt;\n</pre>\n\n<div class=\"testbox\">\n<div id=\"time\"></div>\n</div>\n\n<p>其原理也很简单：每隔一秒钟就刷新当前时间，以此达到动态显示的效果。 </p>\n\n<h2>可扩展性思考</h2>\n<p>我们可以根据这个小功能进行延伸。例如可将此功能变成一个函数，输入特定日期、\n时间字符串（比如 MySQL 和 PHP 都接受的 19 位字符串），函数返回一个数组，\n元素中包含此时间节点距今的年数、天数、小时数、分钟数以及秒数。\n因为生活当中有很多重要的时间节点，比如出生日期、结婚日期、\n参加工作日期等等。再进一步，特定日期也包含将来的某个时间节点，例如，\n倒计时功能。因此，这个函数是可以变得更丰满的（具体参考 \n<tt>/common/js/ts-global.js</tt>文件中<tt>get_precise_time()</tt>函数）。</p>\n\n<h3>面临的问题及解决方法</h3>\n<blockquote>\n如何利用 JavaScript 将字符串\"2011-05-25 16:55:00\"转化为时间戳？\n</blockquote>\n<p>JavaScript 中的 Date API 中并没有将 19 位日期时间字符串转换为时间戳的方法。\n但是通过<tt>Date</tt>的构造器我们可以间接实现：\n</p>\n<pre>\nnew Date(<i>year</i>, <i>month</i>[, <i>day</i>, <i>hours</i>, <i>minutes</i>, <i>seconds</i>, <i>ms</i>]); \n</pre>\n<p>通过此构造器，我们可以获得任意 19 位日期时间格式的时间对应的时间戳。\n例如，andro 生日这个时间点对应的时间戳用 JavaScript 代码来表示如下：</p>\n<pre>\nvar andro_birth = new Date(2011,4,25,16,55,0);\n</pre>\n<p>此代码有两点需要注意：</p>\n<ol>\n    <li>参数<tt>month</tt>是以<tt>0</tt>作为起点的，即 \"0\" 代表 一月，\n    所以五月这里我们用 \"4\", 而不是 \"5\" 来表示；</li>\n    <li>构造器返回的数值类型的单位是毫秒。也就是说，是 PHP 和 MySQL\n    中常见的时间戳类型的 1000 倍；</li>\n</ol>\n<h2>范例</h2>\n<p>具体调用如下：</p>\n<pre class=\"brush: javascript\">\nwindow.onload=function (){ \n	setInterval(\"get_precise_time(\'2011-05-25 16:55:00\', \'andro_birth\', true)\", 100); \n	setInterval(\"get_precise_time(\'2009-12-06 00:00:00\', \'marriage\')\", 100); \n	setInterval(\"get_precise_time(\'2008-03-14 08:00:00\', \'work_for_YL\')\", 100); \n	setInterval(\"get_precise_time(\'1982-12-08 00:00:00\', \'birth_of_me\')\", 100); \n}\n</pre>\n<pre class=\"brush: xml\">\n&lt;pre&gt;Andro has been on this world for &lt;span id=\"andro_birth\"&gt;&lt;/span&gt;&lt;/pre&gt;\n&lt;pre&gt;I have married for &lt;span id=\"marriage\"&gt;&lt;/span&gt;&lt;/pre&gt;\n</pre>\n<script>\nwindow.onload=function (){ \n	setInterval(\"get_precise_time(\'2011-05-25 16:55:00\', \'andro_birth\', true)\", 100); \n	setInterval(\"get_precise_time(\'2009-12-06 00:00:00\', \'marriage\')\", 100); \n	setInterval(\"get_precise_time(\'2008-03-14 08:00:00\', \'work_for_YL\')\", 100); \n	setInterval(\"get_precise_time(\'1982-12-08 00:00:00\', \'birth_of_me\')\", 100); \n	\n	setInterval(\"document.getElementById(\'time\').innerHTML=new Date().toLocaleString();\", 100); \n}\n\n</script>\n\n<pre>Andro has been on this world for <span id=\"andro_birth\"></span></pre>\n<pre>I have married for <span id=\"marriage\"></span></pre>\n<pre>\nMy God, I have worked for YL for <span id=\"work_for_YL\"></span>\n</pre>\n<pre>\nI have lived on this world for <span id=\"birth_of_me\"></span>\n</pre>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n',NULL,1,1,'N',0,'util.js','2011-06-22 08:24:33','2014-02-27 13:20:18'),(118,'[已解决]一个文档中有两个onload事件，为何仅执行后一个？','<div class=\"keynote\">\n本文进一步加深对 Event handler with Properties 的过程进行理解。\n</div>\n\n<p>自己写的“纪念日计时器“小应用中的代码：\n想在同一个页面中同时显示两个纪念日的计时信息，\n所以分别添加两个<tt>window.onload</tt>事件处理。疑惑在于：</p>\n<blockquote>\n为什么仅显示建党节（<tt>time3</tt>块）的计时信息？JS 代码是如何执行的？\n从后往前？\n</blockquote>\n<br>\n<p>代码如下：</p>\n<pre class=\"brush: javascript\">\nfunction get_precise_time(dt, block_id) {\n\n	// First, we prepare arguments for new Date();\n	var year = dt.substring(0,4);\n	 \n	var month = dt.substring(5,7);\n	if (month.substring(0,1) == 0) {\n		month = month.substring(1,2);\n	}\n	month = month - 1;\n\n	var day = dt.substring(8,10);\n	if (day.substring(0,1) == 0) { // 01 -- 09\n		day = day.substring(1,2);\n	}\n\n	var hour = dt.substring(11,13);\n	if (hour.substring(0,1) == 0) { \n		hour = hour.substring(1,2);\n	}\n	 \n	var minute = dt.substring(14,16);\n	if (minute.substring(0,1) == 0) { \n		minute = minute.substring(1,2);\n	}\n	 \n	var second = dt.substring(17,19);\n	if (second.substring(0,1) == 0) { \n		second = second.substring(1,2);\n	}\n\n	// Create the special datetime dot.\n	var dot = new Date(year,month,day,hour,minute,second);\n	var current = new Date().getTime();\n	 \n	var real_m = current - dot; // in miliseconds \n	var real = (real_m - real_m%1000)/1000;\n\n	if (dot > current) // a day in feture\n		real = -real;\n			 \n	// get what we want\n	var days  = (real - real%86400)/86400;\n	 \n	var real2 = real%86400;\n	var hours  = (real2 - real2%3600)/3600;\n	 \n	var real3 = real2%3600;\n	var minutes  = (real3 - real3%60)/60;\n\n	var seconds = real3%60;\n	 \n	var inner_str = \"<b>\" + days + \"</b> days, <b>\" + hours + \"</b> hours, <b>\" + \n		minutes + \"</b> minutes, <b>\" + seconds + \"</b> seconds\"; \n	 \n	document.getElementById(block_id).innerHTML= inner_str;\n}\n\nwindow.onload=function (){ \n	setInterval(\"get_precise_time(\'2011-07-01 00:00:00\', \'time2\')\", 100); \n}\nwindow.onload=function (){ \n	setInterval(\"get_precise_time(\'2011-05-25 16:55:00\', \'time3\')\", 100); \n}\n</pre>\n\n<h2>原因</h2>\n<p>问题出在对如下代码的理解上：</p>\n<pre class=\"brush: javascript\">\nwindow.onload=function (){ \n	setInterval(\"get_precise_time(\'2011-07-01 00:00:00\', \'time2\')\", 100); \n}\n</pre>\n<p><tt>window.onload</tt>是什么？它是<tt>window</tt>对象的一个<b>属性，\n该属性的值是一个函数</b>。换句话说，上面代码的意思是将一个函数赋值给\n<tt>window.onload</tt>事件对象。而上面连续出现两次赋值操作，\n显然，后面的将<b>覆盖</b>前面的值。也就是说，<tt>window.onload</tt>事件属性的值\n此时已经是函数</p>\n<pre class=\"brush: javascript\">\nwindow.onload=function (){ \n	setInterval(\"get_precise_time(\'2011-07-01 00:00:00\', \'time2\')\", 100); \n}\n</pre>\n<p>了，既不是之前的，更不是<b>两者的叠加</b>。而自己的意思正是如此\n（想同时显示两个纪念日计时信息），这是和使用 DOM Level 2 \n方式添加事件处理函数弄混淆了。</p>\n<br>\n<p>对于上面的需求分别使用 Properties 和 DOM Level 2 \n两种形式书写的正确形式如下：</p>\n<pre class=\"brush: javascript\">\n// Envent handler as Properties\nwindow.onload=function (){\n	setInterval(\"get_precise_time(\'2011-05-25 16:55:00\', \'time2\')\", 100); \n	setInterval(\"get_precise_time(\'2011-07-01 00:00:00\', \'time3\')\", 100); \n}\n</pre>\n<pre class=\"brush: javascript\">\n// Event handler with DOM Level 2\nif (window.addEventListener)\n	window.addEventListener(\"load\", a2, false);\nelse if (window.attachEvent) \n	window.attachEvent(\"onload\", a2);\nif (window.addEventListener)\n	window.addEventListener(\"load\", a3, false);\nelse if (window.attachEvent) \n	window.attachEvent(\"onload\", a2);\n</pre>\n\n<p></p>\n<p></p>\n<p></p>\n',NULL,1,1,'N',0,'util.js','2011-06-25 09:50:45','2014-02-27 13:20:18'),(119,'andro满月后，父母回老家了','<p>\n今天早上父母就要回老家了。一早上我先到市场上买了些花生和糖。到家后不久向姐就过来\n了、拿了几件她之前穿的旧衣服，原来是母亲打电话给她说金艳没有合适的衣服穿，\n让她拿几件旧的过来。金艳穿上向姐拿的衣服后我才发现我们俩是多么得不会买衣服，\n金艳穿上棉的、宽松的衣服看上去不错，而前天晚上我们俩到苗苗她妈店里买的紧身的打底\n裤现在看来穿上去是那么得别扭。本来打算的是我和金艳去给孩子理发，\n回来再看看电动车，然后母亲再回去。这期间荆豪过来送饭盒，\n母亲让荆豪给大姐打电话问一会是否回去，这样可以先把老爸送回去。\n大姐答应一会到门口时给妈妈打电话。大姐过来的时候，二姐和我拿着挂面、\n我拿着装花生和糖的包，刚出楼栋没多远，看见大姐了。因为二姐走在前面，\n大姐和二姐说了两句。看见大姐，我问她这么多东西能不能装下，她没有理我。\n现在想来，我那一点可怜的自尊啊！\n</p><br>\n\n<p>\n送走老爸，老妈也准备回去了。马上就要开始较长时间的三口之家的生活了啊～！\n想想也是，老爸、老妈还有姐姐他们可以帮自己照看孩子一段时间，\n但更多的时间还是需要我们自己来～，毕竟这是我们俩自己的孩子～！\n这是我们这个小家庭分内的事情～！\n</p><br>\n\n<p>\n我骑着电动车带着金艳和孩子去理发、洗澡。andro 剪完头发精神多了～，\n同时发现他从摆满月酒到现在的这七、八天里有增重了近两斤，现在都快九斤了～！\n</p>\n',NULL,2,1,'N',0,'util.js','2011-06-26 16:52:25','2014-02-27 13:20:18'),(120,'二明买房借钱、金艳全天照看安琢首日','<p>\n上午厂区安装一台自动分离机器，厂长让我协调他们的安装。\n下午看到阮一峰的网志上讲解 JavaScript 里 Prototype 的含义、用他的方式。\n记得自己在学习此内容时也疑惑过，也似懂非懂地做过一些笔记，有必要复习一下，\n看看他对此内容的理解和自己有何异同。\n</p><br>\n\n<p>\n今天是金艳全天照看安琢的第一天。下午下班后回家问及如何，还没说两句，\n金艳眼中已有泪珠，他说孩子今天一天都没怎么睡觉，放不到床上，一放就闹。\n母亲中午也打电话给她询问情况，我问她还能坚持多久，她说要是像今天这样，\n她坚持不了几天。唉，谁知道他们娘俩能坚持多久，老婆辛苦！\n</p><br>\n\n<p>\n晚上快十点，二明突然打电话过来，他要买房子，想借一万块钱。唉，同学既然开口了，\n不借不合适啊，明天一早跟金艳商量此事，希望她不会因为此事闹情绪。\n事后想想我跟二明的通话，感觉自己在朋友向自己借钱的问题上沟通欠妥。\n我问他需要多少钱，他说你能借多少；我说五千？他说一万有吗？呵呵，\n虽然最后十有八九要借钱给他，但话说得不够漂亮。不如先问一些细节，\n从中问出些情况。比如买的是新房还是二手房、首付多少、目前已经准备了多少、\n还差多少等等，等问明白了，再根据这些信息给他一个比较合适的数目。\n估计以后还会接到类似的电话，羊马上也要在郑州买房子了……\n</p>\n',NULL,2,1,'N',0,'util.js','2011-06-28 22:27:33','2014-02-27 13:20:18'),(121,'自己写了个订单管理系统','<p>\n好几天晚上没有写日记了。\n</p><br>\n\n<p>\n早上金艳和我在吃早饭的时候把安琢放在沙发上。有一个立起来的沙发垫放在安琢的头上方，我正在厨房的时候，突然沙发垫倒了下来，压到了孩子，把我们一家三口都吓得不轻。\n这两日的主要工作是写了一个管理公司订单的系统，接下来的几天时间里进行精雕细琢，\n争取得到经理的认可。周日晚上大姐又从客厅窗户外递过来一套安踏的短袖和短裤，\n我能够感觉到大姐这是在为将来我能到她的厂里帮忙进行铺垫……\n</p>\n',NULL,2,1,'N',0,'util.js','2011-07-05 22:13:56','2014-02-27 13:20:18'),(122,'电子订单管理应用日志','<!--\n<h3>2012/01/06</h3><ol><li>\n</li><li>\n</li></ol>\n	<ul><li>\n	</li><li>\n	</li></ul>\n<pre class=\"brush: javascript\">\n</pre>\n-->\n<h3>2012/04/13</h3><ol><li>\n<pre>\n0	等待初审\n1	等待复审\n2	等待付款\n3	已付款\n4	等待付款 (未初审)\n5	已付款 (未初审)\n6	等待付款 (未复审)\n7	已付款 (未复审)\n</pre>\n</li></ol>\n<h3>2012/03/30</h3><ol><li>\n在验证用户是否选择 radio button 时使用如下语句\n<pre class=\"brush: javascript\">\nvar company_bank_type = wd.find(\"input[name=company_bank_type]:checked\").val();\n//! wrong\nif (company_bank_type == \'\') {//...}\n// ok\nif (company_bank_type == undefined) {//...}\n</pre>\n</li><li>\n</li></ol>\n<h3>2012/03/28</h3><ol><li>\nBug:厂区人员在进行出库操作时没有选择提货人和经办人信息导致数据未存储上，\n同样的问题发生在销售人员身上：填写客户资料时，因网速问题，选择省份信息后城市\n下拉菜单未能及时显示，导致数据未保存，从而使收货地址字符串中出现\"0\"的字样，\n让销售感到疑惑。这两个问题都属于 Select box 下拉菜单数据合法性验证的范畴；\n</li><li>\n</li></ol>\n<h3>2012/03/23</h3><ol><li>\n让 JS 函数接受可选参数：\n<pre class=\"brush: javascript\">\ndress_result_set_table($(\"#filterOrderOutFactoryColorbox\"));\n</pre>\n</li><li>\n</li></ol>\n\n<h3>2012/03/21</h3><ol><li>\nV0.0.13 Change Logs:\n	<ol><li>\n	改进货物运输方式环节：之前分别在 om_addresses 和 om_companies 中分别保存名为\n	\'客户自提\' 的记录，用以记录那些不通过快递发货的订单。这里的问题是没有将现实中\n	这一事务转化为数据库。现在想来，这些其实是订单 Entity 的一个属性而已；\n	</li><li>\n	<b>纠正订单货物单价精度过低的问题：</b>对订单系统来说，数据库中货物单价列\n	小数点后精度的选择要考虑两个因素：一、货物的价格特点。若货物的单价很大，\n	例如大型设备的单价一般都是元为基数，这时，精度不用太高，小数点后两位\n	（精确到分）即可，若货物单价基数是角，这时，精度应精确到厘；\n	二、是否存在多个币种。若业务范围仅限国内，则参考因素一即可。若客户遍及全球，\n	就要考虑汇率问题，单价人民币 0.03 精度是够的，但转换成美元或英镑，精度就不够；\n	</li><li>\n	舍弃货物出库环节 hardcode 代码，使得可以添加、编辑提货人和经办人；\n	</li><li>\n	加入每月销售报表下载功能，用到类库 PHPExcel;\n	</li><li>\n	开始面向对象的编程方法，创建订单类<tt>YalongOrderClass</tt>,\n	好处很明显：将原 md.template-functions.php 中函数重新组织，变得有序；\n	</li><li>\n	修正了厂区和销售部门统计月销售的方法不同的问题， \n	统一为以订单货物出厂时间为标准；\n	</li></ol>\n</li><li>\n</li></ol>\n\n<a name=\"20120319\"></a>\n<h3>2012/03/19</h3><ol><li>\nTODO: 会计授权信息“备注”尽快显示出来；\n</li><li>\n重大 Bug: 现有单价精度（小数点后两位）不能满足以美元结算的订单。\n以今天刘森报告的 538 订单为例，输入单价是 $0.034/ct, 订货量为250,000克拉。\n订单总额为 $8,500, 但由于单价列<tt>uprice</tt>类型为<tt>DECIMAL(5,2)</tt>,\n导致单价存储为 $0.03/ct,这样一来，使得通过订货列表计算的总金额仅为 $7,500,\n比实际一下少了整整 $1,000! 赶快将精度扩大至四位。有此得到的经验如下：\n<b>若物品单价较小，或交易币种有美元、英镑等的时候，\n单价精度应精确到小数点后四位为佳。</b>\n</li></ol>\n<h3>2012/03/16</h3><ol><li>\n通过 AJAX 将表单元素的值传递到服务器时，若表单元素根本不存在（如选择“送货上门”时，根本不存在名为 \'address_id\'\n的 radio box 元素，那么其值为<tt>undefined</tt>, 传递到服务器的到的值是<tt>NULL</tt>,\n非字符串<tt>\'undefined\'</tt>;如果该元素存在（隐藏起来，像 \'uprice\'），那么其值为空字符<tt>\'\'</tt>, \n到服务器的值也是<tt>\'\'</tt>.\n<pre class=\"brush: php\">\n//! 错误写法\n$crt_purity       = ($_POST[\"purity\".$i] == \'undefined\') ? \"NULL\" : $_POST[\"purity\".$i];\n$crt_purity       = ($_POST[\"purity\".$i] == NULL) ? \"NULL\" : \"\'\".$_POST[\"purity\".$i].\"\'\";\n</pre>\n</li></ol>\n\n<h3>2012/03/14</h3><ol><li>\n昨下午厂里发货范波的货后没有发货记录。经查，该订单的 address_id 为特殊的\n”客户自提“，而发货时，获取客户 id 失败，见如下代码：\n<pre class=\"brush: php\">\ncase \'batch_dispatch_sbmt\':\n	$order_ids_arr = explode(\'_\',$_POST[\'order_ids\']);\n	//! Bug line\n	$customer_id = $db-&gt;get_var(\"SELECT company_id FROM om_addresses WHERE address_id = \".$_POST[\'address_id\']);\n	...\n	break;\n</pre>\n<pre class=\"brush: php\">\n// Fixed\n$customer_id = $db-&gt;get_var(\"SELECT customer_id FROM om_orders WHERE order_id = \".$order_ids_arr[0]);\n</pre>\n</li><li>\n范苗误授权一个单笔结算订单，让我来改。我只是将授权信息列值设为 \'NULL\',\n过会儿范又过来说首页看不到那个订单。这才发现只删除授权信息是不够的，\n还需将订单状态由“工厂备货”改为“款额未到”。有必要增加此功能，而不是在 phpmyadmin\n里直接修改；\n</li><li>\n“款额未到/工厂备货“的订单排序改为按时间降序排列，而不是按订单状态；\n</li><li>\n“陈奎 右岸桃花 2012-03-14 11:36:08: 筛选的地方点不进去吗？ ”\n筛选出来的订单列表还是加上订单详情的链接吧\n</li></ol>\n<h3>2012/03/13</h3><ol><li>\n感冒了。上午升级系统后 bug 频出，让身体状况不佳的我心情很是糟糕，\n竟有种心灰意冷之感。此刻想想还需振作，一个一个问题去解决。\n	<ul><li>\n	升级后，login 页面提示数据库信息有误。刘森使用的是英文版的 Chrome,\n	导致提示信息显示为乱码。之前想的通用的数据库基本信息设置方法不可行了？\n	在未找到好的解决方法前，提示信息以中英文为佳；\n	</li><li>\n	首页及客户管理页面速度奇慢，估计是动态生成国家 Select box 占用时间；\n	</li><li>\n	林在使用过程中频出问题。先是修改订单后数据（订单状态、粒度）丢失，\n	之后在提交订单后的预览界面无法正常显示地址信息；\n	<br>\n	<b>原因</b>：观察 jQuery 事件后发现林电脑上的 Chorme 使用的还是修改前的\n	js.private.editorder.js 文件。推测 Chrome 实际读取的仍为缓存中的老文件，\n	这也就不难理解上述错误了。将林的 Chrome 升级为新版，并删除历史数据后问题\n	解决；\n	</li><li>\n	自己努力改善过的首页林竟丝毫无感觉，仍旧到订单管理页面进行操作；\n	订单管理页面“提交订单”按钮去除让林感到不习惯。再次说明用户用习惯了东西\n	不要轻易地移除！\n	</li><li>\n	订单货物出库选择提货人时没有考虑到客户可能直接去工厂提货，这种情况让保存\n	经办人和提货人 id 这一方法失效，改用存储字符串的形式；\n	<br>\n	<b>Update:</b>存储字符串的问题在于 radio 按钮是 hardcode 形式。\n	经办人和提货人由于指责相对简单，可以不必存入 users 表而改存如 term_taxonomy\n	(V0.0.13 解决)\n	</li><li>\n	财务授权时发现系统在 IE 下根本授权按钮根本无法使用，且界面显示有问题：\n	左侧导航栏在 IE 下竟非固定；\n	</li><li>\n	ajax-pipe 数据传输在网速慢的情况下反应迟钝；\n	</li><li>\n	将收获地址细分后，用户根本不理你，省、市名称已经选择过了，街道名称照样还\n	是写进去。这下体会到为什么淘宝的街道名称栏里有“不要重复填写省、市”的字样\n	了。\n	</li></ul>\n</li><li>\n上述问题让自己意识到确保现有功能的安全、易用的重要性，收支新功能还是先放下；\n</li></ol>\n<h3>2012/03/09</h3><ol><li>\nom_orders 表的问题：\n<br>\n发货人进行“货已备齐”操作时，仅仅将订单的状态由 \"order\" 改为 \"ready\",\n此操作其实还有更多有用的信息值得写入。\n<br>\n司机或发货人取货时需要在精简订单上签字。纸质精简订单上的信息有：经办人、\n提货人和提货时间。将此三属性添加进 om_orders 表中除了实现纸质精简订单上所有信息\n都存储在系统中外，更重要的好处是可以解决月底销售和厂里对帐时的一个问题。\n厂里和系统计算销量的方法不同：厂里以货物出包料间的时间为依据；系统则是以销售人员\n将货物实际发出为依据。这样只需专门为厂里根据“提货时间”为排序依据整理出出货量即可\n</li><li>\n</li></ol>\n<h3>2012/03/07</h3><ol><li>\n使用 JS 读取表单数据时务必看清表单元素，是 input 还是 select box 还是 textarea?\n<pre class=\"brush: javascript\">\ndata: {\n	 do: \'sbmt_edit_customer_addr\'\n	,country_id: $(\"select[name=country_id_da] option:selected\").val()\n	,province_a: $(\"input[name=province_a_da]\").val()\n	,street_a: $(\"textarea[name=street_a_da]\").val()\n}\n</pre>\n</li><li>\nTypo 害死人，\'edi_disp_addr\' 少了个 \'t\' 忙了好久；\n<pre class=\"brush: php\">\ncase \'mk_china_city_select_box\':\n	if ($_POST[\'type\'] == \'edi_disp_addr\') {\n		om_mk_china_city_select_box(\'city_m_da\',$_POST[\'province_name\']);\n	} else {\n		om_mk_china_city_select_box(\'city_m\',$_POST[\'province_name\']);\n	}\nbreak;\n</pre>\n</li><li>\n新建订单时想实现页面不重载的情况下创建客户，完成后自动将刚刚添加的客户名称\n加入 Select Box并设为选中。编写时需要生成一个 option　元素，但没有成功，\n查阅资料后发现原来是使用<tt>$()</tt>方法新建标签元素的方法不对：\n<pre class=\"brush: javascript\">\n//! Wrong: 带有属性的标签不能直接使用此种方法\nvar new_option = $(\"&lt;option value=\\\"\"+asso[\"customer_id\"]+\"\\\" selected=\\\"selected\\\"&gt;\"+asso[\"full_name\"]+\"&lt;/option&gt;\");\nnew_option.appendTo($(\"select[name=customer_id] optgroup:last\"));\n\n// Right\nvar new_option = $(\'&lt;option/&gt;\', {\n	 value: asso[\"customer_id\"]\n	,selected: \'selected\'\n	,html: asso[\"full_name\"]\n});\n// 更简单的方法\nvar cc = \"&lt;p class=\\\"yellowBG\\\"&gt;Hello&lt;/p&gt;\";\n$(cc).appendTo($(\"#a8\"));\n</pre>\n</li><li>\n在订单页面添加发货地址和在客户页面添加的相同之处在于两者都需要对表单进行相同的\n交互（元素之间的联动、数据合法性验证），都需要使用 AJAX 将记录写入数据库；\n不同之处在于：一、客户页面是通过添加链接的 \'id\' 属性获取该地址属于哪个客户：\n<pre class=\"brush: javascript\">\n$(\".createCustomerAddressL\").click(function(){\n	var customer_id = $(this).attr(\"id\");\n});\n</pre>\n而订单提交页面则是通过客户 select box 选中的条目的 \'value\' 属性获得：\n<pre class=\"brush: javascript\">\n$(\'input[name=address_id]\').change(function(){\n	...\n	if ($(this).val() == \'0\') {\n		var bi = boxy_input(\'#createDispAddrDiv\',\'新建发货地址\');\n		// 通过当前选中的客户下拉菜单获得客户 ID\n		var curr_customer_id = $(\"select[name=customer_id] optgroup option:selected\").val();\n		$(\"input[name=customer_id_n]\").val(curr_customer_id);\n	}\n});\n</pre>\n二、两者数据写入操作之后的动作不同（类似创建客户）：客户页面添加完仍停留在该客户\n管理界面；而订单页面提交后需要使用 AJAX 将刚写入的数据变成一个发货记录字符串。\n基于以上两点，将相同的部分用自定义函数以模块的形式放在 md.public.custom-function.php 中供调用；\n\n</li></ol>\n<h3>2012/03/03</h3><ol><li>\nPHP echo 语句不能很好的解释关系数组？\n<pre class=\"brush: php\">\n//! wrong\necho \"&lt;td align=\\\"center\\\"&gt;&lt;a class=\\\"btn greenHover agreeMonthAuthL\\\" id=\\\"$known[$i][\'customer_id\']\\\"&gt;到帐授权&lt;/a&gt;&lt;/td&gt;\\n\";\n</pre>\n</li><li>\n</li></ol>\n\n<h3>2012/03/02</h3><ol><li>\n硬化进代码的除了“客户自提”，还有就是标注公司类别的 id 了，\n现在新增一条物流公司信息, <tt>category_id</tt>列是硬化成 \'12\' 的。\n结果就因为 id 错误而保存失败；\n</li><li>\nhardcode 的弊端在创建、修改物流公司信息时表现得淋漓尽致；不得不多查询一次！\n<pre class=\"brush: php\">\n$category = db_var(\'term_id\',\'om_term_taxonomy\',\'term_slug\',\'logistics\');\n</pre>\n</li><li>\n弹出新窗口打印精简订单和发货清单时需要在 JS 下获取当前网址（localhost \n还是 outstanding），在网上搜到一个 JS 属性<tt>window.location.href</tt>\n能解决问题，但不优雅；\n<pre class=\"brush: javascript\">\n$(\".smallListLink\").click(function(){\n	var order_id = $(this).attr(\'id\');\n	var size = \"width=1000,height=500,left=150,top=100,toolbar=no,scrollbars=no,location=no,resizable=no\";\n	var nw = window.open(\n		window.location.href.split(\'eorder\')[0]+\'eorder/simple-print.php?order_id=\'+order_id,\n		\'\',\n		size\n	);\n	return false;\n});\n</pre>\n</li><li>\n2 月份销售中又有几个样品销售忘记输入。在提货单上签字时，如果实际的货物和单子上的\n数量不同，当时就提出来更正，就避免了月底漏洞百出；\n</li><li>\n德国廉涛订单状态先是”款额未到“，但实际上货已发出。销售在更改结算方式后，\n\'status\' 列值未更新，仍为 \'unpaid\';\n<br>\n老问题了，修改订单时出了修改“结算方式”，还要修改“订单状态”。\n之前想用 jQuery 实现之间的联动未果；\n</li><li>\n工厂手工记账的发货日期是按货物出厂时间为准，而系统里是按货物交由货运公司为准。\n因为此，每到月底都要集中修改发货日期；\n</li><li>\n注意：今天财务授权国瑞升的订单时，创建一个“免费”的帐户，用来授权样品订单……\n</li><li>\n从财务授权的角度来看：“协议结算”和“按月结算”有差别吗？\n</li></ol>\n\n<h3>2012/03/01</h3><ol><li>\n将发货按钮从 om_mk_orders_table() 中移除；\n</li><li>\nTwist function <tt>om_mk_table_header()</tt>, 使其可以跨列，\n利于类似“操作”类的显示。当中发现一现象：\n<pre class=\"brush: php\">\nfunction om_mk_track_button($logisticsSlug, $billNo) {\n	//...\n	echo \"&lt;form class=\\\"trackOrder\\\" action=\\\"http://x.action\\\" method=post  target=\\\"_blank\\\"&gt;\\n\";\n	echo \"&lt;input type=\\\"submit\\\" class=\\\"submit\\\" name=\\\"submit\\\" value=\\\"跟踪\\\"&gt;\";\n	echo \"&lt;input type=\\\"hidden\\\" name=\\\"waybillNo\\\" value=\\\"$billNo\\\" /&gt;\";\n	echo \"&lt;/form&gt;\"; \n	//...\n}\n</pre>\n这是生成跟踪订单按钮的自定义函数片段。\n在使用如下代码调用此函数时发现问题：\n<pre class=\"brush: php\">\n// Wrong\necho \"&lt;td&gt;\".om_mk_track_button($logis_slug,$r-&gt;list_UID).\"&lt;/td&gt;\\n\";\n</pre>\n每一行的“跟踪”按钮都跑到了表格<b>外面</b>。PHP 的解释过程可能是这个样子：\n碰到<tt>echo</tt>语句后尝试输出内容，之后是字符连接操作符 \'.\',之后是自定义函数，\nPHP 优先执行自定义函数，而自定义函数的作用也是输出操作\n（而不是 return  一个字符），所以执行自定义函数内的 echo 语句，\n这也就是为什么跟踪按钮跑到表格外面的原因（此时单元格结束标签还未输出）。\n所以，正确的写法应该是：\n<pre class=\"brush: php\">\necho \"&lt;td&gt;\";\necho om_mk_track_button($logis_slug,$r-&gt;list_UID);\necho \"&lt;/td&gt;\\n\";\n</pre>\n</li><li>\norder.php 页面 default 部分完全可以不要呀；\n</li><li>\n为什么表格名称以单数为佳\n<br>\n表名中单词的复数形式多种多样，以 E-Order 应用表格为例,<tt>om_companies</tt>\n中的 \'companies\' 是变 \'y\' 为 \'i\' 加 \'es\', <tt>om_orders</tt>中的 \'orders\'\n是直接加 \'s\', 而<tt>om_dispatch</tt>,<tt>om_mapping</tt>则根本没有复数形式。\n复数形式在写数据库语句时需要不停地考虑单词的复数形式是什么，很容易写错。\n有时不得不反复查询表格结构。如果都用单数形式，那么写起代码来无疑即简单又高效；\n另：更改表名易，更改列名称难；\n</li><li>\n表格设计：创建名称为“客户自提”的虚拟物流公司有更自然、更好的表现方式:\n在表 \'om_dispatch\' 中添加一个<tt>dilever_way ENUM(\'logistics\',\'self-fetch\')</tt>\n即可解决在代码中硬化“客户自提”的弊端；\n</li></ol>\n<h3>2012/02/29</h3><ol><li>\n发货时若选择“客户自提”，则隐藏无关的输入框，反之显示。\n这里使用了 \'hardcode\', 如果使用新数据，能确保“客户自提”这个特殊的“公司”的 \ncompany_id 值一定是 \'158\' 吗？\n<pre class=\"brush: javascript\">\n$(\'select[name=logistics_id_disp]\').change(function(){\n	var logis_id = $(this).find(\'option:selected\').attr(\'value\'); \n	if (logis_id == \'158\') { // ?\n		$(\"#viaLogisArea\").slideUp();\n	} else {\n		$(\"#viaLogisArea\").slideDown();\n	}\n});\n</pre>\n</li><li>\n自定义了 Boxy 样式的提示信息，很友好。\n<pre class=\"brush: javascript\">\nfunction msg(type,str) {\n	var bx = new Boxy($(\'&lt;div class=\"\'+type+\'\"&gt;\'+str+\'&lt;/div&gt;\'), {\n		draggable:false,\n		center:false,\n	});\n	window.setTimeout(function() { bx.hide(); }, 1500);\n	return false;\n}\n</pre>\n问题：\nJavascript 不能像 PHP 那样在函数参数中预先赋值：\n<pre class=\"brush: javascript\">\nfunction msg(type=\'error\',str) {...}\n</pre>\n</li><li>\n数据库操作又一常见的错误：枚举类型存储时忘加引号！\'address_id\' 列可以直接使用是\n因为它是数值类型！\n<pre class=\"brush: php\">\n//! payment_way 列存储忘记引号\n$db-&gt;query(\"INSERT INTO om_dispatch \n	(`customer_id`,`address_id`,`payment_way`,`bill_type``c_time`) \n	VALUES ($customer_id,{$_POST[\'address_id\']},{$_POST[\'payment_way\']},NOW())\");\n</pre>\n</li><li>\n修改发货信息时，当付款方式为“协议结算”时，费用栏应为不可见。\n但似乎有 bug, 不是每次都能隐藏起来；\n</li></ol>\n\n<h3>2012/02/18</h3><ol><li>\n统一按钮的样式\n<br>\n应用中类似添加、编辑及删除按钮虽是用<tt>&lt;a&gt;</tt>标签，但实际上都已不再指向\n某个地址了，即<tt>href</tt>属性已不再用。何况<tt>href</tt>本身就是个可选属性。\n所以以后的按钮都不再使用该属性。\n<br>\n表格记录中经常用需要对每一行记录中的按钮添加事件，常用到\n<tt>$(\'.xxx\').click()</tt>样式，但统一样式也需要用到 class 属性。\n两者能同时满足吗？如下代码，修改按钮和删除按钮的<tt>class</tt>属性中都含有\n<tt>btn</tt>, 这是按钮样式；<tt>editLogisLink</tt> 和<tt>delLogisLink</tt>\n仅用于 jQuery 识别，自身没有样式，类似于<tt>id</tt>属性；\n<pre class=\"brush: xml\">\n&lt;td&gt;&lt;a id=\"e1\" class=\"editLogisLink btn\"&gt;修改&lt;/a&gt; | &lt;a id=\"d1\" class=\"delLogisLink btn\" &gt;删除&lt;/a&gt;&lt;/td&gt;\n</pre>\n</li><li>\n</li></ol>\n\n<h3>2012/02/10</h3><ol><li>\n将数据库表格结构的变化完成后再统一修改代码；\n</li><li>\n</li></ol>\n\n<h3>2012/02/09</h3><ol><li>\n不同打印机打印（printer-adjust.html）页面时校对坐标是不同。在偏好设置里记录下该\n数值，然后进行偏移。默认的偏移值给的大大的（比横坐标最靠右的值还大，5CM合适），\n然后来减；\n</li><li>\n</li></ol>\n\n<h3>2012/02/04</h3><ol><li>\n突发需求：有的客户（如常兴）发货时随正常订单外可能还附有补货，\n此时需要在发货清单上以备注的形式注明；\n</li><li>\n客户“安徽天长董玉龙”资料重复，彻底删除一个客户真是繁琐；\n</li></ol>\n<h3>2012/02/03</h3><ol><li>\n由于本地数据库和网站（位于虚拟空间）上的数据库的帐号信息不同，\n在本地和远端的数据同步过程中，常常因为使用错误的帐号信息而导致程序不可用。\n其实，利用<tt>$_SERVER[\'SERVER_NAME\']</tt>在本地和远端的值不同，\n可以使用一个简单的判断轻松解决此问题；\n<pre class=\"brush: php\">\nif ($_SERVER[\'SERVER_NAME\'] == \'www.outstanding.com.hk\') {\n	define(\'DB_NAME\',     \'outstand_trekshot\');\n	define(\'DB_USER\',     \'outstand_root\');\n	define(\'DB_PASSWORD\', \'******\');\n	define(\'DB_HOST\',     \'localhost\');\n} elseif ($_SERVER[\'SERVER_NAME\'] == \'localhost\') {\n	define(\'DB_NAME\',     \'eorder\');\n	define(\'DB_USER\',     \'root\');\n	define(\'DB_PASSWORD\', \'******\');\n	define(\'DB_HOST\',     \'localhost\');\n}\n</pre>\n一个变量可以省去一个文件，要善于使用此技巧；\n</li><li>\n</li></ol>\n<h3>2012/02/02</h3><ol><li>\n让发货人员在订单周期的各个阶段（备货、发货、已发货）都可轻松打印发货清单、\n精简订单；\n</li></ol>\n<h3>2012/02/01</h3><ol><li>\n优化“销售统计”页面中每月销售明细（用于销售对帐）\n模块<tt>make_products_month_sale_detail_table()</tt>；\n</li><li>\n自定义函数命名约定问题：<tt>om_mk_</tt>还是<tt>om_get_</tt>？<br>\n一般来说，\'mk\'指那些用于生成一段完整 HTML 内容的函数，例如生成订单记录表格的函数\n我们可以命名为<tt>om_mk_orders_table()</tt>. 而 \'get\' 指用来快捷获取一个信息，\n之后我们再用 HTML 标签对其“包装”，例如计算多个订单总订货量的函数\n<tt>om_get_orders_qtt()</tt>;\n</li></ol>\n<h3>2012/01/31</h3><ol><li>\n&radic; 范苗：“为什么订单系统我写的备注看不到啊“\n</li><li>\n在发货信息搜集页面 collect-logis-info.php 中为了省劲，发件人输入框的\n<tt>value</tt>属性的值设为“陈”。现在发货工作移交给刘绘杰，必须修改该页面源码。\n这类信息直接在系统内修改为佳；\n</li><li>\n&radic;\n准备改进 sales-data.php 页面时，发现一个怪现象：在 Chrome 下工作正常的 JS \n特效在 Firefox 下不工作，经搜索原因在于\n<a href=\"http://stackoverflow.com/questions/1367195/preventdefault-wont-work-on-firefox\">\nFirefox 不支持 jQuery 的<tt>event.preventDefault()</tt>\n</a>的缘故，解决方式将<tt>event.preventDefault()</tt>替换为<tt>return false;</tt>\n</li><li>\n&radic;\n生产部帐号首页“已发货”位置，结果集中应为 dispatch_id 而非 order_id, \n一次发货包含多个订单（如赵宏涛）的情况下，将漏掉订单信息，引起用户不解；\n</li><li>\n财务明明没有授权，订单状态显示却为“等待发货”<br>\n林洁琼重复添加客户重庆川仪，自己删除后发现怪异现象：川仪的订单是单笔结算，\n且财务没有授权，但订单状态变为“工厂备货”，继而变为“等待发货”。\n可能是自己删除相关记录时造成的。同时林建议将财务授权信息显性显示。\n</li></ol>\n<h3>2012/01/06</h3><ol><li>\n筛选结果集时，为避免因 AJAX 处理时间过久让用户误以为页面没反应，\n加入特效解决。是用动态加载图片来显示更佳；\n<pre class=\"brush: javascript\">\n$.ajax({ \n	type: \"POST\", \n	url: \"md.ajax-pipe.php\", \n	data: \"do=filter_order_records&order_id=\"+order_id\n		+\"&start_time=\"+start_time\n		+\"&end_time=\"+end_time\n		+\"&customer_id=\"+customer_id\n}).done(function( msg ) {\n	$(\'#orderResultSetDiv\').empty();\n	$(\'#orderResultSetDiv\').slideUp(); // 1\n	$(msg).appendTo($(\'#orderResultSetDiv\'));\n	dress_result_set_table();\n	make_order_link_tip();\n	$(\'#orderResultSetDiv\').slideDown();// 2\n});\n</pre>\n</li><li>\n</li></ol>\n<h3>2012/01/05</h3><ol><li>\n纠正筛选日期结束日期当天记录没计入的 bug:\n<a target=\"_blank\" href=\"http://www.5idev.com/p-php_mysql_between.shtml\">Ref</a>\n<pre class=\"brush: sql\">\nSELECT * FROM table WHERE column_time BETWEEN \'2008-08-08 20:00:00\' AND \'2008-12-31 23:59:59\'\n</pre>\n</li><li>\n</li></ol>\n<h3>2011/12/30</h3><ol><li>\n<tt>dress_result_set_table();</tt>\n</li><li>\n目前下拉菜单使用有两处：选择客户名称和选择物流公司。完全可以用函数统一表示。\n可能的选项：\n	<ul><li>\n需要加一个开关参数选项<tt>$disableTip</tt>：提示信息（option 值为 0）行是否禁用。\n该选项在新建订单时有用，但筛选时不用；\n	</li><li>\n这里面有个根据客户自动选择最常用货运公司的功能；先舍弃，看有无更好的方法；\n<pre class=\"brush: php\">\n// Find my favorite logistic company :) on 11/4/11\n$favorite_logis = $db-&gt;get_row(\"\n	SELECT logistics_id, COUNT(*) FROM om_dispatch \n	WHERE customer_id = $customer_id \n	GROUP BY logistics_id ORDER BY COUNT(*) \n	DESC LIMIT 1\");\n</pre>\n	</li><li>\n下拉菜单的条目可能需要缩进排列以显示层次。例如公司帐号、个人帐号部分；\n<br>参 manage.php 页面<tt>make_options_bank(0,1,\'bank_account\',null);</tt>部分；\n	</li></ul>\n创建：<tt>mk_customer_select_box($name,$disableTip)</tt>\n<br>\n创建：<tt>mk_logistics_select_box($name,$disableTip)</tt>, \n</li><li>\n通过在每个页面顶端创建自定义 JS 文件名数组的方式将每个页面中专有的 JS \n代码独立出来；\n<pre class=\"brush: php\">\n// in md.header.php\nif (!empty ($private_js_file)) {\n	foreach ($private_js_file as $j) { \n		echo \"  <script src=\\\"$j\\\"></script>\\n\";\n	}\n// in single page\n$private_js_file = array(\"js.private.filter-orders.js\");\n</pre>\n</li></ol>\n\n<h3>2011/12/29</h3><ol><li>\n<pre class=\"brush: javascript\">\nvar logistics_id = $(\'#filterLogis\':checked).val();	//!\nvar logistics_id = $(\'select[name=filterLogis]\').find(\'option:selected\').attr(\'value\');\n</pre>\n</li><li>\n</li></ol>\n<h3>2011/12/28</h3><ol><li>\n发货管理页面：\n<br>\n发货单 AJAX 便笺功能完成。类似的便笺中经常要计算某（几）个订单的货物\n总数，新建计算货物总数的函数：<tt>count_goods_qutity($orderId)</tt>,\n其参数可以是单个订单单号，或者是几个订单单号数组；\n</li><li>\n着手订单和发货记录的筛选功能。每次加载所有记录太影响速度。对于该模块，\n自己<span class=\"yellowBG\">理想的状态</span>是类似 Google 搜索的样式：\n根据用户选择的筛选条件动态显示结果集，而不用单击“筛选”按钮；\n</li><li>\n发货快递公司选择：\n<br>\n客户很可能指定货运公司，或者某货运公司在某次运输中的差劲表现会让客户从此不再使用\n该货运公司。客户偏好设置最好能保存下来。例如，在客户页面中有该选项，\n同时提交订单时也加入此选项，并给出设置偏好的页面链接；\n</li><li>\n宽版视觉效果不好呀。除了订单管理、发货管理这两个页面中的结果集表格较宽以外，\n其它多数页面内容都很有限。抽空尝试类似新浪微博的 SNS 站点固定宽度的样式。\n</li></ol>\n\n<h3>2011/12/26</h3><ol><li>\n对销售人员来说，修改订单和删除订单的操作条件是相同的：\n订单款额未到帐且货物还没由工厂发出；用代码实现如下：\n<pre class=\"brush: javascript\">\nif ( (($curr_order_asso-&gt;status == \'unpaid\') or ($curr_order_asso-&gt;status == \'order\')or ($curr_order_asso-&gt;status == \'ready\')) \n	and ($curr_order_asso-&gt;authorized_time == \'\')) {\n	//...\n}\n</pre>\n</li><li>\nQuirks:\n<br>\n两个 jQuery 插件：日期选取和文本框输入自动完成。问题：若将下面两行引用代码调换顺序，\n将发生输入框自动完成功能失效！\n<pre class=\"brush: xml\">\n&lt;script type=\'text/javascript\' src=\'js.jquery.tools.min.js\'&gt;&lt;/script&gt;\n&lt;script type=\'text/javascript\' src=\'js.jquery.autocomplete.js\'&gt;&lt;/script&gt;\n</pre>\n</li></ol>\n<pre>\n五\n\n其他帮派呢？！有没有想过其他帮派？！！\n冯敬尧：“就说我不在家。”\n冯敬尧：“许文强就快要帮我做事了。”\n“阿力，我们迟早要各走各的。“\n</pre>\n<h3>2011/12/22</h3><ol><li>\n三：\n	<ul><li>\n许文强：“我们俩想试试我们自己的能力。“\n	</li><li>\n冯敬尧：”如果能年轻 20 年，我也会这么做的。”\n	</li></ul>\n</li><li>\n四：\n	<ul><li>\n“阿力，靠人不如靠自己。有时候要做最坏的打算。”\n	</li><li>\n“创造比守望更重要。”——冯程程\n	</li><li>\n雪中漫步\n	</li><li>\n\"阿力，有人在利用你的时候，他会对你很好。不利用你的时候，会怎样？“\n	</li><li>\n”我怕她以后回来找你。“”你放心，这种事不会发生。”\n	</li></ul>\n五\n	<ul><li>\n	d\n	</li><li>\n	</li></ul>\n</li><li>\n</li></ol>\n<h3>2011/12/21</h3><ol><li>\nQuirks:必须要加上双引号。是因为是数字的原因吗？\n<pre class=\"brush: javascript\">\n$(this).find(\'option[value=\"\'+goods[count].purity+\'\"]\').attr(\'selected\',\'selected\');\n$(this).find(\'option[value=\"0.15\"]\').attr(\'selected\',\'selected\'); // Not work\n</pre>\n</li></ol>\n<h3>2011/12/19</h3><ol><li>\n使用 jQuery 向 textarea 表单元素取值、赋值时的方法：\n<pre class=\"brush: javascript\">\n$(\'textarea[name=order_note]\').val(\'value\');\n</pre>\n</li></ol>\n<h3>2011/11/17</h3><ol><li>\n能发现下面代码的错误之处吗？\n<pre class=\"brush: php\">\n$order_data = $db-&gt;get_row(\"SELECT * FROM om_orders WHERE order_id = $_POST[\'order_id\']\");\n</pre>\n</li></ol>\n<h3>2011/11/15</h3><ol><li>\n<pre class=\"brush: javascript\">\nfunction number_format(num) {\n	if (num.indexOf(\',\') == -1) { // number without \',\'\n		var slice_arr = num.split(\'\');\n		slice_arr = slice_arr.reverse();\n		var len = slice_arr.length;\n		var new_arr = new Array();\n		var final_arr = new Array();\n		if (len%3 == 0) {\n			var comma_num = (len - len%3)/3 - 1;\n		} else {\n			var comma_num = (len - len%3)/3;\n		}\n		for (var i = 0; i &lt; comma_num; i++) {\n			for (var j = 0; j &lt; 3; j++) {\n				new_arr[j] = slice_arr.shift();\n			}\n			final_arr[i] = new_arr.reverse();\n			new_arr = [];\n		}\n		var ff = new Array();\n		ff[0] = slice_arr.reverse().join(\'\');\n		for (var i = (comma_num - 1); i &gt;= 0 ; i--) {\n			ff.push(final_arr[i].join(\'\'));\n		}\n		return ff.join(\',\');\n	} else {\n		var slice_arr = num.split(\'\');\n		var s = \'\';\n		for (var i = 0; i &lt; slice_arr.length; i++) {\n			if (slice_arr[i] != \',\') {\n				s += slice_arr[i];\n			}\n		}\n		return number_format(s);\n	}\n}\n</li></ol>\n</pre>\n<h3>2011/11/12</h3><ol><li>\n限定文本输入框只能输入数字和英文逗号、句号：\n<br>\n新问题：该事件仅是从<b>输入</b>角度进行限制，\n限制字符可通过复制的方式进入输入框。因此，还应加入离开时再次验证的部分；\n<br>\n不对，下面的代码把最起码的 Backspace, Tab 和左右键都屏蔽了，\n得改（这种现象在 Chrome 下不存在，在 Firefox 下存在）；\n<pre class=\"brush: javascript\">\n	$(\'input[name=qutity0]\').keypress(function(event) {\n		var keyCode = event.which;\n		// 44: \',\'; 46: \'.\'\n		if (keyCode == 44 || (keyCode &gt;= 48 && keyCode &lt;=57))\n			return true;\n		else\n			return false;}).focus(function() {\n				this.style.imeMode=\'disabled\';});\n	$(\'input[name=uprice0]\').keypress(function(event) {\n		var keyCode = event.which;\n		// 44: \',\'; 46: \'.\'\n		if (keyCode == 46 || (keyCode &gt;= 48 && keyCode &lt;=57))\n			return true;\n		else\n			return false;}).focus(function() {\n				this.style.imeMode=\'disabled\';});\n</pre>\n</li><li>\n使用 ajax 存储数据；\n<pre class=\"brush: javascript\">\n	echo \"customer_id: \".$customer_id.\"&lt;br&gt;address_id: \".$address_id.\"&lt;br&gt;via: \".$via;\n	// span 标签是显示正常的关键！务必将裸露的数据用标签包起来再传递！\n	echo \"&lt;span&gt;customer_id: \".$customer_id.\"&lt;br&gt;address_id: \".$address_id.\"&lt;br&gt;via: \".$via.\"&lt;/span&gt;\";\n</pre>\n</li></ol>\n<h3>2011/12/10</h3><ol><li>\n这怎么就不行了？\n<pre class=\"brush: javascript\">\n$(\'#orderPreviewAjax\').click(function(){\n	dc.hide();\n	$.ajax({ \n		type: \"POST\", \n		url: \"md.ajax-pipe.php\", \n		data: \"do=insert_order&customer_id=\"+customer_id+\"&address_id=\"+address_id+\"&via=\"+via+\"&payment_way=\"+payment_way+\"&has_invoice=\"+has_invoice+\"&has_goods_list=\"+has_goods_list+\"&has_particle_chart=\"+has_particle_chart+\"&charge=\"+charge+\"&currency=\"+currency+\"&status=\"+status+\"&property=formal&action=sell&order_note=\"+order_note+goods_chain+\"&goods_num=\"+num2\n	}).done(function( msg ) {\n		var log_msg = new Boxy($(msg), {\n			draggable:false,\n			modal:true\n		});\n	});\n});\n</pre>\n</li><li>\n</li></ol>\n<h3>2011/12/8</h3><ol><li>\n今日成果：使用 AJAX 在不重载页面的情况下获取远端数据！\n</li><li>\n鼠标移动上一个效果，移走另一个效果；\n<pre class=\"brush: javascript\">\n$(\'.tbRow\').hover(\n	function(){\n		$(this).addClass(\'oddBG\');\n	},\n	function(){\n		$(this).removeClass(\'oddBG\');\n	}\n);\n</pre>\n</li><li>\n在新订单提交表单上线前，需要对数据库进行变更：\n	<ul><li>\n	<tt>om_goods</tt>添加列<tt>is_sample enum(\'y\',\'n\')</tt>;\n	</li><li>\n	将之前的所有样品订单中所有 goods 的<tt>is_sample</tt>属性改为\n	<tt>\'y\'</tt>,剩余的改为<tt>\'n\'</tt>;\n	</li><li>\n	更新<tt>om_goods</tt>的 INSERT 语句；\n	</li></ul>\n</li></ol>\n<h3>2011/12/7</h3><ol><li>\n今日成果：解决动态添加订单产品的功能；<br>\n新的困难：使用 AJAX 在不加载页面的前提下获取某个客户的发货地址信息；\n提示：想想 autocomplete 的实现；\n</li></ol>\n\n<h3>2011/12/5</h3><ol><li>\n11 月份销售数据出入：\n	<ul><li>\n	公司制作的 Excel 销售表的依据是纸质出货单。\n	这种单据由于不是专由一人负责而导致很易出现差错。具体表现为：漏开、重开；\n	</li><li>\n	样品订单再次有漏输现象，这次是销售人员将样品内容写在订单备注内而\n	没有单独添加；\n	</li></ul>\n</li><li>\n</li></ol>\n\n<h3>2011/12/3</h3><ol><li>\n验证 appendTo() 的用法，单机链接将一个元素插入某区块内\n<pre class=\"brush: xml\">\n&lt;a id=\"t2\" href=\"javascript: void();\"&gt;add&lt;/a&gt;\n&lt;p id=\"p3\"&gt;p3&lt;/p&gt;\n</pre>\n<pre class=\"brush: javascript\">\n	$(\'#t2\').click(function() {\n		$(\'ha\').appendTo(\'#p3\');	// wrong\n		$(\'&lt;span&gt;ha&lt;/span&gt;\').appendTo(\'#p3\');	// workable\n	});\n</pre>\n</li><li>\n</li></ol>\n\n<h3>2011/12/1</h3><ol><li>\n家中电脑上发现 sales-data.php 中两个表格记录排序有问题，查看发现 SELECT \n语句并没有<tt>ORDER BY c_time</tt>, 难道备份有问题？\n<pre class=\"brush: php\">\n$dispatch_ids = $db-&gt;get_col(\"SELECT dispatch_id FROM om_dispatch \n                 WHERE date_format(c_time,\'%Y%m\') = \'$ym\' \n		 AND goods_type = \'order\' ORDER BY c_time\");\n</pre>\n</li><li>\n</li></ol>\n<h3>2011/11/26</h3><ol><li>\n费劲的写法：文本输入区域中<tt>cols</tt>和<tt>rows</tt>两个属性可用 CSS 样式实现（<tt>width,height</tt>）；\n<pre class=\"brush: xml\">\n&lt;textarea id=\"ztoTxtaSenderAddr\" cols=\"36\" rows=\"2\" wrap=\"virtual\"&gt;&lt;/textarea&gt;\n</pre>\n</li><li>\n</li></ol>\n<h3>2011/11/25</h3><ol><li>\n公司的三角尺拿了过来，今天集中力量解决订单打印功能；\n</li><li>\n<span class=\"redBG\">Bug: </span>Fixed\n小林的订单筛选功能不准确。具体表现为输入“常兴”输出不但有常兴，还有亚龙和东迪欣；\n<pre class=\"brush: php\">\nfunction tf_make_orders_table($customerId) {\n...\n		if (in_array($g_id,$g_mainland_salers)) {\n			foreach ($g_mainland_salers as $id) {\n				$slice[] = \"added_by = $id\";\n			}\n//!			$cdt = $cid.\" AND \".implode(\" OR \",$slice).\" ORDER BY status,c_time DESC, order_id DESC\";\n			$cdt = $cid.\" AND (\".implode(\" OR \",$slice).\") ORDER BY status,c_time DESC, order_id DESC\";\n		} elseif (in_array($g_id,$g_aboard_salers)) {\n			foreach ($g_aboard_salers as $id) {\n				$slice[] = \"added_by = $id\";\n			}\n//!			$cdt = $cid.\" AND \".implode(\" OR \",$slice).\" ORDER BY status,c_time DESC, order_id DESC\";\n			$cdt = $cid.\" AND (\".implode(\" OR \",$slice).\") ORDER BY status,c_time DESC, order_id DESC\";\n		} elseif ($g_id == 7) {\n			$cdt = $cid.\" ORDER BY status,c_time DESC, order_id DESC\";\n		}\n...\n}\n</pre>\n</li></ol>\n<h3>2011/11/24</h3><ol><li>\n在实现资金流管理功能之前，有必要将现有表格进行优化、整合。\n现有表格的问题：\n	<ol><li>\n	为实现资金流管理，若保持现有表格结构不变，那么需要增加新表 om_suppliers,\n	om_banks, om_expense, om_cash_flow 和 om_income 这么多表。\n	</li><li>\n	实际上 om_customers, om_suppliers 和 om_logistics 这三个表有个共同点：\n	他们某种意义上说都是“公司”，只是所属类别不同（客户、供货方、物流），\n	且他们三者具有“银行帐户”这个属性；\n	</li></ol>\n因此，将 om_logistics 表中公司名列分到 om_companies 表中，\n将剩余部分分到 om_addresses 和 om_banks 两个表中很有必要。\n</li><li>\n</li></ol>\n\n<h3>2011/11/23</h3><ol><li>\n<pre>\nom_expense		fundflow.php\n  expense_id\n  expense_type (\'cash\',\'bank_transfer\')\n  supplier_id\n  bank_id\n  expense_desc\n  expense_category_id\n  evidence enum(\'invoice\',\'receipt\')\n  is_evidence_received enum(\'y\',\'n\')\n  charge\n  added_by\n  c_time\n  auth_by\n  auth_time\n  fa_by\n  fa_time\n\nom_cash_flow		cashflow.php\n  cf_id\n  cf_type enum(\'in\',\'out\')\n  expense_id\n  amount\n  cf_note\n  added_by\n  c_time\nom_income\n</pre>\n</li><li>\n<span class=\"redBG\">Bug: </span>\n<tt>customer_id</tt>名字起得不够通用，<tt>company_id</tt>更好。\n不管是客户还是供货商，统称为公司；\n<pre>\nmysql&gt; desc om_addresses;\n+-------------+-----------------+------+-----+---------+----------------+\n| Field       | Type            | Null | Key | Default | Extra          |\n+-------------+-----------------+------+-----+---------+----------------+\n| address_id  | int(5) unsigned | NO   | PRI | NULL    | auto_increment | \n| customer_id | int(5)          | YES  |     | NULL    |                | \n...\n+-------------+-----------------+------+-----+---------+----------------+\n</pre>\n</li><li>\nom_users 表 role 列该增加 staff 角色了(黄榆林）；\n</li><li>\n</li></ol>\n\n<h3>2011/11/21</h3><ol><li>\n教训：\n数据库结构发生变化时除了需要更新代码中相应<tt>INSERT</tt>语句外，\n还应<b>检查所有<tt>SELECT</tt>语句</b>，因为虽然不涉及到列的问题，\n但<a \n    href=\"/p/essay/v.php?name=110125-php-foreach-warning.php#foreachError3\">\n<tt>SELECT</tt>出的结果集可能由于结构的变化而发生变化；</a>\n</li><li>\n</li></ol>\n\n<h3>2011/11/19</h3><ol><li>\nTodo: 小林问快递单号，说公司网速太慢打不开。加固结果集筛选功能，加快载入速度；\n<br>\n改进：其实刚发走的货物直接在销售的首页上显示单号岂不更好？\n</li><li>\n</li></ol>\n\n<h3>2011/11/18</h3><ol><li>\n程序发布时应做的<br>\n程序建立之初应预添加一个名为“客户自提”的“物流公司”，且该记录不可删除，\n用该 ID 在代码中使用，目前的ID 为 ‘13’；\n</li><li>\n圆通今天来结帐，最近对 dispatch 功能的改进正好可以派上用场。\n完全可以用程序来自动计算运费；\n<br>\n圆通资费规则：深圳：10+8: 1KG内10块，超过1KG没公斤8块；江浙沪：10+6;\n</li><li>\n<span class=\"redBG\">Bug: </span>\nom_mapping 中存有已经删除的订单号；\n</li></ol>\n\n<h3>2011/11/17</h3><ol><li>\ndispatch_table 完全没必要显示客户自提的订单；\n</li><li>\nom_dispatch 表格结构改变后对代码修改的工作量很大（许多逻辑频繁使用到的列\n<tt>order_id</tt>去掉了），这说明在建立表格之初就确定一些关键的结构设计很重要。\n同时一些属性（om_dispatch 表中的 bill_type 列等）\n在表格设计初期能想到的尽量都添加上，\n以避免后续添加带来的代码修改（主要是 INSERT 语句）；\n</li><li>\n单单一个快递发货提交表单里面就有很多逻辑关系。例如，\n快递费对协议结算的单子和到付的单子都没有实际意义，完全可以“隐藏”起来。\n这些隐藏、显示的逻辑处理好的话不管是对用户还是系统本身都可提高效率；\n</li></ol>\n\n<h3>2011/11/16</h3><ol><li>\nDB 类中<tt>db_r()</tt>和<tt>$db-&gt;get_row()</tt>搞混；\n</li><li>\n将 dispatch_id2order_id 映射关系保存到表 om_mapping 未必是好事，\n代码大量通过 om_dispatch 表直接获取 order_id,\n需要改动的内容太多；\n</li><li>\nL9-L14 的目的是将符合要求的订单号存到数组<tt>$order_ids</tt>中，\n但由于该 foreach 循环嵌套在另外一个循环中，因此当外层循环开始新的循环时，\n此时的<tt>$order_ids</tt>变量保存的还是上次循环中的值，因而导致错误。\n因此<b>嵌套循环中的变量使用要特别注意初始化；</b>\n<pre class=\"brush: php\">\nfunction tf_count_month_qutity2($yearMonth) {\n	global $db,$g_mainland_salers,$g_aborad_salers;\n	$month_customers = $db-&gt;get_col(\"SELECT DISTINCT customer_id FROM om_dispatch WHERE date_format(c_time,\'%Y%m\') = $yearMonth ORDER BY customer_id DESC\");\n	if ($month_customers != null) {\n		foreach ($month_customers as $c) {\n			$dispatch_ids = $db-&gt;get_col(\"SELECT dispatch_id FROM om_dispatch \n				WHERE date_format(c_time,\'%Y%m\') = $yearMonth AND customer_id = \'$c\'\");\n			$order_ids = array();	//漏写导致出错的行\n			foreach ($dispatch_ids as $did) {\n				$order_ids_arr = $db-&gt;get_col(\"SELECT to_id FROM om_mapping WHERE from2to = \'dispatch_id2order_id\' AND from_id = $did\"); \n				foreach ($order_ids_arr as $i) {\n					$order_ids[] = $i;\n				}\n			}\n			$total = 0;\n\n			foreach ($order_ids as $o) {...}\n		}\n	}\n	...\n}\n</pre>\n</li></ol>\n<h3>2011/11/15</h3><ol><li>\n问题：小林输入国瑞升的具体要求，结果输错一个数字（\'0.46\' 输成 \'1.46\'）；\n如何避免？上传图片吗？\n</li></ol>\n<h3>2011/11/14</h3><ol><li>\n<span class=\"redBG\">Bug: </span>Fixed\n“已授权订单”：到帐银行的币种不止人民币一种，计算总额是应区别对待；\n已修改函数<tt>tf_make_authed_orders_table($bankId)</tt>;\n</li><li>\nV0.0.8\n马静离职。跟单时客户不变，销售人员一直在变，应具有为销售人员分配客户的功能；\n客户分区：\n	<ol><li>\n	om_term_taxonomy 表添加列 customer_category, 添加\'mainland\',\n	\'aboard\'两项。om_customers 表添加列 category;\n	</li><li>\n	om_customers 结构发生变化，更新新增记录的语句；\n	</li><li>\n	customer.php, md.array-vars.php, order.php, update.php  四个页面更新；\n	</li></ol>\n前提：一个销售人员只能负责一个 customer_category 的客户；\n</li><li>\n删除销售人员数据：实际不删除，只是修改用户名和密码并隐藏之；\n</li></ol>\n<h3>2011/11/10</h3><ol><li>\nV0.0.9\n<pre class=\"brush: sql\">\n+--------------+\n| Field        |\n+--------------+\n| dispatch_id  | \n| customer_id  | \n| address_id   | \n| logistics_id | \n| order_id     | /* del */\n| list_UID     | \nbill_type	enum(\'prepaid\',\'forward\')\npayment_way	 enum(\'agreement\',\'cash\')\ngoods_type	 enum(\'order\',\'etc\')\n| weight       | \n| charge       | \n| added_by     | \n| c_time       | \npaid_time\ndispatch_note\n+--------------+\n</pre>\ndispatch 表的问题：记录中出了 order_id ，其它列所有内容均相同。\n目的就是把相同的内容抽离出来。但这和 customers 表的修改还不一样；\n<pre>\n+-------------+-------------+------------+--------------+----------+------------+--------+--------+----------+---------------------+\n| dispatch_id | customer_id | address_id | logistics_id | order_id | list_UID   | weight | charge | added_by | c_time              |\n+-------------+-------------+------------+--------------+----------+------------+--------+--------+----------+---------------------+\n|         135 |          39 |         40 |            3 |      195 | 9706165615 |   2.50 |   NULL |        2 | 2011-09-24 09:34:29 | \n|         136 |          39 |         40 |            3 |      194 | 9706165615 |   2.50 |   NULL |        2 | 2011-09-24 09:35:06 | \n+-------------+-------------+------------+--------------+----------+------------+--------+--------+----------+---------------------+\n</pre>\n新特性：\n	<ul><li>\n	提交发送诸如发票等非订单货物的功能（<tt>goods_type</tt>, \n	<tt>dispatch_note</tt>）；\n	</li><li>\n	增加更多快递单属性（到付/预付、现金结算/协议结算、付款时间）\n	来实现快递单费用的统计；\n	</li><li>\n	解决“多个订单打包发货时 dispatch 记录重复“的问题。\n	一个<tt>dispatch_id</tt>可能映射一个或多个<tt>order_id</tt>,\n	我们将原表中的<tt>order_id</tt>列移出，将这种映射关系存储到新建的表\n	<tt>om_mapping</tt>中（像 WP 存储分类、标签等）；\n	</li></ul>\n</li><li>\n步骤：\n	<ol><li>\n	新建表<tt>om_mapping</tt>, 将原<tt>om_dispatch</tt>中的 dispatch2order\n	的映射关系保存下来；\n	</li><li>\n	变更 dispatch 表结构，将新列添加进去；\n	</li><li>\n	更新所有涉及到 om_dispatch 表的代码；\n	</li></ol>\n</li><li>\n</li></ol>\n<h3>2011/11/9</h3><ol><li>\n预付款的订单发货后直接生成一个“费用申请”；\n</li><li>\n<span class=\"redBG\">Bug: </span>\n提交订单时没有选择“客户上门自提”，但在货物派送时选择了快递公司”客户自提“。\n此时将原订单的<tt>address_id</tt>更新为“客户自提”（Line 2）。这样的逻辑问题：\n<pre class=\"brush: php\">\nif ($logistics_id == 13) {\n	$db-&gt;query(\"UPDATE om_orders SET address_id = 1 WHERE (order_id = \'$order_id\')\");  //! Not needed\n	$db-&gt;query(\"UPDATE om_orders SET status = \'received\' WHERE (order_id = \'$order_id\')\"); \n} else {\n	$db-&gt;query(\"UPDATE om_orders SET status = \'sent\' WHERE (order_id = \'$order_id\')\"); \n}\n</pre>\n对于发货地址有多个的客户来说，该操作将<tt>address_id</tt>\n这一唯一标明货物去向的信息覆盖掉。\n其实“自提”这一信息在快递公司栏里已有反应，因此这一操作是多余的；\n</li><li>\n重启ID<tt>a8</tt>. 客户的区域划分、哪些销售人员负责哪个区域的客户？\n可以在页面实现，而不是固化在代码中；\n<pre class=\"brush: php\">\n// in md.array-vars.php\n$g_mainland_salers = array(3,5);\n$g_aboard_salers = array(1,2);\n</pre>\n</li><li>\n公司使用申通发的货都是单笔结算，是时候标注预付还是到付了；\n</li></ol>\n<h3>2011/11/7</h3><ol><li>\njQuery: <tt>mouseover, mouseout</tt>的<tt>mouseenter, mouseleave</tt>异同；\n</li><li>\n精简订单中要体现同一个客户的不同发货地址，比如对纳诺斯而言，\n发往日本的和发往深圳的要显性标注；\n</li><li>\n借助 jQuery 将所有表格统一样式，带来的好处是显而易见的。牵一发而动全身；\n</li></ol>\n\n<h3>2011/11/3</h3><ol><li>\n一般自定义函数：<tt>om_*</tt>,\n输出 HTML 内容的函数：<tt>om_mk_*</tt>,\n数据库操作函数：<tt>db_*</tt>\n</li><li>\n使用 jQuery 实现所有表格样式统一，鼠标停留的当前行高亮显示；\n<pre class=\"brush: javascript\">\n// Snippet in md.header.php\n$(document).ready(function(){\n	$(\".tableResultSet tr:odd\").addClass(\"oddRow\");\n	$(\".tableResultSet tr:even\").addClass(\"evenRow\");\n	$(\".tableHeader\").addClass(\"header\");\n	 \n	$(\".tableResultSet tr\").hover(function(){\n		$(this).addClass(\"hoverRow\");\n	});\n	$(\".tableResultSet tr\").mouseout(function(){\n		$(this).removeClass(\"hoverRow\");\n	});\n});\n</pre>\n<pre class=\"brush: xml\">\n&lt;table class=\"tableResultSet\" cellpadding=\"3\" cellspacing=\"2\"&gt;\n&lt;tr class=\"tableHeader\"&gt;\n  &lt;th&gt;订单号&lt;/th&gt;\n  &lt;th&gt;客户名称&lt;/th&gt;\n  &lt;th colspan=2&gt;动作&lt;/th&gt;&lt;/tr&gt;\n&lt;/table&gt;\n</pre>\n疑问：选择器 <tt>$(\".tableResultSet tr:odd\")</tt> 选择的是表格内\n<b>所有</b>行，包括<b>嵌套行</b>，故应找个\n</li></ol>\n\n<h3>2011/11/4</h3><ol><li>\n客户陈广明的情况：这次订单中先发一部分，连同上次换货的部分一同发走；\n</li><li>\n<b>给用户的限制越少越好</b>；Jane 喜欢把 DHL 的货运单号用空格分开；\n<br>\n起初想在订单号输入框后面加上一个“不要将订单号用空格隔开”的提醒，转念一想，\n何不用个函数将用户输入的多余的空格给去掉？\n<pre class=\"brush: php\">\nfunction om_delete_spaces_in_list_UID($str) {\n	$arr = str_split($str);\n	foreach ($arr as $a) {\n		if ($a != \' \') {\n			$new_arr[] = $a;\n		}\n	}\n	return implode(\'\',$new_arr);\n}\nom_delete_spaces_in_list_UID(\'652 586 9898\'); // \'6525869898\'\n</pre>\n</li></ol>\n<h3>2011/11/3</h3><ol><li>\n<span class=\"bug\">Bug: </span>\n提交订单中没有选择“上门自提”，待发货时选择“客户自提”这个“快递公司”时，\n被强制输入订单号和货物重量；\n<br>\n临时方案：取消客户端验证，期望用户自觉输入；\n</li><li>\n销售线性图文字说明表述不清：林觉得订单一旦提交就会纳入销售数据；\n</li><li>\n<span class=\"yellowBG\">因为是自动选择，可能会忘记输入，\nlogistics_id 还是 0! @11/15/11</span>\nTodo: 添加发货表单时应具有自动选择常用快递公司的功能，\n否则每次发货前都要查看该客户上次使用的快递公司；\n<pre class=\"brush: php\">\n// 智能选择最常用的发货公司\n$favorite_logis = $db-&gt;get_row(\"\n	SELECT logistics_id, COUNT(*) FROM om_dispatch \n	WHERE customer_id = $customer_id \n	GROUP BY logistics_id ORDER BY COUNT(*) \n	DESC LIMIT 1\");\nif ($favorite_logis != NULL) {\n	$favorite_logis_id = $favorite_logis-&gt;logistics_id;\n} else {\n	$favorite_logis_id = NULL;\n}\ntf_make_select_option(\"logistics_id\",$logis_opt_arr,$favorite_logis_id);\n</pre>\n</li><li>\nsales-data.php 页面修改完毕，将代码整合成模块函数以简化主页面；\n</li></ol>\n\n<h3>2011/11/2</h3><ol><li>\n按需学到一个数组函数，将元素追加到现有数组的前部：\n<pre class=\"brush: php\">array_unshift($ym_asso2,\'\');</pre>\n</li><li>\n<span class=\"redBG\">Bug: </span>\n发货提交表单的问题：重量栏和费用栏接受的数据均为数值型，\n但销售人员在使用中有往重量后面添加单位“KG”的，还有往费用栏写“月结”的，\n这些都导致<tt>om_dispatch</tt>插入记录失败；\n</li></ol>\n<h3>2011/11/1</h3><ol><li>\n<span class=\"redBG\">Bug: </span>\n研磨膏的浓度没存上， 由于 <a href=\"/p/essay/v.php?name=20111018-mysql-variable-null.php\">SQL 语句上做的一些变化并未考虑周全</a>\n</li><li>\nTODO: 亚龙自己的三个“客户“：一楼砂轮制作、制品厂和广安大厦完全可以合并；\n<br>\n前提：应先将原客户的发货地址信息补充完整再进行整合操作，\n否则将不知道是哪个部门的订单；\n</li><li>\n在实现国内、外客户订货量功能之前，将所有 root 添加的订单修改为林；\n<pre class=\"brush: sql\">\nupdate om_orders set added_by = 3 where (action = \'sell\' and added_by = 7);\n</pre>\n关于“<b>国内销量和国外销量</b>”：\n一个订单的销量算在国内还是国外取决于提交此订单的是谁，\n由于每个销售人员都有自己的客户（只能看到自己添加的客户），\n因此国内外销量的划分就是销售人员的划分。\n这就要求不能存在以 root 身份提交的订单。换句话说，\n订单的提交者只能是销售部门的人员；\n</li><li>\n程序的易用性：假如有一天自己离开了亚龙，而销售人员已经习惯使用此系统\n并继续使用，这就要求原来固化到程序中的内容\n（例如自动添加免费样品订单的客户）能够在页面中进行配置，\n如同 phpMyAdmin 那样。\n</li></ol>\n\n<h3>2011/10/31</h3><ol><li>\n10 月销售数据出入：\n<br>\n第一次和小林核对时相差 20 克拉，以为只是一个样品漏输，\n经过仔细核对才发现实际情况要复杂的多：\n	<ul><li>\n	从外面拿的镀镍样品（同样是免费的）网上计入，Excel 未计入（20cts）；\n	</li><li>\n	Excel 在复制 Jane 销售时 漏输入 10,100cts, 看来国内国外分开计算十分必要\n	</li><li>\n	日腾中样品订单漏输入一个（20cts）；\n	</li></ul>\n</li><li>\n<span class=\"redBG\">Bug: </span>\n删除订单后，<tt>om_goods</tt>中包含此 order_id 的记录已无实际意义，\n但却没有删除。这些“无用”的记录在统计库存时成了 bug 的根源；\n<br>\n删除<tt>om_goods</tt>中所有<tt>order_id</tt>已经不存在的记录；\n<pre class=\"brush: php\">\n$oids = $db-&gt;get_col(\"SELECT order_id FROM om_orders\");\n$oids_goods = $db-&gt;get_col(\"SELECT DISTINCT order_id FROM om_goods\");\nforeach ($oids_goods as $oid_g) {\n	if (!in_array($oid_g,$oids)) {\n		$useless_oids[] = $oid_g;\n	}\n}\nforeach ($useless_oids as $oid) {\n	$db-&gt;query(\"DELETE FROM om_goods WHERE order_id = $oid\"); // SH bug: 双引号内的变量没有识别出\n	dbg($db-&gt;rows_affected.\"行记录被删除\");\n}\n</pre>\n</li><li>\n\"已授权订单查询为什么不查看10月份以前的?\" -- 财务疑问\n<br>\n新功能的添加可能只对部分订单有效，因此必要的说明信息很重要，\n比如“到帐银行”和“库存统计”这两个功能，以减少用户使用过程中的疑惑；\n</li></ol>\n\n<h2>Week 43 (2011-10-23 -- 2011-10-29)</h2><ol><li>\n</li><li>\n</li></ol>\n<h3>2011/10/29</h3><ol><li>\n<span class=\"cmt\">Design: </span>\n小林需要修改客户的发货地址却找不到在哪修改，按钮太隐蔽，不够好用；\n<br>\n将\"查看发货地址“改为”修改发货地址“；\n</li><li>\n要粒度图，哪怕看不懂；要发票，哪怕不能报销\n<br>\n仿照 amazon 的发货清单样式进行调整。其中订单附件显示如下：\n<pre>\n是否包含发票：是\n是否包含粒度图：否\n</pre>\n有人提出此表述方式不妥，因为客户如果看到没有包含粒度图后，\n下次订货时就会索要，尽管粒度图对他没有实际上的帮助。\n这跟自己在 amazon 上购物一个道理，买书时每次都选择索要发票，\n虽然自己不能报销。自己心想：要发票是自己的合法权力呀，再说得让你们缴税！\n由于制作粒度报告是件繁琐的事情，因此内部系统还是不采用此方式。\n</li></ol>\n\n<h3>2011/10/28</h3><ol><li>\n<span class=\"redBG\">Bug: </span>\n国瑞升大货款额到帐后，订单的授权日期更新。但对应大货的样品订单却漏掉。\n样品订单不涉及授权结算；\n<br>\n方法：订单详情表格中“订单总额”和“到帐信息”两项添加一个判断，样品订单不显示这两项\n</li><li>\n款额先到帐客户的优先备货（赵宏涛）；\n</li><li>\n<span class=\"redBG\">Bug: </span>\n可爱的 Jane 填写派送单的时候“重量”一栏加上了个单位 \"kg\"，结果悲剧了，\n系统报错。唉，各种各样的情况呀！！\n</li></ol>\n\n<h3>2011/10/27</h3><ol><li>\ndispatch.php\n	<ul><li>\n	我们假定客户自提的订单都是单个的，没有批量发货的情况。\n	客户自提在填写快递公司之前已经提前处理；\n	</li><li>\n	样品订单和大货订单的单号一样，为了避免逐个进行回访，\n	使用程序找出所有单号相同的订单号后统一升级。\n	这样做有个前提：我们假设不同快递公司的单号都是唯一的；\n	<pre class=\"brush: php\">\n	$list_UID = db_var(\'list_UID\',\'om_dispatch\',\'order_id\',$_POST[\'order_id\']);;\n	$order_ids = $db-&gt;get_col(\"SELECT order_id FROM om_dispatch \n		WHERE list_UID = $list_UID\");\n	 \n	foreach ($order_ids as $order_id) {\n		$db-&gt;query(\"UPDATE om_orders SET status = \'received\', feedback = \'$feedback\' \n			WHERE (order_id = \'$order_id\')\"); \n		echo $db-&gt;rows_affected.\" line(s) has saved. This order has been sent!\";\n	} </pre>\n	</li></ul>\n</li><li>\n新特性如何以最佳方式告知用户\n<br>\nJane 添加完日腾中单子后问为何多出个订单，显然“自动添加样品订单”\n功能的说明不到位。\n</li><li>\n<a href=\"/p/essay/v.php?name=20111028-php-quirk-of-function-date.php\">\n函数<tt>date()</tt>的疑惑</a>\n<br>\n</li><li>\n逻辑设计错误\n<span class=\"yellowBG\">\n用户辛苦输入的数据一旦存储失败，务必显性告知！\n</span>\n<br>\n看 om_dispatch 表插入一行记录的代码片段：\n<pre class=\"brush: php\">\n// Make sure order_id in om_diapatch is unique. @9/15/11\n$order_id_in_db = $db-&gt;get_var(\"SELECT dispatch_id FROM om_dispatch WHERE order_id = \'$order_id\'\"); \n\nif ($order_id_in_db == NULL) {\n	$db-&gt;query(\"INSERT INTO om_dispatch (customer_id, address_id, logistics_id, order_id, list_UID, weight, charge, added_by, c_time) \n		VALUES ($customer_id,$address_id,$logistics_id,$order_id,$list_UID,$weight,$charge,$added_by,NOW())\");\n	echo \"Okey, Dispatch #\".$db-&gt;insert_id.\" has been created;\";\n	 \n	// Change this order\'s status from \'ready\' to \'sent\'.\n	$db-&gt;query(\"UPDATE om_orders SET status = \'sent\' WHERE (order_id = \'$order_id\')\"); \n\n} else {\n	out_msg(\"订单#\".$order_id_in_db.\"已经发货。不能重复添加。\".$g_goback);\n} </pre>\n基本过程包括两步：先是向 om_dispatch 表插入一条记录，然后将对应的 om_orders \n中记录状态更新。9 月 15 号曾经添加一个 if 判断，以防止重复添加发货记录。\n今天又遇见一个问题：om_dispatch 表格记录插入失败，om_orders 记录更新成功。\n而前者插入失败的情况下，后者的更新的无意义的。也就是说，\n这里<b>没有考虑 INSERT 操作失败的情况</b>。\n<pre class=\"brush: php\">\n// Fixed version\nif ($order_id_in_db == NULL) {\n	$db-&gt;query(\"INSERT INTO om_dispatch (customer_id, address_id, logistics_id, order_id, list_UID, weight, charge, added_by, c_time) \n		VALUES ($customer_id,$address_id,$logistics_id,$order_id,$list_UID,$weight,$charge,$added_by,NOW())\");\n	if ($db-&gt;insert_id == 0) {\n		out_error(\"stop\");\n	} else {\n		echo \"Okey, Dispatch #\".$db-&gt;insert_id.\" has been created;\";\n		// Change this order\'s status from \'ready\' to \'sent\'.\n		$db-&gt;query(\"UPDATE om_orders SET status = \'sent\' WHERE (order_id = \'$order_id\')\"); \n	}\n} else {\n	out_msg(\"订单#\".$order_id_in_db.\"已经发货。不能重复添加。\".$g_goback);\n} </pre>\n</li></ol>\n<h3>2011/10/26</h3><ol><li>\n<tt>om_products</tt>表<tt>product_note</tt>列无实际作用，删除；\n产品添加表单代码删除；\n</li><li>\n<tt>strpos()</tt>: 判断字符串中是否含有子字符串；\n<br>\n实现“将多个订单合并在一起打印发货清单“的功能，需要将多个订单号以\n<tt>\"order_id=34_45_123\"</tt>的格式保存在 URI 中。\n以<tt>order_id</tt>中是否包含<tt>\'_\'</tt>字符来判断是单一订单还是多个订单；\n<pre class=\"brush: php\">\nif (strpos($order_id,\'_\') == FALSE) { // single order mode\n} else { // muti orders mode\n}\n</pre>\n</li></ol>\n\n<h3>2011/10/22</h3><ol><li>\n一周小节：\n	<ul><li>\n	解决 phpmyadmin 中中文乱码的问题；\n	</li><li>\n	</li><li>\n	</li></ul>\n</li><li>\n可能的情况：本来是客户自提的，由于种种原因没有来，改用快递发走吧！或者刚好相反；\n所以就要求在发货的时候允许修改收货地址；\n<br>\n此情况实现起来很繁琐，先搁下。\n</li><li>\n</li></ol>\n\n<h3>2011/10/21</h3><ol><li>\n解决了国瑞升、常兴和日腾中三家客户自动添加样品订单的问题；\n</li><li>\n一个快件可能包含多个订单，回访其中一个订单时，同时将所有<tt>list_UID</tt>\n一样的订单的状态都更新之；\n</li><li>\n昨天自费使用EMS发货需要向会计报账；今天往梧州发砂轮。都要进入系统呀！\n</li></ol>\n\n<h3>2011/10/20</h3><ol><li>\n想要保证所有未输入的表单保存到数据库中为值<tt>NULL</tt>,\n就必须保证在新增、<b>更新</b>操作时进行非空验证；\n</li><li>\n发货时：若货物为客户上门自提，则在发货时不再搜集物流信息，而直接保存现有信息；\n</li><li>\n使用<tt>$db</tt>类取出表中整数类型的值还是整数吗？<br>\n否，变成了字符串。如下代码，我们取出客户表中的客户ID, 这在数据库中是整数，\n但传到 PHP 变量中就变成字符串了。\n<pre class=\"brush: php\">\n$customer_id = db_var(\'customer_id\',\'om_orders\',\'order_id\',1);\necho gettype($customer_id); // return \'string\'\n</pre>\n除了<tt>NULL</tt>, 所有非字符串类型（日期、整数）都将转化为字符型；\n</li><li>\n日本客户 KAMEI 的订单厂里传真没有接收到，而自己在已知日本客户的订单都会传真至\n厂里后没有打印简易订单，从而造成最迟明天发货的订单可能延后发货；\n	<ul><li>\n	将<tt>om_orders</tt>表中添加<tt>deadline</tt>列变得必要。\n	试想如果在 Deadline 前一天提醒一下的话，也不至于如此毫无准备；\n	</li><li>\n	最好是所有订单都通过网上传递，发什么传真啊？！\n	</li></ul>\n</li><li>\n深圳常兴总喜欢追加订单，然后一起发走；\n</li></ol>\n\n<h3>2011/10/19</h3><ol><li>\n如何用 jQuery 移出表单元素的一个属性（<tt>checked</tt>）？\n</li><li>\n收货地址添加在表单中，问题：客户自提怎么办？\n<br>\n创建<tt>om_addresses</tt>随即插入一条记录，标记为客户自提的地址；\n<b>注意：</b>这样做等于是将此地址信息“固化”进程序，只适合本公司，\n但是不具通用性；\n</li></ol>\n<h3>2011/10/15</h3><ol><li>\nUTF-8 编码下对中文按首字母排序的方法：\n<pre class=\"brush: sql\">select * from od order by convert(field using gbk); // \'field\' 为表的列名称</pre>\n<s>此方法不行，常见的汉字排序都有问题</s> 出问题的常见汉字“重庆”是个多音字，\nUTF8 是按照“重量”的发音进行排序，无伤大局；\n</li><li>\n从DB中读出的数据显示到页面上全是问号：\n<blockquote>\n你使用UTF8，那就需要在mysql_connect后面加一句SET NAMES UTF8，可消除乱码，如果使用GBK那就写SET NAMES GBK，如下：\n<pre class=\"brush: php\">\n$mysql_mylink = mysql_connect($mysql_host, $mysql_user, $mysql_pass);\nmysql_query(\"SET NAMES \'UTF8\'\"); </pre>\n</blockquote>\n</li><li>\n导入的数据中<tt>authorized_time</tt>列本来是<tt>NULL</tt>的，结果变成了\n<tt>0000-00-00 00:00:00</tt>;\n<br>\n<b>原因：</b>数据类型不匹配。<tt>DATATIME</tt>类型的列存储空字符\n<tt>\'\'</tt>将出现上述情况；\n</li></ol>\n\n<h3>2011/10/14</h3><ol><li>\n字符串 \"214_234_444\" 转换成整数是多少？\n根据下面的演示代码，我们可知 MySQL 有自己的数据类型转化规则。\n<pre class=\"brush: sql\">\nselect company_name from om_customers where customer_id = \'9_4\'; // 重庆天琢仪器仪表有限公司\nselect company_name from om_customers where customer_id = \'9\';   // 重庆天琢仪器仪表有限公司\n</pre>\n</li><li>\nv0.0.2 更新日志：\n	<ul><li>\n	添加批量发货功能 (dispatch.php)，但感觉逻辑不清，实现起来不够简单；\n	</li></ul>\n</li></ol>\n\n<h3>2011/10/13</h3><ol><li>\n<tt>logistics</tt> 升级涉及 DB 项：\n	<ol><li>\n	新建表<tt>om_logistics_branches</tt>\n	<pre>\nlogi_branch_id (PRI)\nlogi_id\nlogi_branch_name\nlogi_branch_contacter\nlogi_branch_phone1\nlogi_branch_phone2 </pre>\n	</li><li>\n	快递公司可以存到表<tt>om_term_taxonomy</tt>, <tt>term_taxonomy</tt>\n	列值为<tt>\'logistics\'</tt>; <br>\n	具体：遍历 om_logistics 表，将 logistics_id,logistics_name 和 \n	logistics_slug 三列的值存储至表 om_term_taxonomy;\n	</li><li>\n	删 <tt>om_logistics</tt>表<tt>site,c_time</tt>两列；\n	</li></ol>\n</li><li>\n使用<tt>mirror -R</tt>命令反镜像本地目录时，pChart 类库调用的字体文件\nmsyh.ttf (12M) 非常耗时，遂将目录<tt>fonts</tt>移动到<tt>eorder</tt>外部，\n以避免重复复制大文件，从而节省时间。<br>\n另：为和服务器端目录结构保持一致，将本地 eorder 目录移至 www 下；\n</li><li>\n似乎，找到了一种在本地查看服务器端动态的完美解决方案；\n</li><li>\n自动生成样品订单的功能；多个订单打包发货的功能；只发送订单订货量一部分的功能；\n</li><li>\n紧急：子客户比子货运公司更急！！\n</li></ol>\n\n<h3>2011/10/12</h3><ol><li>\n“中通”、“中通-桐柏路“、“中通到附”…… 快递公司不同的营业点和客户不同的发货地址一样\n，可以分离出来。另外\"到付\"应做为订单表的一列类表示；\n</li><li>\n财务授权时选择到款银行的功能完成；\n</li><li>\n<tt>freight_payment_way ENUM (\'prepaid\',\'forward\')</tt>.\nFreight prepaid: 运费预付 Freight forward: 运费到付\n</li><li>\n新页面 manage.php 中添加银行帐户信息时，没有对必填项进行 JS 非空验证，\n就是知道在相应表单元素中添加<tt>class=\"required\"</tt>后还是不起作用，\n原来是忘记在页面中添加如下代码！\n<pre>\n$().ready(function() { \n	$(\"#addBankAccount\").validate(); \n});\n</pre>\n</li><li>\n范苗对“所属父类”很迷惑；\n	<ul><li>\n	Done: 订单详情中应将授权银行相关信息更新。也就是多加个到帐银行信息；\n	</li></ul>\n</li><li>\n常见的数据库操作都可以再次封装，<tt>db_r()</tt>, 取出结果集；\n</li></ol>\n<h3>2011/10/11</h3><ol><li>\n会议要点：\n	<ul><li>\n	财务每月有成本核算。包括采购费（原材料和日常杂项）、快递费用、水电费、\n	电话费等杂项\n	</li><li>\n	Li 再次强调：微粉产品各粒度不能单独生产某一具体粒度。\n	表明粒度销售统计图没有必要；\n	</li></ul>\n</li><li>\n约定：针对数据库对象<tt>$db</tt>的简化操作函数前缀为\"<tt>db_</tt>\", \n如<tt>db_var()</tt>;\n</li><li>\nTodo: E-Orders App 增加一个夜间模式的样式；\n</li><li>\n经验, Todo：Debian Customize Theme: 修改窗口和输入框的字体色及背景色后 \nE-Orders App 受影响。结论：设定输入框、\n按钮等表单元素的样式时应显性表示字体色及背景色，\n防止用户在自',NULL,3,1,'N',0,'util.js','2011-07-15 10:58:57','2014-02-27 13:20:18'),(123,'在 Debian Lenny 中安装 Chrome 浏览器','Chrome 中有个将页面创建一个桌面应用链接的功能，\n其视觉效果类似与本地应用软件。该功能很适合公司的电子订单系统，\n让同事像使用本地软件一样使用该应用，而不必关注网页地址。\n在 Debian 下的具体步骤如下：\n<ol>\n	<li>从 Google Chrome 官方网站上下载 32 位安装文件：\n	<tt>google-chrome-stable_current_i386.deb</tt></li>\n	<li>在 root 帐号下将当前目录设置为<tt>/var/cache/apt/archives/</tt>,\n	并将下载的源文件复制至此目录下；</li>\n	<li>先后执行如下两条命令：\n	<pre>\nsudo dpkg -i google-chrome-stable_current_i386.deb \nsudo apt-get -f install</pre>\n	</li>\n	<li>使用 Alt + F2 调出命令窗口，输入 \"google-chrome\" 即可启动 Chrome;\n	</li>\n</ol>\n<h3>Update</h3>\n2012-02-16\n<br><br>\n该方法具有一定的通用性：Linux QQ 通过同样的方法安装。完成后在命令窗口中输入\n\"qq\"即可。\n<h3>Reference</h3>\n<ul>\n	<li><a target=\"_blank\" \n	href=\"http://www.debianadmin.com/how-to-install-google-chrome-in-debian.html\">How to install google chrome in Debian</a></li>\n</ul>\n<p></p>\n<p></p>\n',NULL,3,1,'N',0,'util.js','2011-07-19 11:30:57','2014-02-27 13:20:18'),(124,'电动车在雨中失灵','中午小任、小黄和李艳三个人到须水厂区吃饭。下午三、四点的时候下起雨来，\n我借了一个雨衣才得以回家不成想走到高速公路桥下的时候电动车失灵了！就这样时好时坏\n地跑到了三公像。之后彻底不行了，愣是蹬到家啊。郁闷。\n<br><br>\n\n今天对订单系统中的表格进行了简单优化，同时使得在自己的页面上对货物进行跟踪得以\n解决：把每个物流公司主页上查询货物的表单复制过来稍作改进即可比较完美地解决。\n明天的任务是实现多帐户管理的功能。此功能可参考 WordPress 相关代码。\n',NULL,2,1,'N',0,'util.js','2011-07-06 18:49:56','2014-02-27 13:20:18'),(125,'哥买宝马汽车了','<p class=\"cn\">\n晚上到二姐家修电脑，聊天的过程中得知哥买了一辆宝马车，同时又买了一套房子。\n感想：自己的亲人中竟有过得如此精彩的人啊！\n</p>\n',NULL,2,1,'N',0,'util.js','2011-08-15 17:22:49','2014-02-27 13:20:18'),(126,'老君山简介','<p class=\"cn\">\n老君山旅游风景区位于西岳华山之阳，地处秦岭东南段北端的陕西省洛南县巡检镇，\n在该地有一历史非常久远的喀斯特地貌溶洞，名曰“老君洞”，是县级重点文物保护单位，\n洞内溶柱林立，姿态万千，错落有致，特别是与道教传说中的神物酷似的“系牛柏、\n炼丹炉、圣君卧榻、天门、豆腐坊、仙塔、玉柱、青牛”等溶柱景观更是引人入胜，\n令人神往。相传太上老君从周国赶往秦国途中，在河南灵宝函谷关被关令尹喜拦住，\n要让这位当代最著名的思想家留下他的智慧来，于是缠着他，要他写一点著作，\n作为放他出关的条件，太上老君迫不得已著写了彪炳千秋的洋洋五千言《道德经》。\n太上老君对受制于人的尴尬处境深感关切，发誓要修得正果，\n他便来到洛南老君山潜心修炼。时年正月二十三，太上老君在老君洞终于功德圆满，\n修炼成仙，玉皇大帝亲驾相迎，也到此处与太上老君切磋仙道，遂成道教一统。\n后太上老君到达秦都西安，又降至终南山楼观台讲道，至此，\n道教传统才深深的扎根于中华大地。故民间人士在这陡峭的山崖上建造老君庙、\n玉皇殿以志纪念，老君庙、玉皇殿那历尽苍桑、饱经风霜的铮铮风骨，\n浩立于峭崖绝壁之巅，俨然向世界宣告中华道教在这里诞生。遍布山间的秦砖汉瓦、\n古迹遗存，承载着我们丰富的历史文化和先民们虔诚的神灵崇拜，民国八年，\n这里的乡民又勒石树碑，记载着这一史迹，于是，\n老君洞所在的群山峻岭也就叫起了“老君山”，老君山也就成了“中华道教第一山”。\n</p>\n\n第二项：道教文化艺术碑林\n\n    道教文化艺术碑林是老君山旅游开发项目的一个人文景观，将以老子的《道德经》为主线，辅以各界名流和游客的诗词、散文、观感、题词，全面、系统地再现道教文化艺术的博大精深，多角度、全方位地记录道教文化在老君山发扬光大的不朽历程。如果那位来宾有兴趣，我们可以给您免费提供一块碑位，永久留下您的人生足迹。大家现在看到的是我县原人大常委会主任闫光臣先生游老君山的观感诗。\n\n第三项：老君山生态旅游与老子文化\n    老君山和太上老君联系在一起，就有了十分丰富的文化内涵，太上老君的学名叫“老子”，他的著述叫《道德经》，是道教始祖和中国的哲学之父。\n    黑格尔把老子的思想和欧洲人的老祖宗的哲学相比，认为有着重要的共同之处，“有点像我们在西方哲学开始时那样的情形”。黑格尔尊崇老子哲学，把它同希腊哲学一样看成人类哲学的源头。黑格尔是十九世纪德国古典哲学的最伟大的代表，他的宏大的思辨哲学体系的建构终结传统的古典哲学。马克思主义哲学就是在批判和继承黑格尔和费尔巴哈的哲学中诞生的。\n    老子说：“治大国，若烹小鲜。”（第60章）这就是说，治理一个大国就像煎一条小鱼，要慢慢地将它煎熟，要自然而然，不要多翻动，否则就使鱼破碎得不成样子了。美国前总统里根很欣赏老子的这一智慧，深知其三味，他在1987年国情咨文中引用了老子的这句话，用这一理念来指导其经济政策,引起强烈反响，《老子》一书畅销美国，一时“纽约纸贵”。\n    现在，我们可以看出老子的这一团紫气，是飘到哪里就给哪里带来祥瑞，带来智慧的，这一团紫气不仅在中国飘了几千年，又飘出了国门，给世界带去了智慧的芳香。\n    因此，当老君山生态旅游与老子文化密切结合在一起的时候，洛南老君山就成了世界顶级的旅游资源，我们又成功地在旅游服务领域注册了“老君山”商标，开创了我国旅游业知识产权保护的先河。\n    中国有句古话，叫做“山不在高，有仙则名；水不在深，有龙则灵”，太上老君灵光照耀下的老君山生态旅游，让我们攀附在中国文化巨人的肩膀上，形成了旅游与文化的完美结合，得到各级旅游管理部门的充分肯定和社会各界的广泛认同。\n   \n    太上老君像 据史料记载：太上老君生卒年月不详。字伯阳，谥曰聃，春秋时楚国苦县人。曾任周朝守藏室之史。主无为之说，后世以为道家始祖。孔子尝往问礼，着有《道德经》五千余言。在现今社会各行业中，如：铁匠、煤窑匠、碗筷匠、磨刀匠、蹄铁匠等，皆祭拜老子为祖师爷。有的亦称为伯阳、太上老君、老聃、老君、老子、老子道君、李伯阳、李老君。为了纪念太上老君这一历史传奇人物，我们在这里建造“太上老君塑像”作为“中国道教之源 - 老君山”的标志性建筑，让历史文化与自然美景有一个完美的结合。塑像高约5米，底周宽约3米，居于老君殿（在建）前的小山之巅，背靠玉皇岭，西临禹坪川，居高临下，威仪凛然，是我市最具特色雕塑代表之作。塑像主人雍容华贵，步态轻盈，手握禅杖，俯瞰众生，令人肃然起敬。再现了道教教义中的“重现世，恤民生，察民情，疗民疾”的思想，直观的表现出道教创始地特有的“洞天福地”的深刻蕴义。\n\n    太上老君像体验点：感受道教文化历史渊源。老君山是一块神奇的地方，相传太上老君曾在此修炼成仙，功成名就之后，玉皇大帝亲驾相迎。\n \n\n第四项：天然氧吧\n\n    老君山空气清新，每立方厘米空气中含16万个负氧离子，如同天然氧吧。在老君山一天吸入的负氧离子，相当于在大城市里待一年。\n神奇的负离子来自森林的树木、枝叶尖端放电，来自绿色植物光合作用形成的光电效应。水分子的裂解也可产生大量负离子，神奇的负离子来自晨露雾气、雨水降落的过程中。\n老君山位于我国亚热带和暖温带的交汇区，生长着3200多种植物，这里的植物分布和生物多样性在全国首屈一指，是秦岭的重要组成部分，同样具有天然划分中国大陆南北气候的地理功能。\n老君山山高谷深、重峦叠嶂的地貌，清晨，云雾缭绕；日间，清风徐徐，鸟语花香，素有\"天然氧吧\"美誉，走进这片原生林，每一种珍稀动植物都在向您讲述一段久远而沧桑的生命历程。\n\n    油松林是攀登老君山的一条必经之路，这里绿荫闭天，油松盘根错节，栉比鳞次，山风吹来，松波阵阵，松涛汹涌，好似一片绿色海洋；若是您在林中小憩，清新凉爽的空气，不知名的鸟语，还有遍地的野花，定会让久居繁华都市的你忘乎所以。节假日邀三五朋友，畅游此地，不失为一件很惬意的事。这里是四季游玩的好去处。早春，万物复苏，百花争艳。炎夏，浓荫蔽日，山风清凉。金秋，红叶似火，野果飘香。深冬，雪峰皑皑、银装素裹。这里是著名的“天然氧吧”，其实，老君山处处都是“天然氧吧”，这里森林覆盖率达到了99%以上，其密度之高，保护之完整，堪称“秦巴之粹”。\n\n    油松林体验点：鸟语花香，这世外桃源般的仙境给您最大享受。整个林间空气清新，异常清净，沉美无比。\n \n\n第五项：龙藤沟\n\n    老君山上漫山遍野、纵横交错如灵蛇上山的龙藤及五颜六色、形状怪异的山花，据书上介绍，龙藤又名牛马藤、过山龙等，属热带生长植物，能在老君山景区生长属一大怪事。它落地生根，根又生藤，如行蛇走蟒般无止境在森林间、岩石上乱窜，形成了一个“龙蛇世界”。每到春暖花开时，满山的龙藤便挂满五颜六色、形态怪异的花，沁人心脾，构成了景区一大独特景观。\n    龙藤沟体验点：一路景色如锦绣画卷，令人陶醉。山林苍翠在浓荫蔽日的山林中拾级而上，呼吸着富氧离子的纯净的空气，了解着这千年历史的道教名山，放眼四望，莽莽山林尽收眼底，使您产生一种“一览众山小”的感觉。\n \n第六项：回心崖\n   \n    回心崖山势险峻，山崖峭立，山道崎岖，前历老君梨沟之艰，后临青龙背之险，意志不坚者多在此休息后下山，故称回心崖。\n    据说，人们如果被红尘干扰得不知如何才生活下去时，来到了这里，就可以悟出一切尘缘。也有人说，有人想来老君山归隐，来到这里，突然觉得红尘可恋，又改变主意回头。民国时期，也常有人独坐这里，或忧虑，或心灰意冷，但往往有老年的道人，会在其身边加以指点，或者，有素不相识的香客投以关注的一目，他顷刻间就会茅塞顿开，回心转意。据说到过回心崖的人，人生要豁达很多。\n\n    回心崖体验点：在回心崖前，举目仰视，万丈石壁，横立眼前，使人望而生畏，考验旅游者的意志。   \n \n\n第七项：青龙背\n   \n    青龙背位于老君仙洞前，是一突兀状山脊，两旁数丈深渊，高不可测，相传青龙背前的山洞中有条青龙，故而得名。青龙背上树木茂密，降低了突兀山状的惊险程度，有又钢制护栏防护，是登山爱好者最理想的攀缘之处。\n\n    青龙背体验点：青龙背上悬壁峭立，恰似一青龙昂首。崖下扎根石隙的几棵虬松宛如龙须，微风吹佛，恰似龙须飘飞。每当大雾袭来时，云雾升腾，青龙背如遨游在茫茫云海之中，有如腾云驾雾，云游太空，浓雾散去，睛空艳阳，满目青翠，远处峡谷，河流、田野、农庄清晰可辩。\n \n\n第八项：老君洞\n   \n    老君洞中现有天然溶柱形成的“圣君卧榻、系牛柏、炼丹炉、塔林、高山飞瀑、天门、青牛、豆腐坊”等道教信物，塑有太上老君像、玉皇大帝和王母娘娘牌位供香客朝拜，千百年来一直为道教信众朝圣之所。天然溶柱鬼斧神工般雕成的大自然奇观，与天然、原始的自然地貌融为一体，成为老君山生态旅游开发的一道亮丽的风景线。\n\n    老君洞体验点：清晨的阳光，直射到洞口那根溶柱上，象是参天松柏，给人以强烈的震撼，洞口布满各种岩溶地貌的钟乳石，让人目不暇接。\n \n第九项：观日台\n   \n    观日台位于老君山五峰之首——紫气东来峰，与老君仙洞之间，是回心崖的顶部，俯瞰山下，阡陌纵横；远眺群山连绵，起伏跌荡，满目苍郁。清晨，一轮白日喷薄而出，令人耳目一新。这里是老君山观看日出的最佳位置。\n\n    观日台体验点：天边的一缕红线，渐渐变宽变亮，继而成为了一条橙红色的云霞，一瞬间，一轮红日已跃出了云海，四周霞光万道，美不胜收。只见日吐万丝，霞光普照，山岭、松林无不染上金黄的色彩，大地同时七色交织，五彩缤纷。\n\n第十项：老君犁沟\n   \n    相传太上老君为解游人香客登山之艰难，扶犁犁出一条深沟，通往老君洞，是老君山景区新近开发出的又一条循环通道。与回心崖后的青牛洞互为照应，使老君山倍添神秘。\n\n    老君犁沟体验点：无限风光在险峰，老君犁沟传奇故事增添了许多动人的色彩。每当晴天一碧，万里无云，大有“一览众山小”之慨。构成一幅充满魅力的立体天然山水画。\n\n第十一项：瀑布崖\n\n    瀑布崖位于老君山景区中心位置，是陕南地区旅游层次最高的人工瀑布群。瀑布崖三面环山，一面背水，仰观瀑布白炼从天而降，令人心旷神诒。冬季河面冰封，白雪皑皑，徜徉河畔，有“北国风光，千里冰封，万里雪飘”之感。现在又新修一座人行铁桥，特意引导游客到此观赏，是老君山风光第一景。\n\n    瀑布崖体验点：飞瀑如注，倾喷而下，似滚雪涌潮，让人留恋往返。水深流静，以幽感人，以静悦宾，水剔透如玉，绿如翡翠。冬季时瀑布已成冰瀑，全部结冰，发出幽蓝柔光，寒冷之余，神秘无比。 \n',NULL,1,1,'N',0,'util.js','2011-08-25 14:39:06','2014-02-27 13:20:18'),(127,'母亲年迈','<img src=\"http://i751.photobucket.com/albums/xx154/chnkui/Andro/andro2011/img_0694.jpg\" class=\"bpImage\"><br>\n<img src=\"http://i751.photobucket.com/albums/xx154/chnkui/Andro/andro2011/img_0691.jpg\" class=\"bpImage\"><br>\n',NULL,1,1,'N',0,'util.js','2011-09-08 12:58:53','2014-02-27 13:20:18'),(128,'Andro发烧记','<p>\n这个周二早上出门忘带手机，快中午的时候，厂长到我办公室里跟我说J让我回家，\n说是andro好像发烧了。当时已临近中午，且下着小雨。来不及在厂里吃饭，带上雨衣，\n我开始骑车往家里赶。到家以后发现J由于孩子一直在闹也没吃上饭，\n我们两人商量着先到外面买些肉夹馍垫垫肚子然后直接去医院，结果买回来后发现极难吃。\n接下来需要决定的是去哪个医院，我们想直接到附近经常看病的一个诊所内看看算了，\n因为人民医院和妇幼保健院的服务质量及态度实在是一般。\n但另一方面又担心小诊所的水平一般而耽误小孩子的病情。最后我打电话想二姐咨询，\n二姐建议我去妇幼保健院，她说因为三个月的孩子小诊所一般都不给看。没办法，\n我们把andro包得严严实实的、打着伞，坐上去医院的出租车。\n</p><br><p>\n\n到了医院我们傻眼了，医院三点才上班。而我们俩都没带手机，\n估计离上班时间还有近两个小时，直后悔出来的时候怎么没考虑医院中午休息的情况。\n反正外面一直在下雨，直接在医院过道的椅子上等吧。走廊里时不时有人走过，\n有刚吃完饭往住院部去的，有丈夫陪着扛着大肚子的孕妇，\n也有一两个跟我们一样给小孩子看病的。就这么干等着，大概两点半左右的时候，\n一个六十岁左右的医生向儿科门诊室走过来，看着周围两个人起身，\n我判断八成这个人就是医生了。进屋后那个比较大的孩子的家长先看病，\n通过她和医生的交谈中，我发现这个医生好像东北那边的人，普通话听着很好听。\n第二个是一个抱着孩子的新爸爸，跟着他的还有他的老婆和父母，\n听他说他女儿才三十三天，医生说小孩子的面色太黄，让他们先去测黄疸值。\n接下来轮到我们了，我们告诉医生小孩子体温三十八度多，\n医生先问问是否咳嗽以及大便的情况，然后看了看小孩的口腔，\n接着用听诊器简单听了听胸口，最后判断说是由于冷热不均引起的扁桃体发炎并导致发烧。\n我问是不是因为晚上睡觉时没盖好的原因导致的发烧，\n医生说我能告诉你的是这个发烧是冷热不均引起的，至于原因自己去找。\n</p><br><p>\n\n看完病后，趁着天不下的空档，我们三个直接回老家了。晚上andro闹得特别厉害，\n哭的声音很响，母亲看着很发愁。晚上JY和孩子自己睡一个屋里。\n第二天早上五点多，JY叫我起来的时候竟然哭了起来。原来凌晨一点以后孩子就闹起来，\n根本放不下，一直到天亮。她身体又累心里又难受。\n</p><br><p>\n\n周三晚上andro的体温降了下来，我们因此放松了警惕，没有给他继续吃药，\n因为他吃药的时候看着实在是痛苦。哪知道周四中午体温又上到三十八度以上了！\n唉，给小孩子吃药真得不能偷懒啊！好在经过这三、四天，andro又恢复了往日的状态，\n一家人心情也好了起来呀！andro又成为一家人欢乐的源泉了！\n</p>\n<center>\n<img src=\"/img/andro/2011/img_0695.jpg\" />\n<img src=\"/img/andro/2011/img_0678.jpg\" />\n</center>\n',NULL,2,1,'N',0,'util.js','2011-09-09 21:49:01','2014-02-27 13:20:18'),(129,'洗澡大哭、照百天照','<p>\n今天是比安琢小八天的表弟王羽佳百天宴席的日子。天气预报说是阴转小雨，\n由于安琢前几天发烧刚好彻底，安琢的奶奶担心受凉，\n找了一件昨天刚做好的一个小棉袄，一早起来穿上试了试，看上去很是合身，\n决定不脱了，就穿着这件衣服去安琢姥姥家。\n本来打算我们三口骑着安琢奶奶的电动三轮车去，\n但安琢的二姨打电话说骑车怕孩子受凉，最后还是安琢二姨夫开车过来一起把我们拉走。\n</p><br><p>\n\n到了以后见到安琢的小表弟，和上个月相比，自己感觉除了脸变胖了以外没什么变化。\n躺在床上比较静，嘴里仍是时不时吭哧，一副要用力的样子。快中午的时候，\n安琢的四姨说让安琢姥爷用市场上卖东西的杆称给两个小家伙称称体重。\n安琢四姨试图用一个大纱巾将安琢包起来，但由于安琢个头比较大没能包住。\n王羽佳则能完全能被纱巾包住，最后的体重大约是十二斤半。\n要知道上个月月底给安琢打防疫针的时候，安琢的体重可是只有十二斤啊！\n那个破医院的电子称肯定是有问题了，下午给安琢洗澡的时候要再称一次，\n安琢前几次都是在那里称的体重。到了洗澡的地方一问发现洗澡现在涨到十二块钱一次了\n（安琢二姑今天逗安琢的时候还说，她洗个澡带搓背才八块钱，\n你洗个澡却要十几块！哈哈！）我们考虑到冬天在家没办法给安琢洗澡，\n于是办了一张洗澡卡。可能是安琢太长时间没有洗澡的原因，\n当店员把他整个放到水池后就开始哭个不停，而且嗓门极大，真是扯着嗓子从头喊到尾，\n我们只能眼睁睁地看着，一点办法没有。洗完后在电子称上称的是十四斤半，\n想想那个医院的电子称的误差居然达到两斤之多～！尽管他那里的体检是免费的，\n以后我们是不打算再在那里体检了。洗澡的时候我给拍百天照的人打电话，\n好让他们提前有准备。哪知道接待我们的叫丹丹的女孩子竟然根本没有给我们排号！\n真后悔提前就把钱都给他们了啊。当那个女孩得知我们正在给安琢洗澡的时候，\n边极力建议我们下午不要给安琢拍照，说是洗过澡后孩子的状态会不好。\n于是她又让我们明天一早再过来。在回去的路上安琢妈说明天早上万一下雨太麻烦，\n想想也是，遂直接到他们的店里去了，反正在家里待着也是待着。\n我们到店里的时候看到的是一派繁忙的景象：劲爆的音乐、\n忙碌的工作人员还有已经化好妆等待拍照的孩子们。店员给我们安排好后，\n我们就在店里等着，店里的工作人员都是女孩子，她们为了招揽生意不停地夸安琢。\n其中那个丹丹抱着安琢，结果安琢一下子尿了她一裙子！哈哈！\n等的时候安琢吃了会儿就睡着了，睡着也好，到时候拍照也许会精神一些。\n到晚上七点多的时候，终于等到我们了。进到摄影棚后，我发现里面有三个人：\n一个摄影师、一个道具师还有一个引导员。\n当引导员一边拍手一边给安琢说话吸引安琢注意的时候，\n我们的精神头儿顿时上来并一发不可收拾！用引导员的话说：我不逗他的时候，他笑；\n逗他的时候是大笑！而且都笑出声来了！摄影师不停在抓拍他的表情，\n引导员越是逗，安琢笑得越开！安琢妈和我看到此情此景心里真的是很高兴啊！\n想想自从安琢降生以来，他笑我们跟着笑，他哭我们跟着难受。\n也许这就是骨肉相连的感觉吧！拍照进行得一场顺利，\n三套衣服还有光身照我们用了大约四十分钟就搞定了！摄影师对我们说：\n要是拍照的孩子的像你们的这样我们就省大劲儿了。哈哈。\n\n</p><br><p>\n也许是百天洗澡的时候哭得太厉害了，安琢晚上睡觉隔几十分钟就惊醒一次，\n跟刚打完防疫针时一样。\n</p><br>\n<img src=\"/img/andro/2011/110910-new-clothes.jpg\" />\n<br>\n<img src=\"/img/andro/2011/110910-new-clothes2.jpg\" />\n<br>\n<img src=\"/img/andro/2011/110910-new-clothes3.jpg\" />\n<br>\n<img src=\"/img/andro/2011/110910-sleep-before-photoing.jpg\" />\n<br>\n<img src=\"/img/andro/2011/110910-taking-pictures.jpg\" />\n',NULL,1,1,'N',0,'util.js','2011-09-10 15:58:51','2014-02-27 13:20:18'),(130,'中秋节','<img src=\"/img/andro/2011/20110911-via-iphone.jpg\" />\n<br>\n<img src=\"/img/andro/2011/20110911-via-iphone2.jpg\" />\n<br>\n',NULL,1,1,'N',0,'util.js','2011-09-15 13:54:30','2014-02-27 13:20:18'),(131,'下雨天的周末','<img src=\"/img/andro/2011/20110918-white-bj.jpg\" /><br>\n<img src=\"/img/andro/2011/20110918-white-bj2.jpg\" /><br>\n<img src=\"/img/andro/2011/20110918-white-bj3.jpg\" /><br>\n<img src=\"/img/andro/2011/20110918-before-sleep.jpg\" /><br>\n<img src=\"/img/andro/2011/20110918-before-sleep2.jpg\" /><br>\n<img src=\"/img/andro/2011/20110918-before-sleep3.jpg\" /><br>\n<a href=\"/img/andro/2011/20110918-wash-face.avi\">Wash Face Vedio</a><br>\n',NULL,1,1,'N',0,'util.js','2011-09-18 20:44:36','2014-02-27 13:20:18'),(132,'jQuery Fundamentals 笔记','<h2>常犯的错误</h2>\n<h3>获取下拉菜单中选中值的方法</h3>\n<pre class=\"brush: javascript\">\n//! Wrong\n$(\"select[name=logistics_id_disp]:selected\").val()\n// Ok\n$(\"select[name=logistics_id_disp]\").find(\"option:selected\").val()\n</pre>\n<h2>Words</h2>\n<h3>Chapter 01</h3>\n<ul><li>\nCSS, Styling and <b>Dimensions</b>\n</li><li>\njQuery includes a <b>handy</b> way to get and set CSS properties of elements. \n</li><li>\nwhen passing the name of a CSS property to the $.fn.css method as a string — \nin that case, either the <b>camel cased</b> or hyphenated form will work.\n</li><li>\nAs a getter, the $.fn.css method is valuable; however, it should generally \nbe avoided as a setter in <b>production-ready</b> code.\n</li><li>\nRemember, whitespace doesn\'t matter in JavaScript, so you should feel free to \nuse it <b>liberally</b> （大方，自由）to make your code more <b>legible</b>! \nYou can use a <b>minification</b>（缩小） tool later to strip out unnecessary \nwhitespace for production.\n</li><li>\nBe cautious with traversing long distances in your documents — \ncomplex traversal makes it <b>imperative</b> （必要的） \nthat your document\'s structure remain the same.\n</li><li>\nYou can also get information about elements using many of the same methods \nin their getter <b>incarnations</b> (化身). \n</li><li>\nThere are two ways to remove elements from the page: \n$.fn.remove and $.fn.<b>detach</b> （分离、派遣）\n</li></ul>\n\n<h2>jQuery Basics</h2>\n<h3><tt>$(document).ready()</tt>的三种形式</h3>\n<h3>Selecting Elements</h3>\n<h3>Wording with Selections</h3>\n<blockquote>\nOnce you have a selection, you can call methods on the selection. \nMethods generally come in two different flavors: getters and setters.\n</blockquote>\n<h4>Chaining</h4>\n<p>链式写法还有个可读性更强的写法：类似程序的缩进那样。</p>\n<p><tt>end()</tt>方法的含义及使用；</p>\n<h4>Getters & Setters</h4>\n<p>jQuery <b>\"overloads\"</b> its methods. 对该词的理解</p>\n<p><tt>html()</tt>方法；</p>\n<h3>CSS, Styling and Dimensions</h3>\n<h4>Using CSS Classes for Styling</h4>\n<p>实际设定元素类值时并不使用<tt>.css()</tt>方法，\n而是使用诸如<tt>addClass()</tt>的方法。原因：</p>\n<blockquote>\nyou don\'t want presentational information in your JavaScript.\n</blockquote>\n<div class=\"q\">\nClasses can also be useful for storing state information about an element, such as indicating that an element is selected. \n</div>\n<h4>Dimensions</h4>\n<p><tt>width(), height(), position()</tt>等</p>\n\n<h3>Attributes</h3>\n<p>特别注意赋多个值时的表示格式（对象）</p>\n<pre class=\"brush: javascript\">\n$(\'#aAttribute\').attr(\"title\" , \"Hey! I\'m the title!\");\n$(\'#aAttribute\').attr({\n	\"title\" : \"Hey! I\'m the title!\",\n	\"href\" : \"a.php\"});\n</pre>\n<blockquote>\nRemember, whitespace doesn\'t matter in JavaScript, so you should feel free \nto use it liberally to make your code more legible! You can use a minification \ntool later to strip out unnecessary whitespace for production.\n</blockquote>\n\n<div class=\"testBox\">\n<p>点击按钮，可以将链接的<tt>href</tt>属性的值设定为\"a.php\"</p>\n<script>\n$(function() {\n	$(\'#testAttributeBtn\').click(function() {\n		$(\'#aAttribute\').attr({\n			\"title\" : \"Hey! I\'m the title!\",\n			\"href\" : \"a.php\"\n		});\n\n		var newTitle = $(\'#aAttribute\').attr(\'title\');\n		out(newTitle);\n	});\n});\n</script>\n<a id=\"aAttribute\" href=\"\">Hello</a>\n<!--\n<input type=\"button\" id=\"testAttributeBtn\" value=\"Test\" />\n-->\n<button id=\"testAttributeBtn\" >测试按钮</button>\n</div>\n\n<h3>Traversing 遍历</h3>\n<p>给的忠告是遍历结构莫过于复杂。</p>\n<p>先是演示了各式各样的方法（<tt>next(),parent(),closest(),children(),\nsibings()</tt>在元素间跳转（move around）</p>\n<br>\n<p>另外一种遍历就是使用<tt>each()</tt>.</p>\n\n<div id=\"e3-24\" class=\"testBox\">\n	<script>\n	$(function() {\n		//$(\'div#e3-24 h1\').next(\'p\').addClass(\'red\');\n		//$(\'div#e3-24 h1\').next(\'p\').parent().addClass(\'yellowBG\');\n		//$(\'div#e3-24\').children().addClass(\'yellowBG\');\n		// 注意：这里的 siblings 有两个元素；\n		//$(\'div#e3-24 h1\').next(\'p\').siblings().addClass(\'yellowBG\');\n\n		// DOM 中的遍历\n		/*\n		$(\'div#e3-24 p\').each(function(idx, el) {\n			out(\'No.\' + idx + \' has the following html: \' \n				+ $(el).html() + \"\\n\");\n		});\n		*/\n		 \n		// This way is also okey.\n		/*\n		$(\'div#e3-24 p\').each(function(idx) {\n			out(\'No.\' + idx + \' has the following html: \' \n				+ $(this).html() + \"\\n\");\n		});\n		*/\n		//out ($(\'div#e3-24\').text());\n	});\n\n	</script>\n<h1>Header One</h1>\n<p>Hello</p>\n<p>one line</p>\n<p>line 2</p>\n</div>\n\n<h3>Manipulating Elements</h3>\n<h4>Getting and Setting Information about Elements</h4>\n<p>比较有用的函数有：<tt>html(), text() 和 attr()</tt></p>\n\n<h4>Moving, Copying, and Removing Elements</h4>\n<p>复制：<tt>insertAfter(), insertBefore(), appendTo(), prependTo()</tt></p>\n<p><tt>clone()</tt>. 此函数可携带参数；</p>\n<p><tt>remove(), detach()</tt>.同样是删除一个元素，前者相当于“彻底删除”，\n后者相当于“放入回收站”；<br>\n<tt>empty()</tt>用于清空 HTML 标签中的内容；</p>\n<div id=\"e3-27\" class=\"testBox\">\n	<script>\n	$(function() {\n		$(\'button#b3271\').click(function () {\n			var $li = $(\'#e3-27 ul li:first\').appendTo(\'#e3-27 ul\');\n		});\n		$(\'button#b3272\').click(function () {\n			var $li2 = $(\'#e3-27 ul li:first\').clone().appendTo(\'#e3-27 ul\');\n		});\n		$(\'button#b3273\').click(function () {\n			$(\'#e3-27 ul\').remove();\n		});\n		$(\'button#b3274\').click(function () {\n			$(\'#e3-27 ul\').empty();\n		});\n	});\n	</script>\n<ul>\n	<li>One</li>\n	<li>Two</li>\n	<li>Three</li>\n	<li>Four</li>\n	<li>Five</li>\n</ul>\n<button id=\"b3271\">移动</button>&lt;--点击将第一个列表项移动到最后（剪切）<br>\n<button id=\"b3272\">复制</button>&lt;--点击将第一个列表项复制到最后（复制）<br>\n<button id=\"b3273\">彻底删除</button>&lt;--；<br>\n<button id=\"b3274\">清空</button>&lt;--点击清空无序列表中的所有内容但保留其结构；\n即仅删除标签中的内容而保留标签本身；<br>\n</div>\n\n<h4>Creating New Elements</h4>\n<p>jQuery 提供了一种类似选择段落的方法来创建元素：</p>\n<pre class=\"brush: javascript\">\n$(\'&lt;p&gt;This is a new paragraph.&lt;/p&gt;\');\n$(\'&lt;p class=\"cn\"&gt;This is a new paragraph.&lt;/p&gt;\');\n</pre>\n<p></p>\n<p>创建带有属性的元素（element with an attribute object）</p>\n<pre class=\"brush: javascript\">\n$info = $(\'&lt;a/&gt;\', {\n	html: \'This is a &lt;strong&gt;new&lt;/strong&gt; link\',\n	\'class\' : \'red\',\n	href : \'index.php\'\n});\n</pre>\n<p class=\"i\">注意：三个属性对象中<tt>class</tt>有引号，而<tt>html</tt>和\n<tt>href</tt>没有。这是因为 \'class\' 在 JS 中是关键字的原因，\n除了此种情况，一般的属性无须引号。</p>\n<br>\n<p>元素一经创建，我们就可以把它添加到页面中：</p>\n<pre class=\"brush: javascript\">\nvar $info = $(\'&lt;p class=\"yellowBG\"&gt;Your friend: chnkui&lt;/p&gt;\');\n$info.appendTo(\'div#3-31\');\n</pre>\n<div class=\"testBox\">\n	<script>\n	$(function() {\n		$(\'button#b3311\').click(function () {\n			var $info = $(\'<p class=\"yellowBG\">Your friend: chnkui</p>\');\n			$info.appendTo(\'div#3-31\');\n		});\n		$(\'button#b3312\').click(function () {\n			var $info = $(\'<a/>\', {\n				html: \'This is a <strong>new</strong> link\',\n				\'class\' : \'red\',\n				href : \'index.php\'\n			});\n			$info.appendTo(\'div#3-31\');\n		});\n	});\n	</script>\n<div id=\"3-31\"></div>\n<button id=\"b3311\">将元素添加到页面</button>&lt;--；<br>\n<button id=\"b3312\">将带有属性的元素添加到页面中</button>&lt;--；<br>\n</div>\n\n<h2>API</h2>\n<h3>.animate()</h3>\n在修改添加物流公司信息模块时，想实现一种特效：通过 JS 搜集输入的信息，并通过\nAJAX 写入数据库。然后利用已搜集到的本地信息生成一个表格行数据，\n直接插入现有结果集的第一行，并用颜色渐变醒目显示。\n<br><br>\nAPI 中<tt>.animate()</tt>用来实现渐变。但从说明中得知，\n并不支持<b>颜色</b>的渐变。需额外下载一个插件：\n<a target=\"_blank\" href=\"https://github.com/jquery/jquery-color\">jQuery.Color()</a>\n<blockquote>\nAll animated properties should be animated to a single numeric value, \nexcept as noted below; most properties that are non-numeric cannot be animated \nusing basic jQuery functionality (For example, width, height, or left can be \nanimated but background-color cannot be, \nunless the jQuery.Color() plugin is used).\n---- jQuery API\n</blockquote>\n<div class=\"testBox\">\n<script>\n$(function() {\n	$(\'#insertOneLine\').click(function(){\n		$(\"<tr id=\\\"newRow\\\"><td>1</td><td>2</td><td>3</td></tr>\").prependTo($(\'#twoLinesCopied tbody\'));\n		$(\"#newRow\").animate({ backgroundColor:\"#6fa8dc\" }, 600 );\n		$(\"#newRow\").animate({ backgroundColor:\"#cfe2f3\" }, 600 );\n		$(\"#newRow\").animate({ backgroundColor:\"#6fa8dc\" }, 600 );\n		$(\"#newRow\").animate({ backgroundColor:\"#cfe2f3\" }, 600 );\n		$(\"#newRow\").animate({ backgroundColor:\"#eeeeee\" }, 600 );\n	});\n});\n</script>\n\n<table id=\"twoLinesCopied\" border=\"1\">\n<thead>\n	<tr>\n		<th>Col A</th>\n		<th>Col B</th>\n		<th>Col C</th>\n	</tr>\n</thead>\n<tbody>\n	<tr>\n		<td>a</td>\n  		<td>b</td>\n  		<td>c</td>\n	</tr>\n</tbody>\n</table>\n<button id=\"insertOneLine\">向表格中插入一行</button>\n</div>\n<pre class=\"brush: javascript\">\n$(\'#insertOneLine\').click(function(){\n	$(\"&lt;tr id=\\\"newRow\\\"&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;/tr&gt;\").prependTo($(\'#twoLinesCopied tbody\'));\n	$(\"#newRow\").animate({ backgroundColor:\"#6fa8dc\" }, 600 );\n	$(\"#newRow\").animate({ backgroundColor:\"#cfe2f3\" }, 600 );\n	$(\"#newRow\").animate({ backgroundColor:\"#6fa8dc\" }, 600 );\n	$(\"#newRow\").animate({ backgroundColor:\"#cfe2f3\" }, 600 );\n	$(\"#newRow\").animate({ backgroundColor:\"#eeeeee\" }, 600 );\n});\n</pre>\n通过验证得知：标签<tt>tbody</tt>和<tt>thead</tt>需同时存在；\n\n',NULL,1,1,'Y',0,'util.js','2011-09-27 10:48:23','2014-02-27 13:20:18'),(133,'俊闯结婚在郑州请客吃饭','<p class=\"cn\">\n今天俊闯在郑州摆喜宴请大学大学同学。上午十点我先到桐柏路西站路交叉口的萧记看看\n订的房间如何，一进门一股刚装修完的特有的气味扑面而来。由于刚过十点，\n饭店里没有什么人。上了二楼找到我订的房间“文氵朔阁”，看着饭店的环境很不错，\n心里放下心来，因为一直担心饭店的环境不太好。现在的餐饮业越来越精细。\n房间里能坐十二人，其中一张椅子比其余十一张略高，我原以为是临时放的椅子、\n尺寸不同的原因，经服务员介绍才知道原来那是主人坐的位置。考虑得真周到。\n过了一会儿俊闯也到了，等他看过房间，我们一道去紫金山路上接他老婆过来，\n他和他老婆结婚的时候女方陪送了一辆价值八万的斯柯达精锐牌的两厢轿车。\n车子买的连一个月都不到，还是临时牌照，这样在马路上违章了也查不到，\n我们就这样“横冲直撞“驶向紫金山，其中到丰产路上还逆行单行道。\n十一点的时候，蛇和他老婆已经到了饭店，等到我们返回的时候羊才刚刚进郑州市区。\n由于三个人临时有事来不了，结果我们订的十二人台上座率只有一半。\n俊闯从家里带了两瓶白酒、三瓶葡萄酒。可能是人少的缘故，饭桌上也没有喝白酒、\n也没有敬酒，都是随意，这样挺好。\n</p><br>\n\n<p class=\"cn\">\n吃饭后我们一起到火车站附近逛逛，结果由于国庆节人太多，\n在金博大停车场转了一整圈都没有找到停车位，最后俊闯开出去停在了大上海城地下停车场\n。等到停好车我们六个再走到一起的时候已经四点多了，蛇也差不多该回新乡了。\n这真是名副其实的“出来转转”！送走蛇，我们又陪着俊闯老婆到银基买了点衣服。\n感叹女人逛街真是随意，看见什么买什么。和金艳形成对比，心想：\n到底是我们俩都不喜欢逛街买衣服还是钱少逛街次数少？\n回来拐到步行街的耐克店给父亲买了一双跑鞋，\n一直以来自己总想给父亲买双牌子最好的运动鞋，今天兑现了，\n算是作为父亲的生日礼物吧。是的，及时行孝、力所能及的孝。\n</p>\n',NULL,2,1,'N',0,'util.js','2011-10-03 21:39:24','2014-02-27 13:20:18'),(134,'右腿上起红疙瘩儿','<p class=\"cn\">\n俊闯在郑州请客吃饭。晚上八点半回到家听金艳说安琢的大、小腿上出了很多红点，\n金艳说安琢老是挠腿。用电筒看了一下，红点集中在大腿的下面，小腿的外侧也有一些。\n唉，头上的问题还未解决，腿上又出了问题！根据红点的位置判断可能是由于尿尿的时候\n把裤子尿湿后没有及时更换（红疙瘩儿在右腿上，而安琢尿尿恰恰往右歪）。\n难道是之前听说过的湿疹？希望明天会好呀！\n</p>\n<img src=\"/img/andro/2011/20111002-brothers-1.jpg\" /></br>\n<img src=\"/img/andro/2011/20111002-brothers-2.jpg\" />\n',NULL,1,1,'N',0,'util.js','2011-10-03 21:49:27','2014-02-27 13:20:18'),(135,'儿童医院看病记','<p>\n今天是安琢第一次去郑州，因外我们要带他到郑州儿童医院去看看脖子。\n到了儿童医院才知道什么叫人多，几乎所有的地方都能看见家长带着大大小小的孩子来这里\n看病。这里的医院就诊流程和省人民医院一样，先建卡、充值，\n然后分诊（就是有专门的工作人员根据自己小孩子的病情描述告诉你去什么科室看病），\n之后就是诊断、最后是取药、将卡内余额退还。由于就诊的人太多，\n医院采取类似银行但又比银行先进的排号方法：小孩子的所有基本信息都在磁卡内，\n就诊的时候只要刷一下卡，计算机就会将孩子放进等待队列并将基本信息如姓名传递到\n大屏幕上，这样来看病的人不仅可以听到自己的位置，还能看到自己当前所处的位置。\n同时将本次挂号费和就诊费扣除，等到拿着医生开完的处方去取药的时候，\n药物的费用又进行扣除。这样的好处是显而易见的：只有一个地方会和现金打交道，\n其它任何地方只需刷卡即可，对提交就诊效率是很明显的。这就是医院信息化的厉害之处。\n</p></br>\n\n<p>\n医生在听过我们的描述后让我们去做一个颈部彩超，看看是不是存在肌肉发育不良的情况。\n在等待做彩超的时候，自己心里有种由于不确定因素带来的很难受的感觉。\n等金艳出来告诉我说在做彩超的时候她听到医生说没什么事的时候，心里总算是放心了！\n连续好几天的担心总算是消除了呀！再没有什么比得知自己小孩很健康让人高兴了！\n花钱买个安心，很好。看完外科，\n我们想顺便到皮肤科看看安琢额头上的白斑到底是怎么回事。上到六楼看见人更是多，\n一走廊都是人。一排号才知道前面竟然有三十多人之多！趁着这个间隙，\n我跑到步行街把父亲的鞋换了个大一号的。回来的时候，刚好看到金艳正在里面就诊。\n这时间赶得很好。等娘俩出来，我问金艳大概情况，\n她说医生说的跟在家里的妇幼保健院的医生说的一样——汗斑。\n他们开了两盒药膏让回去涂抹一下。至此此次儿童医院一行任务圆满完成。\n临出门的时候，我们在外面给安琢买了两个氢气球带回家。\n结果这两个气球差点害得我们三人回不了家，\n在西站进站的时候车站的人说这个东西是易爆品，禁止进入车站。\n但站里的工作人员有句话说得很妙：“只要你们不把气球带进站，\n其它的我们一概不管。”我退过票后，在站外拦着车就上去了。\n这是一个很典型的关于规则和变通的实例。\n</p></br>\n\n<p>\n在回老家的路上，我骑着三轮车带着金艳和安琢，两支氢气球在车后随风摆动。\n虽然没办法用相机拍下来，但心里能感觉到这是一副多么幸福的画面……\n</p></br>\n\n<p>\n（注：昨天晚上安琢大腿上的红疙瘩儿今天已经下去。）\n</p></br>\n',NULL,1,1,'N',0,'util.js','2011-10-04 20:44:47','2014-02-27 13:20:18'),(136,'哺乳','<img src=\"/img/andro/2011/20111005-milk-andro-1.jpg\" /><br>\n<img src=\"/img/andro/2011/20111005-milk-andro-2.jpg\" /><br>\n<img src=\"/img/andro/2011/20111005-milk-andro-3.jpg\" /><br>\n<img src=\"/img/andro/2011/20111005-milk-andro-4.jpg\" /><br>\n\n',NULL,1,1,'N',0,'util.js','2011-10-05 17:39:51','2014-02-27 13:20:18'),(137,'晨光照相馆服务质量和态度都很差劲','<p>\nJY单位的人说要给安琢办理医疗保险，需要几张一寸照片。\n本来已经用软件将安琢百天照修改成一寸照片了，无奈在路上才发现优盘忘带了。\nJY说干脆到晨光照一张算了。到荥阳后，先是给自己买了件羽绒服，\n（今年冬天需要骑着电动车上班，防寒措施很有必要）之后到晨光去照相，\n店员说一寸照片十块钱。照相的是个年纪不大的女的，\n记得前段时间由于需要办理准生证我和金艳也曾经在这里照过一次，\n那次的效果很好，不过照相的跟这次不是一个人。也许是四个月的孩子不好照相的原因，\n洗出来的效果不是很理想。这倒其次，主要是照相那个人的服务态度实在是一般，\n自己对其印象极差。加之照得更一般，我直后悔在她这里给安琢照相。\n真不如自己在家里扯块红布照完后在网上冲印呢（网易提供这种功能，回头要尝试一下）。\n</p>\n',NULL,1,1,'N',0,'util.js','2011-10-08 22:50:32','2014-02-27 13:20:18'),(138,'看清伟嫂、喜顺叔深夜造访','<p>\n中午跑到邮局把节前买的《坐牢家给女儿的８０封信》拿回来了，\n本以为会收取单子上写的“挂号费”，结果一分钱也没交，上面的费用应该是卓越的事情。\n另外询问为何没有送货上门，工作人员说可能是卓越那边没有选择该服务，\n估计是送货上门需要额外加钱。不过总体感觉还是不错的，毕竟也算是免费送达，\n尽管没有在市区那样方便，也还能接受。\n</p><br><p>\n\n下午下班提前回来十几分钟去看望清伟嫂，她的膝盖动手术了刚刚出院。\n结果由于长时间没登门导致先是走错门栋后又走错楼层。唉，\n很有必要记录下来啊。\n</p><br><p>\n\n晚上快十点的时候，正在屋里写程序。忽然听到大门外有敲门声，\n听声音是人拿着钥匙之类的硬物在划门。\n在寂静的晚上突然听到这种刺耳的声音让人突生一种恐惧感，\n遂愤怒（恐惧的极点是愤怒——郭德纲）地喊到：“谁啊？！！”开门一看，\n原来是天津的喜顺叔一家三口，他们刚从天津回来，给父亲带的狗不理包子、\n麻花还有炸糕。和父亲简单寒暄后，他们即返回荥阳。出门送的时候，\n看见崭新的天籁汽车。叔经过多年的奋斗终于买了汽车。\n一种大地任我游的感觉，高调。\n</p>\n',NULL,2,1,'N',0,'util.js','2011-10-09 23:29:40','2014-02-27 13:20:18'),(139,'锻炼文字、语言上的逻辑性——公司开会发言有感','<p>\n心情糟糕能引起拉肚子吗？尽管更可能的原因是吃狗不理包子吃坏事，\n但此刻相信低落的情绪也是重要原因之一。\n</p><br><p>\n\n昨天下午公司所有员工在一起开会，\n参会人员有二十人之多，议题是“如何在同等条件下提高竞争力”。\n会议的起因是近段时间公司两个大客户的产品出现质量问题。\nManager Li 想通过这种全体员工参会的方式引起大家的重视。\n会议上有两件事造成现在糟糕的情绪：一是 Li 在概述公司各部门的职责时对自己的介绍：\n“隶属工厂办公室。负责公司的宣传、网站管理及协助 Wang 做一些文化之类的工作“。\n近段时间自己的工作都在 E-Orders App 上，弄了这么长时间， 就是想听到上面的认同，\n现在 Li 却只字未提，心里自然不好受。由此感觉自己想让更多的中小企业都用上 \nE-Orders 这一想法的前景也骤然变得黯淡起来。为什么不认可呢？\n是上面根本就不重视还是 App 本身做得不够好？\n第二件事情是自由发言阶段经理点名让我谈谈自己的想法，结果自己的表达实在是糟糕！\n主要表现为：一、没有条理，主题不明；二、紧张（能感觉到自己嗓音颤抖），\n语速过快。表达没有条理的原因是在思想上没有对此次会议重视起来，\n通知上白纸黑字都写明了要积极发言，这表明单独说话的概率是很高的。\n思想上的轻视导致没有做准备工作，\n前半夜躺在床上脑子里反复地想要是这么这么说岂不要好很多，\n试想这种腹稿如果在会前就进行并形成简要的书面要点，也不会是现在这般状况。\n紧张的问题跟自己的性格和经验不足有关，本性胆小内向，\n加之平时实践锻炼的机会不多，交流的效果自然差劲。\n</p><br><p>\n\n在会议上暴露的两个问题表明刻意锻炼把自己的想法通过文字、\n语言的方式思路清晰地表达出来的必要性。平常多写，\n抓住任何能够单独讲话的机会多说以积累经验。\n</p>\n',NULL,2,1,'N',0,'util.js','2011-10-11 02:14:42','2014-02-27 13:20:18'),(140,'将 MySQL 默认字符编码由 latin1 改为 utf8','<div class=\"keynote\">\n让 MySQL 以及从 MySQL 中获取数据的页面正常地显示中文。 <br>\n2012年11月28日更新\n</div>\n<p>\nMySQL 默认的字符编码为<tt>latin1</tt>, 使用带参数的命令：\n<pre class=\"brush: sql\">\nmysqldump -u root --default-character-set=latin1 -p eorder &gt; eorder.sql\n</pre>\n导出的文件 eorder.sql 中的中文虽然可在 gedit 中正常显示，\n但在终端下显示仍为乱码。而且此文件导入到远端服务器中用 phpmyadmin \n打开后汉字显示仍为乱码。我们已经知道问题的原因在于 MySQL 的默认编码集 latin1\n和 OS 的系统字符编码 utf8 不一致。\n<pre class=\"tty\">\nmysql&gt; <span class=\"ttyipt\">SHOW variables LIKE \'%char%\';</span>\n+--------------------------+----------------------------+\n| Variable_name            | Value                      |\n+--------------------------+----------------------------+\n| character_set_client     | latin1                     | \n| character_set_connection | latin1                     | \n<span class=\"hl2\">| character_set_database   | latin1                     |</span>\n| character_set_filesystem | binary                     | \n| character_set_results    | latin1                     | \n| character_set_server     | latin1                     | \n<span class=\"hl2\">| character_set_system     | utf8                       |</span> \n| character_sets_dir       | /usr/share/mysql/charsets/ | \n+--------------------------+----------------------------+\n8 rows in set (0.00 sec)\n</pre>\n</p><br><p>\n现在就来将上面所有变量值为<tt>latin1</tt>的变量修改为<tt>utf8</tt>:\n<ol><li>\n编辑MySql的配置文件<br>\n这些默认值的设置是在 MySQL 配置文件中完成的。在 Debian 5 下其完整路径为:\n<tt>/etc/mysql/my.cnf</tt>（MS 下的文件名为<tt>my.ini</tt>）.\n配置文件中 \'[client]\' 表示客户端设置，它控制 <tt>character_set_client</tt>,\n<tt>character_set_connection</tt> 和 <tt>character_set_results</tt>\n三个变量的默认值； \'[mysqld]\' 部分表示服务器端设置，用于控制\n<tt>character_set_database</tt> 和 <tt>character_set_server</tt>\n这两个变量的值。在相应位置追加内容（高亮部分）如下：\n在文件中追加高亮显示行：\n<pre class=\"tty\">\n...\n[client]\nport		= 3306\nsocket		= /var/run/mysqld/mysqld.sock\n<span class=\"hl\">default-character-set = utf8</span>\n...\n[mysqld]\n<span class=\"hl\">default-character-set = utf8</span>\n...\n</pre>\n</li><li>\n重启 MySQL 使更新后的配置文件生效<br>\n<pre class=\"tty\">\nTS:/home/ts# <span class=\"ttyipt\">/etc/init.d/mysql restart</span>\nStopping MySQL database server: mysqld.\nStarting MySQL database server: mysqld.\nChecking for corrupt, not cleanly closed and upgrade needing tables..\n</pre>\n</li></ol>\n此时再次查看相关默认变量，得到了我们想要的结果：\n<pre class=\"tty\">\nmysql&gt; <span class=\"ttyipt\">SHOW variables LIKE \'%char%\';</span>\n+--------------------------+----------------------------+\n| Variable_name            | Value                      |\n+--------------------------+----------------------------+\n| character_set_client     | utf8                       | \n| character_set_connection | utf8                       | \n| character_set_database   | utf8                       | \n| character_set_filesystem | binary                     | \n| character_set_results    | utf8                       | \n| character_set_server     | utf8                       | \n| character_set_system     | utf8                       | \n| character_sets_dir       | /usr/share/mysql/charsets/ | \n+--------------------------+----------------------------+\n</pre>\nutf8 是显示中文的最佳编码方式，也是<tt>mysqldump</tt>命令的默认编码形式，\n所以建议首次安装 MySQL 后立即更改数据库默认编码方式为 utf8 \n(MySQL 默认为 latin1), 以便于统一。\n\n<h4>2012年11月28日更新：更新现有数据库要彻底</h4>\n准备将表 \'motd\' 中数据导出，却发现再次出现乱码。查看所在数据库 \'trekshot\'\n的编码后发现 <tt>character_set_database</tt> 变量值竟为 \'latin1\'!\n之前不是已经将默认值全部设置为 \'utf8\' 了吗？\n\n这是因为数据库 \'trekshot\' 在设置数据库 \'eorder\' 的编码默认值之前就已经存在了！\n不同与其它四个变量，变量 \'character_set_database\' 的值取决于数据库创建之时\n服务器端的默认编码值（[mysqld] 部分）。因为 <tt>trekshot</tt> 创建时还没有设定\n编码默认值，因此变量 \'character_set_database\' 取默认值 latin1. \n后来更改编码默认值为 utf8, 其它四个变量的值跟着更新，但 \'character_set_database\'\n值保持不变。\n<br><br>\n那么如何将旧数据库中 \'character_set_database\' 变量值由 latin1 变为 utf8 呢？\n<ol><li>\n使用 mysqldump 将该数据库按数据库相同的编码导出，这里使用命令：\n<pre class=\"tty\">\nts@TS:~$ <span class=\"ttyipt\">mysqldump -u root --default-character-set=latin1 -p trekshot &gt; trekshot.sql</span>\n</pre>\n</li><li>\n删除现有数据库 \'trekshot\', 紧接着创建相同名称的数据库：\n<pre class=\"tty\">\nts@TS:~$ <span class=\"ttyipt\">DROP DATABASE trekshot;</span>\nts@TS:~$ <span class=\"ttyipt\">CREATE DATABASE trekshot;</span>\n</pre>\n新建的数据库 \'trekshot\' 按照编码的默认格式（现在是 utf8）进行创建；\n</li><li>\n填充数据：\n<pre class=\"tty\">\nmysql&gt; <span class=\"ttyipt\">\\. trekshot.sql</span>\n</pre>\n</li></ol>\n</p>\n\n<h2>从 MySQL 中读取数据显示到页面中汉字全部是问号</h2>\n<p>\n我们将修改编码后的数据库文件导入到远端服务器后发现了如标题中的问题。\n<blockquote>\n你使用UTF8，那就需要在mysql_connect后面加一句SET NAMES UTF8，可消除乱码，如果使用GBK那就写SET NAMES GBK，如下：\n<pre class=\"brush: php\">\n$mysql_mylink = mysql_connect($mysql_host, $mysql_user, $mysql_pass);\nmysql_query(\"SET NAMES \'UTF8\'\"); </pre>\n</blockquote>\n</p>\n',NULL,3,1,'N',0,'util.js','2011-10-16 20:33:13','2014-02-27 13:20:18'),(141,'买了辆山地车','<p>\n清池哥的眼睛受伤了，今天到郑州去看望他，顺便给安琢买些米粉、蔬菜泥，\n还有就是买一辆 GIANT 自行车。到二院得知他已经于两天前转院至医学院，\n无奈掂这两箱饮料做公交到医学院。\n</p><br><p>\n\n买车的时候感觉老板很不热情，一副爱买不买的架势。\n下午死点骑着车从华山路出发骑到老家，感觉：以往看见别人在路上骑着山地车看着是那么\n潇洒轻松，今天自己实践后方体会到真累啊。或许是自己体力不行。\n</p>\n',NULL,2,1,'N',0,'util.js','2011-10-16 20:44:52','2014-02-27 13:20:18'),(142,'MySQL 中的变量 NULL','<div class=\"keynote\">\n本文对 WebApp 中从用户在表单中输入数据到最终将数据存储在数据库中的全过程进行详细\n说明。\n</div>\n<p>\n<blockquote>The <tt>NULL</tt> value means “no data.” \n<tt>NULL</tt> can be written in any lettercase.\n---- 《Mysql Manul: 8.1.7. NULL Values》\n</blockquote>\n先来看一段数据库插入操作的一段常见代码：\n<pre class=\"brush: php\">\n$receiver    = trim($_POST[\'receiver\']);\n$address     = trim($_POST[\'address\']);\n$phone1      = trim($_POST[\'phone1\']);\n$phone2      = trim($_POST[\'phone2\']);\n$customer_id = trim($_POST[\'customer_id\']);\n \n$db-&gt;query(\"INSERT INTO om_addresses (customer_id, receiver, address, phone1, phone2)\n		VALUES (\'$customer_id\',\'$receiver\',\'$address\',\'$phone1\',\'$phone2\')\");\n</pre>\n表单元素<tt>phone2</tt>用来搜集收件人地址的备用电话信息，该列是选填项。\n如果用户没有输入该信息，我们看一下执行上面的代码后数据库中新增列的情况：\n<pre class=\"tty\">\n+------------+-------------+-----------+---------+--------+--------+\n| address_id | customer_id | receiver  | address | phone1 | phone2 |\n+------------+-------------+-----------+---------+--------+--------+\n|         84 |           1 | d         | d       | d      |        | \n+------------+-------------+-----------+---------+--------+--------+</pre>\n新增记录 phone2 列的值为空字符<tt>\'\'</tt>,而不是变量 <tt>NULL</tt>. \n具体原因我们通过一个简单的代码片段来演示一下：\n<pre class=\"brush: php\">\ncase \"submit_add_address\":\n	$phone2     = $_POST[\'phone2\'];\n	echo gettype($phone2); // \'String\'. 表明表单元素如果为空，$_POST[] 获得的变量值是空字符串\'\',而不是 NULL\n	if ($phone2 === \'\')\n		echo \'$phone2 is empty string.\';\nbreak;\n</pre>\n<pre class=\"brush: php\">\n// (trim($_POST[\'phone2\']) == \'\') 写法的原因演示\n$dd = \'\';\necho gettype(trim($dd)); // \"String\"\nif ($dd === \'\')\n	echo \"Yes, empty string.\"; // Returned\n</pre>\n而我们声明的<tt>phone2</tt>列的类型为：\n<pre class=\"tty\">\n+-------------+-----------------+------+-----+---------+----------------+\n| Field       | Type            | Null | Key | Default | Extra          |\n+-------------+-----------------+------+-----+---------+----------------+\n| phone2      | char(30)        | YES  |     | NULL    |                | \n+-------------+-----------------+------+-----+---------+----------------+</pre>\n用户既然没有输入 phone2 列的值，我们希望插入的该列值仍旧是默认值<tt>NULL</tt>,\n而不是空字符。将上面的代码修改如下：\n<pre class=\"brush: php\">\n$receiver 	= \"\'\".trim($_POST[\'receiver\']).\"\'\";\n$address 	= \"\'\".trim($_POST[\'address\']).\"\'\";\n$phone1 	= \"\'\".trim($_POST[\'phone1\']).\"\'\";\n$phone2 	= (trim($_POST[\'phone2\']) == \'\') ? \"NULL\" : \"\'\".trim($_POST[\'phone2\']).\"\'\";\n$customer_id	= trim($_POST[\'customer_id\']);\n \n$db-&gt;query(\"INSERT INTO om_addresses (customer_id, receiver, address, phone1, phone2)\n		VALUES ($customer_id,$receiver,$address,$phone1,$phone2)\");\n</pre>\n</p><p>\n<span class=\"redBG\">\n注意！使用此写法特别注意和表中的数据类型对应。也就是说，\n只有字符串类型才需要加上单引号。<tt>om_goods</tt>中列<tt>purity</tt>\n属于字符串枚举类型，结果由于没有加上单引号导致用户的数据没有保存到数据库中！\n</span><br>\n代码的第一个变动在于将 SQL 插入语句中<tt>VALUES()</tt>中的变量的单引号去掉，\n将字符的单引号包含在变量中。这么做的原因在于：\nDB 插入操作只有字符串类型的才需要引号，数值类型的并不需要。\n这里将选填项的值进行预处理：如果是空字符，将其值设为字符串<tt>\"NULL\"</tt>\n（注意：该字符串输出到 SQL 语句中就变成了变量<tt>NULL</tt>了）。\n这样我们就将<tt>NULL</tt>值插入到数据库中：\n</p><p>\n<pre class=\"tty\">\n+------------+-------------+-----------+---------+--------+--------+\n| address_id | customer_id | receiver  | address | phone1 | phone2 |\n+------------+-------------+-----------+---------+--------+--------+\n|         85 |           1 | d         | d       | d      | NULL   | \n+------------+-------------+-----------+---------+--------+--------+</pre>\nDB 中值为<tt>NULL</tt>的列取出来赋值给 PHP 变量时，变量的值是什么？\n<pre class=\"brush: php\">\n$var = db_var(\'phone2\',\'om_addresses\',\'address_id\',85);\necho gettype($var); // Return NULL\nif (is_null($var)) {\n	echo \"Value is NULL\"; // Echoed\n}\nif ($var == \'\') {\n	echo \"Value is \'\'\"; // Also echoed\n}\nif ($var === \'\') {\n	echo \"Value equals to \'\', besides, it\'s type is string\"; // False\n}\n</pre>\n<tt>is_null()</tt>和<tt>gettype()</tt>已经证实<tt>$var</tt>的确是<tt>NULL</tt>, \n但同时第二个判断也是成立的，难道说明<tt>$var</tt>的值又为<tt>\'\'</tt>吗？\n这两个不是不一个概念吗？其实这里的关键是对比较操作符<tt>\'==\'</tt>的理解。\n<pre>\nExample 	Name 		Result\n-------		----------	-----------------------------\n$a == $b 	Equal 		TRUE if $a is equal to $b.\n$a === $b 	Identical 	TRUE if $a is equal to $b, and they are of the same type. (introduced in PHP 4) \n			---- 《PHP Manual: Operators - Comparison Operators》\n</pre>\n两个“等号”表示值相同，三个“等号”表示不仅值相同，而且类型也相同。\n言外之意就是说：两个“等号”存在比较的两个变量类型不一样的情况。\n在看上面的片段，由于我们已经确认<tt>$var</tt>值为<tt>NULL</tt>,\n其类型为<tt>NULL</tt>,而空字符<tt>\'\'</tt>的类型属于字符串，\n两者的数据类型不同，那么它们比较的结果是什么呢？这里有个规则：\n<blockquote>\n<tt>NULL</tt>和字符串比较的时候，将<tt>NULL</tt>转换成空字符<tt>\'\'</tt>,\n之后进行字符串比较（Lexical comparison）。\n<br>---- 《PHP Manual: Operators - Comparison Operators》\n</blockquote>\n根据此规则，我们就不难理解上面第二个判断也成立的原因了。\n</p>\n<h2>PHP 中的<tt>NULL</tt></h2>\n<p>\n<blockquote>\nThe special <tt>NULL</tt> value represents a variable with no value. \n<tt>NULL</tt> is the only possible value of type <tt>NULL</tt>.\n<br><br> \nThere is only one value of type null, and that is the case-insensitive \nkeyword <tt>NULL</tt>. ---- 《PHP Manual: Types》 \n</blockquote>\n\"NULL\" 在 PHP 中有两种含义：一是表示一种数据类型（和 Array, String 类似，\n不同之处在于该类型中只有一个值，比 Boolean 类型的值还少）；\n二是表示一个变量值。\n<tt>NULL</tt>在 MySQL 和 PHP 中均不区分大小写。\n</p><br><p>\n同样在 PHP 中，<tt>NULL</tt> 和空字符<tt>\'\'</tt>也是两个概念。\n</p>\n',NULL,3,1,'N',0,'util.js','2011-10-18 11:11:50','2014-02-27 13:20:18'),(143,'Eorders 表格结构','<pre>\nmysql&gt; desc om_addresses;\n+-------------+-----------------+------+-----+---------+----------------+\n| Field       | Type            | Null | Key | Default | Extra          |\n+-------------+-----------------+------+-----+---------+----------------+\n| address_id  | int(5) unsigned | NO   | PRI | NULL    | auto_increment | \n| customer_id | int(5)          | YES  |     | NULL    |                | \n| receiver    | char(30)        | YES  |     | NULL    |                | \n| address     | tinytext        | YES  |     | NULL    |                | \n| phone1      | char(30)        | YES  |     | NULL    |                | \n| phone2      | char(30)        | YES  |     | NULL    |                | \n+-------------+-----------------+------+-----+---------+----------------+\nmysql&gt; desc om_customers;\n+--------------+-----------------+------+-----+---------+----------------+\n| Field        | Type            | Null | Key | Default | Extra          |\n+--------------+-----------------+------+-----+---------+----------------+\n| customer_id  | int(5) unsigned | NO   | PRI | NULL    | auto_increment | \n| company_name | tinytext        | YES  |     | NULL    |                | \n| short_name   | char(50)        | YES  |     | NULL    |                | \n| fax          | char(30)        | YES  |     | NULL    |                | \n| site         | char(100)       | YES  |     | NULL    |                | \n| added_by     | int(5)          | YES  |     | NULL    |                | \n| c_time       | datetime        | YES  |     | NULL    |                | \n+--------------+-----------------+------+-----+---------+----------------+\nmysql&gt; desc om_dispatch;\n+--------------+---------------------+------+-----+---------+----------------+\n| Field        | Type                | Null | Key | Default | Extra          |\n+--------------+---------------------+------+-----+---------+----------------+\n| dispatch_id  | bigint(20) unsigned | NO   | PRI | NULL    | auto_increment | \n| customer_id  | int(5)              | YES  |     | NULL    |                | \n| address_id   | int(5)              | YES  |     | NULL    |                | \n| logistics_id | int(5)              | YES  |     | NULL    |                | \n| order_id     | bigint(20)          | YES  |     | NULL    |                | \n| list_UID     | char(20)            | YES  |     | NULL    |                | \n| weight       | decimal(5,2)        | YES  |     | NULL    |                | \n| charge       | decimal(5,2)        | YES  |     | NULL    |                | \n| added_by     | int(5)              | YES  |     | NULL    |                | \n| c_time       | datetime            | YES  |     | NULL    |                | \n+--------------+---------------------+------+-----+---------+----------------+\nmysql&gt; desc om_goods;\n+-------------+----------------------------------------+------+-----+---------+----------------+\n| Field       | Type                                   | Null | Key | Default | Extra          |\n+-------------+----------------------------------------+------+-----+---------+----------------+\n| goods_id    | bigint(20) unsigned                    | NO   | PRI | NULL    | auto_increment | \n| order_id    | int(5)                                 | YES  |     | NULL    |                | \n| customer_id | int(5)                                 | YES  |     | NULL    |                | \n| product_id  | int(5)                                 | YES  |     | NULL    |                | \n| qutity      | int(10)                                | YES  |     | NULL    |                | \n| uprice      | decimal(5,2)                           | YES  |     | NULL    |                | \n| purity      | enum(\'0.01\',\'0.06\',\'0.1\',\'0.15\',\'0.2\') | YES  |     | NULL    |                | \n+-------------+----------------------------------------+------+-----+---------+----------------+\nmysql&gt; desc om_logistics;\n+----------------+-----------------+------+-----+---------+----------------+\n| Field          | Type            | Null | Key | Default | Extra          |\n+----------------+-----------------+------+-----+---------+----------------+\n| logistics_id   | int(5) unsigned | NO   | PRI | NULL    | auto_increment | \n| logistics_name | char(30)        | YES  |     | NULL    |                | \n| logistics_slug | char(10)        | YES  |     | NULL    |                | \n| contacter      | char(30)        | YES  |     | NULL    |                | \n| phone1         | char(30)        | YES  |     | NULL    |                | \n| phone2         | char(30)        | YES  |     | NULL    |                | \n| site           | char(100)       | YES  |     | NULL    |                | \n| added_by       | int(5)          | YES  |     | NULL    |                | \n| c_time         | datetime        | YES  |     | NULL    |                | \n+----------------+-----------------+------+-----+---------+----------------+\nmysql&gt; desc om_orders;\n+--------------------+--------------------------------------------------+------+-----+---------+----------------+\n| Field              | Type                                             | Null | Key | Default | Extra          |\n+--------------------+--------------------------------------------------+------+-----+---------+----------------+\n| order_id           | bigint(20) unsigned                              | NO   | PRI | NULL    | auto_increment | \n| customer_id        | int(5)                                           | YES  |     | NULL    |                | \n| address_id         | int(5)                                           | YES  |     | NULL    |                | \n| via                | enum(\'tel\',\'fax\',\'mail\')                         | YES  |     | NULL    |                | \n| payment_way        | enum(\'formal\',\'month\',\'agreement\',\'sample\')      | YES  |     | NULL    |                | \n| has_invoice        | enum(\'y\',\'n\')                                    | YES  |     | NULL    |                | \n| has_goods_list     | enum(\'y\',\'n\')                                    | YES  |     | NULL    |                | \n| has_particle_chart | enum(\'y\',\'n\')                                    | YES  |     | NULL    |                | \n| charge             | decimal(10,0)                                    | YES  |     | NULL    |                | \n| currency           | enum(\'rmb\',\'dollar\',\'japan_yuan\')                | YES  |     | NULL    |                | \n| status             | enum(\'unpaid\',\'order\',\'ready\',\'sent\',\'received\') | YES  |     | NULL    |                | \n| property           | enum(\'test\',\'formal\')                            | YES  |     | NULL    |                | \n| action             | enum(\'sell\',\'store\')                             | YES  |     | NULL    |                | \n| added_by           | int(5)                                           | YES  |     | NULL    |                | \n| c_time             | datetime                                         | YES  |     | NULL    |                | \n| order_note         | text                                             | YES  |     | NULL    |                | \n| authorized_by      | int(5)                                           | YES  |     | NULL    |                | \n| bank_id            | bigint(20)                                       | YES  |     | NULL    |                | \n| auth_note          | text                                             | YES  |     | NULL    |                | \n| authorized_time    | datetime                                         | YES  |     | NULL    |                | \n| feedback           | tinytext                                         | YES  |     | NULL    |                | \n+--------------------+--------------------------------------------------+------+-----+---------+----------------+\nmysql&gt; desc om_products;\n+--------------+----------------------------------------+------+-----+---------+----------------+\n| Field        | Type                                   | Null | Key | Default | Extra          |\n+--------------+----------------------------------------+------+-----+---------+----------------+\n| product_id   | int(5) unsigned                        | NO   | PRI | NULL    | auto_increment | \n| product_name | enum(\'微粉\',\'研磨膏\',\'破碎料\')         | YES  |     | NULL    |                | \n| product_size | char(20)                               | YES  |     | NULL    |                | \n| product_note | tinytext                               | YES  |     | NULL    |                | \n| parent       | int(5)                                 | YES  |     | NULL    |                | \n| added_by     | int(5)                                 | YES  |     | NULL    |                | \n| c_time       | datetime                               | YES  |     | NULL    |                | \n+--------------+----------------------------------------+------+-----+---------+----------------+\n7 rows in set (0.00 sec)\n\nmysql&gt; desc om_term_taxonomy;\n+---------------+---------------------+------+-----+---------+----------------+\n| Field         | Type                | Null | Key | Default | Extra          |\n+---------------+---------------------+------+-----+---------+----------------+\n| term_id       | bigint(20) unsigned | NO   | PRI | NULL    | auto_increment | \n| term_name     | varchar(200)        | YES  |     | NULL    |                | \n| term_slug     | varchar(80)         | YES  |     | NULL    |                | \n| term_taxonomy | varchar(80)         | YES  |     | NULL    |                | \n| term_note     | varchar(200)        | YES  |     | NULL    |                | \n| term_parent   | bigint(20)          | YES  |     | 0       |                | \n+---------------+---------------------+------+-----+---------+----------------+\n6 rows in set (0.00 sec)\n\nmysql&gt; desc om_users;\n+--------------+---------------------------------------------------------+------+-----+---------+----------------+\n| Field        | Type                                                    | Null | Key | Default | Extra          |\n+--------------+---------------------------------------------------------+------+-----+---------+----------------+\n| user_id      | int(5) unsigned                                         | NO   | PRI | NULL    | auto_increment | \n| login_name   | char(50)                                                | YES  |     | NULL    |                | \n| display_name | char(50)                                                | YES  |     | NULL    |                | \n| pwd          | char(50)                                                | YES  |     | NULL    |                | \n| role         | enum(\'sales\',\'production\',\'financial\',\'manager\',\'root\') | YES  |     | NULL    |                | \n+--------------+---------------------------------------------------------+------+-----+---------+----------------+\n</pre>\n',NULL,1,1,'N',0,'util.js','2011-10-25 17:08:02','2014-02-27 13:20:18'),(144,'Yanni Live! 音乐会录像观感','<p>\n前天下班前下午无意间搜到一个 Yanni 在 2006 年的一场<a \nhref=\"http://www.tudou.com/programs/view/TdPUBYXEWvw/\">现场音乐会</a>的视频。\n昨日上午接着看完后觉得真是精彩。印象最深的是两个拉小提琴的（一男一女）\n和一个吹管弦乐器的男的三个人之间的“飙乐”！\n整个音乐会的感觉：差异化让人生精彩！\n</p>\n<img src=\"/img/page/zachary_carrettin-sayaka_katsuki-yanni.jpg\" />\n\n',NULL,2,1,'N',0,'util.js','2011-10-28 04:51:13','2014-02-27 13:20:18'),(145,'date() 函数输出\'1970-01-01 08:00\'的问题','<div class=\"keynote\">\n创建自定义函数时要以普通用户的角度而不是自己的角度出发，\n即在函数说明中注明需要的参数类型，但要有传入其它参数类型的应对措施，\n以便于出现问题时查找。\n<b>“设计程序时，程序要迁就人；使用程序时，人要迁就程序”</b>\n</div>\n<p>\neorder app 中显示订单详情的页面时不时会显示一个奇怪日期 \n<tt>\'1970-01-01 08:00\'</tt>, 查看代码发现该字符串系自定义函数<tt>readable()</tt>\n输出：\n<pre class=\"brush: php\">\nfunction readable($c_time) {\n	$readable_time = date (\"Y-m-d H:i\", strtotime($c_time));\n	return $readable_time;\n}</pre>\n该自定义函数将 UNIX 时间戳转化为熟悉的时间形式。\n<tt>$c_time</tt>是从 DB 中读取的时间戳。现在有一种情况是该变量的值可能是\n<tt>NULL</tt>, 那么函数<tt>strtotime($c_time)</tt>返回的值将是<tt>FALSE</tt>.\n<blockquote>\n<pre class=\"brush: php\">\nstring date ( string $format [, int $timestamp ] )</pre>\nReturns a formatted date string. \n<i>If a non-numeric value is used for timestamp, \n<tt>FALSE</tt> is returned and an <tt>E_WARNING</tt> level error is emitted. \n</i>\n---- PHP Manual\n</blockquote>\n根据手册上的说明，当函数<tt>date()</tt>第 2 个参数为非数值型时，\n函数将返回<tt>FALSE</tt>并显示警告信息。真的是这样吗？\n<pre class=\"brush: php\">\n$arr = array(1,2);\n!dbg(date (\"Y-m-d H:i\", $arr));  // Warning: date() expects parameter 2 to be long, array given\n!dbg(date (\"Y-m-d H:i\", \'str\')); // Warning: date() expects parameter 2 to be long, string given\n\ndbg(date (\"Y-m-d H:i\", TRUE)); 	// 1970-01-01 08:00\ndbg(date (\"Y-m-d H:i\", 1)); // 1970-01-01 08:00\ndbg(date (\"Y-m-d H:i\", NULL)); // 1970-01-01 08:00 \n</pre>\n从上面的代码可以看出：Line2 和 Line3 试图将数组和字符串变量作为函数的参数而\n显示警告信息。但 Line5, Line6 和 Line7 分别传入 Boolean, NULL 时，\n非但没有显示警告信息，还正常输出一个字符串。\n</p><br><p>\n此 Bug 说明一个问题：创建自定义函数时，要考虑传入的参数“不符合要求“时的情况，\n以免出现意想不到的结果时不知道原因在哪。\n</p>\n<h2>临时方案</h2>\n<pre class=\"brush: php\">\nfunction readable($c_time) {\n	if (strlen($c_time) == 19) {\n		$readable_time = date (\"Y-m-d H:i\", strtotime($c_time));\n		return $readable_time;\n	} elseif ($c_time == NULL) {\n		return \'-\';\n	} else {\n		out_error(\"Type of argument in <tt>readable()</tt> is wrong.\");\n	}\n}</pre>\n',NULL,3,1,'N',0,'util.js','2011-10-28 08:59:29','2014-02-27 13:20:18'),(146,'张竞月满月酒席饭局记录','<p>\n中午张竞月满月喜宴在木棉花二楼举行。先到建业给母亲买两袋豆奶，\n到木棉花门口远远看见三姑夫和三姐夫还有治国哥在大门口等着。\n一同的还有二姐的同学（好像叫爱菊，刚开始没有认出来，应该是我们办结婚证时帮忙的那\n个人），时候尚早，遂先到二姐家把豆奶放家里，省得吃完饭忘了。\n到家里后发现二姑、三姑和老姑都在家里，还有二姐那边的大妈和她的女儿。\n不一会炎生哥家的人一起也上了楼（和安琢满月时人一样），\n看见炎生哥给了小竞月一万块钱，还说“一百个百，一顺百顺”。\n看过小孩儿后，都到木棉花开始吃饭。姑夫们都说让我坐在父亲旁边，\n说看好你爸就行了。我座的屋里就二姑夫、三姑夫和三姐夫，另外还有一个向姐楼上的一个\n喊叔的。不一会儿老姑夫过来说炎生哥叫三姑夫去他那屋，三姑夫说我坐这屋里就行了，\n老姑夫说我不管，你去不去都行，反正我话传到了。二姑夫说去吧，别让过来喊二回了。\n这样我们这屋里有少了个人（后来张夏和浩洋过来，张夏今年已大三，明年夏天，\n去北京）。炎生哥过来对父亲说：“陈鹏专门交代让给你点钱，我得赶紧把任务完成。”，\n父亲忙说有钱有钱，炎生哥笑着说：“拿着吧，你不会嫌多。“。\n过了一会儿，二姐的公公过来和父亲打招呼表情故作严肃地说：“还认识我不认识了？”，\n父亲忙说认识，叔问我是谁，父亲停顿片刻说：“你是陈向她爸。”，\n叔笑着说：“你才是啊。”，父亲反应很快道：“你不也是嘛？”。\n凉菜开始上后，二姑夫说咱们开始吃吧，二姐楼上那个叔说咱先别急，\n万一别的屋还没开始或者还有人没来齐呢。二姑夫说让我出去侦察侦察，\n姑夫出去转了一圈说别的屋都开始了。由于二姐楼上那个叔跟这边的人不是特熟，\n就和二姑夫聊着他们二人都认识的人，而且发现他自始至终都不停地说话，\n大概是怕饭桌上自己埋头吃饭难看的原因。他们二人聊天的在说笑话，\n他们先说到方言（笑笑问牛肉为什么叫ou肉），根据这个点，饭桌上的话就开始了。\n二姑夫先说有个河南人到北京买苹果说你的苹果又大又红，就是有点kuchu.\n接着他又说他当年当兵的时候，特别看不惯一个浙江的兵，\n于是他用河南话说妈的，我非用goudan (扁担）打你鳖儿不可，\n结果那个浙江兵没听明白以为是在发号施令，便大声道：“是！”，他不明白，\n另外一个河南的兵一直在偷笑。接着二姐楼上那个叔说了关于河南话”球“的笑话，\n这个就有点不上台面了，二姑夫根据这个字又讲了个不上台面的笑话。\n他说唐伯虎卖画很值钱，有个女人想跟着他学画画，\n她得知唐伯虎画画都是光着屁股蘸点墨水然后往纸上一坐就行了，\n那个女的也如法炮制，但是人家唐伯虎的画都卖完了，她的一张都没卖出去，\n他去问为什么，这时包袱出来了，人说人家唐伯虎画的苹果上的叶子还是鲜的，\n你画的苹果太kuchu了！这个荤笑话把那个叔也逗得一直说你这是瞎胡溜。\n他们随后又聊到一个他们俩都知道的人是“兔唇“，也就是俗话说的“豁子“，\n二姑夫又据此讲了一个笑话，他说他认识一个人在房上玩，这时天上过来一个飞机，\n直听那个人说：”黑机！黑机！黑机！！“，二姑夫头下没明白过来是什么意思，\n后来一琢磨，哦，原来是飞机！这个笑话虽算不上好笑话，\n但二姑夫说的时候那个表情让人印象深刻，忍俊不禁。\n</p><br><p>\n治国哥进来敬酒的时候，一手拿瓶白酒，一手拿着几乎倒满的杯子。\n进来先给二姑夫倒酒，之后准备给张夏倒的时候，看见那个叔也在，遂先给长者倒，\n治国哥倒酒的时候倒得不少，现在自己算是明白了，自己做东的时候，\n你就是倒多，客人也不会说什么的，喜事嘛。等大家都满上的时候，\n大家一同举杯。之后，治国哥又逐个倒第二次给大家喝了一次，\n这样既把酒卖出去了又显得热情体面。反观自己请金艳单位同事时那个李主席反客为主\n的情形，深知自己需要学习的酒文化太多了。\n</p>\n',NULL,2,1,'N',0,'util.js','2011-11-14 22:09:01','2014-03-01 13:53:49'),(147,'三十岁','<p>\n中午汪群打电话说明天大玲姐生日，竟和自己同一天。\n</p><br><p>\n站在三十岁整这个路口，不得不感叹岁月无情！所幸，最近在做一件事情——\n能让自己定下来的事情。李敖所说的那种状态，我找到了。\n</p>\n',NULL,2,1,'N',0,'util.js','2011-11-18 22:41:30','2014-02-27 13:20:18'),(148,'关于王虎臣','<p>\n中午王书记和小任到厂里找厂长喝酒，酒席间印象深刻的见闻记录如下：\n</p>\n<p>\n<ol><li>\n讲喝酒：有胆量、有酒量、有技巧；\n</li><li>\n他夸我说一看就是个很透的人。我只是微笑应对，其实如果说句：“王书记过奖了，\n能得到长辈的鼓励是我的荣幸。“\n</li><li>\n王书记谈厂长三弟：踏踏实实地工作就好，什么时候想耍滑了，好运就结束了。为什么？\n一个人是个什么类型的人是固定的，你不是那个类型的人，却非要学另外一类人，\n你学不像的。\n</li><li>\n此饭局是王书记来找厂长，厂长自然要尽地主之宜。期间杯来盏去，热情自不必细说，\n又是亲自为王书记卷烙馍。最后自然是厂长结的帐，但王书记的话说得很到，\n他说：“因友，今天咱们在一起热闹第一个应该向你表示感谢的就是我，\n接下来就是小任。”\n</li><li>\n讲喝酒。喜事喝酒如果气氛上不去，会觉得有点遗憾。\n</li><li>\n讲劝酒。技巧性很高，既要让气氛上去，有不能当场让人晕。至于出了门晕不晕是他的事，\n等下次见面那人说上次喝酒回去我好出酒，这边说：“你会喝多？？”\n</li><li>\n酒桌上形容人能喝常说的一句话是“面不改色心不跳”。王书记更正说是\n“面部改色心不乱跳“，其中的意思不言自明。这也算是酒席上的一句话头吧；\n</li><li>\n若是主家，学会让客人喝恰当量的酒。厂长、王书记、四生、副厂长我们五个人两瓶酒。\n除了我喝得少外，他们四个平均下来一个人小钢化杯两杯，也算是恰到好处。\n王书记的话，再喝一瓶也没问题，但是没有现在这样舒服；\n</li><li>\n能喝下去不能说明你能喝，喝下去且出门之前保证不晕那才算能喝。\n因为酒的后劲儿是慢慢上来的；\n</li><li>\n厂长结帐时，须水叫化鸡的服务员当着我们的面检查钱的真伪。厂长说这钱假不了，\n服务员说：“这我知道，但是不是所有的人都像您这样的，上次我就碰到个……”。\n王书记说她回答得很好。想想也是，即照顾了主人的情面，有避免自己真的收到假币。\n这圆场话讲得有水平；\n</li></ol>\n</p>\n',NULL,2,1,'N',0,'util.js','2011-11-24 14:50:43','2014-03-01 13:49:43'),(149,'打疫苗、第一次看到雪','<p>\n29 号，安琢又该打疫苗了。近几日天气不好，28 日下起了中雨。\n昨中午请过假后直奔汽车站，金艳和安琢在候车厅里等我。坐在车上的时候天已经\n飘起了雪花。进到候车厅，看见金艳抱着安琢，天气很冷，安琢穿着张竞文小时候的毛衣，\n一见到我，安琢立刻满脸笑容，很是可爱。我们三口打的到索城卫生院，\n坐在出租车里，看着窗外掠过的风景，安琢好奇地看着。\n</p>\n<img class=\"essayfoto\" src=\"/img/andro/2011/20111129-saw-snow-1.jpg\" />\n<img class=\"essayfoto\" src=\"/img/andro/2011/20111129-saw-snow-2.jpg\" />\n<p>\n到了卫生院二楼，还没有开门，\n楼道里有不少人，抱着安琢先找个位置坐下来。座位旁边是一个五、六十岁的长者，\n怀里抱着她的孙女，她的孙女在睡觉。看到安琢，老人家开始逗他，安琢很爱笑，\n稍微一逗，楼道里就能清晰听到他的笑声！不一会儿，工作人员开始上班，\n排上号后被告知今天需要打两针免费疫苗——乙肝第三针和A群。在等待打针的时候，\n恰逢二姐带着小竞月也来打针。由于天气不好，二姐叫的出租车在楼下等着她们，\n竞月打完针就匆忙离开。待到我们三人出来的时候，外面的雪已经下得很大了！\n雪片大，且夹杂着风，一副满天飞舞的景象。这可是安琢第一次看见雪呢，\n有点纪念意义，遂在等车时拍下两张照片。\n</p>\n<img class=\"essayfoto\" src=\"/img/andro/2011/20111129-saw-snow-3.jpg\" />\n<img class=\"essayfoto\" src=\"/img/andro/2011/20111129-saw-snow-4.jpg\" />\n',NULL,1,1,'N',0,'util.js','2011-11-30 16:00:40','2014-02-27 13:20:18'),(150,'晚上哭闹、无意识的喊爸？','<p>\n最近几天，安琢嘴里时不时会发出类似“爸”（有时候是“大”）的声音，每次一般重复四、\n五次左右。从嘴型上可以明显看到嘴是先闭后开发出的爆破音。\n这让周围的人尤其是自己感觉很激动。这难道就是人们常说的“无意识的喊爸”吗，\n要知道安琢现在才 190 天呀。俗语说“三拍六坐九爬查，十个月才会达达达”呢。\n如果这是真的在喊的话，那安琢学说话的时间可够早的。\n</p><br><p>\n也是最近几天，安琢晚上睡觉经常无缘无故的哭闹，每次持续时间三五分钟。\n也不知是没睡熟还是其它的原因，让我和金艳（特别是金艳）很是郁闷，\n金艳说现在晚上睡觉不敢平躺着睡，否则腰会疼得难受。\n</p>\n',NULL,1,1,'N',0,'util.js','2011-12-05 13:56:22','2014-02-27 13:20:18'),(151,'借马玉钱','<p>\n中午吃过饭后到二砂村的信用社给马玉转帐五千块钱，之后打电话给马玉，\n跟他说让他查收一下，如果确认收到了，给我发个信息。到现在为止，\n还没有收到他的消息。郑渊洁在一次访谈中谈到对他孩子的教育时谈到他认为是很重要的\n一点就是假如他的孩子向朋友借钱，当朋友打钱过来后，\n这时一定要第一时间告诉朋友钱收到了。这样你人生的路才会越走越宽。\n</p><br><p>\n\n下午冯璐打电话问王啸的货包好了没有，一共是几箱。等我跑上去问后，\n四楼的人用惊讶的眼神看着我说王啸的货昨天都带到公司了。\n过了一会儿李老师特意下来问我王啸的货销售发走了没有，\n我在系统里找到王啸的货物后发现状态没有更新为“等待发货”，还是“工厂备货”。\n但是货物昨天已经带回去了。快下班的时候李老师下来说冯璐把王啸的货错发给南慎二了，\n幸亏发现得及时，冯璐打电话的时候货物还没有上飞机，否则损失会很大。\n李老师说箱子上那么大的两个字都看不到。我在想我没有及时更新王啸订单的状态信息会\n不会是冯璐这次发货失误的原因之一呢。\n</p>\n',NULL,2,1,'N',0,'util.js','2011-12-08 20:13:43','2014-02-27 13:20:18'),(152,'Boxy 插件笔记','<!--\n<a href=\"#\" class=\"boxy\">boxy</a>\n\n<pre class=\"brush: javascript\">\n</pre>\n-->\n<script>\n$(document).ready(function(){\n	/*\n	var bi = new Boxy($(\'#container_1\'), {\n                title:\'Good\',\n                draggable:false,\n                modal:true,\n                center:true,\n        });\n	bi.load(\"http://localhost/eorder/tt.php\");\n	*/\n\n	var ctt = $(\'<h5>Title</h5><p>Line 1 is booya, what does it mean anyway?</p><p>Line 2</p>\');\n	$(\'.boxy\').boxy();\n	$(\'#boxyform\').boxy();\n	$(\'#defaultLink\').click(function(){\n		var dd = new Boxy(ctt, {\n			title: \"Dialog\",\n			draggable:false,\n			closeable:true,\n			modal:true\n		});\n	});\n	$(\'.boxy\').click(function(){\n	});\n	$(\'#defaultDialog\').click(function(){\n		var dd = new Boxy(ctt, {title: \"Dialog\"});\n	});\n	$(\'#dialogNoDraggable\').click(function(){\n		var dd = new Boxy(ctt, {\n			title: \"Dialog\",\n			draggable:false,\n			closeable:true,\n			modal:true\n		});\n	});\n	$(\'#dialogContent\').hide();\n	$(\'#dialogCustom\').click(function(){\n		var dc = new Boxy($(\'#dialogContent\'), {\n			//title: \"Dialog\",\n			draggable:false,\n			//closeable:true,\n			modal:true,\n			center:false,\n			 \n			/*\n			behaviours: function(r) {\n				$(r).hover(function(){\n					$(this).css(\"background-color\",\"red\");\n				}, function(){\n					$(this).css(\"background-color\",\"yellow\");\n				});\n			}\n			*/\n		});\n		// 动感地放大、缩小对话框\n		//dc.tween(500,600);\n		//dc.setTitle(\'This is the title!\');\n		// 有何作用？\n		//dc.getTitle();\n	});\n\n});\n</script>\n<div id=\"dialogContent\">\n<p>hello</p>\n<p>hello</p>\n<p>hello</p>\n<p>hello</p>\n<br>\n<a href=\"#\" class=\"btn\">Click to show a default dialog</a>\n<a href=\"#\" class=\"btn\">Click to show a default dialog</a>\n\n</div>\n\n<h2>Basic</h2>\n<h3>Boxy Plugin Test</h3>\n<p>默认情况下，赋予<tt>.boxy()</tt>的表单元素在提交前都会弹出一个确认对话框：\n</p>\n<pre class=\"brush: javascript\">$(\'#boxyform\').boxy();</pre>\n<form title=\"really\" id=\"boxyform\" action=\"/p/essay/20111210-js-learning-boxy.php\" method=\"POST\">\n<input type=\"text\" class=\"txt\" name=\"number\" size=\"20\" />\n<input id=\"submit\" class=\"btn\" type=\"submit\" name=\'submit\' value=\"提交！\"> \n</form>\n\n<a href=\"#\" id=\"defaultLink\">Link</a>\n\n<h3>向构造器中传递参数以改变对话框的样式</h3>\n<a href=\"#\" id=\"defaultDialog\">Click to show a default dialog</a>\n<br>\n<pre class=\"brush: javascript\">\n$(\'#defaultDialog\').click(function(){\n	var dd = new Boxy(ctt, {title: \"Dialog\"});\n});</pre>\n<p>默认情况下，单击按钮后，对话框会立即出现，且可以自由拖动。\n若想让对话框固定在正中央，可以用一系列的参数传递给构造器。</p>\n<p>我们可以加入一个参数来实现\n<a href=\"#\" id=\"dialogNoDraggable\">不能拖动的对话框</a></p>\n<pre class=\"brush: javascript\">\n$(\'#dialogNoDraggable\').click(function(){\n	var dd = new Boxy(ctt, {\n		title: \"Dialog\",\n		draggable:false\n	});\n});</pre>\n<p>类似的，不过不想让对话框有关闭的选项，可以加入<tt>closeable:false</tt>\n选项\n</p>\n<br>\n<p><a href=\"#\" id=\"dialogCustom\">自定义对话框</a></p>\n<h3>修改已有的对话框</h3>\n<p>Boxy 实例对象提供了很多方法来修改对话框。例如<tt>.tween()</tt>\n可以修改对话框的尺寸；<tt>setTitle()</tt>可以修改对话框的标题等等。</p>\n<p></p>\n<p></p>\n\n<div id=\"container_1\" class=\"hide\" style=\"width:900px; height:500px;\"></div>\n',NULL,3,1,'Y',0,'util.js','2011-12-10 09:15:04','2014-02-27 13:20:18'),(153,'qTip 插件笔记','<script type=\"text/javascript\">\n$(document).ready(function(){\n	$(\".hint\").mouseover(function(){\n      		$(this).qtip({\n         		content: {\n            			text: \'Hint message about this textarea element\', \n         		},\n         		position: {\n            			my: \'bottom left\',\n            			at: \'top left\',\n				viewport: $(window)\n         		},\n         		show: { delay: 0 }, // Give it a reasonable delay so they don\'t view it accidentally\n         		hide: { fixed: true, delay: 100 }, // Allow the user the mouseover the tooltip without it hiding\n         		style: {\n            			classes: \'ui-tooltip-red ui-tooltip-shadow\'\n         		}\n      		});\n	});\n\n});\n</script>\n\n<div class=\"hint\" style=\"width:300px;height:30px;margin:10px;border:1px solid green\"></div>\n<textarea class=\"hint\" name=\"street_m\" cols=\"50\" rows=\"4\" wrap=\"virtual\"></textarea>\n<br>\n<a class=\"hint\">hint</a>\n<br>\n\npostion 中的 \'my\' 指的是小三角的位置\n\n<div id=\"a8\" style=\"height:600px;margin:30px; padding:30px; border:1px solid green;\">\n<a id=\"basic\" href=\"\" title=\"I\'m the #basic\'s title value.\">qTip</a>\n<br>\n<span style=\"float:right;\">\n<a class=\"orderTipLink\" href=\"\" rel=\"626\">Logistics Name</a>\n</span>\n</div>\n<br>\n<br>\n\n<script type=\"text/javascript\">\n$(document).ready(function(){\nfunction make_order_link_tip() {\n	$(\'.orderTipLink\').each(function(){\n      		$(this).qtip({\n         		content: {\n            			text: \'Loading...\', \n            			ajax: {\n               				url: \'/eorder/md.ajax-pipe.php\',\n					type: \'POST\',\n               				data: { \n						do: \'generate_goods_table_tip\',\n                  				order_id: $(this).attr(\'rel\')\n               				} \n            			}\n         		},\n         		position: {\n            			my: \'left center\',\n            			at: \'right center\',\n				viewport: $(window)\n         		},\n         		show: { delay: 500 }, // Give it a reasonable delay so they don\'t view it accidentally\n         		hide: { fixed: true, delay: 100 }, // Allow the user the mouseover the tooltip without it hiding\n         		style: {\n            			classes: \'ui-tooltip-dark ui-tooltip-shadow\'\n         		}\n      		});\n   	});\n}\n	make_order_link_tip();\n	$(\"#basic\").qtip({\n         	position: {\n			at: \'right bottom\',\n            		my: \'left center\',\n			container: $(\'div.tooltips\')\n         	}\n	});\n\n	$(\'.ajax\').each(function(){\n      		$(this).qtip({\n         		content: {\n            			text: \'Loading...\', \n            			ajax: {\n               				url: \'http://localhost/eorder/md.ajax-pipe.php\',\n					type: \'POST\',\n               				data: { \n						do: \'ccc\',\n                  				order_id: $(this).attr(\'rel\')\n               				} \n            			}\n         		},\n         		position: {\n            			my: \'left center\',\n            			at: \'right center\',\n            			adjust: { screen: true }\n         		},\n         		show: { delay: 700 }, // Give it a reasonable delay so they don\'t view it accidentally\n         		hide: { fixed: true, delay: 100 }, // Allow the user the mouseover the tooltip without it hiding\n         		style: {\n            			classes: \'ui-tooltip-green ui-tooltip-shadow\'\n         		}\n      		});\n   	});\n});\n</script>\n\n',NULL,1,1,'N',0,'util.js','2011-12-27 09:37:23','2014-02-27 13:20:18'),(154,'借助 qTip 插件实现动态显示相关信息卡片的效果','<p>在新浪微博上，当鼠标移动到某用户的头像或 \'@用户名\' 的链接时，\n将会动态显示该用户的相关资料信息。一直以来都想此效果应用在 E-Orders 应用中。\n只是一直找不到容易上手的插件，直到今天上午。找到的插件名叫 \"qTip\",\n一个英国人开发的。下面将此插件在 E-Orders 中具体应用的步骤记录。\n</p>\n<h3>Step 1: 将 qTip 插件包含在网页中</h3>\n<p>\n包含 JS 文件和 CSS 文件两部分：\n</p>\n<pre class=\"brush: xml\">\n&lt;script type=\'text/javascript\' src=\'js.jquery.qtip.min.js\'&gt;&lt;/script&gt;\n&lt;link type=\"text/css\" rel=\"stylesheet\" href=\"cs.jquery.qtip.css\"&gt;\n</pre>\n<h3>Step 2: HTML 设置</h3>\n<p>\n在生成订单表格的模板函数内，我们在订单链接内添加两个属性：<tt>rel</tt> 和<tt>class</tt>\n, 这两个属性在 Step 3 中 JS 代码上都会用到。\n<pre class=\"brush: php\">\nfunction tf_make_orders_table($customerId) {\n    ....\n    echo \"&lt;td&gt;&lt;a rel=\\\"\".$d-&gt;order_id.\"\\\" class=\\\"orderTipLink\\\" \n    	href=\\\"order.php?action=view_order&order_id=$d-&gt;order_id\\\"&gt;$company_name&lt;/a&gt;&lt;/td&gt;\\n\";\n    ....\n}\n</pre>\n</p>\n<h3>Step 3: JS 代码部分</h3>\n<pre class=\"brush: javascript\">\n$(\'.orderTipLink\').each(function(){\n	$(this).qtip({\n 		content: {\n    			text: \'Loading...\', \n    			ajax: {\n       				url: \'/eorder/md.ajax-pipe.php\',\n				type: \'POST\',\n       				data: {	// 相当于请求链接为 \'?do=generate_goods_table_tip&order_id=xxx\'\n					do: \'generate_goods_table_tip\',\n          				order_id: $(this).attr(\'rel\')\n       				} \n    			}\n 		},\n 		position: {\n    			my: \'left center\',\n    			at: \'right center\',\n    			adjust: { screen: true }\n 		},\n 		show: { delay: 500 }, // Give it a reasonable delay so they don\'t view it accidentally\n 		hide: { fixed: true, delay: 100 }, // Allow the user the mouseover the tooltip without it hiding\n 		style: {\n    			classes: \'ui-tooltip-green ui-tooltip-shadow\'\n 		}\n	});\n});\n</pre>\n<h2>注意事项</h2>\n<p>由于 tooltip 中可以包含任意的 HTML 内容（如图片、表格），\n这些元素的样式在 qtip 自带的 CSS 中没有设置。所以需要单独设置以达到统一美观的效果。\n自定义的样式如下：\n<pre class=\"brush: css\">\n/* order detail link tip  in order.php */\n.ui-tooltip-content ul{\n	margin:0px; padding:0px;\n	width:455px;\n}\n.ui-tooltip-content ul li{\n	display:inline;\n	padding:2px 0px;\n}\n.li-title, .li-content {\n	margin:0; padding:0;\n}\n.ui-tooltip-content ul li.li-title {\n	text-align:right;\n	padding-right:5px;\n	float:left;\n	display:block;\n	width:90px;\n}\n.ui-tooltip-content ul li.li-content {\n	float:left;\n	padding-left:5px;\n	display:block;\n	width:350px;\n}\n.ui-tooltip-content ul li.li-content ul {\n	margin:0px; padding:0px;\n}\n.ui-tooltip-content ul li.li-content ul li {\n	display:inline;\n	display:block;\n	float:left;\n}\n.ui-tooltip-content ul li.li-content ul li.gCell {\n	width:70px;\n	border-top:1px solid #888;\n	text-align:center;\n}\n.ui-tooltip-content ul li.li-content ul li.gCaption {\n	width:70px;\n	text-align:center;\n}\n</pre>\n</p>\n<p></p>\n',NULL,3,1,'N',0,'util.js','2011-12-27 16:06:16','2014-02-27 13:20:18'),(155,'gif in sex','<img src=\"/img/s/favourite/france-girl.jpg\" /><br>\n<!--\n<img src=\"/img/s/gif/sline-01.gif\" /><br>\n<img src=\"/img/s/gif/sline-02.gif\" /><br>\n<img src=\"/img/s/gif/sline-03.gif\" /><br>\n<img src=\"/img/s/gif/sline-04.gif\" /><br>\n<img src=\"/img/s/gif/sline-05.gif\" /><br>\n<img src=\"/img/s/gif/sline-06.gif\" /><br>\n<img src=\"/img/s/gif/sline-07.gif\" /><br>\n<img src=\"/img/s/gif/sline-08.gif\" /><br>\n<img src=\"/img/s/gif/sline-09.gif\" /><br>\n<img src=\"/img/s/gif/sline-10.gif\" /><br>\n<img src=\"/img/s/gif/sline-11.gif\" /><br>\n<img src=\"/img/s/gif/sline-12.gif\" /><br>\n<img src=\"/img/s/gif/sline-13.gif\" /><br>\n<img src=\"/img/s/gif/sline-14.gif\" /><br>\n-->\n',NULL,2,1,'N',0,'util.js','2011-12-27 20:27:20','2014-02-27 13:20:18'),(156,'第 6 次安装 Debian','<p>\n元旦期间三姐在家曾经打开过我的笔记本电脑，由于 A840 上默认启动的系统是 Debian\n而非 Windows, 也不知三姐是如何操作的，等我再用电脑的时候发现 Debian 系统出问题。\n具体症状有：\n<ol><li>\nApache 失效，Localhost 地址无法访问；\n</li><li>\n开机的加载信息中出现如下信息：\n<pre>\nFailure initializing /etc/network/run/ifstate failed!\nConfiguring network interfaces...ifup: failed to open statefile /etc/network/run/ifstate: Stale NFS file handle\nStarting NFS common utilities: statd failed!\n</pre>\n</li></ol>\n从信息上大致明白是网络方面出现故障。根据提示查看文件\n<tt>/etc/network/run/ifstate</tt>后出现如下异常信息：\n<pre class=\"tty\">\n<span class=\"ttyipt\">vi /etc/network/run/ifstate</span>\nStale NFS file handle\n</pre>\n根据提示在网上找了<a target=\"_blank\" href=\"http://www.cyberciti.biz/tips/nfs-stale-file-handle-error-and-solution.html\">一个解决方法</a>\n也不起作用，只好再次重装 Debian.\n</p><br><p>\n根据以往的经验，此次安装总体上比较顺利。有以下三点注意：\n<ol><li>\n在 Debian, Windows 两个系统都能进去的情况下重装的步骤:<br>\n	<ol><li>\n	插入 Windows 系统维护盘，在 DOS 命令下输入<tt>fdisk /mbr</tt>\n	命令，该命令将清楚 MBR 信息，之后两个系统都将不可用；\n	</li><li>\n	同样插入 Windows 系统光盘，利用 Ghost 还原事先备份好的 Windows 7 系统。\n	之后 Windows 系统可用；\n	</li><li>\n	插入 Debian 5 安装盘进行安装。在运行 /bak/rootinstall.sh 脚本时，\n	需要进行几个交互：一个是设置区域；还有就是在移除旧软件、\n	安装新软件的过程中需要按 \'y\' 确认；\n	</ol>\n</li><li>\n在不格式化 /home 分区的情况重装需要记住分区顺序。\n查看此信息的命令由于许久不用都快忘记了：\n<pre class=\"tty\">\nts@TS:~$ <span class=\"ttyipt\">df -h </span>\nFilesystem            Size  Used Avail Use% Mounted on\n/dev/sda7              15G  330M   13G   3% /\ntmpfs                1014M     0 1014M   0% /lib/init/rw\nudev                   10M  704K  9.4M   7% /dev\ntmpfs                1014M  140K 1014M   1% /dev/shm\n/dev/sda8             3.7G   87M  3.4G   3% /boot\n/dev/sda9              37G  2.6G   33G   8% /home\n/dev/sda10             28G  1.6G   25G   6% /usr\n/dev/sda11             28G  736M   26G   3% /var\n</pre>\n</li><li>\n有两次安装的系统都没有GNOME, 开机后直接进入终端界面。这是因为在笔记本电脑上\n安装时在选择组件时，除了选择默认的桌面环境、笔记本电脑和标准系统外，\n还需加选“文件服务器”才行。但是记得之前保持保持默认安装的带有 GNOME.\n</li></ol>\n</p>\n',NULL,3,1,'N',0,'util.js','2012-01-09 09:31:00','2014-02-27 13:20:18'),(157,'E-Order Application 中的经验教训','<ol><li>\n表格结构内不会出现汉字了；\n</li><li>\n不管客户、产品/服务提供商还是自己统统都属于“公司”，因此不要细分什么\"customers\",\n\"suppliers\", \"logistics\" 等等，一个\"companies\"表即搞定；\n<br>\n每个公司，都有地址属性、银行卡信息；\n<br>\n新问题：<tt>om_dispatch</tt>表中会同时出现两条代表不同含义\n（客户和物流公司）的<tt>company_id</tt>, 这导致多表查询不能做到一次查询即可获取\n所有数据；<br>\n［随着 Yii 的引入，对 Model 中 relations() 方法简单配置即可解决\n@25-Dec-2012］\n</li><li>\nom_address表中 \'receiver\' 列命名不好，\'receiver\' 是客户发货人的特指，客户、\n供应商和物流公司统一后改为 \'contacter\' 更合适;\n</li><li>\n数据库内所有表格内列命名出现重复有什么问题？多表查询时不能做到唯一性选取，\n代价是有时会不得不一一列出需要<s>获取的列名并重新命名</s>\n［alias 表名 @2012-12-25］；\n</li><li>\n商品单价的小数点精度不会只精确到小数点后面两位了，起码得三位；\n</li><li>\n图片、JS 文件、CSS 文件……不再以<tt>img.*, js.*, css.*</tt> 的形式放在根目录下，\n随着系统功能的增加，根目录下会越来越乱。还是采用传统的目录形式更佳；\n</li><li>\n在页面显示数据库中数据时，不会直接使用 SQL 函数读取相关列值(Hardcode)，而是用函数来表示。\n参<a href=\"/p/essay/v.php?name=20120521-eorder-change-log-0.0.17.php\">V0.0.17 Log</a>\n</li><li>\n模块化设计数据库操作的 PHP 代码。比如可以将常用操作以类的形式存储。\n这样做的好处在于一旦数据库/表格结构发生变动，只需修改相应方法代码，\n不必逐个页面进行代码修改(2012.6.29)；\n</li><li>\n少用 echo 语句，尤其是在函数内部（不使用），而采用将输出内容整体存入字符串内、\n再一次性输出该字符串。这样可以减少不必要的换行符，减少载入页面的大小\n(Jul 7, 2012)\n</li><li>\n向枚举类型说再见，改用整形，同时在对应 Model Class 中用常量声明各整数的含义。\n因为向枚举类型中添加内容需要更改代码的位置过多，添加研磨膏浓度如此，\n添加退、换货动作亦然； (Sep 14, 2012)\n</li></ol>\n',NULL,3,1,'N',0,'util.js','2012-01-31 11:56:23','2014-02-27 13:20:18'),(158,'自定义函数可选参数的声明技巧——二读 EZSQL 类库','随着软件新功能的不断加入，代码的体积越来越大。这个阶段觉得不能一味的追求新功能。\n是时候停下来回望之前的代码，优化、规范代码，使代码更规范，在以后的编写时提升效率\n，此谓“磨刀不误砍柴功”。 近两日对 WordPress 使用的 MySQL 类库 ezsql 重新学习，\n学到了一些技巧。\n\n<h3>自定义函数可选参数的声明技巧</h3>\n\n先来看类获取表格中某行值的方法声明：\n\n<pre class=\"brush: php\">\nfunction get_row($query=null, $output=OBJECT, $y=0) {\n	//...\n}\n</pre>\n注意到该函数的三个参数都赋有默认的值，自己在声明自定义函数时从未这么用过。\n这么做的目的是什么？\n<br><br>\n此方法最经常使用的形式如下：\n<pre class=\"brush: php\">\n$db-&gt;get_row(\"SELECT * FROM om_users WHERE user_id = 7\");\n</pre>\n其实该方法还可以有如下的使用形式：\n<pre class=\"brush: php\">\n$db-&gt;get_row();\n$db-&gt;get_row(\"SELECT * FROM om_users WHERE user_id = 7\",ARRAY_N);\n$db-&gt;get_row(\"SELECT * FROM om_users WHERE user_id = 7\",3);\n</pre>\n具体的含义不是这里的重点，这里注意的是传递的参数的方法。\n我发现该方法不是只能传入一个参数（SQL 语句），\n它还可以传入两个参数甚至不带任何参数。换句话说，\n该方法接受参数的个数是三个，虽然常用的是传入一个参数，但本质上还是三个参数，\n只是后两个参数是作为默认值隐性传入的。即这三个参数都是可选的（Optional）。\n<br>\n<blockquote>\n在函数声明的参数赋默认值可以很优雅地解决可选参数的问题。\n</blockquote>\n反观自己创建函数时也遇到过可选参数的情况，自己的方式如下：\n<pre class=\"brush: php\">\n// 计算某个订单或多个订单的订货总量 Deprecated\nfunction om_get_orders_qtt($type,$orderIdArray) {\n	global $db;\n	$total = 0;\n	if ($type == \'wfeymg\') {\n		$cdt = \" AND (om_products.product_name = \'微粉\' OR om_products.product_name = \'研磨膏\')\";\n	} elseif ($type == \'psl\') {\n		$cdt = \" AND (om_products.product_name = \'破碎料\')\";\n	} elseif ($type == \'all\') {\n		$cdt = \'\';\n	}\n	foreach ($orderIdArray as $oid) {\n		$goods = $db-&gt;get_results(\n			\"SELECT * FROM om_goods,om_products \n			WHERE om_products.product_id = om_goods.product_id AND order_id = $oid.$cdt\"\n		);\n		if ($goods != null) {\n			foreach ($goods as $g) {\n				if ($g-&gt;product_name == \'研磨膏\') {\n					$g-&gt;qutity = ($g-&gt;qutity)*($g-&gt;purity)*5;\n				}\n				$total += $g-&gt;qutity;\n			}\n		}\n	}\n	return $total;\n}\n</pre>\n在计算订单订货量的自定义函数中，货物的种类是可选的。默认计算所有类别的总量，\n也可计算某一类（破碎料）的订货量。借鉴上面的参数声明技巧，可以把该函数写得更好。\n\n<pre class=\"brush: php\">\nfunction om_get_orders_qtt($orderIds,$type=\'all\',$output=\'raw\') {\n	global $db;\n	$total = 0;\n	if ($type == \'wfeymg\') {\n		$cdt = \" AND (om_products.product_name = \'微粉\' OR om_products.product_name = \'研磨膏\')\";\n	} elseif ($type == \'psl\') {\n		$cdt = \" AND (om_products.product_name = \'破碎料\')\";\n	} elseif ($type == \'all\') {\n		$cdt = \'\';\n	} else {\n		return \"&lt;b&gt;Argument error: &lt;/b&gt; the 2rd argument must be \'all\', \'wfeymg\' or \'psl\'.\";\n	}\n\n	// 从数据库获取订单号的方法 $_POST[\'order_id\'] 的类型实际上是 string\n	// 类型，即是 \'530\', 而非 530. 因此用 intval() 函数强制转换\n	if (gettype($orderIds) != \'array\') {\n		$orderIds = array(intval($orderIds));\n	}\n\n	foreach ($orderIds as $oid) {\n		$goods = $db-&gt;get_results(\n			\"SELECT * FROM om_goods,om_products \n			WHERE om_products.product_id = om_goods.product_id AND order_id = $oid.$cdt\"\n		);\n		if ($goods != null) {\n			foreach ($goods as $g) {\n				if ($g-&gt;product_name == \'研磨膏\') {\n					$g-&gt;qutity = ($g-&gt;qutity)*($g-&gt;purity)*5;\n				}\n				$total += $g-&gt;qutity;\n			}\n		}\n	}\n\n	if ($output == \'raw\') {\n		return $total;\n	} elseif ($output == \'html\') {\n		return number_format($total);\n	} else {\n		return \"&lt;b&gt;Argument error: &lt;/b&gt; the 3rd argument must be \'raw\' or \'html\'.\";\n		exit();\n	}\n}\n</pre>\n这样调用就方便得多了。\n<pre class=\"brush: php\">\necho om_get_orders_qtt(530); // 530 单货物总量\necho om_get_orders_qtt(array(530,552)); // 530,552 单货物总量\necho om_get_orders_qtt(array(530,552),\'psl\'); // 530,552 两单中破碎料总量\necho om_get_orders_qtt(array(530,552),\'psl\',\'html\'); // 格式化输出该数值\n</pre>\n',NULL,3,1,'N',0,'util.js','2012-02-03 21:05:28','2014-02-27 13:20:18'),(159,'许霞客《游黄山日记》笔记','饭后不知做什么，随手拿起《许霞客游记》看，看《游黄山游记》前两段，做笔记如下。\n<br><br>\n黄山：在安徽省黄山市南，面积约 154 平方公里。秦朝时称“黟（音：一）山”。相传轩辕\n黄帝率手下大臣容成子、浮丘公来此炼丹，并最终得道升天。故黄山中的“黄”字是取自\n”轩辕黄帝“之意。公元 747 年（唐天宝六年），唐玄宗据此传说敕（音：赤）令改黟山为\n黄山。\n<h4>游览季节</h4>\n<span class=\"cite\">“折而入山，沿溪渐上，雪且没趾。”</span>\n<span class=\"cite\">“汤深三尺，时凝寒未解，而汤气郁然，水泡池底汩汩起，\n气本香冽。”</span>\n这两句表明作者游览应该是在冬季。\n<h4>游览花费时间及住宿</h4>\n该日记记录作者游黄山公花了十天时间（初二至十一日）。想想如今去黄山玩至多两天时间\n，现代生活节奏之快相比古人怎么也不会想到。作者游览黄山住在哪呢？\n初二<span class=\"cite\">“宿高桥”</span>，\n初三<span class=\"cite\">“宿祥符寺”</span>。\n现在的人去黄山想住在寺庙里是不可能的。\n<h4>几人同行</h4>\n本以为此次游览是作者独自去的，实际上不是的。作者在黄山泡温泉时写道：\n<span class=\"cite\">“汤泉在隔溪，遂俱解衣附汤池。”</span>，\n<span class=\"cite\">“黄贞父谓其不及盘山。”</span>\n两处表明，作者有其他人同行，至少有黄贞\n父。\n',NULL,1,1,'N',0,'util.js','2012-02-09 22:15:57','2014-02-27 13:20:18'),(160,'如何禁用链接的默认的访问地址功能？','应用中对链接标签的一个常见使用是将其当作一个“按钮“：当用户点击时，交由 jQuery\n去完成一些工作，而不是默认的指向某一个链接；\n<br><br>\n作为一个普通的 JS 按钮，链接何必非要带上<tt>href</tt>属性呢？\n<br><br>\n',NULL,1,1,'N',0,'util.js','2012-02-15 16:02:34','2014-02-27 13:20:18'),(161,'关于加快页面速度','<h3>借助多表联合（Join）查询减少查询次数</h3>\n在0.0.10 版本里获取发货记录结果集表格里，自己的查询语句大致如下：\n<pre class=\"brush: php\">\n$dis_rst = $db-&gt;get_results(\"SELECT * FROM om_dispatch\");\nforeach ($dis_rst as $r) {\n	$customer_name = $db-&gt;get_var(\"SELECT customer_name FROM om_customers WHERE customer_id = \".$r-&gt;customer_id);\n}\n</pre>\n因发货记录中需要客户名称，因此通过一个<tt>get_var()</tt>查询获取。此方法的问题\n在于查询次数过多。以获取最近 30 条记录为例，两面将用到 30*2=60 次查询。\n其实使用多表查询可将同样操作的查询次数降至一次。通过此方法将查询语句修改如下：\n<pre class=\"brush: php\">\n$dispatchs    = $db-&gt;get_results(\"\n	SELECT \n		om_dispatch.dispatch_id,\n		om_orders.order_id,\n		om_dispatch.c_time,\n		om_companies.short_name,\n		om_dispatch.logistics_id,\n		om_dispatch.goods_type,\n		om_dispatch.list_UID,\n		om_dispatch.dispatch_note,\n		om_dispatch.weight,\n		om_dispatch.added_by,\n		om_orders.status\n        \n	FROM om_dispatch, om_companies ,om_mapping, om_orders\n	WHERE \n		om_dispatch.customer_id = om_companies.company_id AND \n		om_dispatch.dispatch_id = om_mapping.from_id AND\n		om_mapping.to_id = om_orders.order_id\n		\".$where_my_dispatch.\" GROUP BY om_dispatch.dispatch_id ORDER BY c_time DESC LIMIT 30\n	\"); \n</pre>\n这里只进行一次查询就获得所需的所有数据，剩下的就交给 PHP 来处理。对此方法能节省\n多少时间尚不清楚，但可让代码更清晰。\n\n<h3>将每个页面都会用到的数据存储到数组中</h3>\n登录系统后，用户的个人信息如显示名、角色等变量所有的页面都会用到。当前的做法是\n在每个页面载入时都进行一次查询：\n<pre class=\"brush: php\">\n// md.array-vars.php\n$curr_user_asso = $db-&gt;get_row(\"SELECT * FROM om_users WHERE login_name = \'$curr_login_name\'\");\n</pre>\n从减少查询次数的角度出发，完全可以在用户登录系统后将这些信息存储在一个全局数组中\n，这样别的页面再载入时直接拿来使用即可。当这些数据更新时（例如用户修改了显示名）\n，随即更新该数组。\n',NULL,1,1,'N',0,'util.js','2012-02-16 10:43:12','2014-02-27 13:20:18'),(162,'修改表格中 ENUM 类型的方法','<h2>2012.12.25 更新</h2>\n列类型发生变化，不能直接替换，而采用曲线救国的方法，具体参看实际代码：\n<pre class=\"brush: sql\">\nALTER TABLE  om_product ADD name2 int(2) DEFAULT NULL AFTER product_name;\nUPDATE om_product SET name2 = 1 WHERE (product_name = \'wfe\');\nUPDATE om_product SET name2 = 2 WHERE (product_name = \'ymg\');\nUPDATE om_product SET name2 = 3 WHERE (product_name = \'psl\');\nALTER TABLE  om_product CHANGE name2 name int(2);\nALTER TABLE om_product DROP COLUMN product_name;\n</pre>\n\n<h2>原始</h2>\n<pre class=\"brush: php\">\n$db-&gt;query(\"UPDATE om_products SET product_name = wfe WHERE (product_name = \'微粉\')\");\n$db-&gt;query(\"UPDATE om_products SET product_name = ymg WHERE (product_name = \'研磨膏\')\");\n$db-&gt;query(\"UPDATE om_products SET product_name = psl WHERE (product_name = \'破碎料\')\");\n$db-&gt;query(\"ALTER TABLE om_products CHANGE product_name product_name ENUM(\'wfe\',\'ymg\',\'psl\') DEFAULT NULL\");\n</pre>\n<pre class=\"brush: php\">\n$wfe_ids = $db-&gt;get_col(\"SELECT product_id FROM om_products WHERE product_name = \'微粉\'\");\n$ymg_ids = $db-&gt;get_col(\"SELECT product_id FROM om_products WHERE product_name = \'研磨膏\'\");\n$psl_ids = $db-&gt;get_col(\"SELECT product_id FROM om_products WHERE product_name = \'破碎料\'\");\n$db-&gt;query(\"ALTER TABLE om_products CHANGE product_name product_name ENUM(\'wfe\',\'ymg\',\'psl\') DEFAULT NULL\");\nforeach ($wfe_ids as $p) {\n	$db-&gt;query(\"UPDATE om_products SET product_name = \'wfe\' WHERE (product_id = $p)\");\n}\nforeach ($ymg_ids as $p) {\n	$db-&gt;query(\"UPDATE om_products SET product_name = \'ymg\' WHERE (product_id = $p)\");\n}\nforeach ($psl_ids as $p) {\n	$db-&gt;query(\"UPDATE om_products SET product_name = \'psl\' WHERE (product_id = $p)\");\n}\n</pre>\n',NULL,1,1,'N',0,'util.js','2012-02-21 11:21:14','2014-02-27 13:20:18'),(163,'《127 Hours》','\n<blockquote>\n“But once your crew has rowed you past the Sirens a choice of routes is yours. I cannot advise you which to take, or lead you through it all -- you must decide for yourself...”\n</blockquote>\n\nAn excerpt from Homer’s Odyssey is a fitting introduction to a journey of equally epic proportions -- Aron Ralston’s incredible story of survival in his first book, Between a Rock and a Hard Place.\n<br><br>\nCreating a sense of place, Ralston opens with a short prologue introducing maverick Blue John Griffith, his exploits with Butch Cassidy’s Wild Bunch and his lasting legacy -- the springs and canyon that bear his name. Blue John is a wild, remote canyon in the red rocks of central-eastern Utah. It is a hiker’s paradise... and the site of this modern-day maverick’s near-death experience.\n<br><br>\n\nSaturday morning, April 26th, 2003. Sun shining, wind blowing, Ralston unloads his mountain bike from his pick-up, rides across miles of washboard and loose sand before reaching the trailhead and the start of a journey into the soul of a man.\n<br><br>\n\nHe’s planned a thirty-mile circuit, part bike, part canyoneering, part hiking. Bike over, he descends into the canyon, Phish playing over his headphones, deep in thought and unaware of what lay ahead. Within a short time, Ralston encounters two Moab women. The trio hike together in a similar direction until the junction, where the girls branch off and Aron continues. Countering their entreaties to continue the hike with them, Ralston offers to meet up later in the day, after he’s completed his predestined circuit. They were the last people he would see for five days.\n<br><br>\n\nWhat happens next is unimaginable. In a sudden shift, Ralston is trapped by a monstrous boulder, unable to free his right hand. With precious few resources, he is literally caught between a rock and a hard place. He knows immediately that if no one comes to his rescue, his only option is cutting off his arm. He also knows that doing this might lead to his ultimate death. Ingenuity and logic play a major role in his survival. The will to live is strong and echoed in reflective text describing his life, his love of extreme sport and his passion for adventure. Although the book shifts from present to past in alternating chapters, the thread is strong and readers should appreciate the background leading up to Blue John.\n<br><br>\n\nBetween a Rock and a Hard Place isn’t always an easy read, there are time when I wondered why Ralston was so driven. His adventures prior to Blue John were hardcore, and his life was on the edge more than once. Counter-balanced by his obvious love of the outdoors and the adventure of testing limits, it’s up to each reader to decide whether choices made were wise or otherwise.\n<br><br>\n\nIt seems that there is little the former engineer (graduating with a B.S. in mechanical engineering and a double major French and a minor in piano performance) can’t do -- including writing a thought-provoking book that will make the reader contemplate life and the human ability to cope beyond what we believe to be possible. Inspiring, stimulating and intriguing, Between a Rock and a Hard Place is an adrenaline rush of a read.\n<br><br>\n<img src=\"/img/page/pg-aron-ralston-with-jessica-ralston.jpg\" />\n',NULL,1,1,'N',0,'util.js','2012-02-24 15:34:00','2014-02-27 13:20:18'),(164,'AJAX Loading 特效','<script type=\"text/javascript\">\n 	function loading() {\n		//var ld = $(\"<div><img src=\\\"img.ajax-loading.gif\\\" /> 数据传输中, 请稍候……</div>\\\");\n		var bi = new Boxy(\'helloo\', {\n			title:\'\',\n			draggable:false,\n			modal:true,\n			center:true,\n		});\n 	}\n	//loading();\n 	function response() {\n 		$(\"#msg\").html(\"<p>Done</p>\");\n 	}\n	$().ready(function() { \n		//bi.hide();\n		$(\"#msg\").text(\'Completed\'); \n	});\n</script>\nLine1\n<br>\nLine2<div id=\"msg\"></div>\n',NULL,1,1,'N',0,'util.js','2012-03-14 12:51:10','2014-02-27 13:20:21'),(165,'预定义变量 $_SERVER[\'SERVER_NAME\']','<blockquote>\n2012/02/03 笔记：\n<br>\n由于本地数据库和网站（位于虚拟空间）上的数据库的帐号信息不同，\n在本地和远端的数据同步过程中，常常因为使用错误的帐号信息而导致程序不可用。\n其实，利用<tt>$_SERVER[\'SERVER_NAME\']</tt>在本地和远端的值不同，\n可以使用一个简单的判断轻松解决此问题；\n<pre class=\"brush: php\">\nif ($_SERVER[\'SERVER_NAME\'] == \'www.outstanding.com.hk\') {\n	define(\'DB_NAME\',     \'outstand_trekshot\');\n	define(\'DB_USER\',     \'outstand_root\');\n	define(\'DB_PASSWORD\', \'******\');\n	define(\'DB_HOST\',     \'localhost\');\n} elseif ($_SERVER[\'SERVER_NAME\'] == \'localhost\') {\n	define(\'DB_NAME\',     \'eorder\');\n	define(\'DB_USER\',     \'root\');\n	define(\'DB_PASSWORD\', \'******\');\n	define(\'DB_HOST\',     \'localhost\');\n}\n</pre>\n一个变量可以省去一个文件，要善于使用此技巧；\n</blockquote>\n\n关于 md.topset.php 文件，上个月曾想到上面的方法来实现 localhost 和远端虚拟机共享\n一个 md.topset.php 文件。但在订单系统升级时，遇到问题：刘和林两人先后登录系统失\n败，表现为 login.php 页面显示一行乱码。经查，乱码实际上是 md.db.php 中初始化\n$db 对象时的报错信息：\n<pre class=\"brush: php\">\nif ( ! $this-&gt;dbh ) {\n	// die() equivalent to exit()\n	// Output a message and teminate the current script\n	die(\"&lt;div&gt;\n	&lt;p&gt;建立数据库连接失败。请检查 MySQL 主机名、用户名和密码信息。&lt;/p&gt;\n	&lt;/div&gt;\");\n}\n</pre>\n乱码的原因是因为刘的 Chrome 版本为英文，不能正常显示汉字。看来类似这种错误信息\n还是设置为英文为好，以避免乱码。\n<br><br>\n既然是数据库主机信息配置有问题，那就是上面那段定义帐户信息的代码出错了。\n经过实际验证，发现 Windows 平台下使用 Chrome 浏览器返回的\n<tt>$_SERVER[\'SERVER_NAME\']</tt>值并不是<tt>\"www.outstanding.com.hk\"</tt>,\n而是<tt>\"outstanding.com.hk\"</tt>！\n<pre>\n	IE	Firefox		Chrome\nUnix	X			X\nCengOS\n</pre>\n',NULL,1,1,'N',0,'util.js','2012-03-15 16:58:45','2014-02-27 13:20:21'),(166,'click 事件具有叠加性','假如有两条记录 A 和 B, 我们想修改记录 A, 单击“修改”按钮后发现误点成了 B \n记录的”修改“按钮，这是关闭 boxy 弹出框，重新正确点击 A 记录，\n保存修改后，发现 A, B 两条记录的值都变成了修改后的 A 记录值！\n<br>\n这是一个很严重的致使数据丢失的 Bug, 查看代码后发现了问题的原因。\n以如下代码片段为例来说明一下上述 Bug 出现的原因。\n<pre class=\"brush: javascript\">\n$(\".editBankL\").click(function(){\n	var bank_id = $(this).attr(\"id\");\n	$.ajax({ \n		type: \"POST\", \n		url: \"md.ajax-pipe.php\", \n		data: {\n			 do: \'get_a_bank_account_data\'\n			,bank_id: bank_id\n		}\n	}).done(function( msg ) {\n		//...\n		// very important!!\n		$(\"#sbmtEditBankAccountL\").unbind(\'click\');\n		$(\"#sbmtEditBankAccountL\").click(function(){\n			//...\n			$.ajax({ \n				type: \"POST\", \n				url: \"md.ajax-pipe.php\", \n				data: {\n					 do: \'update_a_bank_record\'\n					,bank_id:bank_id 	// bug place #1\n					,bank_name: bank_name \n					,account_name: account_name \n					,type:type\n					,company_bank_type:company_bank_type\n					,account_number:account_number\n				}\n			}).done(function( msg ) {\n				boxy_msg(msg,\'\',\'manage.php?action=bank_dft\');\n			});\n			//...\n		});\n	});\n\n\n});\n</pre>\n当 B 记录的“修改”按钮点击后，尽管关闭了 Boxy 弹出框，但程序执行后的一个\n结果是给“保存修改”按钮添加了一个<tt>click</tt>事件\n（且该记录保存有 B 记录的 id），关闭 B 记录修改框并打开 A 记录修改框后，\n“保存修改”按钮又被添加了一个<tt>click</tt>事件（\n这次保存的是 A 记录的 id），由于<b><tt>click</tt>具有叠加性</b>，\n所以这是按下保存按钮后，实际上触发的是两个函数！\n这就是为什么两条记录的值都被更新了的原因。\n<br><br>\n解决方法就是在提交按钮 click 事件函数之前先 unbind 之，\n以确保只有一个事件函数被触发。\n<br><br>\n同样的“解绑”操作发生在提交按钮按下之后（确保因网速原因事件函数重复执行）\n。所以，以后写 click 事件函数时注意分别在其前、后两处进行解绑。\n<h3></h3>\n但是修改快递公司时并未出现上面的 bug, 查看代码后发现有一处位置不同：\n在通过 ajax-pipe 传输数据时，两者获取 bank_id 的方法不同。\n修改货运公司是通过插入一个隐藏元素来存储的；\n',NULL,3,1,'N',0,'util.js','2012-03-30 22:34:05','2014-02-27 13:20:21'),(167,'E-Order V0.0.15 Change Log','<h3>2012-04-26</h3>\n<ol><li>\n上午添加收入表格中查看详情的功能；\n</li><li>\n着手解决添加 \'0%\' 浓度的问题；\n</li></ol>\n<h3>2012-04-25</h3>\n<ol><li>\n<pre>\nandro+ 16:44:17:\n我是说我刚给你发的截图你看到了吗\nwatermelon  16:43:49:\n看到了 \nandro+ 16:44:54:\n经理不登录系统还是白搭\nwatermelon  16:44:29:\n呵呵 \nwatermelon  16:44:33:\n今天经理看到了 \nwatermelon  16:44:40:\n还问我了   \nandro+ 16:45:20:\n是吗\nandro+ 16:45:26:\n问什么了\nwatermelon  16:44:52:\n他说就剩六百多了  我说是 \nwatermelon  16:44:57:\n  \nandro+ 16:45:51:\n那为什么还不给钱\nwatermelon  16:45:32:\n我不知道啊 \nandro+ 16:46:28:\n晕，那咱们这不白忙活了啊\nwatermelon  16:46:18:\n也不是了  \nwatermelon  16:48:43:\n他可能想着我也没问他要钱  \n</pre>\n</li><li>\n冯璐添加的费用申请单是“预支模式”，\n</li><li>\n有必要在表<tt>om_revenue</tt>中添加列<tt>source ENUM(\'order\',\'misc\')</tt>\n</li><li>\n范苗反应的问题：\n<pre>\nwatermelon  2012-04-25 10:05:21:\n授过权的收入 为什么我看不到明细啊 \nwatermelon  2012-04-25 10:05:33:\n我再回去查账的时候什么都看不到  \nandro+ 2012-04-25 10:07:05:\n没听懂，收入管理 里没有？ \nwatermelon  2012-04-25 10:06:36:\n是啊   \nwatermelon  2012-04-25 10:06:46:\n已经授过权的 \nandro+ 2012-04-25 10:07:45:\n订单收入吗，我这里能看到呀 \nwatermelon  2012-04-25 10:07:21:\n已经授过权的啊  \nwatermelon  2012-04-25 10:07:28:\n看不到明细  \nandro+ 2012-04-25 10:08:14:\n你是说订单的详细信息吗 \nwatermelon  2012-04-25 10:07:45:\n是 \nwatermelon  2012-04-25 10:07:51:\n我查账需要看到  \nandro+ 2012-04-25 10:08:54:\n哦。这个本来就没有链接，我马上给你加上 \n</pre>\n</li><li>\n林反应的销售报表的两个问题：\n<pre>\n1.\n□╭右岸桃花 08:25:13:\n下载过的表格有一些小小的问题能修改么 \n□╭右岸桃花 08:25:56:\n比如说北京国瑞升，如果我用筛选的方式想找出他这个月总计订了多少货。\n你看，只会显示单一一个单元格 \n第一种情况自己也能修改。只需要把合并的单元格分开就好了。 \n\n2.\n还有就是单位和数量在一起，下拉合计的时候，不能直接显示总数。\n</pre>\n第一个问题：在网上搜索了一下，属于合并单元格后筛选仅能显示第一行的问题。\n原因在于合并的单元格除了一个有值外其它值均为空格。客户列取消合并单元格即可解决；\n<br><br>\n第二个问题：报表功能首次上线时就遇到过这个问题。原因在于单元格的格式不对。\n对数量、单价两列来说，单元格格式应该为“数字”类型，而不是“文本（字符串）”类型。\n当时为了避免每个单元格左上角都出现提示格式不对的三角图标而将数量后添加上单位\n(cts)。现在此问题再次出现。就来解决一下。\n<br><br>\n关于如何设置一个单元格的数据格式，\n<a href=\"http://www.gosenz.com/blog/?p=76\">在网上找到</a>这样一个设置语句：\n<pre class=\"brush: php\">\n$objPHPExcel-&gt;getActiveSheet()-&gt;getStyle(\'A1\')-&gt;getNumberFormat()-&gt;setFormatCode(PHPExcel_Style_NumberFormat::FORMAT_TEXT);\n</pre>\n这里将单元格<tt>\'A1\'</tt>设置为文本格式（若设置整列，改为<tt>\'A\'</tt>即可），\n其中代表数据格式的变量<tt>\'FORMAT_TEXT\'</tt>的出处为文件\n<tt>class/PHPExcel/Style/NumberFormat.php</tt>\n<pre class=\"brush: php\">\nclass PHPExcel_Style_NumberFormat implements PHPExcel_IComparable {\n	const FORMAT_GENERAL			=\'General\';\n	const FORMAT_TEXT			=\'@\';\n\n        const FORMAT_NUMBER                     = \'0\';\n        const FORMAT_NUMBER_00                  = \'0.00\';\n        const FORMAT_NUMBER_COMMA_SEPARATED1    = \'#,##0\';\n        const FORMAT_NUMBER_COMMA_SEPARATED2    = \'#,##0.00_-\';\n\n        const FORMAT_PERCENTAGE                 = \'0%\';\n        const FORMAT_PERCENTAGE_00              = \'0.00%\';\n\n        const FORMAT_DATE_YYYYMMDD2             = \'yyyy-mm-dd\';\n\n 	const FORMAT_CURRENCY_USD_SIMPLE        = \'\"$\"#,##0.00_-\';\n\n	// ...\n        const FORMAT_CURRENCY_CN_UPRICE         = \'\"¥\"#,##0.0000_-\';\n        const FORMAT_CURRENCY_US_UPRICE         = \'\"$\"#,##0.0000_-\';\n        const FORMAT_CURRENCY_JP_UPRICE         = \'\"JP¥\"#,##0.0000_-\';\n        const FORMAT_NUMBER_0000                = \'0.0000\';\n</pre>\n在这里可以依葫芦画瓢添加一些自己需要的个性化格式（最下方的四个）。\n</li></ol>\n\n<h3>2012-04-21</h3>\n<ol><li>\n约定：银行转帐类申请不管金额是多少，必须通过会计初审；\n</li><li>\nBug: 下午升级完系统后，出纳发现系统统计的现金柜余额比实际多出了 15 元，\n经过查找，发现<tt>om_cashflow</tt>表中有如下两条记录：\n<pre class=\"brush: sql\">\n+-------------+-------------+--------+--------+------+---------------------+------+\n| cashflow_id | category_id | amount | ref_id | c_id | c_time              | note |\n+-------------+-------------+--------+--------+------+---------------------+------+\n|           5 |          34 |  15.00 |      8 |   10 | 2012-04-12 17:46:48 | NULL | \n|           6 |          34 |  10.00 |      8 |   10 | 2012-04-12 17:54:03 | NULL | \n+-------------+-------------+--------+--------+------+---------------------+------+\n</pre>\n两条记录在分类相同（均为）的情况下 ref_id 也相同，这就不对了。\n回想应该是\n</li></ol>\n\n<h3>2012-04-18</h3>\n<ol><li>\n灵异现象：江阴格莱德有一个早期订单（42）和前天的订单，授权后，revenue 表中显示\n已有记录，但是该订单状态却仍为 \'unpaid\'\n<br>\n范苗想在收入管理里显示到帐授权的是那些订单。\n</li><li>\n</li></ol>\n<h3>2012-04-18</h3>\nV0.0.15 变化：将经理复审环节由登录授权改为申请人向经理口头描述，经理口头授权；\n<h3>2012-04-17</h3>\n<ol><li>步骤：\n	<ol><li>\n	新增 cashflow 分类：\'追加申请\',\'余额退回\'; 增初审下限值;\n	</li><li>\n	新建表 om_expense_history, 将 om_expense 表中相关列信息导入新表中；\n	</li><li>\n	变更表 om_expense (增列<tt>is_final</tt>, 更新列<tt>total_amount</tt>,\n	删除列...);\n	</li><li>\n	确保数据为丢失情况下，开始修改页面代码；\n	</li></ol>\n</li><li>\n实际情况：经理交代的事情（充油卡），虽是大额，但实际上没必要再让经理登录系统去\n单独复审，这显然是不合理的。<br>\n更改方法：取消复审最低金额下限。等到下次公司预付款额时，自动生成一个费用清单，\n让经理集中授权即可；\n</li><li>\n财务（李艳）请假，但钱不能不出。增设一个新 status code?\n</li><li>\n<pre>\n	//	NEW status code\n	//	0	等待初审\n\n	//	1	等待付款（未初审）\n	//	2	等待付款\n\n	//	3	已付款（未初审）\n	//	4	已付款（会计请假）		// 移动办公可去除此状态\n	//	5	已付款（未复审）\n	//	6	已付款\n\n	//	7	等待还款	\n\n	//	8	已还款（未初审）\n	//	9	已还款\n\n	注：等待还、付款仅针对出纳，不需要初、复审\nom_expense\n	expense_id\n	category_id\n	evidence\n	currency\n	total_amount\n	c_id\n	c_time\n	is_final TINYINT(0)	(在经理复审后，由 0 变 1)\n	second_authorize_id\n	second_authorize_time\nom_expense_history\n	expense_history_id\n	expense_id\n	type\n	supplier_id\n	supplier_bank_id\n	payment_bank_id\n	amount\n	purpose\n	action ENUM(\'apply\',\'add\',\'return\')\n	status_code\n	c_id\n	c_time\n	authorize_id\n	authorize_time\n	cashier_id\n	pay_time\n</pre>\n</li></ol>\n\n<h3>2012-04-16</h3>\n<ol><li>\n林问创建客户时选择江苏省后，为什么没有江阴市。\n完全可以把常见的“城市”（如昆山、江阴）写入 city 表中，\n而不是去百度查该城市到底属于哪个二级城市；\n</li><li>\n当金额小于 100 元时，出纳可直接付款，不必通过财务初审。财务可批量初审；\n</li><li>\n追加申请、余额退回的功能：经理复审\n</li><li>\n对 cashflow 表来说，\'ref_id\' 列指定的应为 expense_history_id, 而非 expense_id\n另外，cashflow_category 分类再添加 return (余额退回) 和 add (追加申请)\n</li><li>\n将 expense 表中 \'authorizer_id\', \'authorize_time, \'cashier_id\' 和\n\'pay_time\' 四列移至新表 expense_history 中；\n<br>\n<pre>\n	//	status code\n	//	0	等待初审\n	//	1	等待复审\n	//	2	等待付款（未复审）\n	//	3	等待付款\n	//	4	已付款, （未复审）\n	//	5	已付款\n\n	//	6	等待付款（未初审）\n	//	7	已付款（未初审）\n\n	//	8	等待还款（未初审）\n	//	9	已还款（未初审）\n	//	10	已还款（未复审）\n	//	11	已还款\nom_expense\n	mode ENUM (\'normal\',\'prepaid\')\n	is_final TINYINT(0)\nom_expense_history\n	expense_history_id\n	expense_id\n	amount\n	action ENUM(\'apply\',\'add\',\'return\')\n	status_code\n	authorize_id\n	authorize_time\n	second_authorize_id\n	second_authorize_time\n	cashier_id\n	pay_time\n</pre>\n</li></ol>\n',NULL,3,1,'N',0,'util.js','2012-04-16 08:42:26','2014-02-27 13:20:21'),(168,'E-Order V0.0.16 Change Log','<h2>History</h2>\n\n<h3>待办</h3>\n<ul><li>\n怎么保存公司预付现金的复审信息？(0427)\n</li><li>\n弹出 Boxy 窗口右上角的“关闭”按钮用户（曲东）可能根本看不见，不够人性化；\n</li><li>\n为财务显示厂区产量。到月底只能通知厂区提交产品入库单；\n</li><li>\n老大难：单价未知的、到帐信息没有的……\n</li></ul>\n\n<h3>数据库表格结构变更</h3>\n<ul><li>\n<tt>om_expense_history.type</tt>:添加 <tt>\'credit_card\'</tt> 项，添加信用卡选项；\n</li><li>\n<tt>geo_*</tt>: ISO 认证公司客户档案需要客户的一些分类信息。\n新增了一些表的中文名称列；增加“大陆大区”数据；\n</li><li>\n<tt>om_orders.deliver_time DATETIME</tt>.\n林要求订货单中添加“签收时间”项——销售点击回访的时间点。\n</li></ul>\n\n<h3>Bugs [Fixed]</h3>\n<ul><li>\n<b>[F] 财务在授权订单货款到帐后，销售将不能修改订单的订货信息。</b>\n<br>\n财务授权订单到帐后，销售又修改了订单订货信息，\n导致订单金额和款额到帐金额不一致。 (0426)\n</li><li>\n<b>Boxy 弹出窗口存在重复提交的隐患。</b>已发现三处：\n到帐授权、新建客户/发货地址和新建银行帐户；\n</li><li>\n<b>公司地址信息国家、省份、市信息存在隐患</b>：有值为 \'0\'的信息；\n</li><li><b>[F] 申请单分类用户输入的空格字符写入数据库；</b>\n</li><li><b></b>\n</li></ul>\n<h3>细节完善</h3>\n<ul><li>\n为 ISO 认证补全之前老订单中的提货人、操作员和签收时间信息；\n</li><li>\n明确支出模块的一个逻辑设计：支出报表是以出纳付款时间来统计的，\n而不是费用申请的时间；\n</li><li>\n预支模式完成后发现购买物品质量有问题需要换货，\n此时需要重新将模式由“普通”改为“预支” 费用申请单添加类似“开锁”、\n“解锁”的功能：(0508)\n</li><li>\n增加厂区人员删除出库记录的功能 (0513)\n</li><li>\n加入“特殊客户“概念。特殊客户的订单中货物单价可以不填.\n<tt>om_term_taxonomy</tt>: \n</li><li>\n增加“外汇汇率”：用于统计销售/到帐总金额时进行统一转换；\n</li></ul>\n\n\n<h2>Archive</h2>\n<pre>\n+----------+------------+--------+---------------------+---------------------+-------------+\n| order_id | currency   | charge | c_time              | fetch_time          | sum(charge) |\n+----------+------------+--------+---------------------+---------------------+-------------+\n|      664 | rmb        |  14400 | 2012-03-15 16:35:54 | 2012-04-07 08:14:59 |      808147 | \n|      705 | dollar     |    204 | 2012-03-30 08:57:16 | 2012-04-06 11:03:54 |       93854 | \n|      728 | japan_yuan | 420000 | 2012-04-09 08:22:39 | 2012-04-10 07:48:22 |      910000 | \n+----------+------------+--------+---------------------+---------------------+-------------+\n</pre>\n<h3>TODO</h3>\n<ol><li>\n<s>\n厂区取消出库的功能；\n</s>\n</li><li>\n<s>\n订单 738 的 bug;\n</s>\n</li><li>\n退货换货操作；\n</li><li>\n<s>\n发现 JS 自定义函数<tt>number_format()</tt>的一个 bug: 含有小数点的数字字符串\n转换错误；\n</s>\n</li></ol>\n\n\n<h3>2012-04-26</h3>\n<ol><li>\n改变<tt>om_goods.purity</tt>数据类型；\n</li><li>\n更新代码；\n</li><li>\n添加“信用卡”形式的费用申请；\n</li><li>\n“余额退回”也应让会计初审；\n</li></ol>\n<h3>2012-05-04</h3>\n将客户按区域划分，需先修改表格结构\n<ol><li>\n</li><li>\n</li></ol>\n<h3>2012-05-09</h3>\n<ul><li>\n4/26 自己发现一 Bug: 财务授权订单到帐后，销售又修改了订单订货信息，\n导致订单金额和款额到帐金额不一致。这里缺少一个重要逻辑：\n<b>财务在授权订单货款到帐后，销售将不能修改订单的订货信息。</b>\n延伸问题：\n</li><li>\n4/26: ［细节完善］刚曲申请两个小于 100 的报销单，曲跟我说李艳看不到。\n跑过去发现还是没有。起初以为是网速问题，咋一想，小于 100 的\n根本不经过李艳，申请后直接转向范苗，自己都给搞晕了！ \n其实可以让李艳也看到，仅仅是看到，不能做任何操作。\n<br>\n方法：费用提交成功后，以更明确形式告知，如“费用小于 100, 请直接向范苗要钱……“的字样\n</li><li>\n4/27: ［待完善］李经理让会计问现金流明细是否所有人可见？明确每个人的权限，\n消除疑虑\n</li><li>\n4/27: ［实际需求］申请费用类型除了现金、银行转帐，还应有个“信用卡”。\n今早曲充油卡即是如此；\n</li><li>\n4/27: ［疑惑］\n此刻的问题：怎么保存公司预付现金的复审信息？\n</li><li>\n5/2: ［Bug］\n收入重复提交信息 watermelon  14:35:11: 华迪我授权了  收入管理里面出现两个 \n</li><li>\n5/3: ［逻辑设计］\n在生成月支出报表有两个困惑：一是如果普通模式下的申请到月底仍未付款怎么办？\n其实很简单，支出报表是以出纳付款时间来统计的，而不是费用申请的时间；\n二是预支模式下的申请到月底仍位转为普通模式（费用申请仍未结束）怎么办？\n只需按 om_expense_history 而非 om_expense 记录统计即可。\n预支模式下余额退回的钱肯定不能算收入，应以负数形式出现在支出报表中；\n</li><li>\n5/4: ［新功能需求］\n支出报表？先放放，林需要客户档案。看这次几天能搞定\n5/9 10:30 初步完工,耗时 5 天\n</li><li>\n5/5: ［Bug］\n有个浙江翌挥阳光能源的由于没有输入省份信息，导致统计不准确，耗费时间\n</li><li>\n5/8: ［实际需求］［待完善］\n预支模式完成后发现购买物品质量有问题需要换货，\n此时需要重新将模式由“普通”改为“预支” 费用申请单添加类似“开锁”、“解锁”的功能：\n</li><li>\n5/8: ［Bug］\n申请单分类用户输入的空格字符写入数据库；\n</li><li>\n5/8: ［Bug］\n批量到帐授权时，若实际到帐金额留空，将导致错误数据写入；\n</li><li>\n5/10: ［费用申请单 用户反馈］\n	<ol><li>\n小曲有个申请单本来已经结束，后来需要换货，我将状态重新设定为“预支模式”，\n使其可以重新追加申请/退款。但结果是人家不退货，这时其实只需重新将状态改为\n“普通”即可。但目前没有此功能。于是小曲提交了一个金额为 0 元的追加申请。\n问题：\n一、赶紧添加一个更改申请单状态的功能；\n二、弹出 Boxy 窗口右上角的“关闭”按钮有的用户根本没有看见，不够人性化；\n	</li><li>\n	范询问厂区上月产量，产量其实已经在系统中；\n	</li><li>\n	出纳不愿意授权常兴的到帐单，这是因为 7月至 10 月 12 日之前的订单的\n	是否付款信息不准确。抽空和出纳、销售一起处理这部分数据；\n	</li></ol>\n</li></ul>\n<h3>2012-05-12 ［局部完善］</h3>\n林要求订货单中添加“签收时间”项——销售点击回访的时间点。\n<ul><li>\n增列<tt>om_orders.deliver_time DATETIME</tt>;\n</li><li>\n批量添加老订单的“提货人/操作员“信息。\n</li><li>\n利用随机数“编造”签收时间；\n</li></ul>\n\n<h3>2012-05-13 ［局部完善］</h3>\n增加厂区人员删除出库记录（）的功能；\n\n<h3>2012-05-18 ［局部完善］</h3>\n<ul><li>\n添加费用申请单模式切换（普通、预支）功能；\n</li></ul>\n<h3>2012-05-19 ［］</h3>\n<ul><li>\n新建客户时也存在 \"click 叠加\" 的 Bug, 即用户在用户在提交前如果曾关闭过 Boxy\n窗口，则将重复提交相同的信息；\n</li></ul>\n<h3>2012-05-21 周一</h3>\n加入“特殊客户“概念。特殊客户的订单中货物单价可以不填：\n<ul><li>\n在表 \'om_term_taxonomy\' 中添加一行。注意，此处的 \'term_name\' 值为手工添加。\n数字代表特殊客户的 id, 目前添加的有：张帅、王仰礼和亚龙自己；\n<pre class=\"brush: sql\">\nINSERT INTO om_term_taxonomy (term_name,term_taxonomy) VALUES(\'12_29_101\',\'special_customer_ids_str\')\n</pre>\n</li><li>\n在提交表单前对主要数据项（粒度、数量以及单价）进行客户端非空验证：\n<pre class=\"brush: sql\">\n// Get customer status: is special?\n$.ajax({ \n	 type: \"POST\" \n	,url: \"md.ajax-pipe.php\" \n	,beforeSend:loading\n	,data: {\n		 do: \"check_is_special_customer\"\n		,customer_id: $customer_id\n	 }\n}).done(function( msg ) {\n	var dt = split_ajax_data(msg);\n	is_special_customer = dt[\'is_special_customer\'];\n	loading_end();\n});\n\nif ( \n	($(\'input[name=is_sample\'+idx+\']:checked\').val() == \'n\') \n	&& ($(\'input[name=uprice\'+idx+\']\').val() == \'\') \n	&& (is_special_customer == \'no\')) {\n	valid_uprice = false;\n	$(\'input[name=uprice\'+idx+\']\').focus();\n	return false;\n}\n</pre>\n<h3>2012-05-24 ［Bug Fixed］一些订单无法修改</h3>\n林中午反应国瑞升的一个订单进行修改操作时出现异常，截图如下：\n<img src=\"/img/page/pg-bug-when-edit-an-order.jpg\" />\n<br>\n从图中发现货物明细、运输方式和备注信息三项信息未能显示（实际数据仍在数据库中）。\n这些信息都是用 ajax 获取订单信息后通过 JS 填充进去的。\n在<tt>js.private.editorder.js</tt>中加入调试代码查看 JS 获取的 \'deliver_way\'值，\n<pre class=\"brush: javascript\">\nalert(order.deliver_way);	// \'3.100 D100&lt\'\n</pre>\n发现返回的是一个很奇怪的值<tt>\'3.100 D100&lt\'</tt>，这表明 JS 在截取通过\nAJAX 返回的字符串时发生了错误截取的字符好像是备注里的信息，\n在 MySQL 中查询该订单的备注信息得到了印证：\n<tt>\'D10&gt;1.250 D50:2.000-2.150 D90&lt;3.100 D100&lt;7.000\'</tt>\n截取错误的原因在于<b>AJAX 返回的字符串将 \'&lt;\', \'&gt;\' 标签自动转化为字符串\n\'&amp;lt;\' 和 \'&amp;gt;\', 而恰巧分割该字符串的分隔符就是一个分号。</b>\n该 Bug 暴露出两个问题：\n<ul><li>\n分隔符<tt>\';\'</tt>过于简单。所幸修改订单处的分割操作是一个较早版本，\n新版本已使用较为<s>复杂</s>不常用的<tt>\'^\'</tt>\n</li><li>\n分割函数<tt>split_ajax_data()</tt>忽视了一个重要问题：该函数会对从 MySQL \n中读取的数据中的某些特殊字符进行转化。<br>例如\n<tt>\"amount^&lt;code&gt;&yen;5,250.00&lt;/code&gt;\"</tt> 传递到数组中实际上是\n<tt>\"amount^&amp;lt;code&amp;gt;&amp;yen;5,250.00&amp;lt;/code&amp;gt;\"</tt>\n这中转化在显示时没有问题，但当在修改模式下时将出现异常：\n如果将订单备注文本输入框中填充这些值，这种显示样式显然不够好。\n</li></ul>\n\n<h3>［新功能］出纳现金帐对不上,少 20 (2012-05-24)</h3>\n到现在都找不到原因。开始意识到每日核对的必要性，当天问题当天解决。\n<!--\n<h3>2012-05-12 ［］</h3>\n<ul><li>\n</li><li>\n</li></ul>\n-->\n',NULL,3,1,'Y',0,'util.js','2012-04-26 16:01:20','2014-02-27 13:20:21'),(169,'如何阻止浏览器读取存储于本地的缓存数据（js 文件,CSS文件及图片）','近几天利用 pchart 类库生成某个客户每月订货量线性图（如下图）。\n<img src=\"/img/page/pg-pchartCustomerMonthBuy.png\" />\n<br>\n这里存在一个 Bug 是：当用户首次登录查看该图片时，显示的并非当前客户的信息，\n必须刷新页面后才会正常显示。原因很容易想到，因为浏览器读取的是上次查看的客户的\n老数据，浏览器为了加快显示速度将该图片缓存到了本地电脑中。\n<pre class=\"brush: php\">\n$myPicture-&gt;Render($imgFile);\necho \'&lt;img class=\"dft\" src=\"\'.$imgFile.\'\"&gt;\';\n</pre>\n在上面的代码片段中，Line 2 负责 rewrite PNG 图片，生成所需的客户图表。\n问题是 Line 3, 浏览器看到引用图片，直接在缓存中找到了该图片，于是直接显示。\n换句话说，浏览器显示的名为<tt>\'pchartCustomerMonthBuy.png\'</tt>\n的图片是<b>存储于本地、浏览器缓存中的旧图片，而不是 Line 2 生成的新图片。</b>\n关于这个烦人的缓存自己直接就碰到过。之前订单系统升级的时候，\n明明在自己电脑上测试通过了，用户使用时却发现未知错误。原因就是系统升级中更新了\n某些 JS 文件，但用户使用时，浏览器读取的仍然是缓存中的旧数据。\n<blockquote>\n系统升级后，Chrome 使用的仍就是缓存的旧数据。必须在所在页面刷新方能生效。\n想法解决这个问题。 Thursday 14:28 3/29/2012\n</blockquote>\n知道原因后，前几天曾经从两方面来试图解决该问题。一是通过 AJAX \n在页面不重新加载的情况下局部刷新该图片；二是通过修改图片文件名的方式\n（每次生成的图片都有一个不同的名称），但均以失败告终。\n<br><br>\n<img src=\"/img/page/2012/snap.20120721.chrome-cache-view-cmd.png\" class=\"lf\" />\n偶然想到有些网站源文件中引用 JS 文件和 CSS 文件的方式很奇特。\n文件名末尾有一个类似 Query String (如下).\n<pre class=\"brush: xml\">\n&lt;link type=\"text/css\" rel=\"stylesheet\" href=\"/statics/static/platform.css?v=2011090801\"/&gt;\n</pre>\n经过实际验证：\n这些静态文件（JS 文件、CSS 文件和 JPG, PNG 等图片文件）的 URL 后面加不加“参数”\n效果都是一样的，显示内容并无变化。\n<pre class=\"brush: xml\">\n&lt;script type=\"text/javascript\" src=\"js.private.createorder-common.js\"&gt;&lt;/script&gt; \n&lt;script type=\"text/javascript\" src=\"js.private.createorder-common.js?d2\"&gt;&lt;/script&gt; \n&lt;link type=\"text/css\" rel=\"stylesheet\" href=\"cs.common.new.css\"&gt; \n&lt;link type=\"text/css\" rel=\"stylesheet\" href=\"cs.common.new.css?12345\"&gt; \n&lt;img class=\"dft\" src=\"img.pchart.output.customerMonthBuy.png\"&gt;\n&lt;img class=\"dft\" src=\"img.pchart.output.customerMonthBuy.png?1336631228\"&gt;\n</pre>\n既然没有变化，为什么要加上这个参数？\n<blockquote>\n客户端会缓存这些css或js文件，因此每次升级了js或css文件后，改变版本号，\n客户端浏览器就会重新下载新的js或css文件。\n<a href=\"http://www.dreamdu.com/blog/2008/07/27/why_have_parameter_js_or_css_file/\">Ref.</a>\n</blockquote>\n因此加这个参数就是为了解决自己遇到的实际问题的！利用此方法，\n将代码稍作调整，问题便迎刃而解。\n<pre class=\"brush: php\">\n$imgFile .= \'?\'.time();	// 就是这关键的一行\n$myPicture-&gt;Render($imgFile);\necho \'&lt;img class=\"dft\" src=\"\'.$imgFile.\'\"&gt;\';\n</pre>\n',NULL,3,1,'N',0,'util.js','2012-05-10 13:50:22','2014-02-27 13:20:21'),(170,'HTML 标签不对称造成的一个极其隐蔽的 Bug','从昨天上午到现在，有一个 Bug 一直困扰着自己。在按月查询收入的功能中，\n将新的表格插入<tt>$(\"#filterRevenueColorbox\")</tt>后, 怎么也获取不到\n<tt>$(\"#revenueList\")</tt>区块的内容，\n<pre class=\"brush: javascript\">\nalert($(\"#revenueList\").html());	// Return null\n</pre>\n在经历了各种怀疑与尝试后，无意间发现问题的原因竟是一个 DIV \n区块起始标签不匹配。\n<pre class=\"brush: php\">\nfunction mk_month_revenue_table($yearMonth) {\n	...\n	echo \"&lt;div class=\\\"footnote\\\"&gt;说明：\\\"&lt;b&gt;*&lt;/b&gt;\\\"其它货币（如美元、日元）已按相应汇率换算成人民币。你可以&lt;a href=\\\"\\\" id=\\\"setExchangeL\\\"&gt;在此设置汇率&lt;/a&gt;&lt;/p&gt;\";\n	...\n}\n</pre>\n在生成月收入报表的函数中，有一句显示更改汇率的链接文字。仔细看后发现，\n类名为\"footnote\"的区块以 \"div\" 开始，却以 \"p\" 标签结束！\n这个最简单的错误怎么就导致无法获取<tt>$(\"#revenueList\")</tt>内容了呢？\n<pre class=\"brush: php\">\n// Snippet in revenue.php\n$revenue = new RevenueClass();\necho \"&lt;div id=\\\"filterRevenueColorbox\\\"&gt;\";\n$revenue-&gt;mk_month_revenue_table(date(\'Ym\'));\necho \"&lt;/div&gt;\";\nrequire \"md.tp.revenuelist.php\";\n...\n</pre>\n结合 revenue.php 页面代码来看（如上），因为 \".footnote\" \n区块找不到匹配的结束标签\"&lt;/div&gt;\", 于是自动向后查找，\n将下一个出现的\"&lt;/div&gt;\" 作为自己的结束标签。而这个结束标签（Line 5)\n实际上是 \"#filterRevenueColorbox\" 区块的标签。下面该 \"#filterRevenueColorbox\" \n区块自己向后寻找结束标签了。这个动作导致\n<b>\"#revenueList\" 区块变成其子元素。</b>筛选查询前有一个将旧表格移除的操作（下）\n<pre class=\"brush: php\">\n$(\'#rlOrderDetail\').empty();\n</pre>\n<b>这个本来只是移除表格的操作将\"#revenueList\" 区块也误删掉。</b>至此，\n也就不难理解开头处 alert 语句为什么返回 \"null\" 值了。\n<br><br>\n这个看上去很简单的 Bug 却耗费自己一天半时间，告诫自己在编写每一个片段时都要\n细心，并养成时刻检查的习惯。若像这次一样等到整体完工后在查找原因，就太耗时了。\n',NULL,3,1,'N',0,'util.js','2012-05-18 11:34:03','2014-02-27 13:20:21'),(171,'E-Order V0.0.17 Change Log','<h2>概述</h2>\n功能模块化是此版本最大的变化。\n<h3>要点</h3>\n<ol><li>\n加入“部门”、“角色“和“权限/职责“的概念。模块化各个功能块，\n移动到新建目录<tt>\'module/\'</tt>目录下，\n而不是分散在<tt>md.template-functions.php, md.class.*.php</tt>文件中；\n<br>\n同时将所有图片（img.*）移动到新目录<tt>img/</tt>下。\n</li><li>\n显示每个用户的权限信息。起初想将模块信息出入数据库，后觉没必要，改为手工操作；\n</li><li>\n主字体由 \'Arial\' 改为 \'Verdana\' (2012-05-31);\n</li></ol>\n\n<h3>数据库变动</h3>\n<ol><li>\n<tt>om_users</tt>: <tt><s>role</s></tt>, <tt>department_id</tt>\n, <tt>join_time</tt>, <tt>quit_time</tt>\n</li><li>\n<tt>om_term_taxonomy</tt>: 新增分类 role, department;\n</li><li>\n<tt>om_mapping</tt>: \'user_id2role_id\', <s>\'module_id2role_id\'</s>\n</li><li>\nAdd <tt>om_message</tt>\n</li></ol>\n\n<h3>Bugs</h3>\n<ol><li>\n<s>厂区快递运费仍通过小林来提交费用申请，其实厂区可以直接申请费用；</s>\n还没达到这种程度，暂缓；\n</li><li>\n发货时选择“现金结算”时，系统会自动提交一个快递费用申请单。这里的一种情况是：\n用户可能先在费用申请中申请该费用，之后在提交发货的时候由于选择了现金结算\n而<b>重复申请费用</b>。在填写发货信息里有“提示：\n单笔结算的快递单将在发货后自动生成一个费用申请记录。“信息也没用。\n<b>暂停自动提交功能，确保只有一个提交入口</b>\n<br>\n<b>Update 2012.6.30:</b> 小林请假，让范苗代她发货。范对此环节的设置直呼麻烦……\n</li></ol>\n\n<h2>归档</h2>\n<h3>［实际需求］费用申请单在付款之前允许进行删除及修改申请金额的操作 (2012-05-29)</h3>\n<pre>\n范苗特地跑过来说明需求：申请单授权之前允许修改金额; 申请单删除功能！ (5/29)\n</pre>\n假设：\n<ol><li>\n<s>申请历史中<b>不会</b>出现多余一个的未付款申请。换句话说，\n删除的是申请中<b>所有</b>（绝大多数该数字为１）为付款项；</s>\n</li></ol>\n移除“追加申请”功能下的“用途“项，追加申请的用途内容可在主申请子表(首次申请)中修改；\n<h3>［细节完善］先进行发货操作，后打印发货清单的情况 (2012-05-31)</h3>\n<h4>问题描述</h4>\n<pre>\n□╭右岸桃花 2012-05-29 16:05:46:\n蓝锐五金的货我发过了，那发货清单是不是就没法打印了啊 \nandro+ 2012-05-29 16:07:20:\n这个暂时没有相应按钮，回头添加上去。我先给你发个链接\n</pre>\n<p><img src=\"/img/page/pg.eorder.dispatch-design.png\" /></p>\n\n之所以出现上述问题，原因在于：\n<ol><li>\n不了解用户的操作行为：<b>用户习惯先进行发货操作，之后发现该订单需要打印发货单，\n但此时订单已转向“已发货”区域，而该区域没有打印发货单的按钮。</b>\n</li><li>\n出现上述操作某种程度上是因为“发货”按钮和“打印发货单”按钮排列顺序有问题。\n现实中，只有等到发货的所有附件（打印发货清单）都准备好后才会发货（发货操作）。\n</li></ol>\n<h4>解决</h4>\n在发货管理页面添加打印发货清单功能。默认采用简易模式\n（即没有自定义设置项）；\n<h3>［Bug Fixed］模块化准则：JS 和 Boxy 块要跟着模块走 (2012-05-31)</h3>\n<h3>［Bug Fixed］下载销售报表模块月初显示异常 (2012-06-01)</h3>\n<pre>\n□╭右岸桃花 08:33:06:\n此处略微有些乱~ \n□╭右岸桃花 08:33:18:\n为嘛是下载6月报表馁？\n</pre>\n<p><img src=\"/img/page/snap.sale-data-month-down-bug.png\" /></p>\n右侧按钮中的日期默认是通过 PHP 函数<tt>date(\'Y 年 m 月\')</tt>获取。\n如果当前月尚无出库记录（比如每月 1 号这天），就会出现上图中的情况。\n解决很简单：丢弃<tt>date()</tt>函数，改用 JS 读取选择框中的选中值即可；\n<pre class=\"brush: javascript\">\n$(\'#monthDataOutputL\').text( \'下载 \'+$(\'select[name=yearmonth_output] option:selected\').text()+\'销售报表\');\n</pre>\n<b>Update: Aug 1, 1012</b><br>\n上面的“治标不治本”：按钮上显示的月份虽已改正，但链接仍然不正确，\n需再添加如下代码：\n<pre class=\"brush: javascript\">\n$(\'#monthDataOutputL\').attr(\'href\',\'excel2003.php?ym=\'+$(\'select[name=yearmonth_output] option:selected\').val());\n</pre>\n\n\n<h3>［Bug Fixed］随机函数造假太明显：货物签收日期竟早于发货日期 (2012-06-01)</h3>\n<p><img src=\"/img/page/snap/bug.generate-deliver-time-using-rand.png\" /></p>\n<pre class=\"brush: php\">\n// Snippet in update.php\nforeach ($rst as $r) {\n	$ts = strtotime($r-&gt;fetch_time);\n	$dts = $ts + (24*60*60) + rand(10,700);\n	$deliver_time = \"\'\".date(\'Y-m-d H:i:s\',$dts).\"\'\";\n}\n</pre>\n从代码中(L3)可知编造签收时间的计算方法有误。\n应该以<b>发货日期而不是出库日期为基准</b>。\n\n<pre class=\"brush: php\">\n// Fixed on Jul/2/2012\n$ods = $db-&gt;get_col(\"SELECT order_id FROM om_orders WHERE status = \'received\' AND deliver_time IS NOT NULL\");\nforeach ($ods as $oid) {\n	$od = new YalongOrderClass($oid);\n	if (strtotime($od-&gt;dispatch-&gt;c_time) &gt; strtotime($od-&gt;obj-&gt;deliver_time) ) {\n		$dts = strtotime($od-&gt;dispatch-&gt;c_time) + (24*60*60) + rand(10,700);\n		$deliver_time = \"\'\".date(\'Y-m-d H:i:s\',$dts).\"\'\";\n		$db-&gt;query(\"UPDATE om_orders SET deliver_time = \".$deliver_time.\"   WHERE (order_id = $oid)\");\n	}\n}\n</pre>\n\n\n\n<h3>［Bug Fixed］往月查询日期选择框月初显示异常 (2012-06-01)</h3>\n<p><img src=\"/img/page/snap/bug.filter-date-select-box.png\" /></p>\n6 月尚无收入信息，因此日期选择中没有 \'2012 年 06 月‘ 项，\n但希望选择框默认选中的是上个月，而不是一个遥远的日期。这很容易实现。\n类似的位置还包括：收入、支出、和销售统计页面；\n<br><br>\n旧代码还是采取 PHP 检测的方式选中：\n<pre class=\"brush: php\">\nforeach ($valid_ym_asso as $ym) {\n	$y = substr($ym,0,4);\n	$m = substr($ym,-2);\n	echo \"&lt;option value=\\\"$ym\\\"&gt;$y 年 $m 月&lt;/option&gt;\";\n	/* Deprecated\n	if ($ym == date(\'Ym\')) {\n		echo \"&lt;option selected=\\\"selected\\\" value=\\\"$ym\\\"&gt;$y 年 $m 月&lt;/option&gt;\";\n	} else {\n		echo \"&lt;option value=\\\"$ym\\\"&gt;$y 年 $m 月&lt;/option&gt;\";\n	}\n	*/\n}\n</pre>\n其实完全可以交给 JS:\n<pre class=\"brush: javascript\">\n$(\'#filterOrderOutFactoryD\').find(\'option:last\').attr(\'selected\',\'selected\');\n</pre>\n\n<h3>［Bug Fixed］提交订单：除特殊客户外必须输入单价对新建客户不管用 (2012-06-02)</h3>\n发现一订单，不是特殊客户（亚龙、张帅、王仰礼），但单价竟然是<tt>\'NULL\'</tt>。\n经测试，V0.0.16 中添加的“特殊客户”功能竟然对在创建订单同时新建客户这种情况\n不管用。先在客户管理页新建客户，再提交该客户的订单就没问题。\n<br><br>\n问题的原因系逻辑设计不严密。当用户从客户下拉菜单中选择一个<b>现有</b>客户时，\nJS 代码会根据所选客户 ID 和系统中的特殊客户进行比对。\n这里少考虑一种情况（也是发现 Bug 时的情形）：若客户没有从下拉菜单中选择，\n而是直接在订单提交页面新建客户，那么就不存在“选中下拉菜单中客户”这一事件，\n判断代码也就没有执行。\n<br><br>\n改进：\n<ol><li>\n在<tt>createorder.php</tt>页面添加一行存储特殊客户 ID 字符串的 DIV 块：\n<pre class=\"brush: xml\">\n&lt;div class=\"hide\" id=\"specialCustomerIdStrDiv\"&gt;&lt;?=db_var(\'term_name\',\'om_term_taxonomy\',\'term_taxonomy\',\'special_customer_ids_str\');?&gt;&lt;/div&gt;\n</pre>\n之所以用此方法，是因为发现\n<a href=\"/p/essay/v.php?name=20120607-jquery-variable-in-ajax.php\">\n通过 AJAX 动态获取该值无法在 AJAX 外使用</a>。\n</li><li>\n页面加载完后，存储该值到 JS 变量中：\n<pre class=\"brush: javascript\">\nvar special_customer_id_str = $(\'#specialCustomerIdStrDiv\').text();\nvar special_customer_id_arr = special_customer_id_str.split(\'_\');\n</pre>\n</li><li>\n在“提交订单”按钮 Click 事件函数中添加代码如下：\n<pre class=\"brush: javascript\">\n// 特殊客户判断\nvar is_special_customer = false;\nfor( var i = 0; i&lt;special_customer_id_arr.length; i++) {\n	if (special_customer_id_arr[i] == customer_id) {\n		is_special_customer = true;\n	}\n}\n...\n//\nif ( ($(\'input[name=is_sample\'+idx+\']:checked\').val() == \'n\') && ($(\'input[name=uprice\'+idx+\']\').val() == \'\') && (is_special_customer == false ) ) {\n	valid_uprice = false;\n	$(\'input[name=uprice\'+idx+\']\').focus();\n	return false;\n}\n</pre>\n</li></ol>\n\n<h3>［细节完善］改进客户表，<s>将联系方式从表 \'addresses\' 中独立出来</s>\n在地址表中添加“职务”栏(2012-06-02)</h3>\n放弃手机中联系人联系方式形式！\n<br><br>\n林昨天提交了几个数据，反映出 \"companies\", \'goods\' 两个表的不足：\n	<ol><li>\n在已有“圆通-桐柏路“客户的情况下，重复提交；\n	</li><li>\n新建一客户，姓名栏写”<b>采购部</b> 陈小姐“；\n	</li><li>\n客户订研磨膏，粒度栏写“0-0.2 <b>油溶</b>”\n	</li></ol>\n<pre class=\"brush: sql\">\n| nwp_commentmeta        | \n| nwp_comments           | \n| nwp_links              | \n| nwp_options            | // 站点的设置参数，如“博客标题”\n| nwp_postmeta           | \n| nwp_posts              | \n| nwp_term_relationships | \n| nwp_term_taxonomy      | \n| nwp_terms              | \n| nwp_usermeta           | // 用户设置信息，用 JS 对象大方式存储 \n| nwp_users              | \n</pre>\n<pre class=\"brush: php\">\n$db-&gt;query(\"DROP TABLE IF EXISTS om_meta\");\n$sql = \"CREATE TABLE om_meta(\nmeta_id		BIGINT(20) 	UNSIGNED	NOT NULL	AUTO_INCREMENT,\nref_id		BIGINT(20) 			DEFAULT NULL,\nmeta_key	VARCHAR(255)			DEFAULT NULL,\nmeta_value	LONGTEXT			DEFAULT NULL,\ncategory	VARCHAR(255)			DEFAULT NULL,\nPRIMARY KEY(meta_id)) DEFAULT CHARSET=utf8\";\n</pre>\n<pre>\n// usermeta\nnwp_user-settings                       m1=o&m8=c&editor=tinymce&m0=o&m9=c&m5=c&hidetb=1&m6=c&m7=c&m4=c&m3=c&m2=c&align=left              </pre>\n在参考 WordPress V3.1 相关数据结构后，对数据库变更如下：\n<ol><li>\n<tt>om_addresses</tt>: Add <tt>duty VARCHAR (40)</tt>;\n</li><li>\n向表<tt>om_term_taxonomy</tt>中插入联系方法的分类记录（办公电话、手机、\nMSN, QQ, Mail 等）；\n</li><li>\n新建表<tt>om_meta</tt>。用来存储键值；此处用来存储某个地址的联系方式；\n</li><li>\n移除列 <tt>office_phone, cell_phone, fax</tt>. 移除前，先确认现有代码中使用此\n三列值的所有位置：\n	<ol><li>\n	生成收货地址代码。用于创建订单模块、填写发货信息等处；\n	</li><li>\n	快递公司联系方式模块；\n	</li></ol>\n</li></ol>\n<h4>［技巧］勿通过直接读取数据库表列值的方法显示数据(2012-06-04)</h4>\n假如联系方式功能升级成功，最后一项工作就是现有代码中所有“涉及”此三列的位置进行\n相应更改。提前用<tt>gp \'office_phone\' ./*</tt>命令查看，发现需修改的位置好多！\n很多位置都是以直接读取表格列值的方式实现：\n<pre class=\"brush: php\">\necho \"&lt;td&gt;\".$l-&gt;office_phone.\"&lt;/td&gt;\";\n</pre>\n假如此值是通过类方法的方式获取：\n<pre class=\"brush: php\">\n$c = new CompanyClass($customer_id);\necho \"&lt;td&gt;\".$c-&gt;get_office_phone().\"&lt;/td&gt;\";\n</pre>\n那么当数据结构发生变动时（比如这次），只需修改<tt>CompanyClass</tt>类即可。\n而不必在每一个页面中进行修改。\n\n<h3>［细节完善］添加产品“油溶”、“水溶”属性 (2012-06-05)</h3>\n数据库变动：<tt>om_goods</tt>: add column <tt>solute ENUM(\'water\',\'oil\')</tt>\n<h3>［Bug fixed］首页模块混乱(2012-06-06)</h3>\n<pre>\n□╭右岸桃花 2012-06-05 14:45:01:\n我竟然蹦到小范的界面 \n□╭右岸桃花 2012-06-05 14:47:06:\n给范苗吓的 \n□╭右岸桃花 2012-06-05 14:47:11:\n说我杂知道他的钱 \n</pre>\n林发送<a target=\"_blank\" href=\"/img/page/snap/bug.eorder-role-permission-problem.jpg\">截图</a>过来。\n由于网速过慢，Boxy 区块内容尚未隐藏（蓝色区域），最要紧的是，\n财务部门现金额也显示了出来（红色区域）。该 Bug 暴露问题如下：\n首页加载不相关信息过多。“现金入柜”、“现金核对”这些操作仅对出纳有用，\n对销售人员来说毫无必要（还泄露了信息）。\n决定<b>按角色将模块分类，仅加载登录用户角色相关的模块</b>；\n<br></br>\n在分类过程中，发现“申请费用”和“创建客户/发货地址“两个功能在多个页面中有使用，\n遂将每个功能所需的 JS 代码和 Boxy 代码独立出来，那个页面需要此按钮时，引入代码即可：\n<pre class=\"brush: php\">\nrequire_once \'module/staff.apply-expense.php\'; // I\'m ready\nrequire_once \'module/staff.quick_add.sales.php\';\n// add button entity in module/staff.quick_add.sales.php\necho \"&lt;button class=\\\"expenseApplyBtn\\\"&gt;费用报销申请&lt;/button&gt;\";\n</pre>\n利用此方法同时解决困扰自己多时的“查看申请单详情”模块\n（见 <tt>module/evt.view-expense-list-detail.php</tt>）。\n秘诀：<b>将一个事件的 JS 代码、Boxy 代码 单独打包，在放置按钮的同时调用此包。</b>\n\n<br></br>\n\n历史：\n<ol><li>\n还是得按角色分类，不然 JS 和 DIV 代码怎么放？\n<br>\n将 \'staff.quick_add.php\' 按部门拆解；\n</li><li>\n将<tt>js.private.createorder-common.js, md.tp.create-customer-and-address.php</tt> 两个文件整合为<tt>module/sale.create-customer-and-address.php</tt>;\n</li></ol>\n\n<h3>［需求变化］厂里暂时不再发货(2012-06-06)</h3>\n此需求的实质：<b>完善物流公司快递单打印模块</b>。中午在林的机器上大致实验一下，\n在将 Google Chrome 浏览器更新的前提下（有去除打印页边距的功能）\n可基本保证打印位置出入不大。\n<pre>\n□╭右岸桃花 08:32:43:\n最近货要拉到公司发 \n□╭右岸桃花 08:32:51:\n那要把打印机也带回来 \n□╭右岸桃花 08:33:04:\n电脑里有没有地址的数据啊等等之类的 \n□╭右岸桃花 08:33:21:\n还是直接装打印机的驱动就可以直接在系统里打印 \n</pre>\n质检部门两个女孩都不干了，又把打印快递单的打印机搬回来。\n\n<h3>［功能完善］按营业部分类物流公司信息 (2012-06-08)</h3>\n<pre>\n圆通-快递-桐柏路圆通	任永平		15617587990 	修改	删除\n圆通快递-桐柏路		赵伟强		18703871943	修改	删除\n\nandro+ 2012-06-08 09:22:58:\n这两个圆通有什么区别 \n□╭右岸桃花 2012-06-08 09:23:20:\n我打不开 \n□╭右岸桃花 2012-06-08 09:23:28:\n那个任永平早都不干了 \n□╭右岸桃花 2012-06-08 09:23:34:\n还删不掉他 \n</pre>\n改动表格:\n<ol><li>\n<tt>om_companies, om_addresses</tt>两表记录发生变动；\n</li><li>\n<tt>om_dispatch.logistics_id -&gt; om_dispatch.logistics_branch_id</tt>\n</li></ol>\n备忘：\n<ol><li>\n类中方法分两种：<tt>make_*</tt> 和<tt>get_*</tt>. 前者中用<tt>echo</tt>,\n后者用<tt>return</tt>; -- 生成快递公司选择框时有感\n</li><li>\n删除功能比较麻烦；\n</li></ol>\n<h4>Update: 客户发货地址和快递公司分部删除的问题 + 更改客户主发货地址 (2012.6.29/五)</h4>\n销售先是发现客户信息中有重复的发货地址，删除时不慎删除“主发货地址”，\n导致客户名称信息丢失。之后想删除一个已经不干的快递公司信息，\n又因为不能删除而不得不新建一个名称一样、电话不同的信息。这导致自己一度产生疑惑。\n<br><br>\n删除操作的实现方式有两种：一种是彻底删除记录，但这需要判断该记录在之前的数据中\n是否已经使用。如果有使用，则必须找到替代记录。这种方式对销售来说稍嫌复杂。\n他们关注的仅仅是<b>把没用的记录删掉</b>，并不关心此记录之前有没有使用过\n（这是程序设计人员关心的事情）。再者说，使用过此记录的数据<b>修改的概率较低</b>\n。所以决定采用另外一种“删除即隐藏”方式，即仅将此记录“隐藏”起来。\n这样一来既能达到快速删除的目的，又不必考虑每次删除前都考虑替代记录的问题。\n此方法实现也非常简单：只需在<tt>om_addresses</tt>表中新增布尔列<tt>visible</tt>\n、并对相应 SQL 代码稍作调整即可。\n<br><br>\n\n那些曾经使用过”隐藏”地址的订单在读取时没有问题，只需照样显示即可。\n但在修改订单时在考虑要不要把“隐藏”的记录也显示。如果显示，则需要在编写函数时分成\n两种模式。这么做好处是显示出最初正确的值，缺点是列表（下拉菜单、按钮列表）\n会显得杂乱；如果不显示，则在显示编辑窗口时将相应条目设置为默认值（为选中状态），\n真的保存修改了，需要对该条目进行合法性验证；\n\n\n<h3>［功能完善］数据验证函数化 (2012.6.15/五)</h3>\n在改进代码以确保用户选择省份和城市时回到之前的疑问：\n如何获取一个元素的标签名称？\n<pre class=\"brush: javascript\">\n$(\'.ias\').get(0).tagName;\n</pre>\n<s><tt>om_mk_select_box()</tt>添加<tt>$className</tt>可选参数；</s>\n不要使用 PHP 生成 \'required\' 类属性，通过 JS 实现即可；\n<br><br>\n最后的成果：<tt>input_validate()</tt>\n\n<h3>outstanding 网站无法打开(2012.6.15/五)</h3>\n08:00AM, PC 端、移动端均无法访问，lftp 访问正常。可能是域名的问题。\n在 smartinfo.com.hk 上进行 whois 查询，返回结果如下：\n<p><img src=\"/img/snap/outstanding-domain-expire-due-to-smartinfo.png\" /></p>\n结果显示该域名的到期时间竟然是 \'2012-05-16\', 今天是 2012-06-15, \n刚好是到期时间后整整一月。这一个月期间正常估计是过渡期。今天过渡期也结束，\n网站也就打不开了。\n但续费的钱我前段时间已经交给他们了，所以原因就是港讯那边没有及时进行域名续费！\n看来<b>以后域名续费时务必进行 whois 查询以确认续费成功</b>才是。\n<br><br>\n10:30AM, 向港讯反映情况后已经恢复。\n\n<h3>［功能完善］厂区经办人、操作员删除（隐藏）功能(2012.6.16/六)</h3>\n厂区负责包料的人员流动性大。离职后能将其删除或隐藏，确保出库记录信息准确；\n<br><br>\n方法：将存储经办人、操作员信息的<tt>om_term_taxonomy.term_note</tt>\n列利用起来：默认该值都为<tt>\'show\'</tt>,进行删除操作时，\n将该列值更新为<tt>\'hide\'</tt>即可；\n\n<h3>［功能完善］加入更多快递打印单功能(2012.6.16/六)</h3>\n<ol><li>\n11:09 开始\n</li><li>\nChrome Version: 12.0.742.124\n</li><li>\n6.18: 使用绝对长度单位 cm 设定快递单区块尺寸时的问题：尽管尺寸设置的分毫不差，\n但在<b>显示</b>中会出现“误差”。<b>相对长度 px 不会出现此种问题。</b>\n<p><img src=\"/img/snap/error-when-using-length-unit-cm.png\" /></p>\n</li><li>\n改用表格显示。更郁闷的事情出现，见 ptable.html.bak 文件。\n问题二：字体对齐…… 还是重回 DIV;\n</li><li>\n采用 DIV 区块模式。经验：\n	<ol><li>\n	按快递单上实际区块尺寸进行设计，不必考虑左侧隐藏多少。而将左侧内容改为\n	字体向右排列（<tt>.leftDiv</tt>样式）；\n	</li><li>\n	除此设计好后，找两个校对坐标，从而计算得出整体偏移坐标；\n	</li></ol>\n</li><li>\n林不是经常打印发货清单内容不全吗？这次不论发货清单还是快递单，Chrome\n页边距统一设定为 \"无\". 同时将发货清单页面 \'#main\' 块 CSS 属性修改为 \n\"padding:20px\"\n</li><li>\nJun 20, 4:45pm: FedEx 完工，要是有微调功能就太好了。感觉：\n<b>先校对区块定位，区块校对无误后再进行区块内字体的微调。</b>\n</li><li>\nJun 26, 4:40pm: EMS 完工；\n</li><li>\nJun 28, 10:52pm: DHL 完工；\n</li></ol>\n\n利用 ajust print 页面进行实践后得到的结论：\n<ol><li>\nChrome 页边距设置：设置成“无”不行，打印内容将不全\n（林打印的很多报废的发货清单就属于这种情况）；需要设置成<b>“最小值”</b>，\n该模式下的页边距为 4mm.\n</li><li>\n此次校准坐标<tt>(27, 5)</tt>和在厂里的不同（是不是显示器分辨率的原因？）。\n以后设计通用打印程序时，\n应该<b>在使用前打印校准页面</b>。明天拿 EMS 单做实验。\n</li></ol>\n\nJun 21\n<ol><li>\n快递单搜集时还是省去“重量”项，因为重量都是以快递公司测量为准；\n</li><li>\n</li></ol>\n\n<h3>［Bug 修复］提交订单时收货地址信息存储失败导致无法发货 (2012.6.20/三)</h3>\n林提交的订单<tt>address_id</tt>列竟然为<tt>NULL</tt>, 难怪发货时出现如下错误：\n<p><img src=\"/img/page/snap/bug.dispatch-address-sql-error.jpg\" /></p>\n问题是提交订单时<tt>address_id</tt>列怎么就没存上呢？默认选择的是第一个地址呀。\n\n<h3>［功能<s>完善</s>］出纳公司预付应具有修改功能 (2012.6.20/三)</h3>\n昨下午范苗反映在进行公司预付操作时误将\'16000\'误输成 \'18000\'. 考虑开放修改权限，\n或者将所有修改历史记录也保存下来；\n\n<h3>［细节完善］银行转帐授权：‘付款 -&gt; 转帐\'(2012.6.28/四)</h3>\n<p><img src=\"/img/page/2012/snap.20120628.png\" /></p>\n出纳对“付款”字样感到疑惑：此申请类型为银行转帐，使用“付款”字样会让出纳以为按下\n按钮后现金柜中余额会发生变化。因此，对银行转帐类来说，此处改为“转帐”更合适一些。\n\n<h3>［细节完善］提示信息要周到 Inspired from Ruanyifeng (2012.6.29/五)</h3>\n为提醒销售人员正确填写客户档案信息，输入框下方有如下提示信息：\n<pre>注意：打印快递单时将调用此处的客户信息，因此请务必正确填写。</pre>\n这段话没有任何问题，直到我看到阮一峰在台北图书馆自习室桌上拍到的一张照片：\n<p><img src=\"/img/page/2012/20120629-if.jpg\" /></p>\n用这种“如果……就……”的句式先把“麻烦“说出来，人往往都会避免麻烦而照后面的去做。\n这样做既周到效果又好。因此将上面的提示信息修改如下：\n<pre>\n如果不想每次发货都手写快递单，请正确填写此处的信息（快递单打印程序将调用此处的客户信息）。\n</pre>\n\n<h3>［Bug Fixed］用户计算机日期时间设置错误导致系统无法登录(2012.7.2/一)</h3>\n冯璐下午反映订单系统登录不上。自己第一反应是网速过慢导致域名解析错误，而 Chrome \n缓存了此错误页面。经过远程协助清除缓存后问题仍未解决，冯璐发过来一个截图如下：\n<p><img src=\"/img/page/2012/snap.20120702.png\" /></p>\n该截图表示之前自己推断的错误。当用户在未登录系统的情况下试图访问诸如 expense.php\n页面时会显示截图中的提示信息，但现在的问题是用户在已登录的情况下产生的。\n在修电脑时突然发现冯的计算机上显示的日期不准确，今天明明 2 号，她电脑上却显示 \n3 号。问后得知原来上次她计算机黑屏后按 F1 加载默认选项后系统日期就发生错误，\n她自己在修改日期时仍没有改对。难道原因跟错误的系统日期有关？查看 login.php\n页面代码后恍然大悟：\n<pre class=\"brush: php\">\n// Snippet in login.php\nsetcookie (\'om_login\', $login_name, time()+36000); \n// Snippet in md.header.php\nif ($_COOKIE[\'om_login\'] == null) {\n	out_error(\"Permission Denied. You should &lt;a href=\\\"login.php\\\"&gt;Log in&lt;/a&gt; first.\");\n}\n</pre>\n正常情况下，用户在输入正确的帐户名和口令后，系统会创建一个 Cookie, \n此 Cookie 就是 E-Order目前验证用户的通行证。该 Cookie 有效期为用户登录后 10 \n小时内，需要说明的是这里参考时间是服务器时间（<tt>time()</tt>），而设置的 Cookie\n的<b>参考时间却是本地计算机的系统时间</b>。当服务器时间和计算机系统时间不一致时\n，就会产生错乱。假如冯璐在 2012-07-02 15:00:00 这一服务器时间登录系统，\n那么设置的 Cookie 将在 2012-07-03 01:00:00 (本地计算机系统时间) 失效。\n由于本地计算机比服务器时间晚了整 24 小时，这就致使<b>创建的 Cookie \n在登录时就已经失效！</b>此时<tt>$_COOKIE[\'om_login\']</tt>值为<tt>null</tt>,\n这就是此次 Bug 的真正原因。<br><br>\n\n解决方法也很简单：将失效期时间设置的长一些，比如一年（3153600 秒），这样即使本地\n系统日期有误，只要偏差不超过一年，就没问题。\n\n<h3>［Bug Fixed］上个月销量线性图显示异常 (2012.7.3/二)</h3>\n查看客户销售量线性图时发现没有上个月数据。查看相关代码找到原因：代码在获取所有\n有发货动作的月份后进行了两个操作：<tt>array_shift()</tt> 和\n<tt>array_pop()</tt>. 前者将 E-Order 刚运行时数据不全、没有参考意义的月份移除；\n后者将尚未过完的当前月（因而也没有参考意义）移除。这两步操作有个<b>前提：\n当前月必须有发货数据</b>。本 Bug 就是特殊情况。\n属于逻辑设计考虑不全面方面的错误。\n<pre class=\"brush: php\">\n// Get month goods qtt array\n$stack = $db-&gt;get_col(\n	\"SELECT DISTINCT DATE_FORMAT(fetch_time,\'%Y.%c\') \n	 FROM om_orders \n	 WHERE fetch_time IS NOT NULL\n	 ORDER BY DATE_FORMAT(fetch_time,\'%Y%m\') ASC\");\narray_shift($stack);\n//!array_pop($stack);	// bug line\n// Fixed\nif ($stack[sizeof($stack)-1] == date(\'Y.n\')) {\n	array_pop($stack);\n}\n</pre>\n\n<h3>［功能完善］重复客户合并 (2012.7.4/三)</h3>\n<pre>\nvida 10:19:54:\n一个客户有两个地址，怎么在客户管理里创建啊 \nvida 08:30:17:\n我就是重新就新创建了一个 \nvida 08:31:11:\n这样的话，就是在客户管理里，有两个一样的公司，只是后面联系人不一样 \n</pre>\n早上冯璐碰巧遇到此问题，索性在此版本中解决算了。思路：把数据库表格中所有含有老客\n户 id 的记录进行更新，然后在 om_companies 中删除老客户记录。把\n<tt>om_companies.company_id</tt> 作为外键的表格有：\n<tt>om_addresses, om_orders, om_goods, om_dispatch, om_revenue</tt>.\n在更新过程需要注意：\n<ol><li>\n<tt>om_addresses</tt>中不但要更新<tt>company_id</tt>列，还要把老客户的主发货地址\n更改为普通发货地址；\n</li><li>\n除了<tt>om_addresses</tt>中外键名称是<tt>company_id</tt>外，其它四个表中名称均为\n<tt>customer_id</tt>, 加之操作一样，因此可以使用循环语句实现；\n</li><li>\nUpdate (Jul 5,2012): 除了上面 5 个表格含有客户 id 外，还有个较隐蔽的位置：\n可不输单价的特殊客户，假如这些特殊客户进行合并，则需要在特殊客户里删除；\n\n</li></ol>\n\n<h2>总结 Jul/2/2012</h2>\n<ol><li>\n<b>通用：</b><br>\n	<ol><li>\n舍弃通过 PHP 选中下拉菜单、按钮的方式，改用 JS;\n	</li><li>\n功能模块化，按角色仅加载与之相关的模块，减轻页面加载任务；\n	</li><li>\n创建客户端常用表单数据合法性验证自定义函数；\n	</li></ol>\n</li><li>\n<b>目录结构变化：</b><br>\n新建<tt>img/</tt>, <tt>module/</tt> 两个目录，让文件放置更合理；\n</li><li>\n<b>费用申请：</b><br>\n添加未授权之前修改、删除申请单功能；\n</li><li>\n<b>发货操作：</b><br>\n	<ol><li>\n添加历史发货单发货清单打印功能；\n	</li><li>\n快递但打印模块：优化快递单模板设计方法、加入更多快递单模板；\n	</li></ol>\n<b>月销售报表：</b><br>\n修复月初下载按钮中显示月份和月份选择框中不一致的 Bug;\n</li><li>\n<b>订单管理：</b><br>\n	<ol><li>\n修复数据中签收日期早于发货日期这一不合理情况的 Bug;\n	</li><li>\n除特殊客户外强制输入单价模块：发现一个产生 Bug 的特殊情况，完善设计逻辑；\n	</li><li>\n	加入研磨膏“油溶”、“水溶“属性；\n	</li></ol>\n</li><li>\n<b>客户管理：</b><br>\n	<ol><li>\n加入<tt>om_addresses.duty</tt>列。对客户来说可存储联系人职位；对快递公司来说，\n可存储营业分部名称；\n	</li><li>\n添加删除公司发货地址、修改主发货地址两个功能；\n	</li><li>\n合并重复客户功能（暂定权限为仅 Root 可用）；\n	</li></ol>\n</li><li>\n<b>快递公司管理：</b><br>\n	<ol><li>\n按营业部门分类物流公司信息，存储在<tt>om_addresses.duty</tt>列；\n	</li><li>\n加入删除快递公司营业分部功能；\n	</li></ol>\n</li><li>\n<b>出库管理：</b><br>\n	<ol><li>\n厂区经办人、操作员删除（隐藏）功能；\n	</li></ol>\n</li><li>\n<b>登录操作：</b><br>\n	<ol><li>\n用户登录成功后创建的 Cookie 由于设置失效期过短，导致一台系统时间紊乱的计算机登录\n发生错误；\n	</li></ol>\n</li></ol>\n',NULL,3,1,'Y',0,'util.js','2012-05-21 11:05:48','2014-02-27 13:20:21'),(172,'统一按钮外观','<blockquote>\n这种按钮设计最大的特点，就是完全不使用背景图片，是纯粹的HTML+CSS。同时，它也不使用任何表单元素，目的是在不同浏览器下，争取视觉效果的最大统一。\n</blockquote>\n\n<button type=\"button\" class=\"btn\">\n	<span><span>好的,存入系统</span></span>\n</button>\n\n\n<h1>Custom Buttons 3.0 (demo)</h1> \n \n<p class=\"s0\"><strong>Updated:</strong> 27 Feb 2008</p> \n \n<p>This doc attempts to show how custom buttoms with a 1px radius could be created without corner images. The gradient requires an image, but is optional. Ideally, the <code>&lt;button&gt;</code> element should be used if possible (instead of <code>&lt;a&gt;</code>) for semantic and accessibility reasons. Note that the hover state will not work on <code>button</code> elements for IE6 and lower without using JavaScript to detect a mouseOver event.</p> \n \n<form action=\"#\"> \n  <p><a href=\"#\" class=\"btn\"><span><span>button</span></span></a> &nbsp;<code>&lt;a&gt;</code></p> \n<br> \n  <p><button type=\"button\" class=\"btn\"><span><span>button</span></span></button> &nbsp;<code>&lt;button&gt;</code></p> \n<br> \n \n  <p><a href=\"#\" class=\"btn\"><span><span>longer button text</span></span></a> &nbsp;<code>&lt;a&gt;</code></p> \n \n  <p><button type=\"button\" class=\"btn\"><span><span>longer button text</span></span></button> &nbsp;<code>&lt;button&gt;</code></p> \n \n  <p><button type=\"button\" class=\"btn\"><span><span>button</span></span></button>&nbsp;<button type=\"button\" class=\"btn\"><span><span>button</span></span></button>&nbsp;<button type=\"button\" class=\"btn\"><span><span>button</span></span></button> &nbsp;<code>&lt;button&gt; &lt;button&gt; &lt;button&gt;</code></p> \n  \n  <p><button type=\"button\" class=\"btn primary\"><span><span>Save</span></span></button>&nbsp;<button type=\"button\" class=\"btn\"><span><span>Cancel</span></span></button> \n  &nbsp;<code>&lt;button class=\"primary\"&gt; &lt;button&gt;</code></p> \n  \n  <p><button type=\"button\" class=\"btn pill-l\"><span><span>Left</span></span></button><button type=\"button\" class=\"btn pill-c\"><span><span>Center</span></span></button><button type=\"button\" class=\"btn pill-r\"><span><span>Right</span></span></button> \n  &nbsp;<code>&lt;button class=\"pill-l\"&gt;&lt;button class=\"pill-c\"&gt;&lt;button class=\"pill-r\"&gt;</code></p> \n \n</form> \n \n<h2>Reasons for 2 nested spans:</h2> \n<ol> \n  <li>The inner <code>span</code> creates the top and bottom borders. Because <code>button</code> and <code>a</code> are inline elements, top/bottom borders and padding do not affect the height of parent elements (such as the outer <code>span</code>). So with the same top/bottom padding of both <code>span</code> elements, the left/right borders of the outer <code>span</code> stop short of the top/bottom borders of the inner <code>span</code>.</li> \n  <li>The outer <code>span</code> is necessary to fix bugs in Gecko-based browsers and in IE (separate issues for both). Gecko browsers add an extra 3px of padding inside <code>button</code> elements which can\'t be eliminated. Without the outer span, top/bottom and left/right borders wouldn\'t connect. IE just has trouble styling <code>button</code>s and nested elements inside them, so the majority of visible styles are applied to two inner <code>span</code>s.</li> \n</ol> \n\n<h2>参考</h2>\n<ol><li>\n<a target=\"_blank\" href=\"http://stopdesign.com/extra/eg/buttons/3.0/code.html\">http://stopdesign.com/extra/eg/buttons/3.0/code.html</a>\n</li><li>\n<a target=\"_blank\" href=\"http://www.ruanyifeng.com/blog/2009/03/creating_gmail-like_buttons.html\">http://www.ruanyifeng.com/blog/2009/03/creating_gmail-like_buttons.html</a>\n</li></ol>\n',NULL,1,1,'Y',0,'util.js','2012-05-31 15:48:06','2014-02-27 13:20:21'),(173,'jQuery  ajax 方法中的变量','<h3>私有变量</h3>\n我们经常利用 jQuery 的 <tt>ajax()</tt>方法来获取数据库中的值来加以使用。\n例如下面的代码将显示特殊客户 ID 字符串。\n<pre class=\"brush: javascript\">\n$.ajax({ \n	 type: \"POST\" \n	,url: \"md.ajax-pipe.php\" \n	,data: { do:\'get_special_customer\' }\n}).done(function( msg ) {\n	var dt = split_ajax_data(msg);\n	var isc = dt[\'is_special_customer\'];\n	alert(isc);	// OK: print it\n});\n</pre>\n但是如果我们将<tt>alert(isc);</tt>语句移至<tt>ajax()</tt>函数外部，\n就会出现“变量 isc 没有定义“的错误提示。换句话说，\n<tt>ajax()</tt>函数内部的变量是“<b>私有变量</b>”。这也是为什么在 P.O.P. \n应用中提交订单模块中判断特殊特殊客户使用了一种笨方法（参 V0.0.17 Log）。\n<pre class=\"brush: javascript\">\n$.ajax({ \n	 type: \"POST\" \n	,url: \"md.ajax-pipe.php\" \n	,data: { do:\'get_special_customer\' }\n}).done(function( msg ) {\n	var dt = split_ajax_data(msg);\n	var isc = dt[\'is_special_customer\'];\n});\nalert(isc);	// Error: isc is not defined\n</pre>\n\n<h3>通过 PHP \'require_once\' 引入 JS 代码时</h3>\n这是在 JS 事件模块化中遇到的一个问题：自定义函数\n<tt>add_expense_history_detail_list_event()</tt>在文件\n<tt>module/finance.cashier.index-notification.php</tt>中定义。\n在试图调用此函数时同样得到函数未定义的错误提示。\n<b>PHP 函数可以通过该方法使用， JS 函数为什么就不行？</b>\n<pre class=\"brush: javascript\">\n// snippet in module/finance.cashier.index-notification.php\nrequire_once \'module/evt.view-expense-list.php\';\n\n&lt;script type=\"text/javascript\"&gt;$(document).ready(function(){\n	add_expense_history_detail_list_event(); // Error: \'add..\' is not defined\n});&lt;/script&gt;\n</pre>\n<blockquote>\n同一段腳本，函數定義可以出現在函數調用的後面，但是如果是分別在兩段代碼，\n且函數調用在第一段代碼中，則會報<b>函數未定義錯誤</b>。\n<pre class=\"brush: php\">\n&lt;script type=\"text/javascript\"&gt; \n	aa(); //瀏覽器報錯\n&lt;/script&gt;\n\n&lt;script type=\"text/javascript\"&gt; \n	aa();//輸出 1 \n	function aa(){alert(1);}\n&lt;/script&gt;\n</pre>\n----\n<a target=\"_blank\" href=\"http://southmaster.com/article/pub.php?page=red2.php&id=5375\">Javascript在網頁頁面加載時的執行順序網頁</a>\n</blockquote>\n\n上面的这段引用和自己的问题类似，但还是不一样。自己遇到的问题的原因可能是\n页面加载顺序的问题。\n',NULL,3,1,'N',0,'util.js','2012-06-07 10:57:48','2014-02-27 13:20:21'),(174,'NHK 纪录片之微型计算机技术者们的攻防','<img src=\"/img/page/20120611.TRON-0.png\" /><br>\n<img src=\"/img/page/20120611.TRON-1.png\" /><br>\n<img src=\"/img/page/20120611.TRON-2.png\" /><br>\n<img src=\"/img/page/20120611.TRON-3.png\" /><br>\n<img src=\"/img/page/20120611.TRON-4.png\" /><br>\n<img src=\"/img/page/20120611.ICtag-0.png\" /><br>\n<img src=\"/img/page/20120611.ICtag-1.png\" /><br>\n<img src=\"/img/page/20120611.ICtag-2.png\" /><br>\n',NULL,1,1,'N',0,'util.js','2012-06-12 07:55:54','2014-02-27 13:20:21'),(175,'E-Order 主要模块功能更新日志','<h2>数据库结构、文件结构</h2>\n<ol><li>V0.0.18\n	<ol><li>\n	新建表格<tt>om_option</tt>, 来存储一些属性。此表借鉴自 WordPress;\n	</li><li>\n	om_goods.uprice 类型由 DECIMAL(5,4) 改为 DECIMAL(6，4), \n	以应对货币为日元、单价大于 10 的情况；\n	</li><li>\n	新建通用类<tt>EOrderClass</tt>, 来放置那些不知道该归到那个类中的方法，\n	此类可算作 md.template-function.php 的升级版；\n	</li><li>\n	应出纳要求，添加费用申请“经理付款”项\n	</li><li>\n	新建产品类<tt>ProductClass</tt>, 在生成粒度年报表中使用；\n	</li></ol>\n</li></ol>\n\n<h2>MISC</h2>\n<ol><li>V0.0.17\n	<ol><li>\n舍弃通过 PHP 选中下拉菜单、按钮的方式，改用 JS;\n	</li><li>\n功能模块化，按角色仅加载与之相关的模块，减轻页面加载任务；\n	</li><li>\n创建客户端常用表单数据合法性验证自定义函数；\n	</li><li>\n新建<tt>img/</tt>, <tt>module/</tt> 两个目录，让文件放置更合理；\n	</li></ol>\n</li></ol>\n<ol><li>V0.0.18\n	<ol><li>\n	将页面中所有数据库操作都整合到各个类文件中，便于将来数据库调整时修改代码\n	</li><li>\n	借用 AJAX 在 JS 和 PHP 之间传递变量时有一些注意事项：1. JS 中的整数类型\n	传递给 PHP $_POST 变量后为字符型； 2. JS 中的变量 <tt>undefined</tt>\n	传递给 PHP 中类型为<tt>NULL</tt>, 而非字符串<tt>\'undefined\'</tt>;\n	</li><li>\n	在实践中体会到方法中使用 echo 语句而不是 return 语句的坏处；\n	</li><li>\n	借助 Minify 优化页面中 JS 代码；\n	</li><li>\n	优化登录页面（login.php）；\n	</li><li>\n	优化 md.array-vars.php\n	</li></ol>\n</li></ol>\n\n<h2>新建订单</h2>\n<ol><li>V0.0.17\n	<ol><li>\n修复数据中签收日期早于发货日期这一不合理情况的 Bug;\n	</li><li>\n除特殊客户外强制输入单价模块：发现一个产生 Bug 的特殊情况，完善设计逻辑；\n	</li><li>\n	加入研磨膏“油溶”、“水溶“属性；\n	</li></ol>\n</li></ol>\n<ol><li>V0.0.18\n	<ol><li>\n	解决销售提交日腾中、常兴这类客户订单时忘记提交免费样品的问题，\n	外加管理可以不填单价的特殊客户的功能；\n	</li><li>\n	优化“继续添加“、”删除该行“两个按钮，使得删除货物更加好用；\n	</li><li>\n	若订单中包含非标准粒度，则弹出窗口要求分类；\n	</li></ol>\n</li></ol>\n\n<h2>修改订单</h2>\n<ol><li>V0.0.18\n	<ol><li>\n	借用 jQuery 的 clone() 方法将本页面内重复的国家选择器 Entity 减少为一个,\n	并将此方法推广应用到其它页面；\n	</li><li>\n	财务授权到帐后的订单修改问题，她可能仅仅需要改动一下发货地址，\n	却不能独立完成；\n	</li><li>\n	放开销售修改已发货或顺利抵达的订单；\n	</li></ol>\n</li></ol>\n\n<h2>客户管理</h2>\n<ol><li>V0.0.17\n	<ol><li>\n加入<tt>om_addresses.duty</tt>列。对客户来说可存储联系人职位；对快递公司来说，\n可存储营业分部名称；\n	</li><li>\n添加删除公司发货地址、修改主发货地址两个功能；\n	</li><li>\n合并重复客户功能（暂定权限为仅 Root 可用）；\n	</li></ol>\n</li></ol>\n\n<h2>支出管理</h2>\n<ol><li>V0.0.17\n	<ol><li>\n添加未授权之前修改、删除申请单功能；\n	</li></ol>\n</li></ol>\n\n<h2>发货管理</h2>\n<ol><li>V0.0.17\n	<ol><li>\n添加历史发货单发货清单打印功能；\n	</li><li>\n快递但打印模块：优化快递单模板设计方法、加入更多快递单模板；\n	</li></ol>\n</li></ol>\n<ol><li>V0.0.18\n	<ol><li>\n	修复发货操作时的一个逻辑Bug: 若用户选择“到付单”时，必须选择“结算类型”；\n	</li></ol>\n</li></ol>\n\n<h2>销售统计</h2>\n<ol><li>V0.0.17\n	<ol><li>\n修复月初下载按钮中显示月份和月份选择框中不一致的 Bug;\n	</li></ol>\n</li></ol>\n<h2>现金管理</h2>\n<ol><li>V0.0.18\n	<ol><li>\n	增加“公司预付现金”修改、删除功能；\n	</li><li>\n	增加撤销“现金出柜”功能；\n	</li></ol>\n</li></ol>\n\n<h2>产品管理</h2>\n<ol><li>V0.0.18\n	<ol><li>\n	加入修改产品粒度所属分类的情况；\n	</li></ol>\n</li></ol>\n\n<h2>快递公司</h2>\n<ol><li>V0.0.17\n	<ol><li>\n按营业部门分类物流公司信息，存储在<tt>om_addresses.duty</tt>列；\n	</li><li>\n加入删除快递公司营业分部功能；\n	</li></ol>\n</li></ol>\n\n<h2>登入、登出</h2>\n<ol><li>V0.0.17\n	<ol><li>\n用户登录成功后创建的 Cookie 由于设置失效期过短，导致一台系统时间紊乱的计算机登录\n发生错误；\n	</li></ol>\n</li></ol>\n\n<h2>出库管理</h2>\n<ol><li>V0.0.18\n	<ol><li>\n	添加“打印精简订单”的图标，使厂区可以打印任何订单的精简单；\n	</li></ol>\n</li></ol>\n<!--\n<h2>MISC</h2>\n<ol><li>V0.0.18\n	<ol><li>\n	</li></ol>\n</li></ol>\n-->\n',NULL,3,1,'Y',0,'util.js','2012-06-12 08:12:42','2014-02-27 13:20:21'),(176,'母亲生病','<div>\n<h3>6.13 (三)</h3>\n<img src=\"/img/page/2012/life.20120613.jpg\" style=\"float:left;\" />\n清早母亲像往常一样起来做饭，但看上去仍很虚弱，我让母亲不用做饭，\n再回去休息一会儿，我决定再请一天假。等到第二次起来，看到她穿戴整齐，\n看上去准备出门的样子。原来母亲已经给大姐打电话让大姐一会儿带她到医院检查。\n七点多大姐的车已经到家门口了，一同来的还有二姐。我在家照看安琢。\n没多久安琢就睡着了。现在他大了一些，把他悠睡后往床上放的时候比以前容易一些。\n以前往床上放时手不能立刻从他脖子下抽出，不然立刻开始哭闹，\n之前的“努力”立刻前功尽弃；现在也是哭闹，但也就两声，之后侧着身也就睡着了。\n<br><br>\n快十一点的时候，听见母亲和大姐说话的声音。当时安琢还在睡觉，为了不惊醒他，\n我暂时没有出去。大姐说她们到中医院和二院检查了,\n大姐和母亲之前担心的胆的问题被排除,还是肠胃上的问题。\n大姐还给安琢买了近三百块钱的衣服,给金艳买了一套衣服,母亲更不必说,整整一兜。\n除此之外,当大姐知道安琢已经一岁时,又给了他二百块钱!\n聊天的过程中安琢对大姐手上戴的玉镯很感兴趣,大姐扰让他玩。\n还说等你长大了也给大姑买一个。\n<br><br>\n母亲下午第二次输液后感觉后脑勺有点痛。母亲躺在沙发上和我聊天，\n聊到来到吴村后爷爷和陈加强、陈加齐是如何对待她，她又怎样对待她这两个兄弟的。\n又说到年轻时和父亲生了多少气，受了多少罪；\n当初爷爷把父母撵到庙里时没有吃的。大姥爷知道后回去一直叹气，姥姥问怎么了。\n大姥爷不说话，却只是叹气。在姥姥的追问下，大姥爷说：“恁都在这吃好的，\n吴村的妮儿连吃的都没有……”说到动情处，母亲的声音都开始哽咽，\n我抬眼望见母亲眼角的泪花。疾病的疼痛竟让一向坚强的母亲掉泪。\n</div>\n\n<div>\n<h3>6.14（四）捕蚊器效果不佳+安琢跌倒</h3>\n请假两天后上班的状态不好，跟每周一一样，表现为瞌睡。工作进展缓慢。\n仅仅发现 JS 下不能像 PHP 那样在循环中使用 \'arg[] = xx;\' 语句进行赋值。<br><br>\n\n下班回到家第一件事就是把刚买的 SKG 捕蚊器装上。事实证明效果不理想：\n半夜起来沏奶时发现逮的都是很小的飞虫，更糟糕的是，\n捕蚊器上面的灯光把纱窗外面的飞蛾都吸引过来，一个劲的往纱窗上撞。\n第二天一早发现金艳和我身上都有被咬的地方。唉！这钱花的……\n</div>\n\n<div>\n<h3>6.15（五）早上忙 + 连摔三次</h3>\n下班回家吃饭时听母亲说安琢刚才摔了两次，他和大孩子玩的时候摔着了。\n我看到他的上嘴唇和鼻子上有两块伤疤。在我吃饭的过程中，安琢在旁边自己来回走路。\n突然没掌握住平衡，一下子到水泥台上，把原来鼻子上还没愈合的伤疤又给蹭破了！\n当时就流血了。母亲赶紧让我回去把毛巾沾点水拿过来给他擦擦，\n我因为怕大门口的水缸里的水不干净就跑到厨屋去找水，让一向急性子的母亲给说了一顿。\n擦的时候，安琢特别不配合，一直躲着。大致把伤口周围的土擦掉后，\n母亲说再去捏点痱子粉按到伤口上。我到屋里抓了一大把出来，\n往伤口上洒时安琢不停在扭脸。结果伤口上没洒多少，却弄得脸上、眉毛上、胳膊上全是。\n母亲把他放到小车里推的时候还说他是“白胡子老头”，我看叫“白眉大侠”更贴切。\n\n</div>\n\n<div>\n<h3>6.16（六）收到 iPad</h3>\n</div>\n\n<div>\n<h3>6.17 （日）咬到安琢手指 + 移交 iPad</h3>\n记得周六晚上听母亲说周六中午安琢不睡觉、但母亲特别瞌睡的事情，今天自己算是切身体\n会到了！那滋味真不好受！下午抱着安琢从大街回来，安琢手里拿着别人给的一块馒头。\n我对安琢说让爸爸吃点，安琢很听话的把馒头往我嘴里塞。咬完后脑子想想好像哪个地方不\n对，好像馒头不是这个味道。突然意识到自己可能咬到他的指头了！安琢好像也读懂我脸上\n的表情，哇的哭了起来。想想觉得好笑，好无辜的安琢……<br><br>\n\n母亲昨晚给大姐打电话说陈加强的腿碰着了，让大姐抽空去看看。上午抱着安琢去小卖部买\n完灭害灵回来发现炎生哥、大姐、二姐、张競文、张竟月都来了。下午大姐来接二姐，我顺\n便把 iPad 给大姐，大姐脸上的好像不太高兴，给我感觉是很不愿意我买这个东西。\n下午荆一打电话过来对我送她 iPad 表示感谢，电话一开始说我给她买这么贵的东西让她觉\n得很不好意思……唉，自己感觉怎么这么“客气”呢？\n</div>\n',NULL,1,1,'N',0,'util.js','2012-06-14 16:54:44','2014-02-27 13:20:21'),(177,'W25','<div>\n<h3>6.19 （二）第三次从床上掉下 + 全一打印模板完成</h3>\n快递单打印模板：使用绝对长度单位厘米出现的不够精确的问题没有解决。\n一上班准备改用表格结构来表示。不成想问题更严重，使用表格可能会出现更大的误差。\n<br><br>\n下午三点多经理发短信让我到前进路上的维也纳酒店 13 层找他。\n过去以后才知道原来他在开会，想提前走一会儿，让我来当会托儿。\n听了一会儿知道这是一个网址是 momo35.com 的模具行业的平台公司来做宣传的，\n座在下面的有近二十人，据说都是老总。讲演的是一个操着南方口音的人，\n讲演的内容是经常谈的公司如何找到客户并促成订单。起初觉得挺新鲜，\n觉得有些收获。越听越觉得广告味儿越重，最后终于“图穷匕现”，原来是要卖他们的产品：\n生意通 2.0. 这类产品之前接到过很多类似广告，比较反感。但经理似乎听着很起劲：\n本来说是一会儿就走了，结果我都走了他还在（到 6:30pm 经理看太晚，让我先回家）。\n现在回想这个耗费自己三、四个小时的会议也非一无是处，列举如下：\n<ol><li>\n这个报告起初是比较吸引人的。原因在于讲演者讲到了很多生动的例子\n（中式营养快餐“蒸功夫”和麦当劳的竞争）和观点（凡客的“楔子理论“），\n这些内容自己之前没有了解过，因此听着有意思；\n</li><li>\n李敖的“数字观”在这也体现到。讲演者现场演示一个网站的网页被百度收录的情况，\n得到的数字是 42 (经理听后用此方法当场查询自己公司网站的收录数字是 21)。\n这个查询网页被搜索引擎收录页面个数的方法（site:www.yalongdiamond.com）\n自己之前不知道，也觉得很有用；\n</li><li>\n这个讲演者的 PPT 中出现了一个很明显的输入错误：把“网民”错输成“网名”\n（南方人很多 \'an\', \'ang\' 不分），但他没有意识到。这类低级的“错误”真的很要命，\n会给人粗心、不专业的感觉。自己在输入内容时要引以为戒，这个就是反面教材呀。\n</li></ol>\n安琢半夜从床上摔了下来！这已经是第三次了！不过这次好像摔得不是很痛，没哭几声就又\n睡着了，自己很是不解。晚上吃饭的时候听母亲说今天安琢被蚊子咬得不轻，头上、腿上得\n有十几个之多！晚上给他洗澡时还看见头上有个特别大的疙瘩。\n</div>\n\n<div>\n<h3>6.20（三）经理被成功“洗脑“ + FedEx 快递单模板完工</h3>\n下午经理给四个销售和我开了个小会，告诉我们昨天那个讲座的大致内容。同时告诉我们他\n已经决定购买那个“生意通”了。不管怎么说，人家这一单生意是做成了。同样是参加会议，\n有的老板听了一会就中途离开了，而经理最后就是跟人家签合同了（36,000/年）。经理这\n次购买行为有几个重要的因素：\n<ol><li>\n该公司宣称能解决的问题正是经理最近头痛的实际问题，用经理自己的话说叫“说到自己心\n里了”。公司最近面临的一个问题是：老客户的利润率在下滑，新客户开发困难；公司近来\n在宣传方面上的投入丝毫看不到效果。\n</li><li>\n企业的领导者十分”关注“竞争对手的动向。那个 30% 无效点击由竞争对手制造的例子以及\n河南地区的点击不计入的那个“聪明“做法经理记得很清楚；\n</li></ol>\ntrekshot.org 域名 2012-04-19 到期，虚拟主机 2015-05-08 到期。得重新把这个站点利\n用起来呀。\n</div>\n\n<div>\n<h3>6.21（四）替经理买 iPad + 山地车码表丢失</h3>\n上午被经理叫去，让我去趟科技市场买个 iPhone 4S, 买个 iPad 3,他准备送人。两台机器\n每个都要４６３０。他先是给了我一万现金，之后又给我一张信用卡，说能刷卡则刷卡。这\n一举动在我看来就是对我不信任。带着这个看法，我到了百脑汇后直奔主题，直接到二楼找\n到叫“大方数码”的店面。问好价格和经理说的出入不大、确认能刷卡后，在十二点前就把卡\n给刷了。没想到刚刷完卡经理就打电话过来问已经买过了？这时我意识到似乎应该提前给他\n打声招呼会更好一些，毕竟卡一刷他那边就会收到提示短信。可转念一想，自己是确认所有\n项目都符合经理要求才刷的卡呀。不管怎样，以后类似事情还是提前打声招呼才是。毕竟近\n一万块钱不是小数目。<br><br>\n\n下午去取自行车的时候，竟发现车上的码表被人给偷了！跟看车的那个女的说这个事情时，\n她装起了糊涂。尽管平常自己很少用到码表，但是无缘无故东西丢了总是件不爽的事情。\n以后要注意了，毕竟这露天的地方比不上自家的院内。我决定端午节后到马路对面放山地车\n，以示抗议。\n</div>\n\n<div>\n<h3>6.22（五）端午假期首日：回安琢姥姥家 + 蛇儿子出生</h3>\n<img src=\"/img/page/2012/life.20120622.1.jpg\" style=\"float:left;\" />\n<img src=\"/img/page/2012/life.20120622.2.jpg\" style=\"float:left;\" />\n早上不到六点，父亲就跟我说一会起来给他刮痧。然后安琢就醒了……我的懒觉……给父亲刮痧\n的时候，母亲说她的胳膊有点不舒服，一会儿给她也刮刮。结果一会儿安琢就拉臭了，原来\n没有懒觉的好处是不必洗床单，呵呵。安琢这边一忙，竟忘记给母亲刮痧了。明天补上。\n今天要回安琢姥姥家。因为现在天热得厉害，我们准备早点出发。我们准备给安琢穿上前几\n天大姐买的两套衣服中的另外一套，结果母亲说那件蓝色背心显得安琢更黑！没办法，又换\n上了上面很多鱼骨头图案那件，可我们俩觉得那个蓝色小熊的很好看啊。<br><br>\n\n到了发现涣姐和岳母正在弄韭菜，岳父和笑笑都在院子里坐着。十点多萍姐一家还有宋子京\n也来了，五个小孩在一起，好不热闹。岳父、母和涣姐忙着包饺子，我们都坐在上屋看着一\n群小孩在玩。萍姐家子林的个头和安琢差不多，今年９月２号就满两岁了。笑笑和刘子盛由\n于长时间没见，俩人个头都长高了不少。安琢也要加油啊。中午吃完饭后，所有人都待在空\n调屋，外面实在太热了。平日只有岳父、母两人的屋子里一下多了十个人，这下把所有人的\n生物钟都打乱了：平常大家都有午睡的习惯，岳父、母因为儿女都来了也不能午休；我们则\n是担心都休息的话没有地方而都强忍着。就这样一直坐到下午五点。中间安琢竟然拿着子林\n的奶瓶喝起奶来！金艳不觉得这样有何不妥，我是个敏感的人，生怕萍姐她们心里有什么想\n法。晚上大家一起到碰碰凉吃鱼，安琢可能是一天没吃什么东西吧，坐在宝宝椅里超级听话\n，一个人在那安静地吃鱼！这一举动得到了大家的一致表扬，虽然整个过程是用手抓的！\n席间笑笑还童真了一把，自己也坐在了宝宝椅里，尽管费了很大功夫才挤进去！等我们吃完\n饭已经是晚上八点十分，大姐夫把金艳和安琢送回家，我则自己骑着电动三轮回家。\n<br><br>\n\n下午六点收到闫雷短信，他儿子六点出生。这小家伙会调日子，今天日子多吉利。\n</div>\n\n<div>\n<h3>6.23（六）端午节仨姐都来了 + 聊天</h3>\n<img src=\"/img/page/2012/life.20120623.1.jpg\" style=\"float:left;\" />\n<img src=\"/img/page/2012/life.20120623.2.jpg\" style=\"float:left;\" />\n<img src=\"/img/page/2012/life.20120623.3.jpg\" style=\"float:left;\" />\n早上五点多安琢在里屋突然哭了起来，哭了一会儿没有停的意思。我就说了句：谁在闹人啊\n？结果哭得更厉害，也不知道是天太热还是他听懂了我说的话。最后惊动了母亲，母亲把他\n抱到健身器材那悠还是哭，声音还特别大过了好大一会才又睡着。母亲说还是因为没有睡醒\n的原因。<br><br>\n\n今天仨姐都要过来。二姐上礼拜带着张竟月过来，因为天太热竟月哭得特别厉害。我打算再\n把父亲屋里的空调开开试试。结果一开竟然管用，只是需要多预热一会儿，刚开始只有里面\n的机器在吹风，外面的机器根本不工作。过了大概十分钟，外面的机器终于响了起来。我赶\n紧给二姐发了个短信，说家里空调管用了，可以带张竞月过来。先是荆一、荆豪骑车山地车\n到家，他俩是锻炼身体骑到老家的，中间拐到这。之后是三姐到家，给安琢买的五彩绳，\n还有几个肚兜。等到大姐、二姐都来到后，母亲已经开始包饺子。大姐买了个大西瓜一切两\n半，又拿了两只鸭肉分别到大伯、二大爷家走了一趟。吃完饭都到上屋凉快、聊天。大姐问\n到我的工作，我又给他们说了我具体的工作。现在觉得没有必要，和人聊天要用双方都易懂\n的语言，否则说了一大堆全是不着边际啊。聊天过程中有很多有意思的事：\n<ol><li>\n二姐说张競文奶奶答应她如果考上大学给她买个“咬了一口的苹果”，上年纪的人不知道 \niPhone 的名字，只知道那手机好；大姐说到给荆一买 iPhone 时的情形：炎生哥跟大姐说\n荆一想要“四代苹果”呢，大姐不太理解，说道：一下买那么多苹果干嘛……\n</li><li>\n聊到大姐和炎生哥出去爬山的趣事。大姐说队伍里面有很多小媳妇很“轻摆“，看到山太高了\n就”啊啊“的，结果领队受不了了，过去跟她们说：你啊啥啊！叫床呐！这个笑话在没结婚的\n人面前说肯定不合适，在结过婚的人说再自然不过了。另一个笑话也是关于爬山的：一家两\n口出去爬山，女的第一次爬，中途想喝水，水壶在男的背包前面的背带上挂着。结果那男的\n水壶也不去掉，直接让女的喝，最有意思的是那水壶还是个软的，得挤……\n</li></ol>\n</div>\n\n<div class=\"diary\" rel=\"20120624\">\n<h3>6.24（日）买三轮童车 + 脸被抓</h3>\n<img src=\"/img/page/2012/life.20120624.1.jpg\" style=\"float:left;\" />\n<img src=\"/img/page/2012/life.20120624.2.jpg\" style=\"float:left;\" />\n三天假期最后一天终于可以自由支配，我们三口去荥阳购物。先花１９０给安琢买了一个三\n轮童车（自己在还价上还是太“仁慈”），之后金艳买了件绿上衣和旗袍。还别说，金艳穿旗\n袍很不错。在外面简单吃过擀面皮后，到超市买了个灭蚊液。下午由于没什么事，就早早回\n家。回家后开始下起小雨。雨后空气不错，给安琢洗了个澡，换上白色的大象衣服，看上去\n很白嘛。连安琢爷爷都说：谁说我们黑了？坐在新童车里的安琢很是高兴。<br><br>\n\n晚上安琢睡前躺在上屋沙发上玩，把我的脸给抓了道长长的口儿！\n</div>\n',NULL,1,1,'N',0,'util.js','2012-06-18 08:01:25','2014-02-27 13:20:21'),(178,'W26','<div class=\"diary\" rel=\"20120625\">\n<h3>6.25（一）优化日记中插图 + 给同事重装系统遇到两个 Primary 分区情况</h3>\n早上等５路公交时真叫一个慢，算是对５路车彻底失去信心。我又跑回政法街把山地车又骑\n出来，挤上高峰期的１２路去上班。下午给同事冯璐重装系统，在使用自己常用的 Win 7\n系统时遇到麻烦：Ghost 还原、系统重启后不能接着安装，电脑直接黑屏停在哪。初步\n考虑是由于品牌电脑中默认的三个磁盘分区为（Primay + Primary + Logical），也就是说\n有两个主分区，而通常情况下都是一个 Primary 分区。明天准备格式化硬盘重新分区后再\n安装试试。<br><br>\n\n对日记格式做如下两处调整：\n<ol><li>\n为每篇日记的外部 DIV 加上两个属性，方便以后 JS 控制；\n</li><li>\n重新约定日记插图的路径，改为以年份为单位；\n</li></ol>\n<pre>\n&lt;div class=\"diary\" rel=\"20120625\"&gt;\n&lt;img src=\"/img/page/2012/life.20120623.3.jpg\" style=\"float:left;\" /&gt;\n</pre>\n</div>\n\n<div class=\"diary\" rel=\"20120626\">\n<h3>6.26（二）荆豪填志愿 + 给同事装系统</h3>\n早上在骑车到乔楼的路上接到大姐的电话，荆豪的高考成绩出来了，过了大专线。大姐想让\n我给荆豪查查报哪个学校。到单位后就开始给冯璐装系统，使用 U 盘上装的电脑店软件快\n速格式化硬盘并快速分区后，开始装系统。整个安装过程比较顺利。安装后有两个问题：\n一、安装后声卡不工作，记得这个系统是能自动安装驱动的；二、系统半透明的主题不显示\n，不知道是显卡驱动没装还是什么原因。\n</div>\n\n<div class=\"diary\" rel=\"20120627\">\n<h3>6.27（三）第一次睡整夜 + 肚子不舒服 + 没有回政法街</h3>\n昨天夜里安琢竟然没有喝奶，这真是史无前例。早上起来就感觉肚子涨，不想吃饭的感觉，\n只喝了一碗甜汤就走了。由于害怕下雨，今天把山地车停在政法街，选择做公交上班。临近\n中午时肚子仍不舒服，身上没劲儿。中午也没有去吃饭，同事吃饭回来给我捎了点山楂吃后\n感觉似乎好些。下班时肚子又开始胀了起来，只好到惠厂开了些药。晚上给金艳说不会去了\n，顺便明天凌晨可以看西班牙和葡萄牙的半决赛。<br><br>\n\n晚上临九点时母亲专门打电话过来问吃药了没有、肚子疼不疼。\n</div>\n\n<div class=\"diary\" rel=\"20120628\">\n<h3>6.28（四）熬夜看球 + 不黏我</h3>\n<img src=\"/img/page/2012/life.20120628.euro2012.jpg\" style=\"float:left;\" />\n凌晨是欧洲杯西班牙对葡萄牙的第一场半决赛，2:30am 起来看球。打开电视，第一眼看到\nC 罗正在宣读赛前声明（主题：RESPECT）。比赛开球前现场的观众竟和奥运开幕式一样数\n起了倒计时，让人觉得这真是一场万众期待的比赛。这场比赛的看点很多：西班牙是卫冕\n冠军、场上队员大部分都是皇马、巴萨成员；葡萄牙这边则是 C 罗，昔日里联赛里的队友\n在经过国籍组合后竟以如此奇妙的形式出现。比赛前段葡萄牙边路很活跃，一度让卫冕冠军\n踢得有些找不着节奏。上半场两队互交白卷。下半场博斯克换上小法后场上开始有些变化，\n西班牙才开始找到自己的节奏。葡萄牙由于关键队员身体素质（身高、速度）好，因此反击\n打得特别快，也很有威胁性。反观西班牙队队员大多个子不高、速度不快，但技术好、节奏\n感强，看着令人赏心悦目。博斯克显然对队员的表现不满意，全场比赛未结束前已经用掉了\n三个换人名额，而比赛结束时比分仍为 0:0. 加时赛的 30 分钟西班牙踢得很精彩，创造了\n很多绝杀的机会，尤其是小白的那个。而葡萄牙也有一次几乎致命的反击，可惜双方都没有\n最终改写比分，只好以最残酷的点球决胜负。令人感叹的是双方的第一个点球都被扑出！\n第二个点球双方都罚进。当主罚第三个点球的葡萄牙队员 A 朝着点球点走去时，此时葡萄\n牙前锋纳尼突然走上去也准备主罚（是两人记错了顺序还是临时有变不知），所幸纳尼也罚\n中了点球。等 A 再次出场主罚第四个点球的时候不幸罚失！！这意味着第五个出场的小法\n一旦罚进点球，葡萄牙将被无情地淘汰！只见小法缓步走到点球点将皮球放好后开始后退，\n同时自言自语，应该是鼓励自己的话。小法选择了球门左边死角，这个角度实在刁钻！只见\n皮球先是惊险地碰到了门柱！最后反弹进球门！！球进后，小法第一反应就是跑向站在旁边\n的卡西忘情庆祝！祝贺西班牙队！<br><br>\n\n已经两天没见安琢，到家就想抱抱他。等我伸手要他时，他却一如既往往他妈妈怀里躲，脸\n上还有一脸坏笑。为什么不让我抱呢？晚上和金艳探讨这个问题。金艳说可能是因为晚上没\n有搂着他睡过觉，我觉得这只是原因之一。因为以前星期天我看他一天的时候也让我抱，\n还有个原因就有可能时间点不对，金艳和我回到家基本天都快黑了，安琢也已经一天没见妈\n妈了，此时我的优先级自然低。唉，他妈妈苦恼于整天太黏她，不让她歇一会儿。而我则苦\n恼于整天不黏我……\n</div>\n\n<div class=\"diary\" rel=\"20120629\">\n<h3>6.29（五）工作岗位即将变动，有点失落 + 新本领：自己站起来</h3>\n<img src=\"/img/page/2012/life.20120629.jpg\" style=\"float:left;\" />\n上午被经理叫到办公室。公司在经三路那边租了个写字楼，由于面积过大，公司准备分割成\n两个区域。一个作为公司新环境，另一个准备做些副业。经理说他准备加盟个英语培训班，\n接下来准备让我负责这块工作。听后第一反应就是以后可能再也没有大把时间花在 E-Order\n应用上了（这个消息直接导致自己剩下的半天都不知所措，好像瞬间失去了目标）！\n经理对这块工作的期望是不期望赚大钱，能维持正常运转、把房租钱贴补出来就行了。\n公司这么做一方面是想把那块地方利用起来，另外近段时间来主业效益不好可能也是原因之\n一。<br><br>\n\n人面对突然的变化的第一反应往往是不安，但静下来想想暂时也没有更好的对策，索性随遇\n而安。记得李敖讲过一句话，大致意思是每个地方（环境）都有它特殊的好处。对照当前的\n情况，发现工作的变动也不是没有一点好处。这样一想，心里倒是平静了一些：\n<ol><li>\n锻炼自己的适应能力。假如这个培训学校真的顺利运转起来，自己工作的重心更多的将是管\n理方面，而这是自己之前没有经历过的。再进一步，假如未来自己真的跟着炎生哥干了。\n那时面对的境遇和现在十分类似：所从事的工作都和自己的喜好（写代码）不相干；\n工作的内容也都是自己之前未涉足的。现在趁此机会刚好可以借机提前适应一番；\n</li><li>\n锻炼沟通能力。新岗位少不了跟人打交道，可以借机锻炼自己的表达、沟通能力；\n</li><li>\n更高效的利用时间。现在工作整体上比较松散的，基本没有紧迫感（E-Order 应用中 Bug \n修复、新功能添加没有时间要求，想什么时候做什么时候做），这导致对上班时间的利用率\n不够高效。新岗位必然会占据大部分上班时间，这时要想完善 E-Order 就需要挤时间了，\n用更少的时间来完成同样的任务；\n</li></ol>\n\n晚上安琢在门口路上反复重复一个动作：先坐在地上，再站起来。看着他两手按地、\n撅着屁股吃力站起来的样子真是有趣。小伙子又学会了一样本领。\n</div>\n\n<div class=\"diary\" rel=\"20120630\">\n<h3>6.30（六）父亲明天去查前列腺 + 使用 rm -rf 命令导致笔记本数据丢失！</h3>\n上班期间把客户发货地址和快递公司分部地址的删除功能完成。<br><br>\n\n快下班时大姐打电话说她给母亲打电话没人接，让我回去给母亲说她下礼拜要去文安，父亲\n要是去检查身体了只能等到下下星期了。几句话说的我一头雾水，问后才知道原来母亲今天\n可能给哥打电话说父亲小便很费劲，而且尿的颜色有些泛红。哥的意思是让去医院检查一下\n，小病的话及时治疗也就好了，别等到耗成大病了在治就费事了。大姐继上周给我说过不行\n再在家里买个空调后在电话里又说了一次，我嘴上说没必要，住在上屋就行了。挂了电话想\n想有点不对，大姐的意思其实不是怕我们仨热，而是担心安琢睡在上屋后晚上父亲起来开灯\n时母亲因为会担心把安琢吵醒而说父亲。想到这才发现大姐第一次说买空调时自己没有想到\n这一点。但考虑到再新买个空调实在没必要，忽然一想，干脆把政法街的空调移到家里算了\n。下班后在大海寺路上找到一个移空调的，问过价格后，准备明天把空调移回家。<br><br>\n\n晚上二姐打电话过来说干脆明天去医院检查一下算了。想想也是，大姐正忙，我骑着三轮车\n带着父亲和二姐也能到医院给他检查一下。这样一看，明天的事情还不少：\n<ol><li>\n早晨给父亲测血糖；\n</li><li>\n到医院检查身体；\n</li><li>\n移空调，估计还得架线（老家屋里电线太细）；\n</li><li>\n买面；\n</li></ol>\n\n左晚上写完日记后备份数据时又把 \'npu\', \'nup\' 两个命令用反了。刚才恢复后直接用命令\ntrm -rf www/ 把原来目录删除了，删后突然发现优盘里备份的 www/ 目录仅仅是 E-Order\n和 p/ 目录下的内容，刚才的删除命令把保存在笔记本上的数据都删除了！！记得在网上曾\n看到一个 Linux 使用经验，内容就是无论什么时候都不要使用 rm -rf 命令，此时此刻，\n切身体会到这话的含义了……<br><br>\n\n晚上吃完饺子看着安琢在门口路上玩，我把新买的三轮童车放倒让安琢转轱辘，小家伙边转\n嘴上边喊。期间还抓拍到他撒尿的瞬间，哈哈。\n</div>\n\n<div class=\"diary\" rel=\"20120701\">\n<h3>7.1（日）父亲检查身体 + 空调移机 + 客户电话里为什么会先问\"怎么称呼“</h3>\n早上带着父亲到县医院时不到 8:30, 医院里却已是人头攒动。\n给二姐打电话约好在一楼大厅碰头。我和父亲在去门诊楼后门碰见荆楠和张競文，之后又碰\n到荆一，二姐早已开始在泌尿科排队让医生开化验单了。交完钱后先让父亲抽血，抽血过程\n中的一个细节体现出二姐的细心。二姐交的钱中一共有四项：血常规、肝功能检测、\n尿液检测和彩超，出了彩超是在二楼外，其余三项都是在一楼检验室。我把二姐给我的交费\n小条都递给了抽血的人。二姐过来说应该还有个彩超的条子该给我们、我们已经交过钱了，\n那医生又看了看说上面彩超的交费项目没有打印上……晕，<b>自己真是粗心啊</b>，\n要不是二姐，这彩超的钱岂不要交两次？！以后可得注意了，\n检查哪一项就给哪一项的小条，像这次一股脑儿把小条都给他们，\n等发现了回过头来找他们，谁理你？！抽完血，张競文去买了点吃的和三瓶水，\n让父亲赶紧补充一下，刚才抽血抽了好大一管儿。二姐买三瓶水是让父亲憋尿用的，\n我却不解风情地自己喝了起来！一会儿，父亲说想上厕所，我赶紧跟着他到厕所取尿样，\n取完后，我跟父亲说直接解完算了，因为我害怕在医院里控制不住。\n出来二姐跟我说你这可好，小便解完了要等到什么时候才能做彩超？没有经验啊，\n静耽误事儿。父亲做完彩超又要大便，我跟着他到厕所。平常父亲在家都有专门的凳子，\n医院里没有，只能完全蹲下去，父亲显得很费劲。结束后准备站起来时，\n父亲的左手一直抓着墙上一个把手，由于把手位置很低，加上还要下两个台阶，\n父亲迟迟不迈脚下。我拍着墙壁示意父亲手扶着墙往下下，而不是手一直抓着那个位置靠下\n的把手。旁边有个人说你不要催他，抓着把手稳。一句话显得我是那么不理解父亲。\n好在最后的检查结果都无大碍，我带着父亲赶在 12:00 前回到家。<br><br>\n\n在医院时接到昨天找那个移空调的人的电话，电话里他问我有没有车拉空调，我说昨天不是\n说好了 120 全部搞定吗，他是他们没有车，而且太远，他们需要自己租车。我一听就急了\n，以后<b>跟陌生人打交道真是得把丑话说到前头</b>啊，不过也怪自己没有问清楚。\n最后二姐找了个熟人答应下午去移空调。等我找到人家、坐着他们的车走到政法街口儿时，\n突然发现自己没有带钥匙！粗心！只能到下午了。\n</div>\n',NULL,1,1,'N',0,'util.js','2012-06-25 08:22:05','2014-02-27 13:20:21'),(179,'W27','<div class=\"diary\" rel=\"20120702\">\n<h3>7.2（一）母亲辛苦！</h3>\n母亲身上的忍耐力让我敬佩。每天都要照顾父亲、照顾安琢、给全家人做饭、洗衣服，\n数她最为辛苦，但从未见她说过，手上永远都有干不完的活儿。相比较而言，自己感觉到的\n“累”又算得了什么。\n</div>\n\n<div class=\"diary\" rel=\"20120703\">\n<h3>7.3（二）厉害的博客 apt-blog.net</h3>\n上午无意间脑子里有想起了“把 WordPress 编辑框和 Vim 联系起来”的想法，搜索后发现\nVim 官网上还真有这么个插件。在查看插件作者个人网站时发现作者竟然是个中国人，\n于是花费几个小时浏览这个网站。看后有两点让我很吃惊：一是这人 2010 年才从广州大学\n毕业，但 Unix/Linux 方面的知识非常渊博；二是博客行文流畅、表达清晰而有条理\n，让我心生羡慕之情。\n</div>\n\n<div class=\"diary\" rel=\"20120704\">\n<h3>7.4（三）拉肚子改喝一天米粉</h3>\n<img src=\"/img/page/2012/life.20120704.jpg\" style=\"float:left;\" />\n最近几天安琢老是拉肚子。母亲说昨天一天拉了好几次，而且经常拉出奶把儿，母亲怀疑是\n新买的奶粉有问题。金艳这次一口气买了一箱（16 袋），要是果真是奶粉的事情就麻烦了\n，到时候想退都难。不管是不是奶粉的事，母亲说半夜先喂安琢点米粉，把奶粉停了看看再\n说。凌晨两点多安琢闹着要吃东西，眼一直望着他的奶瓶。等我去厨房沏好米粉、端过来喂\n他的时候，他直接把头一扭，眼睛看着奶瓶继续闹。估计是他已经养成了习惯，知道奶瓶能\n解决他的“温饱问题”。我只好把奶瓶里倒了点温水、里面兑了点葡萄糖后再递给他，这回算\n是安静地喝了起来。中间我趁机再喂他几口米粉，忙活了一阵后，总算是又睡着了。\n<br><br>\n白天断断续续下了一天的雨。晚上吃完饭，母亲说让安琢出去玩一会儿，都在家憋了一天了\n。门口有很多小水坑，安琢站在水坑里别提有多高兴。\n</div>\n<div class=\"cf\"></div>\n\n<div class=\"diary\" rel=\"20120705\">\n<h3>7.5（四）拉肚子真让人郁闷 + 测身高 77CM</h3>\n<img src=\"/img/page/2012/life.20120705.jpg\" style=\"float:left;\" />\n在半夜喝了一次米粉后，昨天一整天安琢都没有拉臭。想着肚子好点了，昨晚上继续让他喝\n奶粉。为了避免之前罐里奶粉是拉肚子的“元凶”，我直接把剩下的都倒掉、重新又打开一包\n。没想到 3:00am 左右安琢又拉了，看着还是有点稀。6:00 AM 早上全家人都起来后又拉了\n一次，这次依稀还是能看到类似奶半儿的东西，真是郁闷！<br><br>\n\n上午李艳到我们办公室闲聊，搞的经理不在的最后一上午工作没进展多少。聊天过程中，\n我跟李说了自己家庭方面的很多事情。事后想想自己是不是过于“坦荡”了？有些事情还是不\n要讲得太清为好。<br><br>\n\n中午吃完饭到万达沃尔玛买了盒惠氏奶粉，看看换个牌子后会不会好些。下班吃饭后没事想\n给安琢量量身高，安琢现在跟大门口的乒乓球台高度差不多。我拿了个母亲做衣服用的软尺\n量了下乒乓球台的高度是 77CM, 这也是安琢的大致身高。我这边量着乒乓球台，金艳准备\n喂安琢吃饭，母亲则在一旁给他扇扇子，生怕蚊子咬他。安琢看见我受里的软尺非要，我递\n给他后他变往嘴里塞，母亲还在一旁说我不应该在他吃饭的时候给他尺子云云。<br><br>\n\n晚上睡前准备让安琢喝新买的奶粉。为了排除一切人为因素，这次严格按包装上的沏奶过程\n执行：1. 把奶瓶在水中煮沸；2. 把手洗净；3.把温水倒入奶瓶；4.将奶粉倒入奶瓶；\n5. 搅拌均匀。等到所有工序做完、把奶瓶递给他时，安琢喝了估计有一多半就睡着了。\n</div>\n\n<div class=\"diary\" rel=\"20120706\">\n<h3>7.6（五）故意吓大人</h3>\n<img src=\"/img/page/2012/life.20120706.jpg\" style=\"float:left;\" />\n早上不到六点金艳就把安琢穿好衣服抱了出来，不一会儿就拉臭了，这回颜色发黄、仍有点\n稀，最重要的是看不到明显的奶半儿了！但愿就此打住，别在折腾。<br><br>\n\n晚上吃完饭全家人坐到大门口路上凉快，安琢在周围走来走去。安琢站立不动时上半身有时\n突然会向后仰，感觉要摔倒一样，搞得大家很是紧张。他看到我们虚惊一场的表情后开始\n故意“吓我们”，站着不动的时候突然腿弯曲一下，然后咯咯笑笑。晚上另外一个本领是会\n故意撅嘴。\n</div>\n\n<div class=\"diary\" rel=\"20120707\">\n<h3>7.7（六）两个模块终完工</h3>\n在解决样品自动添加和单价可为空两类客户的问题后，自己进入“暂时性目标迷失“状态。\n</div>\n<img src=\"/img/page/2012/life.20120707.jpg\" style=\"float:left;\" />\n\n<div class=\"diary\" rel=\"20120708\">\n<h3>7.8（日）</h3>\n预报今天有中雨，犹豫今天去不去安琢姥姥家。7:30AM 先去买袋面粉（六〇面，78.00元）\n。\n</div>\n<img src=\"/img/page/2012/life.20120708.jpg\" style=\"float:left;\" />\n',NULL,1,1,'N',0,'util.js','2012-07-02 07:47:20','2014-02-27 13:20:21'),(180,'E-Order V0.0.18 Change Log','<h3>待办</h3><!--TODO-->\n<ol><li>\n<s>重复客户合并功能；(Jul 3, 2012)</s>\n</li><li>\n<s>销售提交订单后，要求将粒度归类到十大分类中；</s>\n</li><li>\n<s>客户信息中添加部门、职务信息，以便在需要的时候（如拜访客户）找对人；</s>\n</li><li>\n如何快速找出备注中含有“二次处理”字样的订单？高级搜索功能\n</li><li>\n加入“收件箱”功能。以便于各成员快速得知系统更新内容；\n</li><li>\n<tt>om_dispatch.bill_type, om_dispatch.payment_way</tt> 两列存在非法值情况：\n本应为<tt>NULL</tt>的存储的却为空格字符； (Jun 30,2012)\n</li><li>\n月末节余及次月初库存仍为人工输入，需程序化； (Jun/30/2012)\n</li><li>\n<s>强制输入单价：用户可能重复提交一个特殊客户，柘城李福合。</s>\n</li><li>\n汉字排序不能识别特殊字；\n</li><li>\n<s><tt>om_term_taxonomy</tt>表中存有不适合放置于此的数据，比如美元汇率，\n这类内容实际属于简单的键值对儿，可简借鉴 WordPress 中存储属性的表格设计方法；</s>\n</li><li>\n将国家表加上“可视”的属性，可以仅显示那些已选中的国家，因为有太多的国家<b>根本用不到</b>\n(Jul 14, 2012)\n</li><li>\n快递单打印程序：汉字横线部分打印不清晰，原因不知 (Jul 17, 2012)\n</li><li>\n<s>单笔结算订单在财务授权后修改订单的问题 (Jul 18, 2012)</s>\n</li><li>\n<s>厂区打印历史精简订单的需求 (Jul 19, 2012)</s>\n</li><li>\n用户体验优化：新客户，不知道单价， (Jul 19, 2012)\n</li><li>\n<s>现金管理：1. 公司预付应具有删除功能，出纳可能输错价格；\n2. 现金付款可能误点，应有取消功能；(Jul 24,2012)</s>\n</li><li>\n<s>变量 $g_id, $g_user 等可以在用户登录成功后根据 user id 实例化 User 类；\n(Aug 1,2012)</s>\n</li><li>\n<s>更改产品类别（如将微粉改为研磨膏）是<b>修改订单中最常见的操作</b>；\n(Aug 1,2012)</s>\n</li><li>\n代码中的 Hardcode 部分：国内、外销售id 数组（md.class.user.php)；\n</li></ol>\n\n<h3>［细节改善］每次发货都带样品的特殊客户问题 (2012.7.4/三)</h3>\n常兴和上海日腾中这两个客户每次订货都要为所订粒度附加 10cts 和 20cts 的样品用于\n检测，已经在公司和厂区内形成“不成文规定“。销售人员在创建订单时经常忘记添加样品，\n这将导致系统库存不准确。为此创建一个名为“样品自动填充客户列表”，将客户 id \n及免费样品数量存入表<tt>om_term_taxonomy</tt>中。销售在下单时，若选择的是这类\n客户，将在货物明细区域下方显示自动添加样品的信息，用户也可以取消自动添加。\n<br><br>\n建表<tt>om_option</tt>,将<tt>om_term_taxonomy</tt>中不适合放在表中几个记录迁移，\n这包括初审金额下限值、复审金额下限值和现金余额提醒下限值。同时修改相应代码，\n以保证数据迁移后程序正常运行。同时将这类客户的 id, 免费样品数量存储在表\n<tt>om_term_taxonomy</tt>中；在客户管理页面添加两个模块：\n免输单价客户列表和自动添加样品客户列表。\n<br><br>\n小问题：如果<b>修改样品自动填充客户的订单</b>则暂不能自动添加。\n\n<h3>［用户体验］创建订单时添加、删除货物的问题 (2012.7.4/三)</h3>\n<img src=\"/img/page/2012/snap.20120704-1.png\" style=\"float:left;\" />\n<img src=\"/img/page/2012/snap.20120707.png\" style=\"float:left;\" />\n范苗询问一个看似简单的问题：怎么把新建/修改订单页面中<b>最后一行</b>货物删掉\n（左图）？我随口说再添加一行，再把那一行删掉，但货物已经添加完毕，\n已不需继续添加……自己意识到这里的问题：“继续添加”按钮的用户体验太差，\n用户不能很容易的完成添加、删除工作。<br><br>\n\n改进：参照手机联系人功能中添加联系方法的方法，将“继续添加”按钮作为单独一行放在最后一行，\n货物行每一行都有删除按钮（效果见右图）。\n\n<h3>［实际需求］订单状态“快递在途”于“顺利抵达”之间还有个“运输异常”(2012.7.6/五)</h3>\n范苗来说了一个相当怪异的实际情况：一个单笔结算的客户订单货物被快递公司弄丢了，\n客户由于急着要货，需要重新发货。提交新订单时如果结算类型选择“单笔结算”，\n\n<h3>［新功能］退、换货 + 最迟交货日期(2012.7.9/一)</h3>\n<ol><li>\n退货单若存入表 om_orders 中， dispatch_id 无法保存；\n</li><li>\n换货的货物有可能是免费的（没有单价）；\n</li></ol>\n<h3>［细节改善］完善各个类文件(2012.7.10/二)</h3>\nDeprecated:\n<ol><li>\n<tt>om_get_dispatch_addr_str()</tt>, migrate into md.class.order.php\n</li><li>\n</li></ol>\n<h3>［细节改善］js.private.createorder.js (2012.7.11/三)</h3>\n<ol><li>\n通过 AJAX 传递到 PHP 的变量（$_POST 数组）数据类型只有一种：字符串。\n因此在写入数据库时必须进行格式转化，例如，地址 ID 号数据类型为 string, \n但在数据库中其类型为 int.\n<pre class=\"brush: php\">\necho \"&lt;p&gt;\".gettype($_POST[\'address_id\']).\"&lt;/p&gt;\"; // \'string\'\n</pre>\n</li><li>\nJS 中值类型为<tt>undefined</tt>的值通过 AJAX 传递到 $_POST 数组中的类型改变为\n<tt>NULL</tt>. 例如，若订单中第一个货物类型为微粉，那么变量\n<tt>od[\'solute0\']</tt>\n<pre class=\"brush: javascript\">\nod[\"solute0\"] = $(\'select[name=solute\'+i+\'] option:selected\').val();\n</pre>\n值类型为<tt>undefined</tt>, 传递到 $_POST 中则为<tt>NULL</tt>:\n<pre class=\"brush: php\">\necho \"&lt;p&gt;\".gettype($_POST[\'solute0\']).\"&lt;/p&gt;\"; // NULL\n</pre>\n</li></ol>\n\n<h3>［细节完善］修改订单模块(2012.7.14/六)</h3>\n<ol><li>\n确保 editorderform.php 中没有调用 md.template.php 中自定义函数（移除\nom_get_dispatch_addr_str(),om_mk_dispatch_addr_radio_btn() 两个函数），\n同时将该页面中PHP 代码数量降至最小，以减少 SQL 查询数；\n</li><li>\n实践表明：生成客户发货地址按钮的方法应放在公司类中，而非订单类中。此外，\n该按钮仅在创建订单和修改订单两个位置使用；\n</li><li>\n利用 jQuery 的<tt>clone()</tt>方法将创建客户/发货地址模块的国家选择菜单变二为一\n，此菜单非常占用空间。进一步：将国家表加上“可视”的属性，可以仅显示那些已选中的\n国家，因为有太多的国家<b>根本用不到</b>。\n</li></ol>\n\n<h3>［Bug Fixed］日元单价大于10时数据存入却为 9.9999 (2012.7.14/六)</h3>\n<img src=\"/img/page/2012/snap.20120714.goods-uprice-precision-bug.png\" style=\"float:left;\" />\n有个货物单价折合日元为 JP&yen;14/ct, 客户订了 5,000cts, \n存储后查看订单发现实际单价为 JP&yen;9.9999/ct, 订单总金额为JP&yen;70,000.00.\n<br><br>\n<b>原因：</b><tt>om_goods.uprice</tt>数据类型为<tt>DECIMAL(5.4)</tt>, 也就是说，\n可存储的最大值为<tt>9.9999</tt>（小数点左边 1 位，右边 4 位），\n根据订单金额可推算当时输入的单价应为<tt>14</tt>,由于超出数据类型范围，\n因此 MySQL <b>保存允许的最大值</b>。\n<br><br>\n<b>解决:</b>小数点左边精度调大一位。<a href=\"v.php?name=110715-php-e-order-app-create-log.php#20120319\">今年三月</a>\n曾经因为美元因素而将精度由 DECIMAL(5,2) \n调整至 DECIMAL(5,4), 这次又遇到日元的问题，上次是小数点右边精度不够，\n这次是小数点左边精度不够。\n<pre class=\"brush: sql\">\n$db-&gt;query(\"ALTER TABLE om_goods CHANGE uprice uprice DECIMAL(6,4) DEFAULT NULL\");\n</pre>\n\n<h3>［代码改进］将所有涉及 SQL 操作迁移至各个类中(2012.7.18/三)</h3>\n<ol><li>\nmd.array-var.php 中那些<tt>$g_*</tt>变量知道放在哪里了——各自类中。例如\n<tt>$g_status</tt>数组变量主要用于将数据库中的英文字符串转化为易读的汉字字符。\n将其存储在 md.class.order.php 文件后，我们可以在任意位置通过如下方法使用：\n<pre class=\"brush: php\">\n$omorder-&gt;status[\'unpaid\'];	// 尚未到帐\n</pre>\n</li><li>\n<s><tt>om_mk_orders_table()</tt></s>, \n移至<tt>YalongOrderClass.cmn_get_order_result_table()</tt>.\n</li><li>\n本阶段目的是将所有 SQL 相关代码都迁移至类文件中，“款额未到/等待备货“模块中出库\n按钮中有提货人、经办人属此情况，这个放到哪个类中？暂时放到订单类中；\n</li></ol>\n\n<h3>［实际需求］单笔结算订单在财务授权后修改订单的问题(2012.7.18/三)</h3>\n冯璐有个客户（台湾许大雄）发货地址本来是香港，客户汇款 150 元，其中 60 为货款，\n90 为运费。现在客户想让把货物发到上海，把 90 元运费中剩下的都变成货物。\n这涉及到<b>单笔结算订单在财务授权后修改订单的问题</b>。\n<br><br>\n其实只要<b>不修改货物单价、数量</b>等关键信息，其它诸如产品类别、\n发货地址之类的是可以修改的，而且需求经常出现。\n<h3>［待办］所有函数或类方法中一律使用 return 语句, 禁止使用 echo 语句(2012.7.19/四)</h3>\n<tt>om_mk_table_header()</tt>函数内还是不要出现 echo 语句而都使用传统的 return\n语句为好。以如下代码为例，此函数放在两个 echo 语句中间，将不得不使用三个 echo\n语句，因而不能达到输出页面的最小化；\n<pre class=\"brush: php\">\n// Snippet in module/sale.ready-order.php\necho \"&lt;div id=\\\"readyOrdersDiv\\\"&gt;\";\nom_mk_table_header(\'\',$cols,\'\');\nforeach ($rst as $r) {\n	echo \"&lt;tr class=\\\"record\\\"&gt;\";\n	...\n}\n// Better way\n$opt.= \"&lt;div id=\\\"readyOrdersDiv\\\"&gt;\";\n$opt.= om_mk_table_header(\'\',$cols,\'\');\nforeach ($rst as $r) {\n	$opt.= \"&lt;tr class=\\\"record\\\"&gt;\";\n	...\n}\necho $opt;\n</pre>\n<h3>［首页优化 + 新需求］厂区订单出库后仍可能打印精简订单(2012.7.19/四)</h3>\n<ol><li>\n工厂近几天不能上网，销售需要登录厂区帐户代操作，无奈公司网速超慢，等得人抓狂！\n必须优先优化首页了！将首页载入大小降到最低！！\n</li><li>\n当销售代厂区进行出库操作时，厂区要求把精简订单也打印出来，因为货物进行出库操作后\n将不能打印精简订单。这个和打印发货清单的情形类似，需具有打印历史精简订单的功能。\n</li><li>\n创建订单（陈永雄）提示单价不可为空处过于“生硬”，要改进；\n</li></ol>\n\n<h3>［改善首页性能］Minify: 压缩 JS 文件大小(2012.7.20/五)</h3>\n<ol><li>\n关于网页性能的文章: http://developer.yahoo.com/performance/rules.html\n</li><li>\nGoogle\'s: https://developers.google.com/speed/docs/best-practices/payload\n</li><li>\njs.jquery.* 好像不能放在使用 Minify;\n</li><li>\n将 jquery, boxy, tools, qtip, autocomplete 放在一个文件内，减少请求次数；\n</li></ol>\n\n<h3>［改善首页性能之二］将分散在各地的 JS 代码重新汇总(2012.7.21/六)</h3>\n<ol><li>\n“订单管理页面永远也不会进行费用申请操作。”所以将费用申请的 JS 代码放进\njs.public.customer-functions.php 文件中的想法不够好。\n<br>\n<b>Update (Aug 1, 2012):</b>实际情况是只有首页和费用申请页两个地方会用到，\n若不放到 js.public.customer-functions.php 中、分别在两个页面不利于将来维护，\n所以还是放进去；\n</li><li>\n每一个模块其实有两个属性：所属用户角色组和所属页面组。换句话说，\n当一个用户登录时，他有权限使用的所有模块及该模块出现的页面信息都已确定。\n</li><li>\n跟<tt>$private_js_file</tt>说再见：\n</li></ol>\n\n<h3>［一周回顾 W29］(2012.7.15 - 7.22)</h3>\n待办：\n<ol><li>\n开放销售修改“顺利抵达”的订单的功能，但要对关键项目（单价、数量）进行限制；\n</li><li>\n<tt>md.array-var.php</tt>中<tt>$g_*</tt>变量也可以迁移至各个类中；\n</li><li>\n为加快页面载入速度，使用 PHP 生成 HTML 内容时，应尽可能少出现换行、制表等符号，\n这就要求所有方法中统一使用 return 语句，而不是 echo 语句；\n</li><li>\n厂区应可以打印任何订单的精简订单；\n</li></ol>\n将 Minify Project 引入 E-Order 中；\n\n<h3>［Minify 各模块中的 JS 代码］(2012.7.23/一)</h3>\n<ol><li>\n将各模块中 JS 代码重新迁移至各页面顶端的<tt>js.private.PAGENAME.js</tt>中；\n</li><li>\n</li></ol>\n<h3>［实际情况］“抢客户“的情况 (2012.7.24/二)</h3>\n下午任的一个客户被“抢走了”。事情大致经过如下：任和该客户之前已接触过，\n并发免费样品给此客户，但该客户订货时不知为何没有直接联系任，\n而是打到公司另外一部主销售电话上，最后由林下的单。\n公司目前对销售人员进行销售提成，因此任的这个客户所订的这单货的提成就算在林上了，\n用任的话说，叫“忙活半天，给别人做了一锅热饭”。\n<br><br>\n在和客户（尤其是新客户）沟通的过程中，确保与此客户沟通销售人员的唯一性非常重要。\n拿此次任这个客户为例：任和该客户已经沟通过多次，而且也谈好了一些细节，\n当客户电话打给另一个销售人员时，任之前的沟通都可能白费，客户还得与新销售重新沟通\n，浪费了不少口舌，效率也降低下来，在销售人员工资按提成计算的情况下，\n还有可能在两个销售人员之间产生摩擦。\n这里的关键是要建立一项销售人员与客户沟通的制度，确保客户和销售之间是一对一的。\n这里的另一个情况是：销售人员可能经常流动，这就出现不同的销售人员服务同一个客户，\n这就需要做好工作交接情况，确保新销售人员像上任销售那样能够流畅地跟老客户沟通，\n所以公司销售人员的邮箱最好能够统一——不使用员工的名字，而是使用诸如\"sale@*\"格式，\n避免客户记忆多个邮件地址。角色互换的情况：中企动力的销售曾多次打电话给我，\n但方式不好，让我感觉很反感。\n\n<h3>［Bug Fixed］发货时选择到付单时被要求必须选择结算类型(2012.7.25/三)</h3>\n提交发货信息的 bug: 选择到付单时，提示必须输入快递单类型；\n\n<h3>［实际需求］“经理付款”的费用申请类型(2012.7.25/三)</h3>\n申请费用：出纳建议“申请费用类型“项中添加“经理付款”一项，\n因为存在员工越过出纳，直接找经理要钱的情况；\n<br><br>\nAug 3, 2012 完成；\n<pre class=\"brush: php\">\n$db-&gt;query(\"ALTER TABLE om_expense_history CHANGE type type ENUM(\'cash\',\'bank_transfer\',\'credit_card\',\'by_manager\') DEFAULT NULL\");\n</pre>\n<b>Aug 7: 没上面那么简单</b>\n<br><br>\n原先设计的费用申请会计、出纳、经理三级审核逻辑<b>在实际中并不实用</b>，\n这是因为很多公司内部会计和出纳是同一个人，而经理不愿理会这些日常申请的复审工作。\n<ul><li>\n只有现金类型（且大于初审下限）的申请才需要会计初审，因为银行转帐最终需要经理在网\n上授权；信用卡消费后费用会发送到手机；经理直接付款就更不用说，经理本人肯定知道。\n从上面可看出<b>初审的作用：避免只有申请人和出纳两个人完成申请，\n必须再有一个第三方。</b>\n</li><li>\n\n</li></ul>\n\n<h3>［用户体验］登录系统页面密码输入错误时不够人性化(2012.7.25/三)</h3>\n登录不够人性化：曲说系统出问题了，每次登录后又重返登录界面，\n那是因为他打开了大小写的原因；\n<br><br>\nUpdate Aug 3, 2012: 已借用 AJAX, Minify 两项技术优化此页面；\n<h3>［实际需求］公司预付款的删除功能 + 取消现金付款的功能(2012.8.1/三)</h3>\n场景：\n<ol><li>\n公司预付现金出纳<b>可能输错金额，应具有删除功能</b> (Jul 24)\n<pre>\nwatermelon 09:28:52: 我刚刚提交了个5000元   \nwatermelon 09:29:05: 我金额写错了 是5万  \n</pre>\n\n</li><li>\n<pre>\nwatermelon 17:35:25:\n刚才我付款一个80元  \nwatermelon 17:35:52:\n你能不能给我返回去  我点错了  还没有付款 \nwatermelon 17:38:30:\n小林之前提交的   我一直没有付款   \nwatermelon 17:38:33:\n今天点错了 \n</pre>\n</li><li>\n</li></ol>\n思考、完工: Aug 6\n<ul><li>\n修改功能是各模块中的一个基本要素，因为用户在使用中经常会出现误操作的情况，\n公司预付现金时多输入个零、现金付款时会把本没有付款的项目付款、提交订单时会把\n产品类别选择错误等等。所以此功能必须要有，只是修改时要进行限制。\n</li><li>\n对出纳来说，申请费用付款误操作通常时把没付款的点成付款的（申请子单状态变化），\n<b>不存在像公司预付中金额错误的情况。</b>因此这里的 Undo 操作就是把\nom_expense_history 表中 \'cashier_id\', \'pay_time\' 这两列设置为 \'NULL\', 同时将\n子单 status 调整为<s>上一个状态值</s>初始状态值（判断会计是否初审太麻烦，\n直接根据金额大小返回至相应初始值，如果会计已初审，让其重新审核）；\n</li><li>\n出纳的这两个 Undo 需求都发生在系统中现金数和实际数不一致的情况下，银行转帐和\n承兑不存在误操作的情况。\n</li><li>\n公司预付、其它收入以及订单现金收入部分三个现金入柜项删除、修改功能应区别对待：\n其它收入和订单现金收入涉及 om_revenue, om_cashflow 两个表；\n“公司预付”相比较简单，仅涉及 om_cashflow 一个表；\n</li></ul>\n\n<h3>［速度提升］使用 Minify 精简 JS 代码工作结束 (2012.8.2/四)</h3>\n<ol><li>\n</li><li>\n</li></ol>\n\n<h3>［版本收尾工作］(2012.8.3/五)</h3>\n<ol><li>\n借用 AJAX, Mifity 优化 login.php 页面，放弃之前原始的表单方式；\n</li><li>\n添加“经理付款”申请类型；\n</li><li>\n出库模块内添加“打印精简订单”的图标，\n</li><li>\n放开销售修改所有订单的权限；\n</li><li>\n将 md.array-vars.php 中所有变量迁移至各个类中并删除该文件；\n优化 md.navi.php 页面；\n(Aug 4, 2012)\n</li></ol>\n\n<h3>［实际需求］每次提交订单后将粒度归为十大分类 (2012.8.7 16:13/二)</h3>\n<ol><li>\n&radic; 粒度名称在存入数据库前务必去除两端的空格字符，因为在已有的数据中发现此现象；\n</li><li>\n<tt>&radic; om_products</tt>中有 product_size 值为空的记录，\n在确保没有订单使用该产品的情况下先删除之；\n</li><li>\nDone: 修改订单也需要改动，因为在修改过程中也可能创建一个非标粒度；\n</li></ol>\n\n<h3>［实际需求］生成按粒度月报表 (2012.8.7/二)</h3>\n可以发力（Aug 9 完成）：\n<pre>\n□╭右岸桃花 2012-08-07 15:38:32:\n咱的系统能自动生成这样的表格么，所有卖出去的粒度按粒度大小自动排列 \n□╭右岸桃花 2012-08-07 15:40:17:\n如果可以，千万不敢告诉小任和刘森，不然非灭了我。。。 \n</pre>\n思路：\n<ol><li>\n\n</li><li>\n</li></ol>\n\n<h3>［Bug Fixed］协议结算授权的订单列表中竟出现单笔结算的订单 (2012.8.8/三)</h3>\n<pre class=\"brush:php\">\n// in md.ajax-pipe.php\ncase \'get_month_agree_auth_div\':\n$customer_name = db_var(\'full_name\',\'om_companies\',\'company_id\',$_POST[\'customer_id\']);\n$orders = $db-&gt;get_results(\"\n	 SELECT order_id ,currency ,charge, c_time\n	 FROM om_orders\n	 WHERE is_paid = 0\n	 AND (payment_way = \'month\' OR payment_way = \'agreement\') // 漏掉关键行\n	 AND customer_id = \".$_POST[\'customer_id\'].\"\n	 ORDER BY c_time ASC\n\");\n</pre>\n\n<h3>［功能完善］产品管理：修改每个粒度(2012.8.10/五)</h3>\n<ol><li>\n7:40 AM: 更新远端服务器，可生成全年粒度销量报表，但无修改产品粒度功能；\n</li><li>\n用户辛苦输入的数据竟没有保存上，这简直是一场灾难！在生成粒度销售年度总表之前，\n需要先将非标准粒度归类，销售人员在填写了近一百多个粒度后保存时发现无法提交！\n晚上查看代码发现保存事件代码片段被注释掉了！！由于自己的粗心导致销售白忙一场！\n检讨：\n	<ol><li>\n	不应该全部显示出来，而是应该一次显示 10 条记录慢慢改，这样一旦出现问题后\n	可以将无用功降到最低；\n	</li><li>\n	也正是因为把所有非标粒度都显示出来，所以自己没有实际去实验！加上个\n	<tt>LIMIT 10</tt>不就啥事也没有了吗\n	</li></ol>\n</li><li>\nAug 11, 8:30 修复昨天的 Bug, 顺便加上修改粒度分类功能；\n</li></ol>\n\n<h2>总结 Aug/3/2012</h2>\n<ol><li>\n<b>数据库结构、文件结构：</b><br>\n	<ol><li>\n	新建表格<tt>om_option</tt>, 来存储一些属性。此表借鉴自 WordPress;\n	</li><li>\n	om_goods.uprice 类型由 DECIMAL(5,4) 改为 DECIMAL(6，4), \n	以应对货币为日元、单价大于 10 的情况；\n	</li><li>\n	新建通用类<tt>EOrderClass</tt>, 来放置那些不知道该归到那个类中的方法，\n	此类可算作 md.template-function.php 的升级版；\n	</li><li>\n	应出纳要求，添加费用申请“经理付款”项\n	</li><li>\n	新建产品类<tt>ProductClass</tt>, 在生成粒度年报表中使用；\n	</li></ol>\n</li><li>\n<b>通用：</b><br>\n	<ol><li>\n	将页面中所有数据库操作都整合到各个类文件中，便于将来数据库调整时修改代码\n	</li><li>\n	借用 AJAX 在 JS 和 PHP 之间传递变量时有一些注意事项：1. JS 中的整数类型\n	传递给 PHP $_POST 变量后为字符型； 2. JS 中的变量 <tt>undefined</tt>\n	传递给 PHP 中类型为<tt>NULL</tt>, 而非字符串<tt>\'undefined\'</tt>;\n	</li><li>\n	在实践中体会到方法中使用 echo 语句而不是 return 语句的坏处；\n	</li><li>\n	借助 Minify 优化页面中 JS 代码；\n	</li><li>\n	优化登录页面（login.php）；\n	</li><li>\n	优化 md.array-vars.php\n	</li></ol>\n</li><li>\n<b>创建订单：</b><br>\n	<ol><li>\n	解决销售提交日腾中、常兴这类客户订单时忘记提交免费样品的问题，\n	外加管理可以不填单价的特殊客户的功能；\n	</li><li>\n	优化“继续添加“、”删除该行“两个按钮，使得删除货物更加好用；\n	</li><li>\n	若订单中包含非标准粒度，则弹出窗口要求分类；\n	</li></ol>\n</li><li>\n<b>修改订单：</b><br>\n	<ol><li>\n	借用 jQuery 的 clone() 方法将本页面内重复的国家选择器 Entity 减少为一个,\n	并将此方法推广应用到其它页面；\n	</li><li>\n	财务授权到帐后的订单修改问题，她可能仅仅需要改动一下发货地址，\n	却不能独立完成；\n	</li><li>\n	放开销售修改已发货或顺利抵达的订单；\n	</li></ol>\n</li><li>\n<b>发货管理：</b><br>\n	<ol><li>\n	修复发货操作时的一个逻辑Bug: 若用户选择“到付单”时，必须选择“结算类型”；\n	</li><li>\n	</li></ol>\n</li><li>\n<b>产品管理：</b><br>\n	<ol><li>\n	加入修改产品粒度所属分类的情况；\n	</li></ol>\n</li><li>\n<b>出库管理：</b><br>\n	<ol><li>\n	添加“打印精简订单”的图标，使厂区可以打印任何订单的精简单；\n	</li><li>\n	</li></ol>\n</li><li>\n<b>现金管理：</b><br>\n	<ol><li>\n	增加“公司预付现金”修改、删除功能；\n	</li><li>\n	增加撤销“现金出柜”功能；\n	</li></ol>\n</li><li>\n<b>特殊的实际情况：</b><br>\n	<ol><li>\n	在订单状态“快递在途”和“顺利抵达”之间可能存在一些变数，比如快递公司可能会\n	把货物弄丢，如何在系统表现是个问题。由此延伸出<b>退、换货功能</b>，\n	初步想法是按照费用申请单的方式将 order 细分为 order_history;\n	</li><li>\n	</li></ol>\n</li></ol>\n',NULL,3,1,'Y',0,'util.js','2012-07-03 08:55:11','2014-02-27 13:20:21'),(181,'加快页面载入速度的两个方法','<h2>借助 jQuery clone() 函数复制模板，而不是使用 Echo 语句重复输出</h2>\n在完成“样品自动填充客户”和“单价为空客户”两个模块后，系统管理员的客户管理页面一共\n需加载五个模块：\n<pre class=\"brush: php\">\nrequire_once \'module/staff.quick-add-button-div.php\'; // 实际载入: \'staff.quick_add.root.php\'\nrequire_once \"module/sale.create-customer-and-address.php\";\nrequire_once \"module/sale.saler.customer-result-table.php\";\nrequire_once \"module/admin.sample-autofill-customer.php\";\nrequire_once \"module/admin.manage-empty-uprice-customer.php\";\n</pre>\n查看页面源文件发现里面的客户选择下拉菜单 Entity 共重复出现了四次，严重增加了页面\n体积。如果将这个下拉菜单减少为一个，会明显降低页面大小。<br><br>\n\n查看代码发现这四个下拉菜单的来源：\n<pre class=\"brush: php\">\n// module/staff.quick_add.root.php\n&lt;div id=\"combineCustomerDiv\" class=\"hide\" style=\"min-width:400px;\"&gt;\n&lt;p&gt;旧客户名称：&lt;?php om_mk_customer_select_box(\"customer_id_from\",false); ?&gt;&lt;/p&gt;//No.1\n&lt;p&gt;目标客户：&lt;?php om_mk_customer_select_box(\"customer_id_to\",false); ?&gt;&lt;/p&gt;//No.2\n&lt;/div&gt;\n\n// module/admin.sample-autofill-customer.php\n&lt;div class=\"tbCellR\"&gt;&lt;?php om_mk_customer_select_box(\"customer_id\",false); ?&gt;&lt;/div&gt; //No.3\n// module/admin.manage-empty-uprice-customer.php\n&lt;div class=\"tbCellR\"&gt;&lt;?php om_mk_customer_select_box(\"customer_id\",false); ?&gt;&lt;/div&gt; //No.4\n</pre>\n四个客户选择菜单均是通过模板函数<tt>om_mk_customer_select_box()</tt>输出的，\n区别仅仅是参数不同。其实完全没必要每个都输出，因为每次只会进行某一个操作\n（或合并客户，或添加样品自动填充客户、或添加单价为空客户），完全可以仅输出一次，\n然后当进行某一个操作时，<b>借助 jQuery 的 clone() 函数临时生成相应 Entity.</b>\n<br><br>\n过程简述：\n<ol><li>\n在 customer.php 页面顶部放置客户选择菜单模板，注意属性<tt>name</tt>的值为\n<tt>\'customer_id_template\'</tt>, 当模块需要该菜单时再根据需要修改 name 属性；\n<pre class=\"brush:xml\">\n&ltdiv class=\"hide\"&gt&lt?php om_mk_customer_select_box(\"customer_id_template\",false); ?&gt&lt/div&gt\n</pre>\n</li><li>\n将原来输出菜单的自定义函数移除，并在外层区块添加一个类名，以便 Clone 后定位；\n<pre class=\"brush:php\">\n&lt;div class=\"tbCellR customerSelectBoxEmptyUpriceD\"&gt;&lt;/div&gt;\n</pre>\n</li><li>\n当用户准备进行某项操作时，在使用<tt>boxy_input()</tt>弹出操作框之前将客户选择\n菜单生成；\n<pre class=\"brush:javascript\">\nvar customer_select_box_tmp = $(\'select[name=customer_id_template]\');\n$(\'.createEmptyUpriceCustomerL\').click(function(){\n        var wd = $(\'#createEmptyUpriceCustomerDiv\');\n        wd.find(\'.customerSelectBoxEmptyUpriceD\').empty();\n        customer_select_box_tmp.clone().appendTo(wd.find(\'.customerSelectBoxEmptyUpriceD\'));\n        wd.find(\'.customerSelectBoxEmptyUpriceD select\').attr(\'name\',\'customer_id\');\n	// ---------- 上面在准备生成下拉菜单 ------------\n        var bi = boxy_input(\'#createEmptyUpriceCustomerDiv\',\'新建一个单价允许为空的特殊客户\');\n	//...\n});\n</pre>\n</li></ol>\n成果展示：此方法将 HTML 输出内容大小减少了<tt>153316-118432=34,884</tt>字节\n（约 34K）。\n<pre class=\"tty\">\n-rw-r--r--  1 ts ts 153316 2012-07-07 08:44 customer.opt.default.txt\n-rw-r--r--  1 ts ts 118432 2012-07-07 10:27 customer.opt.clone-select-box.txt\n</pre>\n<h2>节约使用 echo 语句：把内容整体存入字符串后一次性输出</h2>\n通过删除输出内容中的空格、换行符、制表符（均占用一个字节）可以减小输出内容。\njQuery 的 min 版本、CSS 的 min 版本都是利用此方法。在最常见的输出结果结果表格的\n代码中，连生成一个单元格都使用一次 echo 语句，其实完全可以先把整个表格存入字符串\n、最后再使用一次 echo 语句将该字符串打印出来即可。\n利用此方法可以将上面的代码再压缩约 1K 的体积。\n<pre class=\"tty\">\n-rw-r--r--  1 ts ts 118432 2012-07-07 10:27 customer.opt.clone-select-box.txt\n-rw-r--r--  1 ts ts 116912 2012-07-07 10:29 customer.opt.depreate-echo.txt\n</pre>\n',NULL,3,1,'N',0,'util.js','2012-07-07 08:54:16','2014-02-27 13:20:21'),(182,'Life in W28 2012','<div class=\"diary\" rel=\"20120709\">\n<h3>7.9（一）微博帐号被盗</h3>\n上午在微博上搜索“安琢数据”，发现其个性域名竟然是 \'http://www.weibo.com/drodata\',\n联想之前网易邮箱里曾出现大量垃圾邮件，自己终于意识到微博帐号被盗了！尝试找回密码\n后，果然在网易邮箱中发现新浪发过来的密码重置邮件。此次事件让自己开始意识到帐户的\n安全性，同时意识到自己最常用的密码 \'xingyang\' 已不能在经常登录的网站中使用。这次\n得亏是网易邮箱密码被盗后，盗取密码的人没有修改密码，不然就麻烦了。\n<br><br>\n今天下雨没有骑车，下午下班早出来一会赶上郑州至北邙的车，晚上七点就到家了。金艳还\n没有回来，先陪着安琢玩了一会儿。过了没多久，金艳也到家了，穿着黑色 T-shirt.\n安琢没反应过来。饭后推着安琢在门口路上跑得我一身臭汗。\n<br><br>\n父亲还惦记着那个“香菇一号”，晚上给他量血压时说明天上班到桐柏路 31 号三楼去买\n“香菇一号”，还说这是治脾的。唉，难道真如母亲所说的那样，父亲手里一有钱就要买药？\n</div>\n<div class=\"diary\" rel=\"20120710\">\n<h3>7.10（二）出门忘带钥匙 + 自己会把篮球放进三轮车后框里</h3>\n早上骑车到乔楼锁车时才发觉钥匙落在家里，回想早上起床穿裤子时因为怕钥匙发出响声吵\n醒安琢，就随手把钥匙去下来放在床上，结果临走时也忘记带。一同忘带的还有 U 盘，\n往后钥匙去下来后要随手放进口袋才是。\n<br><br>\n早上坐在 12 路车上琢磨退、换货模块的事情，想着想着想到将 om_goods 表添加一个状态\n属性来表示是订货还是退货、换货等，觉得方法似乎可行。来到办公室后进一步想到可以\n借鉴费用申请模块的设计方法，建立表 om_order 和 om_order_history.<br><br>\n\n听母亲说今天竟然拉臭达七次之多！母亲说时一脸轻松，现在想来，平常安琢拉一回都够\n自己忙活的，可见母亲有多辛苦。安琢近几天已经能听懂大人对他说的话，晚上照我的话\n把篮球放到三轮童车后面的框里，真不错。\n</div>\n\n<div class=\"diary\" rel=\"20120711\">\n<h3>7.11（三）所有数据库操作迁移至各个类文件中</h3>\n早上在公交车上想可以把系统中所有涉及数据库的操作都以方法的形式存储在各个类文件中\n，这样其它文件只管实例化对象、调用方法。如果将来数据库发生变动，只需把重点放在\n各个类文件中即可。<br><br>\n\n在实际操作时遇到了之前曾碰到并记录下来的一个PHP 语法解释错误。\n原因是<b>数组不能像变量那样直接出现在双引号内，而是要用大括号括起来。</b>\n<br><br>\n今天对系统有了一个新想法：将所有涉及数据库的操作（$db）都以类方法的形式放在各个\n类（md.class.*）中。这样的好处很明显：系统目前正处于不断完善期，新需求不断的出现\n，几乎每一次版本更新都涉及数据库的变动。而数据库变动后的一个重要工作就是调整现有\n代码中与表格变更有关的部分，以确保现有代码的正常工作。这是一个很费时的工作，\n因为跟表格相关的增、删、改、查操作代码分布在各个页面中，往往需要使用 grep \n命令来查找并一一修改。而如果这次的想法能实现，代码的调整工作就变得异常轻松，\n只需在相应类文件中修改即可。\n<br><br>\n有了这个想法，自己准备从订单类下手，先把创建订单这一插入操作迁移至类中。\n这里的关键是把一个订单所包含的所有数据信息存储在一个 PHP 关系数组中，\n然后将此数组作为参数传递到类方法中。事实表明，这是个很耗时的工作，单这一个插入\n操作竟花费自己一整天时间。不过一通百通，只要第一个搞懂了，以后其它类的迁移速度\n会快得多。\n<br><br>\n写代码过程中有点“放不开”——不能全身心投入进入，因为总是担心经理会让自己去做自己不\n喜欢做的事。工作时要看别人的脸色、且这工作不是自己所喜欢的，这种状态真是痛苦。\n<br><br>\n中午吃过饭后和小任到大商准备买条裤子，哪知一楼的真维斯已经关门，无奈头顶炎炎烈日\n返回办公室。\n<br><br>\n下班回到家看到母亲做的丰盛的晚餐：两菜一汤。盛饭、盛菜用的容器有点意思，\n都是“巨无霸”型的。\n</div>\n\n<div class=\"diary\" rel=\"20120712\">\n<h3>7.12（四）热 + 修改订单模块</h3>\n近两日天气异常炎热，晚上忙完懒得打开电脑，就想直接睡觉。<br><br>\n修改订单模块其实就是创建订单模块的“增强版“，因此工作量更大，也更繁琐。\n</div>\n\n<div class=\"diary\" rel=\"20120713\">\n<h3>7.13（五）</h3>\n早上在 12 路车上了解了一款也是用 PHP 开发的 CRM 软件—— SugarCRM.\n完成修改订单模块的重构工作后，<s>决定趁热打铁，将创建订单和修改订单中相同的 JS\n代码提取出来。</s>代码中含有各自独有的内容，改为只理顺流程。\n</div>\n\n<div class=\"diary\" rel=\"20120714\">\n<h3>7.14（六）</h3>\n今天金艳休息，母亲带着父亲到荥阳买中药。早上上班时天阴得很重，感觉随时都可能下大\n起来。晚上回来听母亲说在路上没有淋太多雨。母亲今天去荥阳买的卤肉，晚上又炒了个辣\n椒，自己一下子吃了两个烧饼夹肉，一吃辣椒吃的就多啊。\n</div>\n\n<div class=\"diary\" rel=\"20120715\">\n<h3>7.15（日）吃坏肚子 + 模仿大人刷牙 + 回大王村</h3>\n估计是太累了的缘故，昨晚上竟一觉睡到早上五点。早上还依稀记得做的梦：\n我要参加一个小学政治科考试，但在公交车上车着火了。扑灭火后发现别人都交卷了……\n安琢早上六点就起来了，我又迷迷糊糊睡到七点，直到金艳喊我说安琢拉臭了、\n踩的到处都是。忙完后金艳开始洗脸、刷牙，估计是看着好奇，小孩子天生的模仿能力此时\n显露出来：只见安琢把他妈妈用完的牙刷和杯子要过来，开始有模有样的“干刷”起来，\n时不时还做漱口状……看见这阵势，我的第一反应就是我们真的要以身作则呀。\n忙完准备去安琢姥姥家，母亲说让摘点葡萄带过去，我们俩都说不带，带过去也没人吃。\n母亲却坚持让摘，还说现在不吃以后想吃也没有了。事后感觉理解母亲的意思了：\n她是自己不摘的话，葡萄都让村里的人吃了，最好的葡萄当然要优先考虑自己家人。\n<br><br>\n涣姐和笑笑今天也回家了。到家后笑笑领着安琢在院子里玩，期间安琢还学他姥爷拿着蝇拍\n打苍蝇呢。过了一会儿安琢姥爷带着笑笑和安琢到村西头儿接安琢姥姥。安琢现在经常举手\n大人，今天就“打“笑笑好几次，自己对此不理解：这打人是跟谁学的？想想只能是从大人那\n里学来的。大人有时候会举手做打人状，以表示对他的坏行为的不满，看来以后要注意了。\n中午岳父和涣姐一共做了四个菜吃大米饭，自己足足吃了两大碗。\n<br><br>\n安琢下午又陆陆续续拉了三、四次之多，感觉大便颜色呈浅黄色，还略带点白，\n感觉吃饭上还是有点问题。\n<br><br>\n在吃过岳母做的菜馍后，我们三口到上街去，我要到真维斯买两条裤子。结果店里还不能刷\n信用卡，幸亏我带着工资卡，两条裤子刷了我 225 大洋。\n</div>\n',NULL,1,1,'N',0,'util.js','2012-07-09 07:44:22','2014-02-27 13:20:21'),(183,'首次安装 SugarCRM','上午花费两个小时安装 SugarCRM 软件。\n第一个错误信息如下：\n<blockquote>\nWarning: require_once(modules/DynamicFields/DynamicField.php) [function.require-once]: failed to open stream: No such file or directory in /home/dominio/www/CRM/data/SugarBean.php on line 52\n\nFatal error: require_once() [function.require]: Failed opening required \'modules/DynamicFields/DynamicField.php\' (include_path=\'.:/usr/share/pear/:/usr/lib/php/\') in /home/dominio/www/CRM/data/SugarBean.php on line 52\n</blockquote>\n<pre>\nFatal error: Call to a member function error() on a non-object in /home/ts/www/sugarcrm/include/utils/sugar_file_utils.php on line 84\n</pre>\n找到<a href=\"http://forums.sugarcrm.com/f115/call-member-function-error-76285/\">\n解决方法</a>：\n<pre class=\"tty\">\nTS:/home/ts/www# <span class=\"ttyipt\">chown -R www-data:www-data sugarcrm/</span>\n</pre>\n在解决权限问题后，安装过程出现红色错误提示信息（如下），大致意思是 PHP \n模块配置有问题：\n<img src=\"/img/page/2012/snap.20120713.sugarcrm.php-module-missing.png\" />\n',NULL,1,1,'N',0,'util.js','2012-07-13 10:03:13','2014-02-27 13:20:21'),(184,'W29, 2012','<div class=\"diary\" rel=\"20120716\">\n<h3>7.16（一）请假</h3>\n凌晨三点，随着一声短促而有力的响声，安琢拉在了褥子上。拉出来的还是稀稀的，\n金艳把他的时候弄得衣服上、地上、床上哪都是。看这阵势我也不敢给她沏奶了，\n往温水里倒了点葡萄糖让他喝下后算是又睡着了。没想到早上五点他早早就醒了，\n金艳把他的时候又拉了，这次更稀，看着里面有很多类似小菜叶的东西。\n这才想起昨天在他姥姥临走时吃的菜馍，估计就是那些菜叶没消化造成的。\n金艳和我商量着请假到白寨给安琢看看，母亲知道后说我们俩为什么半夜没给孩子吃药，\n要是吃下去的话，说不定也就压下去了。<br><br>\n\n到了诊所，看病的医生很极品：先是拿着听诊器往安琢肚子上按两下，然后再往肚子上弹几\n下，接着就开始在纸上“龙飞凤舞“。我们问他是不是奶粉的原因，他整了句别的不知道，\n反正是吃东西引起的，我倒，这不废话吗。片刻之后，药方开好，整个过程总体感觉医生\n的行为十分机械。药包完后，医生也不说怎么个吃法。\n</div>\n\n<div class=\"diary\" rel=\"20120717\">\n<h3>7.17（二）“你没有那么多听众”</h3>\n礼拜天在电视上看了两集《金太狼的幸福生活》，觉得饰演金亮他爹金大柱这个演员很搞笑\n。下午在网上看了四集后决定不再看了。一是觉得太浪费时间，二是觉得电视拍得“太假“，\n现实生活中哪那么多巧合的事情。<br><br>\n\n上午 QQ 上突然弹出个系统通知，一个大学同学要加我为好友，在校期间与此人关系平平。\n无奈 Linux QQ 没有同意添加的功能，赶忙重启电脑进到 Windows 系统下添加。\n加完后突然觉得不对劲，仔细一看，原来是腾讯朋友通过“可能认识的人”自动发给我的！\n感觉有种被骗的感觉。\n</div>\n\n<div class=\"diary\" rel=\"20120718\">\n<h3>7.18（三）</h3>\n日记要尽可能当天记录，时过境迁，不知道写什么。\n</div>\n\n<div class=\"diary\" rel=\"20120719\">\n<h3>7.19（四）开通快捷支付+买 How&Why + 上次换键盘这次主板坏！</h3>\n上午花了近三个小时开通交行网上银行（kuixy,密码于 QQ 基本一致，\n只是因为交行密码不接受标点符号而省去最后一位），\n但在准备给支付宝充值的时候发现不支持网上转帐，无奈根据提示顺便开通了快捷支付，\n将工资卡绑定到支付宝上，最后总算充值成功。看来开通的这个交通银行网上银行只能在\n网上查询而已。之后在亚马逊上买了一套方舟子主持翻译的美国百科丛书《How ＆ Why》。\n<br><br>\n下午小林急着发货、打印发货单、打印精简订单、修改订单，无奈公司网速那叫一个慢啊，\n把一帮人急得不得了。这让我觉得必须将<b>优化登录首页作为这两天的紧急任务</b>。\n在同事使用系统的过程中，发现了很多用户使用习惯，也看到系统很多值得改进的地方：\n<ol><li>\n首页操作执行结束后应通过 JS 在不重新加载页面的情况下修改DOM　来达到告知用户\n的目的，重新加载页面太浪费时间！比如财务只是做个简单的款额到帐授权却需要加载\n两次庞大的首页！\n</li></ol>\n下班时辉姑夫打电话说电脑又打不开了，还得把机箱搬到郑州！唉，\n一起买的三台电脑就他毛病多，今天键盘不好了，明天又开不开机了。这回算是长记性了，\n这回我可不会随叫随到，等几天再说吧！\n</div>\n\n<div class=\"diary\" rel=\"20120720\">\n<h3>7.21（五）拿到信用卡 + 去向姐家装 Java 游戏</h3>\n今天在网上搜索到一个名为\"Minify\" 的 Project, 可以将页面中多个 JS 文件或 CSS 文件\n压缩成一个文件，达到减轻页面负载、减少页面请求次数的好效果，而这非常符合自己的需\n求。当前的问题是<b>如何把各个模块中的 JS 内容抽离出来，同时尽可能少加载跟登录角\n色不相关的内容。</b>\n<br><br>\n下午自己申请的交行信用卡寄到公司，打开看了下信用额度为 2,000. \n和我一同申请的小任却没有申请成功，另外小郝收到的除了信用卡还有一张借记卡，\n而我却没有收到借记卡，搞不清银行的评审规则。\n<br><br>\n晚上没有回老家，因为要去辉姑家带电脑，还要给向姐的手机上下载 Java 游戏。\n向姐家晚饭是烙馍卷菜：海带、豆腐皮、豆芽、土豆丝、辣椒圈，再抹上点芝麻酱，\n味道非常好，自己都开始羡慕张竸文了。临走时向姐给我找了件短袖，\n还给安琢找了件张竞月穿不上的衣服。\n</div>\n\n<div class=\"diary\" rel=\"20120721\">\n<h3>7.21（六）安琢去大姨家</h3>\n上午到楼下西部电脑检查了一下辉姑家的电脑，在确定是主板上的问题后决定下周一让他们\n把主板卸下来带到华硕售后维修一下算了，花钱买个省心。一来这么热的天不用专门跑到科\n技市场，二来也不用麻烦小曾。唉，给这种亲戚买东西是最麻烦了，以后真要是再让买电脑\n，真有必要把丑话说前头：真是东西坏了，自己修去。希望这事早点了结，烦。\n<br><br>\n金艳今天带着安琢到安琢大姨家了。听母亲说金艳本来是想带着安琢去大王村的，但是今天\n预报的有雨，母亲说去那么远还不如去笑笑那里，顺便把家里的葡萄带去点。\n</div>\n\n<div class=\"diary\" rel=\"20120722\">\n<h3>7.22（日）雨天玩耍+“两个和尚”+买西瓜</h3>\n天气预报说今天有中雨，所以这个周末没有去大王村，安安生生待在家里。有了安琢以后，\n星期天想睡个懒觉只能是个妄想，甚至金艳我们俩很有可能比平时上班起得更早，\n今天就是这样！昨天半夜开始停电，早上我们都被热醒了。吃完早饭后天开始下起小雨，\n金艳说她的腰疼，母亲和我带着安琢在门外路上玩，好让金艳休息会儿。雨下得不算太大，\n安琢坐在三轮车上，母亲推着他玩，我在一旁拍些照片，感觉也挺好。\n<br><br>\n下午安琢怎么也不睡，我带着安琢到南边路上转一会儿。小孩儿在电动车上最容易睡着，\n张竞月、安琢都是这样。我看着他在路边看了会儿汽车，又从徐寨正北返回。\n村子里的地今夏被政府收回去，别的村子地里玉米长得都快一人高了，我们这里满眼黄土，\n到处荒草丛生，原来的路被煤渣重新铺宽。当走到小学门口时发现一大堆煤渣堆在那里，\n这是安琢已经在后座上睡着，想着这么返回去太浪费时间，看到旁边一块地还算平整，\n骑过去发现前面竟是一个近半米的高台，之前的小路竟是杂草，已经看不出路了，\n无奈最终还是原路返回。\n<br><br>\n下午先后给安琢和父亲理了个光头，给父亲洗头的时候发现父亲头顶上有几个紫红色的斑点\n，其它地方则有一些伤疤，父亲的逐渐苍老让自己唏嘘不已。理完发我们三口到“坑”\n那买西瓜，找到一个貌似刚拉的一车西瓜，花 60　块钱买了八个西瓜，顺便又买了点桃子\n、甜瓜，回到家时天已快黑。晚上吃饭时看见父亲、安琢两个“光头”很是有趣，\n母亲戏称“两个和尚”，无奈天色太晚没有拍下来。\n<br><br>\n母亲今天忙了整整一天，把门前的黄瓜拔了，又把后面的菜架搭了起来，趁着我们出去买西\n瓜又把一家人的衣服洗了。晚上吃饭时母亲说今天累得腰疼，我跟母亲说我们俩都休息想着\n你能比平日轻松一些，没想你到比平时更忙。母亲却说趁着我们俩都在家她才好把活儿抓紧\n干干，等我们都上班了她好休息。多么勤劳的妈妈啊！\n</div>\n',NULL,1,1,'N',0,'util.js','2012-07-16 08:15:19','2014-02-27 13:20:21'),(185,'Minify: 压缩 .js, .css 文件','首页：<a target=\"_blank\" href=\"http://code.google.com/p/minify/\">http://code.google.com/p/minify/</a>\n<blockquote>\nNote: Your webserver does not seem to support mod_rewrite (used in /min/.htaccess). Your Minify URIs will contain \"?\", which may reduce the benefit of proxy cache servers.\n</blockquote>\n<ol><li>\n关于网页性能的文章: http://developer.yahoo.com/performance/rules.html\n</li><li>\nGoogle\'s: https://developers.google.com/speed/docs/best-practices/payload\n</li><li>\njs.jquery.* 好像不能放在使用 Minify;\n</li><li>\n将 jquery, boxy, tools, qtip, autocomplete 放在一个文件内，减少请求次数；\n</li></ol>\n',NULL,1,1,'N',0,'util.js','2012-07-20 10:25:17','2014-02-27 13:20:21'),(186,'W30, 2012','<div class=\"diary\" rel=\"20120723\">\n<h3>7.23（一）</h3>\n下午跟屈看新办公室。\n</div>\n\n<div class=\"diary\" rel=\"20120724\">\n<h3>7.24（二）什么是重点，哪些又是实质 + 父亲摔倒六次</h3>\n早上跟经理汇报昨下午的情况，自己捡要点说给他听，除了简单的点头外，他没有其它反馈\n。到最后经理说了一句“他投资吗”便把我问住了，搞得自己心情沮丧，一上午都碌碌无为。\n<br><br>\n下午觉得不能再如此下去，还是先把日记补上再说。现在想来这份差事简直是个互相\n“猜心事”的活儿：李和屈都要通过我来知道对方的想法；我对李的想法几乎是空白；\n屈和我由于初次打交道彼此说的话大都是表面的“废话”，很少谈及实质。这么一想，\n发现自己身上还是有不足的，比如完全可以顺着李的问题问一下李对协议的具体想法，\n比如屈投资多少比较合适。\n<br><br>\n父亲今天竟跌倒了六次，其中一次磕到左眼眉处，流血不止。还是左腿没劲儿，\n走路抬不起脚，再加上他不习惯用左手柱拐杖，再三跌倒自然就在所难免。\n母亲这两天腰正痛的厉害，还要照顾一个老、一个小。\n最痛苦在于自己眼睁睁看着却没有能力改变现状，不能为母亲分担忧愁、\n为父亲减轻痛苦！！\n</div>\n\n<div class=\"diary\" rel=\"20120725\">\n<h3>7.25（三）</h3>\n<br><br>\n</div>\n\n<div class=\"diary\" rel=\"20120726\">\n<h3>7.26（四）父亲左腿抬不起来 + 千万不要对孩子发脾气</h3>\n早上接到大姐的电话，问我要村里建民爷的电话，说母亲一直说父亲腰上摔倒留下的伤口\n好了，大姐看到后发现根本没好，挂掉电话我都想抽自己嘴巴！母亲不当回事儿，\n自己为何也不当回事？为什么非得等到其他人觉得严重了来通知自己？自己难道没意识到？\n<br><br>\n晚上听母亲说安琢嘴里起了个泡，晚饭没有吃多少。晚上的奶粉也没有喝多少，\n一直哭闹不停，加上天气热，一会儿搞得自己心情特别烦躁，差点打声训斥他，\n在他哭的厉害的时候，甚至连打他的心都有。事后想起村里老人说的一句话：\n对孩子发多大的脾气，最后就得“乖乖放下多少脾气”，还是得心平气和面对。\n对孩子发脾气、甚至大打出手是最不可取、也毫无用处的。对小孩子闹人要有巨大的耐心，\n去逗他，去试他到底想干什么，不要让他继续哭下去。\n</div>\n\n<div class=\"diary\" rel=\"20120727\">\n<h3>7.27（五）手足口病 + 这是个骗子遍地，需要处处设防的时代</h3>\n<img src=\"/img/page/2012/life.20120727.a-hot-day.jpg\" style=\"float:left;\" />\n<img src=\"/img/page/2012/life.20120727.children-hospital.jpg\" style=\"float:left;\" />\n上午金艳打电话说早上发现安琢手心和屁股上有红点，担心是手足口病，想想已经到单位上\n班了，再跑回去太麻烦，我和金艳商量明天或者后天到医院检查一下。谁料中午十二点金艳\n又打电话说母亲说让我们俩带着孩子去医院看看，说孩子不吃饭，而且哭得厉害。\n既然这样，我决定吃完饭就回荥阳。中午热得厉害，吃完手工捞面、走到西站时已是汗流夹\n背。刚出西站口金艳又打电话说想直接到儿童医院看，可我人已经在车上了，\n还是先到七〇一再说吧。等我到汽车站时看到他们娘俩刚好也刚到，下车后直接上了另一辆\n郑上一路。\n<br><br>\n出了西站口看见一辆出租车主动打招呼问去哪里，我们上了车并告诉司机要到郑州儿童医院\n，<b>司机问走哪，是走大石桥还是走农业路</b>，我停顿了一下说哪里快走哪。那司机顺\n着秦岭路一路向北开去，走了好长时间我发现好像这次路线跟之前几次不太一样，\n我上网大致查了一下，发现那司机好像是在故意绕远路。等他右转到五龙口路上时，\n我越来越觉得不对劲，便大声和司机吵了起来，他看我情绪激动的样子似乎早有准备，\n说想闹大的话我可以去报警……司机嘴上还有理，说他上车时专门问过我们\n说走哪，他说走这条路红灯少，车也少，走起来会快点。他甚至还狡辩说他这么老实的人\n我还那么说他，操！要是时光能倒流，我真想顶他一句：“老实人嘴上从来都不会说他很\n老实！”看他怎么说。等走到卫生路上时，计价器停留到 23.00 上，付钱的时候金艳说你这\n车里连个空调也不开，我这才意识到别的出租车的所有窗户都是关着的！司机反驳说他是害\n怕孩子受凉，我X！今天坐的这个出租车真让人生气！下车后我记下他的车牌（豫A TY021）\n，准备投诉他，突然发现自己忘记要发票了！唉！没经验呀！当我打电话投诉时，发现根本\n没有人工受理服务，必须把事情经过写成信邮寄过去，这都什么时代了啊！！\n顿时觉得生在中国就要时时刻刻提防上当受骗，当下是个没有规则的时代。\n<br><br>\n到传染科门诊，医生目测了一下就说这是手足口病，做了一个血常规，外加一个衣原体咽测\n（口腔里的体液）。办卡的时候里面的人说拿三百块钱，我问怎么要充那么多，\n他说看完后多余的会退。等化验完、开好药后去退款的时候，发现卡里就剩 5.5 了，\n我一脸苦笑，顿时明白刚才为何让我一下充三百了…… \n家长冲着他们权威的名气去，得到只不过是机械的诊断流程，拿到的都是整盒整盒的药；\n小孩子哪里会用得了这么多？这药量都快能吃一个月了！大医院要少进啊，我们自己平时要\n多注意，避免到那里去啊。医生微笑的背后时一把宰人的刀！切记，\n<b>陌生人越是和气就越要留意，他可能会骗/宰你！</b>\n</div>\n\n<div class=\"diary\" rel=\"20120728\">\n<h3>7.28（六）</h3>\n<br><br>\n</div>\n\n<div class=\"diary\" rel=\"20120729\">\n<h3>7.29（日）</h3>\n“你怕什么？不中我跟陈奎说让金艳她妈看孩儿。你把电话给陈奎。“”你跟金艳她妈打电话\n，让他去政法街看孩儿，别到明天该走了什么还没有收拾。“\n<br><br>\n</div>\n',NULL,1,1,'N',0,'util.js','2012-07-23 08:12:53','2014-02-27 13:20:21'),(187,'W31, 2012','<div class=\"diary\" rel=\"20120730\">\n<h3>7.30（一）父亲开始住院</h3>\n住院押金都是大姐出的钱，当我说我兜里也带钱了的时候，三姑对我说：“孩儿，\n恁姑知道自己说话不中听，恁姐拿钱就让他拿。“大姐说：“恁姐的”腰“还是比你粗的。”\n下午四、五点岳母就要到政法街，我从十二点开始打扫政法街的卫生一直忙到下午近四点。\n所幸赶在岳母到之前把家里大致收拾了一遍。\n<br><br>\n</div>\n\n<div class=\"diary\" rel=\"20120731\">\n<h3>7.31（二）岳母照看安琢首日</h3>\n中午打电话听金艳说母亲早上带着安琢出去后因把防盗门反锁而整个一上午都进不了家门！\n要知道岳母出去时可是没有推小车啊，而且因为没有手机联系不上人只能干等金艳中午下班\n！我听后的第一反应就是必须得给岳母买个电话，要不然真要出现什么情况，想通知人都没\n办法通知！\n<br><br>\n晚上到医院，二姐问我昨晚上有蚊子没有，我说也不热也没有蚊子，一觉睡到天亮，\n大姐说那当然，睡到“自己家里“自然不一样。聊到晚上照看父亲，我说我今天晚上不准备回\n去了，大姐说你星期天吧。说句实话，这话让我听着有点刺耳，因为我是个敏感的人。\n敏感的原因是自己还不够强大，不够自信。现在想想，自己在言语上”争取“自己那点可怜的\n自尊一点用也没有。联想到自己新浪微博上的签名“探讨自由软件在企业中的应用”，\n我觉得自己现在还达不到自由软件的那种境界，\n<b>当下第一愿望是通过自己编写软件能挣到钱 ，解决生活上的问题，一雪前仇。</b>\n</div>\n\n<div class=\"diary\" rel=\"20120801\">\n<h3>8.1（三）大姐让我成长 + 安琢拉肚子</h3>\n连着四天自己心情都很复杂，如果不是上周日下午大姐以让父亲住院的方式让安琢姥姥来\n政法街照看安琢的话，我仍不会对母亲的辛苦做些什么改变。从岳母来政法街照看安琢的\n这两天来看，金艳看上去和之前有些不一样，我甚至感觉到了金艳在吴村时的状态。\n不管怎么说，大姐促使改变发生，我感觉自己和之前有些不一样。\n<br><br>\n早上郑州下起雨来，久违的雨。金艳八点多打电话来说安琢又有点拉肚子，我让她到附近诊\n所开点药算了，而不会跑回老家去拿之前的药。中午给岳母买的手机到了，下班在家附近顺\n便买了张手机卡（15037181009）。到家后发现涣姐和笑笑也在，听岳母说中午涣姐在政法\n街给她们做了些好吃的。晚上我问岳母睡的怎样，她说昨晚上睡得还不如头天晚上，\n昨晚上半夜两点安琢醒了，肯定也没有睡好。岳母还说她因为昨天上午因为进不了家门、\n一直抱着安琢把腰累着了，她说在家的时候睡前都用啤酒瓶放在腰下面顶十几分钟，\n听到这后我到门口买了瓶啤酒，喝完后给她好让她治治腰。母亲还说笑笑前段时间也得了\n手足口病，这让我有些奇怪，不是说这病的发病人群都是三岁以下吗？\n<br><br>\n一个细节：岳母觉得政法街附近物价高，我买的电话、电话卡还有啤酒她都会问下多少钱。\n</div>\n\n<div class=\"diary\" rel=\"20120802\">\n<h3>8.2（四）</h3>\n下班回家吃完饭都八点多了，等我八点半赶到医院发现病房的灯是灭的，病房里只有父亲、\n母亲两个人。母亲说今天是大姐的生日（六月十五，涣姐是六月十三，大妈家的红姐是六月\n十四），中午向姐给母亲做的排骨让张競文送来，下午荆一给母亲送来了鸡腿、汉堡。\n我问母亲今天怎么没有人，母亲说今天是农历十五，按旧习俗不易探亲，\n所以姑姑们都没有过来。\n<br><br>\n晚上听岳母说安琢今天又是一整天没有睡觉，下午三点岳母推着小车带着安琢出去，一下到\n晚上七点才回来，用岳母的话说，今天走可没少走路。等我九点多从医院回来时，安琢还是\n不睡觉，无奈我又推着他出去转了一圈。等走到商业大厦时安琢眼开始有点睁不开了，\n等我往回走没几步，他以及开始在三轮车上睡觉了，看着他瞌睡是有趣的样子，\n我忍不住笑出声来。安琢听到我的声音后扭头过来看我，但眼神已经没有任何精神。\n</div>\n\n<div class=\"diary\" rel=\"20120803\">\n<h3>8.3（五）向王皓致敬 + 母亲准备带安琢回大王村</h3>\n早上到单位看了张继科和王皓的单打决赛重播，让人感慨万千。一边是第一次参加奥运会就\n夺得金牌的张继科，另一边是连续三届奥运会都是亚军的王皓，让人不仅感叹身在同在一个\n世界上，都为自己的理想付出了辛苦的努力，为什么两者的境遇相差却是那么得大，\n用某个主持人的话说王皓也该赢了，但现实就是这样残酷。\n张就好像身边那种天赋、运气\n都极好的人，而王好像那些无论怎么努力都达不到顶点的人。下午在广播里听到一句评价\n王皓的话感觉特别好：不是每个人都能实现自己的梦想，重要的是追逐梦想的过程。\n刘国梁评价王皓的话也很好：赢得人心、赢得尊重比赢得金牌更重要。是啊，虽然王皓在\n北京和伦敦两次决赛上都未能胜出，但那种不放弃、执着追求理想的那种勇敢的精神不正是\n奥运会的精髓吗？不正是自己应从中学习的吗？\n<br><br>\n晚上吃饭时岳母说如果明天不下雨，她就带着安琢回王村，岳母晚上在这里休息不好。\n</div>\n\n<div class=\"diary\" rel=\"20120804\">\n<h3>8.4（六）向姐建议找个保姆</h3>\n下午母亲打电话说让我下班直接去医院，说金艳回王村、家里没人做饭，她在医院给我买饭\n，我随口答应了。到病房里，母亲看见我就说：“俺孩儿回来了。”大姐说：“哟，恁孩儿可\n回来了。”听到这句话我就后悔答应母亲到医院吃饭了，我在母亲的口中是“主贵的人”，\n但在大姐的心中对我是很有意见的，我很敏感，我就是这么想的。\n<br><br>\n在门诊楼外碰到高中同学翟优和楚聪敏。在回家路上向姐跟我说她担心岳母的身体因为照看\n安琢而累着，还说现在安琢这么小，幼儿园根本就不收，要是找个保姆的话一个月也是一千\n块钱左右，跟送到幼儿园差不多。我想了想向姐的意思应该是建议让我找个保姆照看安琢。\n当我让向姐帮我打听有没有合适的保姆时，姐让我留意一下路边的中介，没事去问问。\n唉，孩子三岁之前的这个阶段怎么这么难！\n</div>\n\n<div class=\"diary\" rel=\"20120805\">\n<h3>8.5（五）父亲做核磁共振检查 + 老婆哭</h3>\n今天早上父亲要进行核磁共振检测。早上七点半出门时天开始下起雨，快到医院时母亲打电\n话说医生已经来了，问我走到哪了。由于核磁共振室内不能携带手机、钥匙等金属物品，\n我把这些东西都交给母亲，看来以后很有必要买个小挎包，外出办事的时候还是很有用的，\n不容易忙中出错。核磁共振的机器上印有个很大的“Neusoft“的标志，这是东软的商标，\n我想 \'Neu\' 应该是“东北大学”的意思。屋里只有父亲和我两个人，看着父亲安静地平躺在\n机器下，我在如果我要是在东软公司上班的话，父亲肯定会很骄傲。做完检查出来时我看到\n三姑和三姑夫也已经到了。等忙完我们在病房里聊天的时候，母亲聊到她种的白菜，三姑说\n有的白菜长得特别好，看着喜人，三姑夫在一旁说那是因为你肥料施得好。我没听明白这话\n的意思，经三姑“解释”我才明白，原来是他们俩在“斗嘴”：三姑夫的言外之意是三姑在家太\n“懒”了，三姑说他这是在她嫂面前给她“垫砖”，呵呵。母亲本打算今天回家看看她种的菜，\n不料上午雨下得特别大，无奈，母亲只好作罢。\n<br><br>\n\n下午三点多我把安琢的三轮车和老婆的衣服带到大王村。我进家门的时候，岳母说安琢刚睡\n着。我和老婆在屋里聊天的时候，我说我看她这两天好像有点不高兴，问她怎么了。原本还\n在看手机的老婆放下手机开始闭上眼睛不说话。我问她是不是她心疼自己母亲这两天照看安\n琢太累，她说不是。我问那是不是我最近几天做了什么错事，一说不当紧，老婆眼泪下来了\n，在我再三询问下，我才知道他哭的原因：原来前几天晚上岳母、老婆和安琢晚上出去转圈\n回来后，岳母问我冷水了没有，我因为忙着看电视也没想起这事，老婆去厨房烧水时又发现\n我吃的西瓜皮还在厨房放着没扔，她生我的就是这个气。在知道原因、有点自责后，我发现\n不让老婆哭其实也简单，那就是自己要勤快啊。不是有句话吗：女人是拿来哄的。我以后要\n注意才是。\n<br><br>\n\n晚上回家看了羽毛球男单的决赛，林丹这次成功卫冕冠军很不容易呀！林在三局两胜的规则\n下先输掉第一盘，在经过扳回一盘后，两个选手在决胜局打异常焦灼，比分咬得非常紧。\n在谁赢掉比赛谁就就将是冠军的情况下，让观看比赛的人都感觉紧张不已。赛场上的林丹\n留着胡子，身上多处有纹身，看着是个挺“有型”的人。反观马来西亚对手李宗伟，\n从外表来看更像是自己身边的人一样，非常普通，而且很瘦。\n我更欣赏后者那种外表不张扬的实力选手，\n这类人身上散发着一种独特的魅力，张怡宁就是属于这类运动员。在赛后接受采访时，\n林说李脚上有伤，这次他比赛“占了很大的便宜”，不管怎么说，能够卫冕冠军的确\n是个很不容易的事情，有句话说得好啊：打江山难，守江山更难。李在接受采访谈到和王皓\n一样第二次获得亚军、且败给同一个对手时使用了一个词：命水，让人感到体育的残酷性：\n你为自己的梦想拼搏了，但最后却不一定能实现梦想（冠军）。但我们能因此认为李是个\n失败者吗？不能，因为在实现理想的过程中，今天的他变得比过去的他强大，\n今天的他战胜了昨天的他。从这个方面来讲，李也是个成功者，他的表现也让人尊重。\n<br><br>\n反观自己的工作，不也是这个道理吗。是的，还是这两个关键词：执着、勇敢。\n</div>\n',NULL,1,1,'N',0,'util.js','2012-07-30 09:19:03','2014-02-27 13:20:21'),(188,'W32, 2012','<div class=\"diary\" rel=\"20120806\">\n<h3>8.6（一）糟糕的心情</h3>\n下午去四楼商量合作的事情，自己也没说清楚，还搞得六点多才出楼。等 12 路车等了半个\n小时还不来，最后做郑上一路回家，到荥阳汽车站的时候已经晚上八点。漫长的车程让我对\n目前的生活产生厌倦，想换个工作，在郑州租个房子，反正在家不但照顾不了父母，母亲还\n要反过来照顾我的生活。\n<br><br>\n</div>\n<div class=\"diary\" rel=\"20120809\">\n<h3>8.9（四）什么时候才能让亲戚不“可怜”我？</h3>\n中午金艳打电话说让我替他在网上缴报名费，因为自己工资卡开通的网银只有查询功能而没\n有转帐、支付功能，最终也没能缴上钱。改天得到银行把转帐功能开通，只能查询不行。\n<br><br>\n下午母亲打电话说父亲明天出院。晚上去医院时在老城停车场门口碰见三姑，三姑给父母买\n了点零食，还给母亲一百块钱。母亲说住院这几天花了近 6,500, 钱都是大姐出的。\n今年年前我要给母亲和岳母点钱，<b>不要因为兄长的尽孝而停止自己的行动</b>，\n两者不冲突。\n母亲说哥下午打电话说准备把他之前开的那辆车过户给我，母亲问我的意见，我没有要。\n我不知道这其中的原因，可能是考虑到父亲以后行动不便、出行方便些。\n<br><br>\n</div>\n\n<div class=\"diary\" rel=\"20120810\">\n<h3>8.10（五）父亲出院 + 大姐预支我给荆豪的 1,000 钱 + 找保姆</h3>\n快中午向姐打电话说医院下午三点才办出院手续，但向姐四点钟要上班，所以她不能去办\n手续了，让我下午过去。中午给经理请假后赶回政法街，由于中医院办出院手续要求代办人\n也出示身份证复印件，而我的身份证在吴村老家，只好让金艳也回来。\n<br><br>\n三点钟赶到医院，发现母亲早已把东西收拾就绪在等我。金艳我们俩先到门诊楼复印身份证\n，然后到住院部把出院证、身份证复印件交给他们办理。等把费用总清单打印出来后，\n再到新农合窗口办理报销手续，办理报销手续只拿着磁卡就行了，母亲拿那个被老鼠咬破的\n旧农合本根本没用上。拿着他们打印出来的票据再次到住院部取钱，父亲住院这十二天共花\n费 6,445 元，报销了 3,500 左右。忙完后把单子交给护士站，护士让把暖水壶送过来，\n之后开了一张被褥押金证明，第三次到住院部一楼去领那 50 块钱押金。等都忙完后，\n我们开始在病房等大姐。大姐进门后问我找轮椅了吗，我这才想起父亲下楼得要轮椅，\n自己在病房歇那么长时间竟然没想到这事儿，真是粗心。最后因为护士站没有轮椅，\n我们搀着父亲从电梯下楼。待父母都上车、大姐准备走的时候，又硬塞给我 1,000 块钱，\n说是荆豪考上学了，过几天亲戚都要给钱，大姐不想让我再自掏腰包…其实这 1,000 块钱\n我早就给荆豪预备着，所以大姐把钱塞给我的时候我还推托，但看到大姐坚决要把这钱给我\n的眼神，我“不情愿”地接住了。这事让我内心很不舒服，感觉大姐“看不起我“。\n事后想想，以自己目前这状况，以后再遇上类似事情，那推托的环节还是省了吧，\n直接“欣然接受“。因为若不这样，还会弄得和这次一样不痛快：钱也收了，自己心情也搞糟\n了。试想：如果自己现在有房有车，经济宽裕，我想大姐也不会给我塞钱吧。所以，\n大姐还是因为心疼我呀。\n<br><br>\n送走父母，天还尚早，我骑着三轮车准备打听一下保姆的事情。问过几家过后，心里大致有\n个数。现在找个看孩子的保姆每月要大概 1,200，如果算上吃饭钱，基本上老婆的工资也就\n没了。钱的事情还好说些，主要是对保姆一个人看安琢表示担心，害怕保姆对孩子不好。\n可话又说回来，现在除了这个也没有什么好办法，老婆辞职专门在家带孩子的可能性不大，\n让保姆去吴村或王村也行不通，岳母在政法街又睡不好……唉，在别无选择的情况下，\n只能对保姆报以信任了，既然决定用人家了，就表示信任好了。\n<br><br>\n连谁照看孩子这问题都不得不考虑，养个孩子怎么这么难呢？\n</div>\n\n<div class=\"diary\" rel=\"20120811\">\n<h3>8.11（六）父亲身体虚弱了不少</h3>\n下班回家看见父亲坐在轮椅上，母亲正在大门口喂他吃饭。经过这次住院感觉父亲身体虚弱\n了不少，一个明显的表现就是现在更离不开母亲了，吃饭自己端碗不一会就把饭撒了，\n而现在自己已经不能独自上厕所了。安琢不在家家里顿时清静了许多，吃完饭我和母亲坐在\n大门口就这么歇着，猛的一下安琢不在家，竟有点不适应。我怕母亲坐着无聊，让他去上屋\n看电视，我陪着母亲看电视看到九点多就睡觉去了。\n</div>\n\n<div class=\"diary\" rel=\"20120812\">\n<h3>8.12（日）把母亲的床移到父亲屋里</h3>\n母亲说这两天晚上都躺在父亲床上休息，由于休息不好昨天晚上只好躺在上屋沙发上睡觉。\n早上起来帮着母亲把屋子收拾了一下，把母亲那屋的床抬到父亲屋里，再把父亲屋里的桌子\n抬到西屋，一是让母亲照顾父亲更方便，二是让母亲晚上能休息好。\n<br><br>\n大姐和向姐今天都回来了，说是中午要给父母做馄饨吃，大姐还带过来一包西瓜。\n快中午的时候跑到荥密路口买了个空调插座，回来给父亲屋的空调茶座换了一下，重新用\n铜线走了一遍。大姐临走时又给我两百块钱，因为父亲临出院时给大姐买了一百块钱的药，\n我看以后还是不要替大姐付钱为好，反正最后还是要还给我，而且往往还得比实际花得多，\n这有悖于自己的初衷。\n</div>\n',NULL,1,1,'N',0,'util.js','2012-08-06 09:31:14','2014-02-27 13:20:21'),(189,'E-Order V0.0.19 Change Log','<h3>待办</h3><!--TODO-->\n<ol><li>\n如何快速找出备注中含有“二次处理”字样的订单？高级搜索功能\n</li><li>\n加入“收件箱”功能。以便于各成员快速得知系统更新内容；\n</li><li>\n<tt>om_dispatch.bill_type, om_dispatch.payment_way</tt> 两列存在非法值情况：\n本应为<tt>NULL</tt>的存储的却为空格字符； (Jun 30,2012)\n</li><li>\n<s>月末节余及次月初库存仍为人工输入，需程序化； (Jun/30/2012 -- </s>Aug 11, 2012)\n</li><li>\n汉字排序不能识别特殊字；\n</li><li>\n将国家表加上“可视”的属性，可以仅显示那些已选中的国家，因为有太多的国家<b>根本用不到</b>\n(Jul 14, 2012)\n</li><li>\n快递单打印程序：汉字横线部分打印不清晰，原因不知 (Jul 17, 2012)\n</li><li>\n用户体验优化：新客户，不知道单价， (Jul 19, 2012)\n</li><li>\n代码中的 Hardcode 部分：国内、外销售id 数组（md.class.user.php)；\n</li><li>\n退货功能 (Aug 11,2012)\n</li></ol>\n\n<h3>［功能完善］自动存储现金柜月初、月末金额(2012.8.11/六)</h3>\n由于每月的现金柜月初金额、月末金额仅有一次，我们可以在显示现金管理页面之前先判断\n当月是否有月初金额，如果没有则强制输入月初金额，同时作为上月月末金额。\n<pre class=\"brush: php\">\n// 计算月初、月末时间的方法（可避开节假日的问题）\n$_start_time = date(\'Y-m\').\'-01 08:00:00\';\n$_end_time = date(\'Y-m-d H:i:s\',(strtotime($_start_time)-50400)); // 每月 1 号早八点往前推 14 小时\n</pre>\n\n<h3>［Undo 功能完善］退货功能 (2012.8.11/六)</h3>\n<blockquote>\n昨天一整天都无从下手的退、换货问题在今早一上班就想明白了！\n真想不到！方法：采用类似费用申请中 expense, expense_history 表的关系，\n现有 order 表实际上可看作是 order_history, 没一个 order_history 都包含如下\n几个动作：订货、退货、换货（退货+新订货），和 expense_history 中的\n：首次申请、余额退回和追加申请类似。\n<br><br>\n此方法对数据库改动较大，先把所有数据苦操作都移动到类中再说此事。\n<br>\nTuesday 8:28 7/10/2012 #927 misc\n</blockquote>\n这是一个月前首次考虑增加退货功能时写的内容。现在开始着手实现：\n<ol><li>\n现有的 order_id 变成 order_history_id, 同时新建的 order_id 要和现有 id 保持一致\n，毕竟在此功能实现之前，系统中所有订单都没有退货操作；\n</li><li>\n退货的几种情况：\n	<ul><li>\n	订单款额尚未到帐，这时仅涉及入、出库操作，不牵涉收入。客户香港裕和即属\n	此种情况，老客户、月结客户或协议结算客户的退换货操作多属此情况；\n	</li><li>\n	订单款额已到帐。这里面根据经过退、换货操作后的订单金额和原金额是否相同又\n	分为三种情况：1, 金额相等，也就是换货操作，所发货物不是客户所需要的型号\n	；2, 实际金额小于原金额，真正的退货操作；3, 实际金额大于原金额，此情况其\n	实可归为第一种情况，在进行换货操作后再重新提交一个多订货物的订单即可；\n\n	</li></ul>\n<pre>\n+--------------------+\n| Field              |	Big Order	Sub Order\n+--------------------+\n| order_id           | \n| customer_id        |	√ \n| address_id         | 			√\n| via                |  √\n| payment_way        | 	√\n| deliver_way        | 			√\n| has_invoice        |			√ \n| has_goods_list     |			√ \n| has_particle_chart |			√ \n| charge             |			√ \n| currency           |	√ \n| status             |			√ \n| property           | \n| action             |			√ \n| added_by           |			√ \n| c_time             |			√ \n| order_note         |			√ \n| operator_id        |			√ \n| fetcher_id         |			√ \n| fetch_time         |			√ \n| is_paid            |			√ \n| deliver_time       |			√ \n| feedback           |			√ \n+--------------------+\n</pre>\n</li></ol>\n\n<h3>［Bug Fixed］打开首页“工厂备货”、“等待发货”两模块所有修改权限(2012.8.14/二)</h3>\n林昨天反映她需要修改一个款额已到帐的订单的产品类别项，在首页没有相应的修改按钮，\n但早前在“订单管理“页面已放开所有订单的修改权限，因此首页这里再设置限制已无必要，\n遂放开。\n<br><br>\n但刚才出纳过来反映林不但修改了产品类别，还追加了一些货物（客户又续订），\n这造成一个很严重的权限错误：<b>在财务授权订单金额到帐的情况下，\n销售仍可修改订单金额！</b>。所以在修改“已到帐”的订单时，应像修改“顺利抵达”的订单\n那样，在修改订单页面顶端进行警告，不进如此，\n还要<b>禁止修改产品数量、单价等关键数据</b>。\n\n<h3>［新需求 Undo］出纳支付功能转交财务一周时间，应模块化 (2012.8.21/二)</h3>\n出纳连续请假一周，需要将付款权限转交给财务。一周后删除此记录即可；\n<pre class=\"brush: sql\">\n/*\n	role_id:\n		69: 会计, 70: 出纳\n	user_id:\n		4: 经理 9: 李艳\n*/\nINSERT INTO om_mapping (mapping_id,from_id,to_id,from2to) VALUES (1382, 9, 70, \'user_id2role_id\');\n</pre>\n<hr>\nUpdate 2012.8.31\n<br><br>\n范苗因家中发生意外辞职，李艳说财务和出纳不适合为一个人，即不能自己审核，\n自己付钱。她提议在新出纳为到岗前，让经理担任审核指责，李艳只负责出纳；\n<ol><li>\n将会计审核模块加入经理首页：\n<pre class=\"brush: php\">\n// index.php\n} elseif (judge_permission($user_role_group,array(\'president\'))) {\n	...\n	require_once \"module/finance.accountant.index-notification.php\"; \n	...\n\n} elseif (judge_permission($user_role_group,array(\'root\'))) {\n</pre>\n</li><li>\n将会计审核模块访问权限数组把经理添加进去：\n<pre class=\"brush: php\">\n//module/finance.accountant.index-notification.php\n$permission_group = array(\'root\',\'accountant\',\'president\');\n</pre>\n</li><li>\n会计审核对应的 JS 文件经理也要能访问：\n<pre class=\"brush: php\">\n// md.header.php\nelseif (judge_permission($user_role_group,array(\'cashier\',\'accountant\',\'president\')))\n	$private_index_js_f = \'js.private.index.finance_dp.js\';\n</pre>\n</li><li>\n删除 李艳 会计的角色\n<pre class=\"brush: sql\">\nDELETE FROM om_mapping WHERE to_id = 69 AND from_id = 9;\n</pre>\n</li></ol>\n\n等待新的出纳到岗后，对以上四条进行逆操作，还有就是把最开始授予李艳的出纳权限移除\n<hr>\nUpdate: 9/13/12\n<br>\n在给新出纳分配帐户时出现错误，原因在于以上操作都是手动进行，系统很“脆弱”，\n稍不留意就会崩溃。所以权限分配、员工离职、新员工到帐这些常用操作都应该模块化。\n<hr>\nUpdate: 4/15/13\n<br>\n徐媛媛加入，不再在 mapping 表中新增记录，直接在现有上面改即可。\n\n<h3>［Bug］协议/按月结算时实际金额和所选金额不一致时的情况(2012.8.31/五)</h3>\n在和李艳讲解按月结算授权操作时，想到一个问题：比如常兴到了一个 20,000 的承兑，\n在选择协议结算时选择了三个订单，总金额为 21,000. 那么授权后，实际上有 1,000 块钱\n的<b>欠款</b>在系统中是不能直接看到的；相反若实际到帐金额小于所选订单金额之和，\n那这多出来的余款也是不能直接看到的。暂时以在备注中注明的方式解决。\n\n<h3>［Yii 工作日记］(2012.8.31/五)</h3>\n使用<tt>CForm</tt> Class 创建出能将用户输入的数据存到不同的两个表中的表单。\n问题：<tt>tbl_company, tbl_address</tt> 两个表中的必填项会因存储公司类别的不同\n而不同。拿 <tt>tbl_company.short_name</tt> 列来说，当存储客户时，该列为必填项，\n而当存储物流公司时，该列是否填写并不重要。那么 <tt>Company</tt> Model Class\n中 <tt>rules()</tt> 中定义的必填项规则不适用此种情况。\n<br><br>\n想法：能否创建一个名为 <tt>LogisticsForm</tt> 的 Form Model,\n再创建其 Controller, 通过 <tt>logistics/create</tt> 来创建物流公司？\n<br>\n不可行，已经选择使用 <tt>CForm</tt> 来创建嵌套表单了，所以不用再单独创建\nForm Model Class, 只需创建 <tt>LogisticsController</tt> Controller 即可；\n<b>目前的办法</b>：以 <tt>tbl_address</tt> 为例，尽管物流公司对\n<tt>country_id</tt> 之类的不关注，那么可以在创建表单中显性将其默认值给出\n<pre class=\"brush: php\">\n//				CForm Style\n$model=new LogisticsForm;\n$form = new CForm(\'application.views.logistics.createForm\', $model);\n\nif ($form-&gt;submitted(\'create\') && $form-&gt;validate()) {\n	$company = new Company;\n	$address = new Address;\n	$f = $form-&gt;models[0];\n\n	$company-&gt;category 	= Company::CATEGORY_LOGISTICS;\n	$company-&gt;full_name 	= $f[\'full_name\'];\n	$company-&gt;short_name 	= $f[\'short_name\'];\n	$address-&gt;duty 		= $f[\'duty\'];\n	$address-&gt;contacter    	= $f[\'contacter\'];\n	$address-&gt;cell_phone   	= $f[\'cell_phone\'];\n	$address-&gt;office_phone 	= $f[\'office_phone\'];\n        \n	if ($company-&gt;save(false)) {\n		$address-&gt;company_id = $company-&gt;id;\n		$address-&gt;save(false);\n		$this-&gt;redirect(array(\'company/admin\'));\n	}\n}\n$this-&gt;render(\'create\',array(\'form\'=&gt;$form));\n</pre>\n\n<h3>［Bug Fixed］出纳月初设置现金柜余额功能不起作用(2012.9.3/一)</h3>\n下午李艳过来说经理授权后发现现金柜余额为 -100, 可自动设置现金柜余额功能上月已经\n搞定了呀，查看代码后方发现更新的代码没有上传到服务器……\n<br><br>\n<b>Update: 2012-10-08</b><br>\n节后测试出纳月初金额时发现显示当前现金柜金额为零，查看代码\n<pre class=\"brush: php\">\n$omcashflow-&gt;get_month_cash_balance(date(\'Ym\'));\n</pre>\n发现当前月由于即无月初金额也无现金记录所以计算金额为零，这里显然应该计算的是\n“上个月”的现金柜余额，对 cashflow.php 文件稍作修改问题得以解决。\n还要注意的是计算余额应使用浮点型数值，默认的整形会将小数点后数字隐去。\n\n<h3>［新需求］添加欧元结算方式(2012.9.5/三)</h3>\n冯璐前两天说客户中出现以欧元结算的情况，在添加欧元结算方式时出了改动表格结构外，\n还要改动太多的相关文件。试想如果用 Yii 重新架构后可能会简单很多：如果将表格中的\n枚举类型以 Model class　constant　的方式存储的话，就不用修改表格结构了；\n如果将订单的创建、修改两个表单合而为一的话，这些表单也不需要修改了。\n\n<h3>［新需求］下载销售报表显示不出相同客户、不同收货人的信息(2012.9.6/四)</h3>\n林需求：月销售报表中亚龙自己有很多发货地址，有厂区的，也有制品厂的等等。林在和\n制品厂对帐的时候找到发往制品厂的销售记录很困难，因为不管发给谁，客户显示的都是\n“亚龙”，林建议把收货人信息也加进去，比如分为“亚龙（须水）”、“亚龙（制品厂）等。\n另外这个需求仅限于亚龙公司这一个情况。\n<pre class=\"brush: php\">\n// excel2003.php. Done on Sep 13,2012\nif ($r-&gt;customer_slug == \'亚龙\')\n	$sheet-&gt;setCellValue($col[2].$i, $r-&gt;customer_slug.\'（\'.$r-&gt;contacter.\'）\');\nelse\n	$sheet-&gt;setCellValue($col[2].$i, $r-&gt;customer_slug);\n</pre>\n\n<h3>［Bug］研磨膏浓度 \'0%\' 导致销售量统计出错(2012.9.7/五)</h3>\n<img src=\"/img/page/2012/snap.purity-zero-bug.png\" class=\"rf\"/>\n李老师反映七月份销售对不上帐，因为有个订单的微粉出库量为零（右图），\n该订单实际出货量为 5,500 克拉。问过销售后发现问题所在：此客户要的是研磨膏，\n但由于系统没有保存 \'1%\' 的浓度值，导致该订单折算成微粉的数量为零。\n从中暴露问题如下：\n<ol><li>\n\'0%\' 作为浓度的默认选项并不合理，销售人员很容易忽视此项，默认应为空，强制选择；\n</li><li>\n厂区发现问题后向销售反应，但由于出库记录只有厂区能够看到，这就在厂区和销售之间的\n直接沟通产生障碍，实际上也正是此情况让销售不知道说什么，让厂区跟我联系。\n而我再和销售交流后才发现浓度为零这一隐蔽问题的。所以说一方面仍是从创建订单处入手\n，尽可能保证输入的订单信息准确无误；同时尽可能避免由信息流通不畅导致的交流上的\n障碍；\n</li><li>\n</li></ol>\n<h3>［用户体验 Undo］筛选订单还是应该使用表单(2012.9.7/五)</h3>\n<img src=\"/img/page/2012/snap.submit-form-via-enter-btn.png\" class=\"rf\" />\n林在查找上面那个浓度为零的订单时，我注意到她的操作习惯：\n<ol><li>\n点击“展开筛选条件”；\n</li><li>\n输入单号 \'984\';\n</li><li>\n在按下回车发现无反应后，使用鼠标单击了筛选按钮；\n</li></ol>\n第三步有一个“没有达到用户满意”的地方，原因在于自己放弃使用采用表单的方式来获取用\n户输入数据，而是通过 JavaScript 实现。之所以采用后者的原因是觉得表单搜集数据有一\n个页面跳转的动作，而且表单代码看上去不那么简洁，现在看放弃表单的代价有些大，\n这让用户的操作多了一步。\n<br><br>\n表单和 JS 应该能够共存。\n\n<h3>［Yii 工作日记］修改一条 Active Record 时， Yii 是如何将数据填充到表单元素中的？(2012.9.7/五)</h3>\n\n<h3>［Yii 工作日记］提交物流信息表单后明明数据合法却仍未通过验证(2012.9.11/一)</h3>\n<pre class=\"brush: php\">\n// 不把表单元素的值传递到 $model 中，怎么能调用 validate() 方法？\n$model-&gt;attributes=$_POST[\'LogisticsForm\'];\n</pre>\n\n<h3>［Bug］销售修改订单厂区没有发现，须更醒目提醒方式(2012.9.11/二)</h3>\n场景再现：销售提交一个订单后，厂区打印出来开始备货，\n之后客户又追加了订单，销售在修改过订单后打电话给厂区进行提醒，\n但厂里过后还是忘记了该事，最终导致客户追加的货物没有发送。\n\n<h3>［调整方向］重新着手退、换货功能(2012.9.12/三)</h3>\n<pre>\n□╭右岸桃花 2012-09-12 15:47:12:\n陈奎，退换货的功能是不是还不能用 \n□╭右岸桃花 2012-09-12 15:47:36:\n那像昨天咱俩对的那个美常兴，咋办，他换货了，之前的都退回来了。 \nandro+ 2012-09-12 15:48:37:\n现在不能用 \n□╭右岸桃花 2012-09-12 15:48:30:\n是不是订单也不能删啊？ \n□╭右岸桃花 2012-09-12 15:48:37:\n只能手动记录了 \n□╭右岸桃花 2012-09-12 15:48:38:\n是吧 \nandro+ 2012-09-12 15:49:04:\n订单可以删除 \n□╭右岸桃花 2012-09-12 15:49:02:\n那李老师要是在厂里算过账了，他该不叫我删了 \nandro+ 2012-09-12 15:50:19:\n这个比较复杂，你先单独记一下，回头弄好了再在系统里面改 \n□╭右岸桃花 2012-09-12 15:50:06:\n好的 \n</pre>\n思路：\n<ol><li>\n前提：原订单状态必为“顺利抵达”；\n</li><li>\n客户退回来的货物可能来自不同的订单，所以退货功能要支持多订单；\n</li><li>\n换货操作不可能独立存在，其必定依附于退货操作；\n</li><li>\n<s>根据是否有换货区别对待：单纯的退货，直接合并至原订单中，\n因不涉及发货环节</s>，也不行，退货时间无法存储；\n</li><li>\n<tt>om_orders.rc_id</tt> 列存储订单、退单和换单间的关系，其实可以存储在\n<tt>om_mapping</tt> 中，\'sell2return\', \'return2change\'\n</li><li>\n把订货、退货、换货三单合并在一起仅在款额到帐授权时有实际意义，\n所以实际存储时三者独立存在，在到帐授权时进行虚拟合并即可。\n这也<b>标志着主、从单的设计方法的舍弃</b>；\n</li><li>\n此功能对数据库变更很少，仅仅向 <tt>om_orders.action</tt> 枚举类型值增加退货\n（<tt>return</tt>）、换货 （<tt>change</tt>）两项，其余均是对代码的修改；\n</li><li>\n以创建更新前的备份文件的时间（2012-09-14 10:53 eorderV0.0.19.1.tgz）为准；\n</li></ol>\n\n<h3>［Bug］多出来的 Boxy 空窗口(2012.9.13/四)</h3>\n<img src=\"/img/page/2012/bug.unnecessary-empty-boxy-window.png\" />\n<br>\n参考文章：<a target=\"_blank\" \nhref=\"/p/essay/v.php?name=20120913-js-trick-of-declaring-optional-argument.php\">JavaScript 函数可选参数声明的技巧</a>\n\n<h3>［Bug Fixed］登录验证逻辑错误(2012.9.17/一)</h3>\n新员工反映在修改密码时提示“原密码输入错误”，查看后发现登录界面代码有一个严重\nBug: 用户输入原始密码或更改后的密码均可登录。问题在 Line 5 处，条件应为：\n用户名正确但密码不正确。\n<pre class=\"brush: php\">\nfunction cmn_auth_login($loginName,$pwd) {\n	global $db;\n	if ( !$db-&gt;get_var(\"SELECT COUNT(*) FROM om_users WHERE login_name =\'\".$loginName.\"\'\") ) {\n		return \'&lt;p&gt;status^0::msg^&lt;span&gt;用户名不存在&lt;/span&gt;&lt;/p&gt;\';\n	} elseif ( !$db-&gt;get_var(\"SELECT COUNT(*) FROM om_users WHERE pwd =\'\".$pwd.\"\'\") ) { //!\n		return \'&lt;p&gt;status^0::msg^&lt;span&gt;密码错误，请注意大小写&lt;/span&gt;&lt;/p&gt;\';\n	} else {\n		if (setcookie (\'om_login\', $loginName, time()+31536000)) {\n			return \'&lt;p&gt;status^1::msg^&lt;span&gt;成功登录，页面即将跳转&lt;/span&gt;&lt;/p&gt;\';\n		} else {\n			return \'&lt;p&gt;status^0::msg^&lt;span&gt;Cookie 设置失败&lt;/span&gt;&lt;/p&gt;\';\n		}\n	}\n}\n</pre>\n\n<h3>［新功能］退换货功能分析和实现(2012.9.21/五)</h3>\n<h3>［用户体验］显示完整的订单备注信息(2012.10.15/一)</h3>\n在表格中显示订单备注信息时为避免内容过多导致将表格“撑大”，仅显示部分信息，\n剩余部分显示“完整”字样的链接。问题：销售不能复制完整备注信息（存在链接 \'title\'\n属性中，鼠标移出链接即消失，单击链接也不起作用），应借助 qTip 插件。\n<br><img src=\"/img/page/2012/snap.display-order-note.png\" /><br>\n\n<h3>［细节］Applation Shortcut 问题：发货清单弹出窗口被拦截(2012.10.15/五)</h3>\n林反应点击发货管理页面中的“打印发货清单”按钮后不任何反应，但在我的机器上没问题。\n不通过 Applation Shortcut, 而是通过 Chrome 访问后发现原因：Chrome 将弹出窗口按\n广告给拦截，我的电脑上可以弹出是因为已经将 www.outstanding.com.hk 域名添加为允许\n弹出。这又是一个使用 Applation Shortcut 的问题呀。\n<br><img src=\"/img/page/2012/snap.chrome.block-pop-ups.png\" /><br>\n\n<h3>［用户操作习惯］提交样品但结算方式不是“样品” + 不用批量发货(2012.10.16/二)</h3>\n这时今天看到冯璐提交日腾中订单时发现的两个现象，“计算机迁就人”原则；\n',NULL,3,1,'Y',0,'util.js','2012-08-11 09:06:20','2014-02-27 13:20:21'),(190,'在页面加载完毕后即弹出 boxy 窗口的方法','这是在实现订单系统中自动填写“月初金额”、“月末金额”项功能时产生的一个想法。\n每月现金流管理（出柜、入柜）的前提是有一个月初金额，现金柜余额是在此基础上通过\n计算得来的。为了强制用户每月月初输入月初金额，我们在现金管理页加入简单的判断：\n<pre class=\"brush: php\">\nif ($omcashflow-&gt;hasMonthStartInitialValue()) {\n	require_once \'module/staff.quick-add-button-div.php\';\n	require_once \'module/finance.cashbox-month-in-out-record.php\';\n	$omcashflow-&gt;mkCashboxBalanceDailyCheckDiv();\n} else {\n	echo $omcashflow-&gt;cmnMonthStartInitialCheckDiv();\n}\n</pre>\n没有月初金额时的代码就是要弹出一个 Boxy 窗口，强制输入此金额。因为要进行 PHP \n判断，我们可以将相应 JS 事件在 PHP 中输入：\n<pre class=\"brush: php\">\necho \"&lt;script type=\\\"text/javascript\\\"&gt;\";\necho \"$().ready(function() {\";\necho \"var bi_cashMonthInit = boxy_input(\'#boxyOnceLoad\',\'Hello title\');\necho \"});&lt;/script&gt;\";\n</pre>\n需要注意的是：隐藏 Boxy 的代码和弹出的代码必须出现在同一个\'&lt;script&gt;\'标签内\n。以上面的例子来说，弹出的窗口里有一个确定保存初始金额的按钮，该按钮按下后，\n需要先隐藏此窗口，在将初始金额值通过 AJAX 传递给服务器，并返回状态信息。\n那么这里按钮被按下的 JS 事件必须和上面的代码放在一起（即也用 PHP 输出），\n而不能单独放在 js.private.cashflow.js 中。\n<br><br>\n用途：类似新浪页面改版后首次登录的新功能介绍、或者重要的通知均可以用此种方法。\n而且此方法可以实现“不再显示”功能：当用户选择不再显示时，将这一状态信息存入数据库\n，下次登录时通过 PHP 读取该状态值来确定是否弹出 Boxy 窗口。\n\n<script type=\"text/javascript\">$().ready(function() {var bi_cashMonthInit = boxy_input(\'#boxyOnceLoad\',\'Hello title\');\n});</script><div id=\"boxyOnceLoad\" style=\"display:none;min-width:180px;min-height:80px;\">\n在页面加载完毕后弹出一个 boxy 窗口很容易实现。<br>\n本文说说它和 PHP 代码结合后的情况。\n</div>\n',NULL,1,1,'N',0,'util.js','2012-08-11 11:48:01','2014-02-27 13:20:21'),(191,'W33, 2012','<div class=\"diary\" rel=\"20120813\">\n<h3>8.13（一）投简历，找工作</h3>\n累了，想找个新七点。晚上在家写简历，\n</div>\n\n<div class=\"diary\" rel=\"20120814\">\n<h3>8.14（二）丽娜姐打电话</h3>\n下午两点丽娜姐给我通了一个半小时电话。昨天倆姐回吴村和那边的父母谈丽改姐户口的事\n情，生父说了刺痛姐姐的话，丽娜姐和他们发生争吵，丽娜姐因伤心所以打电话向我倾诉。\n</div>\n\n<div class=\"diary\" rel=\"20120815\">\n<h3>8.15（三）</h3>\n我急于逃离目前不喜欢的工作，今晚上务必把简历写好，明早投递出去。\n<br><br>\n</div>\n\n<div class=\"diary\" rel=\"20120816\">\n<h3>8.16（四）不是自己想的那么简单——面试有感</h3>\n早上跑到大东郊去一个公司面试,发现自己先前有点太想当然了,再次印证了那句话:\n现实总是比想法要复杂。\n投简历的方法有问题。自认为自己写的简历不错，实际情况是面试的人根本不关心这些内容\n，他们关心的是你之前有没有这个职位所需的技能，也就是说，把你招过来就直接能上岗\n干活的人，至于你除此之外都掌握什么技能他们根本不关心。\n</div>\n\n<div class=\"diary\" rel=\"20120817\">\n<h3>8.17（五）</h3>\n<br><br>\n</div>\n\n<div class=\"diary\" rel=\"20120818\">\n<h3>8.18（六）</h3>\n上午试图了解 Yii 框架，一番努力后发现似乎在 Debian 5 上无法完成，因为需要用到一\n个软件，但 Debian 5 已经停止更新。\n<br><br>\n中午到大商给荆豪买了个箱子，下班后连同两千块钱一同给他。晚上终于见到了安琢！\n抱着他的一刹那感觉好亲切，而且感觉他吃胖了。母亲的脚前两天崴了。\n</div>\n\n<div class=\"diary\" rel=\"20120819\">\n<h3>8.19（日）</h3>\n我在想离职的主要原因：没有奔头了，学不到什么东西，感觉没前途。\n<br><br>\n</div>\n\n',NULL,1,1,'N',0,'util.js','2012-08-13 08:30:27','2014-02-27 13:20:21'),(192,'个人简历','<h2>基本信息</h2>\n<ul><li>\n姓名：陈奎\n</li><li>\n性别：男\n</li><li>\n出生日期：1982-11-23 01:00:00\n</li><li>\n籍贯：郑州荥阳市\n</li><li>\n毕业院校：河南师范大学计算机系（2006）\n</li><li>\n学历：本科（<a target=\"_blank\" href=\"http://www.chsi.com.cn\">学信网查询</a>）\n</li><li>\n主要工作经历：2009 年起在<a href=\"http://www.yalongdiamond.com\" target=\"_blank\">河南省亚龙超硬材料有限公司</a>担任企业信息化部门负责人\n</li><li>\n个人网站：<a target=\"_blank\" href=\"http://www.trekshot.org\">http://www.trekshot.org</a>\n</li><li>\n邮箱：kuixy@163.com\n</li><li>\n电话：136-8380-7470 (陈奎)\n</li></ul>\n<h2>技术特长</h2>\n2010 年起着手开发公司<a target=\"_blank\" \nhref=\"http://www.outstanding.com.hk/eorder/login.php\">网上办公系统</a>，\n系统上线后经过一年多的磨合和完善，现在已趋于稳定，\n目前公司基本实现“无纸化办公“，内部信息流通变得流畅，员工办公效率得到很大提高。\n该系统采用 LAMP 搭建，\n结合 jQuery 进行前端展示。\n<br><br>\n此系统能够综合体现本人 web 编程方面所掌握的技能，\n您现在可以登录网上办公系统进行体验（\n<a target=\"_blank\" href=\"http://www.trekshot.org/eorder/login.php\">\nhttp://www.trekshot.org/eorder/login.php\n</a>\n）。在体验之前先简要说明一下系统的主要特点：\n<ol><li>\n<b>多用户协同工作</b>：系统根据企业员工实际职务将用户划分不同的角色，\n每种角色分配相应的权限职责；\n</li><li>\n<b>使用 jQuery 改善用户体验、加快页面载入速度</b>：借用相关插件(qTip, Boxy)\n及开源类库(Minify)，让系统更好用、加载更快；\n</li><li>\n<b>面向对象编程、模块化设计</b>：将每种用户的职责以模块的方式整合到类方法中，\n便于代码的维护和重复使用；\n</li><li>\n<b>完善的统计、分析功能</b>：借助 PHPChart, PHPExcel 这样的开源类库，\n将数据库中的数据进行深度挖掘、多角度分析，并以直观的形式展现出来；\n</li></ol>\n\n其它技能：\n<ol><li>\n<b>熟悉 GNU/Linux Debian 环境</b>：办公和日常生活中均使用 Debian Lenny \n系统，熟悉 web 服务器端常见配置，能够编写基本的 Bash 脚本；\n</li><li>\n<b>良好的英文阅读能力</b>：让我在学习新技术时能更好地理解技术文档；\n</li></ol>\n\n<h2>自我评价</h2>\n我是一个热爱 web 编程、有求知欲、善于自学的人。苹果公司前 CEO 乔布斯有句话：\n“You should find what you love. 你必须找到你真正所热爱的。”在编写程序的过程中，\n我深刻体会到这句话的含义，从中也获得了很多快乐， \n我感到只要是自己真正喜欢的工作，哪怕再忙也不会觉得累。 \n我渴望在新的环境中迎接挑战，尽自己所能为公司创造价值，同时实现自己的理想。\n<br><br>\n最后，希望贵公司能给我一次面谈的机会，顺祝事业蒸蒸日上。\n<br><br>\n附：生活照片 (2010 年四月)\n<br><br>\n<img src=\"/img/trekshotAtApril2010.JPG\" />\n<!--\n<a target=\"_blank\" href=\"\">l</a>\n-->\n',NULL,3,1,'N',0,'util.js','2012-08-13 20:47:20','2014-02-27 13:20:21'),(193,'Yii Framework 初识','\n<img src=\"/img/page/2012/misc.20120825.er-diagram-of-yii-blog.png\" />\n<pre>\nError 500\n\nApplication runtime path \"/home/ts/www/ref/yii/demos/blog/protected/runtime\" \nis not valid. Please make sure it is a directory writable by the Web server \nprocess.\n</pre>\n设置两个目录的权限：\n<pre class=\"tty\">TS:/home/ts/www/blog/protected#<span class=\"ttyipt\">chown -R www-data:www-data runtime/</span> \nTS:/home/ts/www/blog#<span class=\"ttyipt\">chown -R www-data:www-data assets/</span> \n</pre> \n\n<pre>\nQUICK START\n-----------\n\nYii comes with a command line tool called \"yiic\" that can create\na skeleton Yii application for you to start with.\n\nOn command line, type in the following commands:\n\n        $ cd YiiPath/framework                (Linux)\n        $ ./yiic webapp ../testdrive          (Linux)\n\nThe new Yii application will be created at \"YiiPath/testdrive\".\nYou can access it with the following URL:\n\n        http://hostname/YiiPath/testdrive/index.php\n\n</pre>\n\n无法按照上面说的使用<tt>yiic</tt>命令，\n因为该命令需要安装<tt>phpc</tt>模块（PHP Client），但 Debian 5 已停止更新，\n所以不能暂时停下。\n<br><br>\n24 日上午搜到一个 Yii 基础\n<a target=\"_blank\" href=\"http://v.youku.com/v_show/id_XMjQ2NDUzOTg4.html\">\n视频教程</a>，里面看到在 Windows 平台下如何使用 yiic 命令，同时对 Yii 框架有一个\n大致的了解，看过后意识到不安装 phpc 也能学习 Yii. 再次经过配置后成功运行 blog\ndemo.\n<blockquote>\nCDbConnection failed to open the DB connection.\n</blockquote>\n原因：数据库没有设置正确，设置如下，DB 名称设置为 \'blog\', 但并没有创建该数据库；\n<pre class=\"brush: php\">\n// blog/config/main.php\n\'connectionString\' =&gt; \'mysql:host=localhost;dbname=blog\'\n</pre>\n<blockquote>\nError 500\n<br><br>\nThe table \"{{post}}\" for active record class \"Post\" cannot be found in \nthe database.\n</blockquote>\n解决：新建数据库<tt>blog</tt>, 然后将<tt>data/schema.mysql.sql</tt>\n导入到新建数据库中即可。<b>但将此文件导入原有<tt>trekshot</tt>\n中并在选择数据库时选择 \'trekshot\' 不可行（仍会出现上面第二种错误）；</b>\n<br><br>\n<h3>Notes</h3>\n<ol><li>\n<i>\"The Yii framework can be installed anywhere in the file system, \nnot necessarily under a Web folder. Its framework directory contains all \nframework code and is the only framework directory needed when \ndeploying an Yii application. -- P2\"</i><br>\n表示框架可以放在任何地方。这里我将 blog demo 单独复制到 www/ 目录下，\n并修改指向 Yii 框架的路径：\n<pre class=\"brush: php\">\n$yii=dirname(__FILE__).\'/../ref/yii/framework/yii.php\';\n$config=dirname(__FILE__).\'/protected/config/main.php\';\n</pre>\n其实上面的手动操作就是 yiic 命令所做的事情；\n</li><li>\n<i>CRUD: Create, read, update and delete () are the four basic operations of \ndata objects in an application.  -- P11,2.2 Scaffolding</i><br>\n自己平常所说的“增删改查”就是这个意思；\n</li><li>\nP12: 在访问 gii 页面时 \n<tt>http://localhost/blog/index.php?r=gii</tt>发生异常，\n没有指向相应 Gii 登录页面，页面显示内容仍为首页。\n解决：\n<blockquote>\nTry:\n<br>\nhttp://www.example.org/<b>index.php/gii</b>\n<br>\nIt seems you have the same rules as I do for url.  If http://www.example.org brings you to your main yii webapp page then the above link should work.\n<br>\nYou were going to http://www.example.org/gii which is incorrect.\n<a target=\"_blank\" href=\"\nhttp://stackoverflow.com/questions/6246329/yii-1-1-7-cannot-find-gii-page\n\">Ref.</a>\n</blockquote>\n现在可以看到 Gii 页面，但仍不知为何上面的地址不能访问；\n</li><li>\n<i>\"We first need to create a model class for each of our database tables. \nThe model classes will <b>allow us to access the database</b> in an intuitive \nobject-oriented fashion.\"  -- P12,2.2.2 Creating Models\n</i><br>\n自己在 E-Order 应用中为几乎每一个表都创建一个类的方法在 Yii 中竟有相似的过程！\n只不过此过程 Yii 是通过 Gii 自动完成的。借助 Gii 为每个表生成如下文件（带\'√\'）：\n<pre class=\"tty\">\nts@TS:~/www/blog$ ll protected/models/\ntotal 32K\n-rw-r--r-- 1 ts ts 3.2K 2012-08-24 14:32 Comment.php		√	\n-rw-r--r-- 1 ts ts  969 2012-08-24 14:32 ContactForm.php\n-rw-r--r-- 1 ts ts 1.8K 2012-08-24 14:32 LoginForm.php\n-rw-r--r-- 1 ts ts 2.0K 2012-08-24 14:32 Lookup.php		√\n-rw-r--r-- 1 ts ts 4.8K 2012-08-24 14:32 Post.php		√\n-rw-r--r-- 1 ts ts 3.6K 2012-08-24 14:32 Tag.php		√\n-rw-r--r-- 1 ts ts 2.2K 2012-08-24 14:32 User.php		√\n</pre>\n</li><li>\n<i>After the model classes are created, we can use the Crud Generator to \ngenerate the code implementing the CRUD operations for these models.\n-- P13,2.2.3 Implementing CRUD Operations\n</i><br>\n通过 Crud Generator, 我们生成 Comment Model 的 GRUD 相应文件如下：\n现在知道这些文件都是怎么来的了：自己设计表格结构后通过 Gii 自动生成的；\n<pre class=\"tty\">\ncontrollers/CommentController.php\nviews/comment/_form.php \nviews/comment/_search.php \nviews/comment/_view.php \nviews/comment/admin.php \nviews/comment/create.php \nviews/comment/index.php \nviews/comment/update.php \nviews/comment/view.php\n</pre>\n\n</li><li>\n<i>\"Note that instead of storing the plain password in the database, \nwe store the hash result of the password and a randomly generated salt key. \nWhen validating the user-entered password, \nwe should compare the hash results, instead.\"\n-- P17, 2.3 Authenticating User\n</i><br>\n看看 Yii Blog Demo 中是如何存储密码的：\n<pre class=\"brush: php\">\n// module/User.php\npublic function validatePassword($password) {\n	return $this-&gt;hashPassword($password,$this-&gt;salt)===$this-&gt;password;\n}\n</pre>\n\n</li><li>\n<i><b>The parent implementation</b> would return the username, instead.\n-- P17, 2.3 Authenticating User\n</i><br>\n\'The parent implementation\' 指的是哪个类？答：\n<a target=\"_blank\" href=\"/ref/yii/doc/api/CUserIdentity.html\">framework/web/auth/CUserIdentity.php</a>\n接口和类的区别是什么？\n<pre class=\"brush: php\">\n// components/UserIdentity.php\nclass UserIdentity extends CUserIdentity {}\n</pre>\n\n</li><li>\n<i>Because the status of a post is stored as an integer in the database, \nwe need to provide a textual representation so that it is more intuitive \nwhen being displayed to end users. In a large system, \nthe similar requirement is very common.\n-- P25, 3.1.4 Representing Status in Text\n</i><br>\n看看 Yii 是如何处理表中枚举类型（如ENUM(\'wfe\',\'ymg\',\'psl\')）和显示给用户的字符间\n的转换的！将这种对应关系存储在表<tt>tbl_lookup</tt>中；\n\n</li><li>\n<i>\"\nThe create and update operations are very similar. They both need to display \nan HTML form to collect user inputs, validate them, and save them into database.\nThe main difference is that the update operation will pre-populate the form \nwith the existing post data found in the database. For this reason, \ngii generates a partial view /wwwroot/blog/protected/views/post/_form.php \nthat is embedded in both the create and update views to render \nthe needed HTML form.\n-- P27, 3.2.2 Customizing create and update Operations \n\"</i><br>\n自己也意识到新建和修改两个操作使用的表单基本上是一致的，\n但实际上仍是为每个操作配置相应的表单， Yii 创建了一个公用表单（_form.php）\n来让两个操作使用。其中生成文章状态的下拉菜单的代码也值得学习，真是高度模块化呀！\n现在回看 E-Orders 中自己对类的使用程度真是幼儿园水平……\n<pre class=\"brush: php\">\necho $form-&gt;dropDownList($model,\'status\',Lookup::items(\'PostStatus\'));\n</pre>\n\n</li></ol>\n<!--\n</li><li>\n<i>\"\n\"</i><br>\n<pre class=\"brush: php\">\n</pre>\n<a target=\"_blank\" href=\"\n\"></a>\n<span class=\"cmt\"></span>\n-->\n',NULL,1,1,'N',0,'util.js','2012-08-18 08:17:41','2014-02-27 13:20:21'),(194,'W34, 2012','<div class=\"diary\" rel=\"20120824\">\n<h3>8.24（五）Yii 真不错</h3>\n今天开始学习 Yii Blog Demo, 收获不小，感觉之前 E-Order 中体现自己想法的东西不够\n系统， 而且自己的想法很多都能在 Yii 中找到体现，且更系统。\n<br><br>\n</div>\n',NULL,1,1,'N',0,'util.js','2012-08-20 08:07:37','2014-02-27 13:20:21'),(195,'W35, 2012','<div class=\"diary\" rel=\"20120829\">\n<h3>8.29（三）</h3>\n全天在做 Yii Blog 第二遍读书笔记，感觉收获明显比第一遍多多了。\n<br><br>\n今天是安琢打疫苗的日子，距离上次打疫苗已经半年多时间了，下午打电话问金艳怎么样，\n没想到没打成，因为现在打疫苗的时间改成每周二、四了，金艳说明天早上再跑一趟。\n唉，今天这么热的天让她们俩白跑一趟。\n</div>\n\n<div class=\"diary\" rel=\"20120830\">\n<h3>8.30（四）</h3>\n上午搞明白如何启动 Apache 的 URL 重定向模块，下午开始使用 Gii 工具创建第一个\nModel, 我使用的是 E-Orders 中 om_companies 表，大致试用了一下，感觉很好用。\n不过 GRUD 操作都是单独针对一个表格的，而实际中经常会遇到将用户输入的数据分别\n存入不同但有关联的两个表中，例如一个客户的完整信息需要将公司名称存到 company \n表中，而把地址信息存到 address 表中，下班前对此很是疑惑。晚上看 Yii Guide\n发现有个 \'Nested Form‘ 的章节（3.6.5）将的就是这个问题。很好，明天开始研究。\n<br><br>\n</div>\n<div class=\"diary\" rel=\"20120902\">\n<h3>9.2（日）</h3>\n早上快七点安琢就醒了，不一会就到外面去，我带着他出门，刚好可以让金艳单独休息一会\n。出门走到政法小区门口时碰到一个老年人在扫地，在问过安琢多大后说孩子吃得可以不胖\n，还说等小孩子断了奶就会胖了。由于昨晚上下了雨，加之早晨风大，出门明显感到凉意，\n还担心穿着秋衣、秋裤的安琢会不会冷。我俩顺着成皋路再走到索河路上，一路上安琢走得\n很快，对路旁的汽车、路桩还有小狗等很好奇。走到财政局对面时，迎面走过来一个老者，\n在得知安琢一岁零三个月后说这孩子个子可不低。我领着他又到二小那买了胡辣汤和油饼，\n回来的路上安琢一直问我要吃的，我每次都撕下一小块递给他，哪知道他塞到嘴里后就立刻\n伸手问我再要！\n<br><br>\n八点多我们三口回吴村，快到家门口先看到母亲在路上忙活她的菜，走到大门口看到父亲坐\n在轮椅上，穿着大红的运动上衣。安琢看到父亲很清楚地喊了声爷，让母亲感叹不已\n（下午去王村从岳母口中得知安琢最近已经会喊爷）。母亲忙完她的菜从屋里拿出两条她给\n安琢坐的裤子，让安琢穿上去开始跑来跑去。过了一会好像喝水时安琢的秋衣湿了，\n可金艳回来没有给他带上衣，而家里一件能穿的衣服也没有，最后找了一件特别小的秋衣给\n安琢穿上。这让母亲又开始说起我们俩来，说不给小孩买衣服、穿着秋衣不好看之类的，\n还说吃完中午饭早点去荥阳给孩子买衣服，母亲这么一说，我看着安琢身上穿的衣服怎么看\n怎么别扭。唉，这个问题母亲给我说过不止一次，想想也是，平常在家也就罢了，现在一个\n星期母亲才见安琢一次，确实应该穿个好看些的衣服。另外安琢身上好像很久没洗澡了，\n耳朵里、脖子上还有脚踝上脏得不行，母亲带着安琢去东头喷空的时候，\n大妞奶看到给母亲说后，母亲才看到。唉，以后回吴村前一定要记得给安琢好好收拾一下，\n把收拾得干干净净的孩子领出去，谁看着也喜欢啊；相反，整得跟今天这样，别人看到后心\n里肯定会说这当父母的怎么也不给孩子收拾一下。\n<br><br>\n下午先到商店给安琢买了个三件套，外加一个鞋子。我们俩不太会给安琢买衣服，\n最后买的这个深红色的外衣穿上去更显得孩子黑了，唉，当时付钱之前怎么没有想到这个\n问题呢。买鞋的时候安琢学会做商店外面的玩具了，想坐的时候闹得厉害，等满足他自己的\n“小愿望”后，脸上立刻露出开心的笑容，小孩子真是有意思。安琢现在已经知道归属感了，\n在坐玩具车的时候，旁边的小孩摸了一下他坐的玩具车，他立刻打声喊叫起来，\n还伸手把别人的手拉开……\n<br><br>\n买箱爽歪歪后，金艳问我回不回王村，当我表示不想回去时，金艳说咱妈整天给咱们看孩子\n，你一个礼拜也不过去一趟？说到这我才意识到有些不妥，便一起回王村。\n</div>\n',NULL,1,1,'N',0,'util.js','2012-08-27 13:37:33','2014-02-27 13:20:21'),(196,'Yii Blog Tutorial Learning Notes','<h2>Chapter 1 Getting Started</h2>\n<h3>Building a Blog System using Yii</h3>\n<h3>Testdriving with Yii</h3>\n<h4>Installing Yii</h4>\n<h4>Creating Skeleton Application</h4>\n<pre class=\"brush: php\">\n// 入口脚本\n$yii=dirname(__FILE__).\'/../ref/yii/framework/yii.php\';\n$config=dirname(__FILE__).\'/protected/config/main.php\';\nrequire_once($yii);\nYii::createWebApplication($config)-&gt;run();\n</pre>\n\n<ol><li>\n在 protected/ 目录下有个<tt>.htaccess</tt>隐藏文件，用于阻止用户访问此目录；\n</li><li>\n</li></ol>\n<h4>Application Workflow</h4>\n当用户访问联系页面时 Yii 的主要工作流程：\n<ol><li>\n用户请求页面 \'/blog/index.php/site/contact\';\n</li><li>\n入口脚本 index.php 开始执行；\n</li><li>\n创建并配置（/blog/protected/config/main.php）一个 Application instance;\n</li><li>\nThe application 将请求页面分解为 <tt>site</tt> controller 和 <tt>contact</tt>\naction, 即调用 blog/protected/controllers/SiteController.php 类中的\n<tt>actionContact</tt>方法；\n</li><li>\nThe application 创建 <tt>site</tt>控制器并执行；\n</li><li>\n控制器触发<tt>contact</tt>动作（通过调用<tt>actionContact()</tt>方法）；\n</li><li>\nThe <tt>actionContact</tt> method renders a <b>view</b> named <tt>contact</tt>\nto the Web user.\n<pre class=\"brush: php\">\n// Snippet in method actionContact(), class SiteController\n$this-&gt;render(\'contact\',array(\'model\'=&gt;$model));\n</pre>\n</li></ol>\n<h3>Requirements Analysis</h3>\n<h3>Overall Design</h3>\n<img src=\"/img/page/2012/misc.20120825.er-diagram-of-yii-blog.png\" />\n<h3></h3>\n\n<h2></h2>\n\n<h2>Post Management</h2>\n<h3>Customizing <tt>Post</tt> model</h3>\n<h4>Customizing <tt>rules()</tt> method</h4>\n<ol><li>\n每个表格都会生成相应的 Model, 除此之外，搜集用户输入数据的其它表单也会生成相应的\n表单，查看 Blog 应用 models/ 目录下可看到，除了于数据库表格对应的 5 个类文件\n（Comment.php,Lookup.php,Post.php,Tag.php,User.php）外，还有两个涉及表单的\nModel: ContactForm.php, LoginForm.php\n</li><li>\n通过 Gii 工具生成的 Model 类中有两个方法需要经常改动：<tt>rules()</tt>和\n<tt>relations()</tt>.\n</li><li>\n<i>\"A model consists of a list of attributes, each associated with a column in \nthe corresponding database table. Attributes can be declared explicitly as \nclass member variables or implicitly without any declaration. \"</i>\n\n</li><li>\n其中<tt>rules()</tt>用来存储数据元素的格式要求（是否为空、允许值范围等），\n这些规则在将用户输入数据存入数据库之前起到合法性验证的作用。\n<pre class=\"brush: php\">\n// Post.php\nreturn array(\n	array(\'title, content, status\', \'required\'),\n	array(\'status\', \'in\', \'range\'=&gt;array(1,2,3)),\n	array(\'title\', \'length\', \'max\'=&gt;128),\n	array(\'tags\', \'match\', \'pattern\'=&gt;\'/^[\\w\\s,]+$/\', \'message\'=&gt;\'Tags can only contain word characters.\'),\n	array(\'tags\', \'normalizeTags\'),\n	array(\'title, status\', \'safe\', \'on\'=&gt;\'search\'),\n);\n// Comment.php\nreturn array(\n	array(\'content, author, email\', \'required\'),\n	array(\'author, email, url\', \'length\', \'max\'=&gt;128),\n	array(\'email\',\'email\'),\n	array(\'url\',\'url\'),\n);\n// User.php\nreturn array(\n	array(\'username, password, salt, email\', \'required\'),\n	array(\'username, password, salt, email\', \'length\', \'max\'=&gt;128),\n	array(\'profile\', \'safe\'),\n);\n// Tag.php\nreturn array(\n	array(\'name\', \'required\'),\n	array(\'frequency\', \'numerical\', \'integerOnly\'=&gt;true),\n	array(\'name\', \'length\', \'max\'=&gt;128),\n);\n// ContactForm.php\nreturn array(\n        array(\'name, email, subject, body\', \'required\'),\n        array(\'email\', \'email\'),\n        array(\'verifyCode\', \'captcha\', \'allowEmpty\'=&gt;!CCaptcha::checkRequirements()),\n);\n// LoginForm.php\nreturn array(\n        array(\'username, password\', \'required\'),\n        array(\'rememberMe\', \'boolean\'),\n        array(\'password\', \'authenticate\'),\n);\n</pre>\n将这些“规则”放在一起查看可以发现：\n<ol><li>\n这些应算作服务器端验证；\n</li><li>\n各种各样的常见验证（非空、最大长度等）以特殊格式存储在关系数组中；\n</li><li>\n类似<tt>required</tt>,<tt>length</tt>,<tt>in</tt>和<tt>match</tt>\n这样的验证器（validator）是 Yii 自带（built-in）的，像<tt>normalizeTags</tt>\n验证器其实是一个函数，将用户输入的大写字母转换成小写，我们可以在 Model Class\n中进行定义；\n</li><li>\n<tt>tbl_lookup</tt>由于是存储 ENUM 值与用户可看懂的字符间的映射\n、不存在数据不合法的情况因而没有<tt>rules()</tt>方法;\n</li></ol>\n\n还有两点要注意：\n<ol><li>\n定义的这些规则的执行时间:<i>\"... are executed one by one when we call the \n<tt>validate()</tt> or <tt>save()</tt> method of the model instance. \"</i>\n</li><li>\n什么是 \'Model Attribute\'?<i>\"A model consists of a list of attributes, \neach associated with a column in the corresponding database table. \nAttributes can be declared explicitly as class member variables or \nimplicitly without any declaration. \"</i><br>\n通常来说，\'Model Attribute\' 对应这表格列名，我们可以在各个 Model \n代码的顶端看到表格列名的说明，例如：\n<pre class=\"brush: php\">\nclass Post extends CActiveRecord {\n        /**\n         * The followings are the available columns in table \'tbl_post\':\n         * @var integer $id\n         * @var string $title\n         * @var string $content\n         * @var string $tags\n         * @var integer $status\n         * @var integer $create_time\n         * @var integer $update_time\n         * @var integer $author_id\n         */\n	...\n}\n</pre>\n</li><li>\n仅对用户输入的数据项进行规则限制，由代码或数据库自动生成的数据项（如<tt>id</tt>,\n<tt>create_time</tt>等）不要出现在此处；\n</li></ol>\n</li></ol>\n\n<a name=\"3.1.2\"></a>\n<h4>Customizing <tt>relations()</tt> method</h4>\n<pre class=\"brush: php\">\n// Post.php\nreturn array(\n	\'author\' =&gt; array(self::BELONGS_TO, \'User\', \'author_id\'),\n	\'comments\' =&gt; array(self::HAS_MANY, \'Comment\', \'post_id\', \'condition\'=&gt;\'comments.status=\'.Comment::STATUS_APPROVED, \'order\'=&gt;\'comments.create_time DESC\'),\n	\'commentCount\' =&gt; array(self::STAT, \'Comment\', \'post_id\', \'condition\'=&gt;\'status=\'.Comment::STATUS_APPROVED),\n);\n// Comment.php\nreturn array(\n	\'post\' =&gt; array(self::BELONGS_TO, \'Post\', \'post_id\'),\n);\n// User.php\nreturn array(\n	\'posts\' =&gt; array(self::HAS_MANY, \'Post\', \'author_id\'),\n);\n</pre>\n<tt>relations()</tt>用来存储表格之间的关系；\n<ol><li>\n这些规则实际上借助<i>Relational ActiveRecord (RAR)</i>功能来快速访问与一个 post\n相关的 object information, 如作者信息、评论信息等。这个很有用，例如 E-Order \n中根据一个订单确定该客户的相关信息的需求很经常。这里最大的好处是：\n<b><i>without the need to wite complex SQL JOIN statements.!</i></b> \n这些语句之前都是直接写在各个类的构造器中的；\n</li><li>\n我们以 <tt>Post</tt> 中关系的片段类解释一下其含义：\n<pre class=\"brush: php\">\n\'author\' =&gt; array(self::BELONGS_TO, \'User\', \'author_id\'),\n</pre>\n一条 post 属于一个类名为<tt>User</tt>的作者，<tt>Post</tt>和<tt>User</tt>\n两者关系建立在 Post Model 的 <tt>author_id</tt> attribute;\n<pre class=\"brush: php\">\n\'comments\' =&gt; array(self::HAS_MANY, \'Comment\', \'post_id\', \'condition\'=&gt;\'comments.status=\'.Comment::STATUS_APPROVED, \'order\'=&gt;\'comments.create_time DESC\'),\n</pre>\n每一篇文章有很多条（\'HAS_MANY\'）评论，评论属于 Model Comment, 两者关系建立在\nComment.post_id 上，而且这些评论必须是审核过的、以创建时间降序排列；\n<pre class=\"brush: php\">\n\'commentCount\' =&gt; array(self::STAT, \'Comment\', \'post_id\', \'condition\'=&gt;\'status=\'.Comment::STATUS_APPROVED),\n</pre>\nRelation <tt>commentCount</tt>返回一个统计信息，显示一篇文章的评论数；\n</li></ol>\n经过上面的关系声明，我们就可以很轻松地访问一篇文章的作者信息和评论信息了，如下：\n<pre class=\"brush: php\">\n$author = $post-&gt;author;\necho $author-&gt;username;\n\n$comments = $post-&gt;comments;\nforeach($comments as $comment)\n	echo $comment-&gt;content;\n\n</pre>\n总言之，relation 声明很优雅地解决了多表查询的问题。\n\n<h4>Add <tt>url</tt> Property</h4>\n<pre class=\"brush: php\">\npublic function getUrl() {\n	return Yii::app()-&gt;createUrl(\'post/view\', array(\n		\'id\'=&gt;$this-&gtid,\n		\'title\'=&gt;$this-&gttitle,\n	));\n}\n</pre>\n添加的明明是一个方法，为什么标题中说的是属性？\n先来了解一个 Post Model 的继承关系：\n<pre class=\"brush: php\">\nPost » ActiveRecord » CModel » CComponent\n</pre>\n<tt>Post</tt>的终极父类<tt>CComponent</tt>中有个获取、设置属性的特性：\n<blockquote>\nA property is defined by a getter method, and/or a setter method.\nProperties can be accessed in the way like accessing normal object members.\nReading or writing a property will cause the invocation of the corresponding\ngetter or setter method, e.g\n<pre class=\"brush: php\">\n$a=$component-&gt;text;     // equivalent to $a=$component-&gt;getText();\n$component-&gt;text=\'abc\';  // equivalent to $component-&gt;setText(\'abc\');\n</pre>\n-- From Class <tt>CComponent</tt>\'s sourcecode\n</blockquote>\n通过上面的解释，我们就明白设置<tt>getUrl()</tt>的目的在于通过\n<tt>$post-&gt;url</tt>即可获得文章的 URL. 从中可以看出继承机制的威力。\n\n<h4>Representing Status in Text</h4>\nE-Orders 数据库表格中有很多表示某种状态的列，以<tt>om_orders</tt>表为例，\n有：<tt>via, payment_way, deliver_way</tt>等等。这些列的数据类型一般都是\n枚举类型，这些类型的值在展现给用户时需要转换成用户容易理解的字样，\n例如将 \'via\' 列的值 (\'tel\',\'fax\',\'mail\') 转换成 (\'电话“，‘传真\',\'邮件\').\n之前采用在<tt>Order-&gt;getViaStr()</tt>方法中添加转换数据：\n<pre class=\"brush: php\">\n$via_arr = array( \"tel\"  =&gt; \"电话\", \"fax\"  =&gt; \"传真\", \"mail\" =&gt; \"Email\");\n</pre>\n这是一个几乎在每个表中都会有的需求，Yii 采用了一种很通用、简便的解决方法：\nYii 单独创建一个<tt>tbl_lookup</tt>表类存储这些映射，表格结构有点类似\nE-Orders 中的表 <tt>om_term_taxonomy</tt>:\n<pre class=\"tty\">\nmysql&gt; <span class=\"ttyipt\">DESC tbl_lookup;</span>\n+----------+--------------+------+-----+---------+----------------+\n| Field    | Type         | Null | Key | Default | Extra          |\n+----------+--------------+------+-----+---------+----------------+\n| id       | int(11)      | NO   | PRI | NULL    | auto_increment | \n| name     | varchar(128) | NO   |     | NULL    |                | \n| code     | int(11)      | NO   |     | NULL    |                | \n| type     | varchar(128) | NO   |     | NULL    |                | \n| position | int(11)      | NO   |     | NULL    |                | \n+----------+--------------+------+-----+---------+----------------+\n5 rows in set (0.00 sec)\nmysql&gt; <span class=\"ttyipt\">SELECT * FROM tbl_lookup;</span>\n+----+------------------+------+---------------+----------+\n| id | name             | code | type          | position |\n+----+------------------+------+---------------+----------+\n|  1 | Draft            |    1 | PostStatus    |        1 | \n|  2 | Published        |    2 | PostStatus    |        2 | \n|  3 | Archived         |    3 | PostStatus    |        3 | \n|  4 | Pending Approval |    1 | CommentStatus |        1 | \n|  5 | Approved         |    2 | CommentStatus |        2 | \n+----+------------------+------+---------------+----------+\n5 rows in set (0.00 sec)\n</pre>\nModel Class <tt>Lookup</tt>主要提供两个静态方法：<tt>Lookup:items()</tt>\n和 <tt>Lookup::item()</tt>. \n<pre class=\"brush: php\">\nprint_r(Lookup::items(\'PostStatus\')); //Array ( [1] =&gt; Draft [2] =&gt; Published [3] =&gt; Archived )\necho Lookup::item(\'PostStatus\', Post::STATUS_PUBLISHED); // Published\n</pre>\n需要注意的是，我们可以将这些“状态”信息以常量的形式声明在 Model Class 中，\n这样做有两个好处：\n<ol><li>\n便于代码阅读；\n</li><li>\n可以放弃枚举类型了，而一律改用整数类型代替；\n</li></ol>\n\n<h3>Creating and Updating Posts</h3>\n到这里，Model Class <tt>Post</tt> 已设置就绪，本节转向 Controller \n<tt>PostController</tt> 的设置。\n<h4>Customizing Access Control</h4>\n执行一个操作之前先要判断当前用户是否有权限执行此操作？\n<tt>PostController.accessRules()</tt> 方法定义了访问权限：\n<pre class=\"brush: php\">\npublic function accessRules() {\n	return array(\n		// allow all users to access \'index\' and \'view\' actions.\n        	array(\'allow\', \'actions\'=&gt;array(\'index\',\'view\'), \'users\'=&gt;array(\'*\')),\n		// allow authenticated users to access all actions\n        	array(\'allow\', \'users\'=&gt;array(\'@\'),),\n		// deny all users\n        	array(\'deny\',  \'users\'=&gt;array(\'*\'),),\n	);\n}\n</pre>\n上面的语句声明如下权限：\n<ol><li>\n所有用户（\'<tt>*</tt>\'表示\'）可以访问 <tt>index</tt> 和 <tt>view</tt>\n两个 actions;\n</li><li>\n验证用户（\'<tt>@</tt>\'表示\'）可以访问所有 actions, 包含 <tt>admin</tt> action;\n</li><li>\n除此以外所有用户被禁止访问任何 action;\n</li></ol>\n<h4>Customizing <tt>create</tt> and <tt>update</tt> Operations</h4>\n对数据库应用来说，<tt>create</tt> 和 <tt>update</tt> 两个操作很像：\n<ol><li>\n都需要显示一个 HTML Form 来搜集用户输入的数据；\n</li><li>\n都需要验证数据合法性，然后存入数据库；\n</li></ol>\n两者不同之处在于：\n<ul><li>\n<tt>update</tt> 操作会从数据库中读取数据并预先填充各个表单元素；\n</li></ul>\n基于此，Yii 为每个重要模块（Post, Comment）都创建一个名为 <tt>_form.php</tt>\n的 View 文件，针对模块的 <tt>create</tt> 和 <tt>update</tt> 两个操作共享此\nView 文件，在执行操作时将加载该文件以生成所需的 HTML Form.\n<br><br>\n以 Model Class <tt>Post</tt>为例，它的 View 文件存放目录为：\n<tt>blog/protected/views/post/_form.php</tt>, 此文件内功能很多，\n如客户端错误提示信息方法、根据输入字符自动显示匹配标签名称、\n以及下拉菜单生成函数等。\n<br><br>\n<tt>_form.php</tt> 表单仅用来搜集<tt>tbl_post</tt>中用户输入的数据，\n包括 <tt>title</tt>, <tt>content</tt>, <tt>tags</tt> 和<tt>status</tt>.\n此外还有一些由系统自动生成的值，如 <tt>create_time</tt>, <tt>author_id</tt>等，\n我们通过在 Model CLass <tt>Post</tt> 中添加<tt>beforeSave()</tt> \n方法（准确说是覆盖，因为此方法继承自父类 <tt>CActiveRecord</tt>） \n来自动设置这些值。\n<pre class=\"brush: php\">\nprotected function beforeSave() {\n	if(parent::beforeSave()) {\n		if($this-&gt;isNewRecord) {\n			$this-&gt;create_time=$this-&gt;update_time=time();\n			$this-&gt;author_id=Yii::app()-&gt;user-&gt;id;\n		} else\n			$this-&gt;update_time=time();\n		return true;\n	} else\n		return false;\n}\n</pre>\n和写入数据之前进行一些准备工作一样，数据成功写入数据库后也经常会有一些后续动作，\n例如文章创建后需要更新标签表 <tt>tbl_tag</tt>, 这些工作我们在\n<tt>afterSave()</tt> 方法中完成：\n<pre class=\"brush: php\">\nprotected function afterSave() {\n	parent::afterSave();\n	Tag::model()-&gt;updateFrequency($this-&gt;_oldTags, $this-&gt;tags);\n}\n</pre>\n不过这里还有一种情况：用户在修改一篇文章时，很可能根本没有修改标签，\n如果是这样，就没必要更新标签库了。Yii 考虑到这种情况，我们在 Model Class \n<tt>Post</tt> 中增加一个 <tt>afterFind()</tt> 方法：\n<pre class=\"brush: php\">\nprivate $_oldTags; \n\nprotected function afterFind() {\n	parent::afterFind();\n	$this-&gt;_oldTags=$this-&gt;tags;\n}\n</pre>\n<tt>afterFind()</tt> 中的 \'Find\' 可理解为找到需要修改的记录并将数据填充到修改\n表单中。\n\n<h3>Displaying Posts</h3>\n在 Yii BLog 中，一篇文章有两种显示方法：单独显示或在文章列表中。前者调用的是 \n<tt>PostController</tt> 中 <tt>actionView()</tt> 方法；\n后者调用的是 <tt>actionIndex()</tt> 方法。再调用方法的同时还需要加载各自的\nView 文件，两个 View 文件存储位置分别为：\n<tt>blog/protected/views/post/view.php</tt> 和\n<tt>blog/protected/views/post/index.php</tt>\n<a name=\"3.3.1\"></a>\n<h4>Customizing <tt>view</tt> Operation</h4>\n<pre class=\"brush: php\">\nprivate $_model;\n\npublic function actionView() {\n	$post=$this-&gt;loadModel();\n	$comment=$this-&gt;newComment($post);\n\n	$this-&gt;render(\'view\',array(\n		\'model\'=&gt;$post,\n		\'comment\'=&gt;$comment,\n	));\n}\n\npublic function loadModel() {\n	if($this-&gt;_model===null) {\n		if(isset($_GET[\'id\'])) {\n			if(Yii::app()-&gt;user-&gt;isGuest)\n				$condition=\'status=\'.Post::STATUS_PUBLISHED.\' OR status=\'.Post::STATUS_ARCHIVED;\n			else\n				$condition=\'\';\n			$this-&gt;_model=Post::model()-&gt;findByPk($_GET[\'id\'], $condition);\n		}\n		if($this-&gt;_model===null)\n			throw new CHttpException(404,\'The requested page does not exist.\');\n	}\n	return $this-&gt;_model;\n}\n</pre>\n代码不难理解，主要工作集中在 <tt>loadModel()</tt> 上，即加载某文章的所有数据，\n这里面有一个权限判断——一般用户试图查看状态为 \'Draft\' 的文章时，将页面指向\n404 错误提示页。\n<a name=\"3.3.2\"></a>\n<h4>Customizing <tt>index</tt> Operation</h4>\n<pre class=\"brush: php\">\npublic function actionIndex() {\n	$criteria=new CDbCriteria(array(\n		\'condition\'=&gt;\'status=\'.Post::STATUS_PUBLISHED,\n		\'order\'=&gt;\'update_time DESC\',\n		\'with\'=&gt;\'commentCount\',\n	));\n	if(isset($_GET[\'tag\']))\n		$criteria-&gt;addSearchCondition(\'tags\',$_GET[\'tag\']);\n\n	$dataProvider=new CActiveDataProvider(\'Post\', array(\n		\'pagination\'=&gt;array(\n			\'pageSize\'=&gt;Yii::app()-&gt;params[\'postsPerPage\'],\n		),\n		\'criteria\'=&gt;$criteria,\n	));\n\n	$this-&gt;render(\'index\',array(\n		\'dataProvider\'=&gt;$dataProvider,\n	));\n}\n</pre>\n<tt>$dataProvider</tt> 有三个功能：\n<ol><li>\n分页\n</li><li>\n按用户请求排序文章列表；\n</li><li>\n把经过前两项处理过的数据交给 View 文件供使用；\n<i>\"it feeds the paginated and sorted data to widgets or view code \nfor presentation. \"</i>\n</li></ol>\n<pre class=\"brush: php\">\n// protected/views/post/index.php\nif(!empty($_GET[\'tag\'])):\n	echo \"<h1>Posts Tagged with <i>\".CHtml::encode($_GET[\'tag\']).\"</i></h1>\";\nendif;\n\n$this-&gt;widget(\'zii.widgets.CListView\', array(\n	\'dataProvider\'=&gt;$dataProvider,\n	\'itemView\'=&gt;\'_view\',\n	\'template\'=&gt;\"{items}\\n{pager}\",\n));\n</pre>\n\n<h3>Managing Posts</h3>\n<img src=\"/img/page/2012/snap.yii-blog-admin-view.png\" /><br>\n管理列表支持分页、排序等常见功能。\n此模块由 <tt>actionAdmin()</tt>, <tt>actionDelete()</tt> 两个方法完成。\n<a name=\"3.4.1\"></a>\n<h4>Listing Posts in Tabular View (<tt>actionAdmin()</tt>)</h4>\n<pre class=\"brush: php\">\npublic function actionAdmin() {\n	$model=new Post(\'search\');\n	if(isset($_GET[\'Post\']))\n		$model-&gt;attributes=$_GET[\'Post\'];\n	$this-&gt;render(\'admin\',array(\n		\'model\'=&gt;$model,\n	));\n}\n</pre>\n上面代码由 <tt>yiic</tt> 自动生成，不需要更改。\n<ol><li>\n创建一个可以接受搜索条件的 <tt>Post</tt> Object.\n<i>\"It first creates a <tt>Post</tt> model under the <tt>search</tt> scenario.\nWe will use this model to collect the search conditions \nthat the user specifies.\"</i><br>\n问题是 <tt>Post</tt> 类中没有带参数的构造器啊。\n</li><li>\n将用户提供的数据追加到 <tt>Post</tt> Object 中；\n<i>\"We then assign to the model the user-supplied data, if any.\"</i>\n</li><li>\n最后，将此 Object 传递到 Admin View 中；\n<i>\"Finally, we render the admin view with the model.\"</i>\n</li></ol>\n值得注意的是，Yii 使用了 <tt>CGridView</tt> CLass 来显示文章列表；\n<pre class=\"brush: php\">\n// Snippet in blog/protected/views/post/admin.php\n$this-&gt;widget(\'zii.widgets.grid.CGridView\', array(\n	\'dataProvider\'=&gt;$model-&gt;search(),\n	\'filter\'=&gt;$model,\n	\'columns\'=&gt;array(\n		array(\n			\'name\'=&gt;\'title\',\n			\'type\'=&gt;\'raw\',\n			\'value\'=&gt;\'CHtml::link(CHtml::encode($data-&gt;title), $data-&gt;url)\'\n		),\n		array(\n			\'name\'=&gt;\'status\',\n			\'value\'=&gt;\'Lookup::item(\"PostStatus\",$data-&gt;status)\',\n			\'filter\'=&gt;Lookup::items(\'PostStatus\'),\n		),\n		array(\n			\'name\'=&gt;\'create_time\',\n			\'type\'=&gt;\'datetime\',\n			\'filter\'=&gt;false,\n		),\n		array(\n			\'class\'=&gt;\'CButtonColumn\',\n		),\n	),\n));\n</pre>\n借助 <tt>CGridView</tt> CLass 生成的管理表格有一个很好的特性：\n通过 AJAX 实现排序、分页等操作。\n<br><br>\n<b>疑问</b>：<tt>widget()</tt>方法属于哪个类？<tt>$this</tt>指的又是哪个 Object?\n<br>\n<b>回答</b>： 参考 <a \nhref=\"#method-render-and-widget\"><tt>$this->widget()</tt> 的来龙去脉</a>\n\n<h4>Deleting Posts</h4>\n<pre class=\"brush: php\">\n// Snippet in blog/protected/controllers/PostController.php\npublic function actionDelete() {\n	if(Yii::app()-&gt;request-&gt;isPostRequest) {\n		$this-&gt;loadModel()-&gt;delete();\n\n		if(!isset($_GET[\'ajax\']))\n			$this-&gt;redirect(array(\'index\'));\n	} else\n		throw new CHttpException(400,\'Invalid request. Please do not repeat this request again.\');\n}\n</pre>\n<b>疑问</b>：<tt>$this-&gt;loadModel()-&gt;delete();</tt> 中 \n<tt>delete()</tt> 方法在哪？\n<br>\n<b>回答</b>：该方法是 <tt>CActiveRecord</tt> 中定义的方法，而 <tt>Post</tt> Class\n是其子类。\n\n<br><br>\n删除操作之后有一些后续工作：\n<ol><li>\n删除该文章下的所有评论；\n</li><li>\n更新 <tt>tbl_tags</tt> 信息；\n</li></ol>\n这些后续工作同样放在 <tt>afterDelete()</tt> 中处理：\n<pre class=\"brush: php\">\n// Snippet in blog/protected/models/Post.php\nprotected function afterDelete() {\n	parent::afterDelete();\n	Comment::model()-&gt;deleteAll(\'post_id=\'.$this-&gt;id);\n	Tag::model()-&gt;updateFrequency($this-&gt;tags, \'\');\n}\n</pre>\n\n<h2>Comment Management</h2>\n<h3>Customizing <tt>Comment</tt> Model</h3>\n在 <tt>Post</tt> Model Class 中我们主要修改两个方法：<tt>rules()</tt> 和 \n<tt>relations()</tt>. <tt>Comment</tt> Model Class 也需将重点放在这两个方法上，\n除此之外，还有一个 <tt>attributeLabels()</tt> 需要说明，这里的 \'Label\' \n是显示给用户看的。\n<h4>Customizing <tt>rules()</tt> Method</h4>\n与 <tt>Post</tt> Model Class 类似，不再赘述。\n<h4>Customizing <tt>attributeLabels()</tt> Method</h4>\n<pre class=\"brush: php\">\n// Snippet in blog/protected/models/Comment.php\npublic function attributeLabels() {\n	return array(\n		\'id\' => \'Id\',\n		\'content\' => \'Comment\',\n		\'status\' => \'Status\',\n		\'create_time\' => \'Create Time\',\n		\'author\' => \'Name\',\n		\'email\' => \'Email\',\n		\'url\' => \'网址\',\n		\'post_id\' => \'Post\',\n	);\n}\n</pre>\n注意两点：\n<ol><li>\n怎样读取此内容？\n<i>\"When we call <tt>CHtml::activeLabel()</tt> to display an attribute label.\"</i>\n</li><li>\n如果 Model Attribute Label 没有在此声明，系统将根据一定的算法自动创建一个合适的 Label.\n例如 Attribute <tt>create_time</tt> 将生成 Label <tt>Create Time</tt>.\n</li></ol>\n<h4>Customizing Saving Process</h4>\n与 <tt>Post</tt> Model Class 类似，评论的创建时间仍需要系统来生成，\n因此 <tt>Comment</tt> Model Class 也需要覆盖 <tt>beforeSave()</tt>\n方法以确保所有数据均存在。\n\n<h3>Creating and Displaying Comments</h3>\n<h4>Displaying Comments</h4>\n注意：这里显示的是某篇文章的评论，因此我们将创建、显示评论模块加在\n查看文章详情模块下方：\n<pre class=\"brush: php\">\n// Snippet in blog/protected/views/post/view.php\necho \'&lt;div id=\"comments\"&gt;\';\nif($model-&gt;commentCount&gt;=1) {\n	echo \"&lt;h3&gt;\";\n	echo $model-&gt;commentCount&gt;1 ? $model-&gt;commentCount . \' comments\' : \'One comment\';\n	$this-&gt;renderPartial(\'_comments\',array(\n		\'post\'=&gt;$model,\n		\'comments\'=&gt;$model-&gt;comments,\n	));\n}\n\necho \"&lt;h3&gt;Leave a Comment&lt;/h3&gt;\";\n\nif(Yii::app()-&gt;user-&gt;hasFlash(\'commentSubmitted\')) {\n	echo \'&lt;div class=\"flash-success\"&gt;\';\n	echo Yii::app()-&gt;user-&gt;getFlash(\'commentSubmitted\');\n	echo \'&lt;/div&gt;\';\n}\n$this-&gt;renderPartial(\'/comment/_form\',array(\n	\'model\'=&gt;$comment,\n));\necho \'&lt;/div&gt;\';\n</pre>\n上面代码中需要注意几点：\n<ol><li>\n使用 <tt>renderPartial()</tt> 而不是 <tt>render()</tt> \n的原因是评论管理页面里也要用到此模块，因此将该模块抽象出来，\n公用的 View 文件的特点是前面有 <tt>_</tt> 前缀，\n如这里的 <tt>blog/protected/views/post/_comment.php</tt>；\n</li><li>\n我们通过 <tt>$model-&gt;commentCount</tt> 获得一篇文章的评论数，\n通过 <tt>$model-&gt;comments</tt> 获得文章的所有评论，而这里的 <tt>$model</tt>\n是 <tt>Post</tt> Model Class 的实例。能这样使用的原因在于我们在\n这是因为我们在 <a href=\"#3.1.2\">3.1.2</a> 节中设置 <tt>Post</tt> \nModel Class 的 <tt>relations()</tt> 方法中已经事先声明：\n<pre class=\"brush: php\">\nreturn array(\n	...\n	\'comments\' =&gt; array(self::HAS_MANY, \'Comment\', \'post_id\', \'condition\'=&gt;\'comments.status=\'.Comment::STATUS_APPROVED, \'order\'=&gt;\'comments.create_time DESC\'),\n	\'commentCount\' =&gt; array(self::STAT, \'Comment\', \'post_id\', \'condition\'=&gt;\'status=\'.Comment::STATUS_APPROVED),\n);\n</pre>\n这样即可省去繁琐的多表查询，大大提高效率， Yii 中此特性叫 \n<i>Lazy relation query</i>;\n</li></ol>\n<h4>Creating Comments</h4>\n上节我们将文章评论的显示、添加模块追加到 \n<tt>blog/protected/views/post/view.php</tt> View 中，相对应的，\n我们也该将其 Controller 也添加到 <tt>PostController</tt> 中。\n其实这个工作在 <a href=\"#3.3.1\">3.3.1</a> 中已经做过了（Line 4 处），\n只是那时着重说明的是文章显示功能。\n<pre class=\"brush: php\">\n// Snippet in blog/protected/controllers/PostController.php\npublic function actionView() {\n	...\n	$comment=$this-&gt;newComment($post);\n\n	$this-&gt;render(\'view\',array(\n		\'model\'=&gt;$post,\n		\'comment\'=&gt;$comment,\n	));\n}\nprotected function newComment($post) {\n	$comment=new Comment;\n	if(isset($_POST[\'ajax\']) && $_POST[\'ajax\']===\'comment-form\') {\n		echo CActiveForm::validate($comment);\n		Yii::app()-&gt;end();\n	}\n	if(isset($_POST[\'Comment\'])) {\n		$comment-&gt;attributes=$_POST[\'Comment\'];\n		if($post-&gt;addComment($comment)) {\n			if($comment-&gt;status==Comment::STATUS_PENDING)\n				Yii::app()-&gt;user->setFlash(\'commentSubmitted\',\'Thank you for your comment. Your comment will be posted once it is approved.\');\n			$this-&gt;refresh();\n		}\n	}\n	return $comment;\n}\n</pre>\n现在来说明一下添加评论这一功能的实现流程：\n<ol><li>\n创建一个 <tt>Comment</tt> 实例 <tt>$comment</tt>;\n</li><li>\n如果要求 AJAX 验证，那么先验证；\n</li><li>\n<tt>isset($_POST[\'Comment\'])</tt> 用来检测评论是否已经提交；如果是，\n则尝试将评论加到 <tt>$post</tt> 中（L19），\n</li><li>\n如果添加成功，根据评论是否需要审核进行相应处理；\n</li><li>\n<tt>User</tt> Model Class 的 <tt>setFlash()</tt> 方法用于显示提示信息给用户；\n<i>\"A <b>flash message</b> is usually a confirmation message \ndisplayed to end users.\"</i>\n</li></ol>\n<h4>Ajax-based Validation</h4>\n新建评论操作与新建文章时的一个不同之处在于：用户没填完一项内容就会立刻进行客户端\n验证；而创建文章则是在按下“创建”按钮后再统一进行服务器端验证。添加此功能很简单：\n<ol><li>\n修改 <tt>blog/protected/views/comment/_form.php</tt> 文件：<br>\n<pre class=\"brush: php\">\n$form=$this-&gt;beginWidget(\'CActiveForm\', array(\n	\'id\'=&gt;\'comment-form\',\n	\'enableAjaxValidation\'=&gt;true, // This line makes the difference\n));\n</pre>\n对比创建评论的表单 View 文件（<tt>blog/protected/views/post/_form.php</tt>）：\n<pre class=\"brush: php\">\n$form=$this-&gt;beginWidget(\'CActiveForm\'); // 无相应配置参数\n</pre>\n</li><li>\n在 <tt>blog/protected/controllers/PostController.php</tt> 中添加如下代码\n<i>\"to respond to the AJAX validation requests.\"</i>\n<pre class=\"brush: php\">\nprotected function newComment($post) {\n	...\n	if(isset($_POST[\'ajax\']) && $_POST[\'ajax\']===\'comment-form\') {\n		echo CActiveForm::validate($comment);\n		Yii::app()-&gt;end();\n	}\n	...\n}\n</pre>\n对比创建评论的 Controller 代码\n（<tt>blog/protected/controllers/PostController.php</tt>）会发现，\n评论提交前（Line 3 处）并无 AJAX 验证；\n<pre class=\"brush: php\">\npublic function actionCreate() {\n	$model=new Post;\n	if(isset($_POST[\'Post\'])) {\n		$model-&gt;attributes=$_POST[\'Post\'];\n		if($model-&gt;save())\n			$this-&gt;redirect(array(\'view\',\'id\'=&gt;$model-&gt;id));\n	}\n\n	$this-&gt;render(\'create\',array(\n		\'model\'=&gt;$model,\n	));\n}\n</pre>\n这么一对比，添加、取消客户端验证就变得异常简单了；\n</li></ol>\n\n<h3>Managing Comments</h3>\n评论管理主要包括查看、修改、删除和审核四个功能，这些操作均在 \n<tt>CommentController</tt> 中。\n<h4>Updating (<tt>actionUpdate()</tt>) and Deleting (<tt>actionDelete()</tt>) Comments</h4>\n<pre class=\"brush: php\">\npublic function actionUpdate() {\n	$model=$this-&gt;loadModel();\n	if(isset($_POST[\'ajax\']) && $_POST[\'ajax\']===\'comment-form\') {\n		echo CActiveForm::validate($model);\n		Yii::app()-&gt;end();\n	}\n	if(isset($_POST[\'Comment\'])) {\n		$model-&gt;attributes=$_POST[\'Comment\'];\n		if($model-&gt;save())\n			$this-&gt;redirect(array(\'index\'));\n	}\n\n	$this-&gt;render(\'update\',array(\n		\'model\'=&gt;$model,\n	));\n}\npublic function actionDelete() {\n	if(Yii::app()-&gt;request-&gt;isPostRequest) {\n		$this-&gt;loadModel()-&gt;delete();\n\n		if(!isset($_POST[\'ajax\']))\n			$this-&gt;redirect(array(\'index\'));\n	}\n	else\n		throw new CHttpException(400,\'Invalid request. Please do not repeat this request again.\');\n}\n</pre>\n<h4>Approving Comments: <tt>actionApprove()</tt></h4>\n审核操作只需修改评论的状态值，这跟财务审核费用申请单很类似。\n<pre class=\"brush: php\">\npublic function actionApprove() {\n	if(Yii::app()-&gt;request-&gt;isPostRequest) {\n		$comment=$this-&gt;loadModel();\n		$comment-&gt;approve();\n		$this-&gt;redirect(array(\'index\'));\n	}\n	else\n		throw new CHttpException(400,\'Invalid request. Please do not repeat this request again.\');\n}\n</pre>\n<tt>$comment-&gt;approve();</tt> 是 <tt>Comment</tt> Model Class 中定义的方法：\n<pre class=\"brush: php\">\npublic function approve() {\n	$this-&gt;status=Comment::STATUS_APPROVED;\n	$this-&gt;update(array(\'status\'));\n}\n</pre>\n\n<h4>Displaying Comments: <tt>actionIndex()</tt></h4>\n<pre class=\"brush: php\">\npublic function actionIndex() {\n	$dataProvider=new CActiveDataProvider(\'Comment\', array(\n		\'criteria\'=&gt;array(\n			\'with\'=&gt;\'post\',\n			\'order\'=&gt;\'t.status, t.create_time DESC\',\n		),\n	));\n\n	$this-&gt;render(\'index\',array(\n		\'dataProvider\'=&gt;$dataProvider,\n	));\n}\n</pre>\n和 <a href=\"#3.3.2\">3.3.2</a> 在首页显示文章列表一样，显示所有评论也用到了\n<tt>CActiveDataProvider</tt> Class. 因为我们要优先显示等待审核的评论，\n因此我们添加了<tt>\'order\'=&gt;\'t.status, t.create_time DESC\'</tt> 参数。\n这里解释一下 <tt>t.</tt> 的含义：由于 <tt>tbl_post</tt> 和 <tt>tbl_comment</tt>\n都有名为 <tt>status</tt> 的列，为了避免歧义，我们需要在表名前加上其 Alias Name,\n在多表查询中，主表的 Alias Name 就为 <tt>t</tt>\n(<i>\"As described in the guide, the alias for the primary table in a \nrelational query is always <tt>t</tt>.\"</i>). 因此，这里的 <tt>t.</tt>\n表示我们要的是主表 <tt>tbl_comment</tt> 中的 <tt>status</tt> 值。\n\n<h2>Portlets</h2>\n先说说 \'Portlet\' 这个词，该词在词典中找不到，在这里可以理解为“组件“之意，\n和 \'Component\', \'Widget\' 意思接近。创建 Portlet 需要使用 \n<tt>CPortlet</tt> Class.\n<h3>Creating User Menu Portlet</h3>\n此部件要点如下：\n<ol><li>\n只有经过身份验证的用户才可见；\n</li><li>\n包含四个条目：\n	<ol><li>\n	等待审核评论链接；\n	</li><li>\n	新建文章链接；\n	</li><li>\n	管理文章链接；\n	</li><li>\n	退出系统链接\n	</li></ol>\n</li></ol>\n<h4>Creating <tt>UserMenu</tt> Class</h4>\n此文件路径：<tt>blog/protected/components/UserMenu.php</tt>, 代码如下：\n<pre class=\"brush: php\">\nYii::import(\'zii.widgets.CPortlet\');\n\nclass UserMenu extends CPortlet {\n	public function init() {\n		$this-&gt;title=CHtml::encode(Yii::app()-&gt;user-&gt;name);\n		parent::init();\n	}\n\n	protected function renderContent() {\n		$this-&gt;render(\'userMenu\');\n	}\n}\n</pre>\n要点如下：\n<ol><li>\nLine 1 演示了如何 import Yii 框架中的一个非核心类（core class）\n(<i>\"before we refer to it the first time.\"</i>)。\n<tt>zii</tt> project 是 Yii 的官方插件包，处于性能考虑，此包没有包含进核心类中。\nYii 的包以文件夹的形式进行组织。以 <tt>zii.widgets.CPortlet</tt> 为例，\n它其实表名了 <tt>CPortlet</tt> CLass 的文件路径：\n<pre class=\"tty\">\nyii/frameword/\n  |-- zii/\n    |-- widgets/\n      |-- CPortlet.php\n</pre>\n</li><li>\n<tt>init()</tt>, <tt>renderContent()</tt> 两个方法均继承自父类\n<tt>CPortlet</tt>, 前者将用户名称设为 Portlet 的标题；后者通过生成一个名为\n<tt>userMenu</tt> 的 View 来生成 Portlet body content.\n</li><li>\n<b>疑问</b>:<tt>parnet::init()</tt>起什么作用？\n</li></ol>\n<h4>Creating <tt>userMenu</tt> View</h4>\nView 文件路径为：<tt>blog/protected/components/views/userMenu.php</tt>\n<pre class=\"brush: php\">\necho \"&lt;ul&gt;&lt;li&gt;\";\necho CHtml::link(\'Create New Post\',array(\'post/create\'));\necho \"&lt;/li&gt;&lt;li&gt;\";\necho CHtml::link(\'Manage Posts\',array(\'post/admin\'));\necho \"&lt;/li&gt;&lt;li&gt;\";\necho CHtml::link(\'Approve Comments\',array(\'comment/index\')) . \' (\' . Comment::model()-&gt;pendingCommentCount . \')\';\necho \"&lt;/li&gt;&lt;li&gt;\";\necho CHtml::link(\'Logout\',array(\'site/logout\'));\necho \"&lt;/li&gt;&lt;/ul&gt;\";\n</pre>\n<ol><li>\nYii 中生成一个链接用的是 <tt>CHtml</tt> Class 中的 <tt>link()</tt> 方法，\n此类属包 <tt>system.web.helpers</tt>;\n</li><li>\nWidget 的 View 文件路径也需要注意：\n<i>\"view files for a widget should be placed under the views sub- directory of \nthe directory containing the widget class file. The file name must be \nthe same as the view name. \"</i><br>\n和 Post, Comment 这些模块相比，Widget 少了 \'Model\', 且 \'View\' 作为子目录放在\n\'Controller\' 目录下。\n</li></ol>\n至此，第一个 Widget 已完工，下面介绍怎么使用它。\n<h4>Using <tt>UserMenu</tt> Portlet</h4>\n在页面中添加一个 Widget 需要修改\n<tt>blog/protected/views/layouts/column2.php</tt> View 文件：\n<pre class=\"brush: php\">\necho \'&lt;div id=\"sidebar\"&gt;\';\nif(!Yii::app()-&gt;user-&gt;isGuest) $this-&gt;widget(\'UserMenu\');\necho \'&lt;/div&gt;\';\n</pre>\n在确保当前用户身份验证的情况下，我们调用 <tt>widget()</tt> 方法创建一个名为\n<tt>UserMenu</tt> 的 Widget instance 并执行。\n\n<br><br><hr><br><br>\n\n<a name=\"method-render-and-widget\"></a>\n<b><tt>$this->widget()</tt> 中 \'$this\' 指的是哪个 Class instance?</b>\n<br><br>\n先说说 <tt>render()</tt> 方法。到目前为止，我们遇到的各种 Controllers \n都使用了一个方法，就是 <tt>render()</tt>, 举几个例子：\n<pre class=\"brush: php\">\n// PostController\n$this-&gt;render(\'view\',array( \'model\'=&gt;$post, \'comment\'=&gt;$comment,));	// actionView\n$this-&gt;render(\'create\',array( \'model\'=&gt;$model,));				// actionCreate\n$this-&gt;render(\'update\',array( \'model\'=&gt;$model,));				// actionUpdate\n$this-&gt;render(\'index\',array( \'dataProvider\'=&gt;$dataProvider,)); 		// actionIndex\n$this-&gt;render(\'admin\',array( \'model\'=&gt;$model,));				// actionAdmin \n// CommentController\n$this-&gt;render(\'update\',array( \'model\'=&gt;$model,));				// actionUpdate\n</pre>\n该方法是 <tt>CController</tt> Class 中定义的方法，而 <tt>CController</tt>\n正是 <tt>PostController</tt>, <tt>CommentController</tt> 的父类，\n手册中对此方法功能描述如下：\n<blockquote>\n<ol><li>\nRender (渲染?) a view sith a layout.\n</li><li>\nThis method first calls <tt>renderPartial()</tt> to render the view \n(called <b>content view</b>). \n</li><li>\nIt then renders the <b>layout view</b> which may embed the content view \nat appropriate place. \n</li><li>\nIn the layout view, the content view rendering result can be accessed via \nvariable <tt>$content</tt>. \n</li><li>\nAt the end, it calls <tt>processOutput()</tt> to insert scripts and \ndynamic contents if they are available. \n</li><li>\nBy default, the layout view script is \n<tt>\"protected/views/layouts/main.php\"</tt>. \nThis may be customized by changing <tt>layout</tt> property.\n</li></ol>\n</blockquote>\n结论：Layout 和 View 这些文件中的 <tt>$this</tt> 和“调用”它们的这些 Controllers\n中的 <tt>$this-&gt;render()</tt> 代表的含义是一样的，都是 \nController Class instance.\n<br><br>\n我们来对比一下 <tt>UserMenu</tt> Portlet Class\n和传统控制器 <tt>PostController</tt> 两者完整继承路径：\n<pre class=\"brush: php\">\nUserMenu » CPortlet » CWidget » CBaseController » CComponent\nPostController » CController » CBaseController » CComponent\n</pre>\n从中可以得出结论：Widget 是 Controller 的一种形式。而 \n<tt>widget()</tt> 正是 <tt>CBaseController</tt> Class 中定义的方法，\n两者因此都继承了此方法，这也回答了<a href=\"#3.4.1\">3.4.1</a> 节的疑问。\n\n<h3>Creating Tag Cloud Portlet</h3>\n<pre class=\"brush: php\">\n// Create \nYii::import(\'zii.widgets.CPortlet\');\n\nclass TagCloud extends CPortlet\n{\n	public $title=\'Tags\';\n	public $maxTags=20;\n\n	protected function renderContent()\n	{\n		$tags=Tag::model()-&gt;findTagWeights($this-&gt;maxTags);\n\n		foreach($tags as $tag=&gt;$weight)\n		{\n			$link=CHtml::link(CHtml::encode($tag), array(\'post/index\',\'tag\'=&gt;$tag));\n			echo CHtml::tag(\'span\', array(\n				\'class\'=&gt;\'tag\',\n				\'style\'=&gt;\"font-size:{$weight}pt\",\n			), $link).\"\\n\";\n		}\n	}\n}\n// Invoke\n$this-&gt;widget(\'TagCloud\', array(\n	\'maxTags\'=&gt;Yii::app()-&gt;params[\'tagCloudCount\'],\n));\n</pre>\n和 User Menu Portlet 对比可以发现：\n<ol><li>\n不同于 User Menu Portlet, Tag Cloud Portlet 没有单独的 View 文件，它直接通过 \n<tt>renderContent()</tt> 完成显示，这是因为此 Portlet 中没有太多的 HTML Tags, 没必要单独创建\nView File.\n</li><li>\nTag Cloud Portlet 中没有 override <tt>init()</tt> 方法，再来看看 <tt>UserMenu.init()</tt>:\n<pre class=\"brush: php\">\npublic function init() {\n	$this-&gt;title=CHtml::encode(Yii::app()-&gt;user-&gt;name);\n	parent::init();\n}\n</pre>\n这里初始化的目的就是设置 Widget 的 <tt>$title</tt> 属性的值，问题是对 \n<tt>parent::init();</tt> 一句不理解，为什么非要再调用一次父类 <tt>CPortlet</tt> 的 \n<tt>init()</tt> 呢？手册上关于 <tt>Cportlet.init()</tt> 的说明：\n<i>\"This renders the open tags needed by the portlet. It also renders the decoration, \nif any.\"</i> 猜想原因是因为<b>父类和子类都需要进行初始化操作</b>；\n</li><li>\n获取标签与 Weigth 映射数组；\n<pre class=\"brush: php\">\n$tags=Tag::model()-&gt;findTagWeights($this-&gt;maxTags);\n</pre>\n<tt>module_name::model()-&gt;xxx()</tt> 的用法经常遇到，那么这个 <tt>module()</tt> 方法有何作用？\n<a target=\"_blank\" href=\"/ref/yii/doc/api/CActiveRecord.html#model-detail\">手册</a>上说：\n<i>\"The model returned is a <u>static instance</u> of the AR class. \nIt is provided for invoking class-level methods (something similar to static class methods.)\"</i>\n这 \'static instance\' 不理解，怎么对象还有 static 的？猜想应该和 E-Order 中类似\n<tt>$omcompany-&gt;cmn_mk_customer_result_table();</tt> 语句功能类似；\n</li><li>\n<tt>CHtml::tag()</tt> 方法可以方便的创建 HTML Tags;\n</li></ol>\n\n<h3>Creating Recent Comments Portlet</h3>\n<pre class=\"brush: php\">\n// Class\nYii::import(\'zii.widgets.CPortlet\');\n\nclass RecentComments extends CPortlet\n{\n	public $title=\'Recent Comments\';\n	public $maxComments=10;\n\n	public function getRecentComments()\n	{\n		return Comment::model()-&gt;findRecentComments($this-&gt;maxComments);\n	}\n\n	protected function renderContent()\n	{\n		$this-&gt;render(\'recentComments\');\n	}\n}\n// View\necho \'&lt;ul&gt;\';\nforeach($this-&gt;getRecentComments() as $comment) \n{\n	echo \"&lt;li&gt;\".$comment-&gt;authorLink.\"on\".\n		CHtml::link(CHtml::encode($comment-&gt;post-&gt;title), $comment-&gt;getUrl());\n	echo \'&lt;/li&gt;\';\n}\necho \'&lt;/ul&gt;\';\n// Invoke\n$this-&gt;widget(\'RecentComments\', array(\n	\'maxComments\'=&gt;Yii::app()-&gt;params[\'recentCommentCount\'],\n));\n</pre>\n第三个 Widget 只有一点需要说明：<tt>RecentComments</tt> Class 中多了一个 \n<tt>getRecentComments()</tt> 方法， View File 中使用了此方法；\n\n<h2>Final Work</h2>\n<h3>Beautifying URLs</h3>\n到目前 Blog 程序内的地址链接看上去比较杂乱：\n<pre class=\"brush: php\">\n/index.php?r=post/show&id=1&title=A+Test+Post	//查看文章详情\n/index.php?r=post/index&tag=yii			// 所有标签含有 \'yii\' 的文章\n/index.php?r=post/update&id=1			// 编辑文章链接\n</pre>\n本节我们将这些链接进行优化以利于 SEO, 我们的目的是将上面三个链接变成如下样式：\n<pre class=\"brush: php\">\n/index.php/post/2/A+Test+Post\n/index.php/posts/yii\n/index.php/post/update?id=1\n</pre>\n将文章标题包含在 URL 对 SEO 的含义：\n<i>\"It is said that search engines may also respect the words \nfound in a URL when it is being indexed.\"</i>\n<br><br>\n在系统配置文件添加 <tt>urlManager</tt> 组件如下：\n<pre class=\"brush: php\">\nreturn array(\n	......\n	\'compoments\' =&gt; array(\n		......\n		\'urlManager\'=&gt;array(\n			\'urlFormat\'=&gt;\'path\',\n			\'rules\'=&gt;array(\n				\'post/&lt;id:\\d+&gt;/&lt;title:.*?&gt;\'=&gt;\'post/view\',\n				\'posts/&lt;tag:.*?&gt;\'=&gt;\'post/index\',\n				\'&lt;controller:\\w+&gt;/&lt;action:\\w+&gt;\'=&gt;\'&lt;controller&gt;/&lt;action&gt;\',\n			),\n		),\n	),\n);\n</pre>\n',NULL,1,1,'Y',0,'util.js','2012-08-27 15:08:48','2014-02-27 13:20:21'),(197,'移除 Yii Blog URL 中的 \'index.php\'','<h2>2012.12.15 更新</h2>\n之前迁移 E-Orders 都是在 Yii 自带的 Blog 应用里进行，为了迁移方便，14 日将\nE-Orders 从 Blog 中分离开，为应用单独创建了目录 \'eo/\', 还有独立的数据库\n\'yiieorder\'. 晚上在家的电脑上运行发现异常，症状如下：\n<ol><li>\neo 应用中除了访问 eo/ 时正常外，再点任何链接都提示 404 Not Found 错误；\n</li><li>\nblog/ 下一切正常；\n</li><li>\n笔记本电脑上 eo/protected/, blog/protected/ 两个目录下尽管都有阻止访问的\n.htaccess 文件，但不起作用，通过浏览器仍能访问；\n</li><li>\n相对应的是：将同样的目录复制到单位电脑上却无此问题，两个应用访问正常，\n且试图访问两个 protected/ 目录时将提示 403 错误；\n</li></ol>\n早上把笔记本带到单位继续找原因，最终发现是笔记本上的 Apache 配置出了问题，\n出问题的配置信息如下：\n<pre class=\"tty\">\nDocumentRoot /home/ts/www/\n&lt;Directory /&gt;\n	Options FollowSymLinks\n	<span class=\'hl\'>AllowOverride None</span>\n	<span class=\'cmt\'>上面一行表示 Apache 根目录下所有子目录都禁止覆盖配置\n	信息，这里“覆盖”的主语是各目录下的 .htaccess 文件。例如如果在根目录下创\n	建内容为 \'deny from all\' 的 .htaccess 文件，那么访问根目录时将不会出现\n	403 错误信息，因为这里已经声明所有的 .htaccess 文件已失效。而下面没有\n	单独声明 eo/ 目录下的规则，这意味着 eo/.htaccess 中设置的重定向规则失效\n	这就是为什么 eo/ 下除了首页外一切动作都提示 404 错误的原因。同样，\n	eo/protected/.htaccess 也失效，通过浏览器能访问 protected/ 目录也就是\n	正常的事情了。</span>\n&lt;/Directory&gt;\n&lt;Directory /home/ts/www/blog/&gt;\n	<span class=\'hl\'>RewriteEngine on</span>\n         \n        # if a directory or a file exists, use it directly\n	<span class=\'hl\'>RewriteCond %{REQUEST_FILENAME} !-f\n        RewriteCond %{REQUEST_FILENAME} !-d</span>\n         \n        # otherwise forward it to index.php\n	<span class=\'hl\'>RewriteRule . index.php</span>\n	<span class=\'cmt\'>这里对 blog/ 目录进行了重定向声明，所以 blog/ 下\n	的链接都正常。因为这里仅设置了重定向规则，没有设置覆盖规则，因此此目录\n	的覆盖规则“继承”父目录也就是根目录的覆盖规则，那就是禁止覆盖。这意味着\n	blog/protected/.htaccess 规则失效，这是 blog/protected 目录能通过浏览器\n	访问的原因。</span>\n&lt;/Directory&gt;\n</pre>\n解释完笔记本上的为什么异常后，再来看看单位电脑上又是为什么正常的，同样是配置的\n问题：\n<pre class=\"tty\">\nDocumentRoot /home/ts/www/\n&lt;Directory /&gt;\n	Options FollowSymLinks\n	<span class=\'hl\'>AllowOverride All</span>\n	<span class=\'cmt\'>单位电脑里的配置信息规则很简单：允许根目录下所有\n	.htaccess 规则覆盖默认的规则。这意味着 eo/.htaccess, blog/.htaccess,\n	eo/protected/.htaccess 和 blog/protected/.htaccess 四个规则都生效，\n	自然一切正常了。</span>\n&lt;/Directory&gt;\n</pre>\n\n<h2>原始</h2>\n在 Yii Blog 6.1 节中讲解了如何通过在配置文件中添加 <tt>urlManagement</tt> \n组件来简化 URL 的方法。简化过后的 URL 类似这样：\n<pre class=\"brush: php\">\nblog/index.php/post/2/A+Test+Post\nblog/index.php/posts/yii\nblog/index.php/post/update?id=1\n</pre>\n现在我们想把上面 URL 中的 \'index.php\' 也去掉。要实现此目的，\n需要做两项工作：\n<ol><li>\n配置 Web server (Apache) 使得不含 Entry Script (index.php) 的 URL \n也照样可以顺利执行该 Entry Script. 这需要打开 URL Rewriting Engine;\n</li><li>\n配置 <tt>urlManager</tt> Compoment 隐藏 Entry Script;\n</li></ol>\n\n<h3>配置 Apache</h3>\n在 Apache 配置文件（/etc/apache2/sites-avilable/default）中添加如下内容：\n<pre class=\"brush: php\">\n&lt;Directory /home/ts/www/blog/&gt;\n	RewriteEngine on\n\n	# if a directory or a file exists, use it directly\n	RewriteCond %{REQUEST_FILENAME} !-f\n	RewriteCond %{REQUEST_FILENAME} !-d\n\n	# otherwise forward it to index.php\n	RewriteRule . index.php\n&lt;/Directory&gt;\n</pre>\n上面打开了 URL Rewriting Engin 并设置了重定向规则：\n如果该目录下存在对应名称的文件或子目录，直接访问，否则重定向至该目录下 index \n页面。重启 Apache 使设置生效，但出现如下错误信息：\n<pre class=\"tty\">\nInvalid command \'RewriteEngine\', perhaps misspelled or \ndefined by a module not included in the server configuration\n</pre>\n提示信息表明重定向模块没有安装。\n\n<h4>在 Apache 中启动重定向模块 <tt>rewrite</tt></h4>\nApache2 在 Debian 中的默认安装目录结构如下：\n<pre class=\"tty\">\n/etc/apache2\n    |-- apache2.conf\n    |-- conf.d/\n    |-- envvars\n    |-- httpd.conf\n    |-- mods-available/\n        |-- alias.conf\n        |-- alias.load\n        |-- xxx.load\n        |-- xxx.conf\n        |-- ......\n    |-- mods-enabled/\n        |-- <span class=\"cmt\">alias.conf</span>\n        |-- <span class=\"cmt\">alias.load</span>\n        |-- <span class=\"cmt\">xxx.load</span>\n        |-- <span class=\"cmt\">xxx.conf</span>\n        |-- ......\n    |-- ports.conf\n    |-- sites-available/\n        |-- <span class=\"red\">default</span>\n    |-- sites-enabled/\n        |-- <span class=\"cmt\">000-default</span>\n</pre>\n<tt>mods-available/</tt> 和 <tt>mods-enabled/</tt> 两个目录下分别放置可用的、\n已启动的模块，注意，<tt>mods-enabled/</tt> 下都是指向 <tt>mods-available/</tt>\n相应文件的<b>链接文件</b>。在 <tt>mods-available/</tt> 下找到重定向模块文件\n<tt>rewrite.load</tt>, 但 <tt>mods-enabled/</tt> 下没有其链接文件，\n这表明该模块没有启动，也是重启 Apache 失败的原因。\n<br><br>\n启动、禁用某模块本质上就是在 <tt>mods-enabled/</tt> 下创建、\n删除一个该模块的链接文件，\nApache2 提供了两个简单的终端命令 <tt>a2enmod</tt> 和 <tt>a2dismod</tt> \n来完成这两个操作，以重定向模块为例，输入：\n<pre class=\"tty\">\nTS:/etc/apache2# <span class=\"ttyipt\">a2enmod rewrite</span>\nEnabling module rewrite.\nRun \'/etc/init.d/apache2 restart\' to activate new configuration!\n</pre>\n根据提示重启 Apache 后，URL Reweite Module 就成功启动。\n\n<h3>配置 <tt>urlManager</tt> Component</h3>\n在 <tt>urlManager</tt> 中再加入两个参数以隐藏 Entry script name \n和开启不区分大小写：\n<pre class=\"brush: php\">\n\'urlManager\'=&gt;array(\n	......\n	\'showScriptName\'=&gt;false, // WARNING!! 这两处必须输入布尔类型，字符型 \'false\' 将不起作用！\n	\'caseSensitive\'=&gt;false,\n	......\n),\n</pre>\n至此，URL 中的 \'index.php\' 成功移除，URL 变得更加简洁明了。\n\n<h3>最后</h3>\n记得为了保护 <tt>protected</tt> 目录，Yii Blog 中曾建议在 <tt>protected/</tt>\n下放置一个内容为 <tt>deny from all</tt> 的 <tt>.htaccess</tt> 文件，\n当用户试图方文此目录时，将会将页面重定向至 403 错误页面。\n<s>之前测试不成功的原因就在于 Apache URL Rewite Module 没有启动，\n随着该模块的成功启动，这问题也随之解决。</s>（注：两码事）\n<br><br>\n参考：\n<ol><li>\nhttp://www.yiiframework.com/doc/guide/1.1/en/topics.url\n</li></ol>\n<!--\n<h3></h3>\n<h4></h4>\n<h2></h2>\n<ol><li>\n</li><li>\n</li></ol>\n<pre class=\"brush: php\">\n</pre>\n<a target=\"_blank\" href=\"\">l</a>\n-->\n',NULL,1,1,'N',0,'util.js','2012-08-30 11:48:24','2014-02-27 13:20:21'),(198,'Linux 用户 www-data','<h2>2012.12.15 更新</h2>\nYii 创建的应用 xx/（如 eo/, blog/）在用 npu, nup 备份时存在一个问题是下面两个\n目录每次都要使用<tt>chown -R ts:www-data</tt>命令，因为每次解压备份文件后所有的\n文件、目录的 owner, group 都变成了 ts. \n<pre class=\"tty\">\nxx/protected/runtime/\nxx/assests/\n</pre>\n可是备份脚本中无论是创建和解压都带上了表示保留原属性的 \'-p\' 参数呀。\n创建压缩时的确没问题，问题出在解压的环节。tar 在解压时有个规定：谁解压，\n文件就归谁所有。但是 root 用户除外，使用 root 用户进行解压可保留文件或目录的\n相应信息。所以，以后要用 root 来执行 nup 脚本了。\n\n<h2>原始</h2>\n接触 Yii BLog App 时碰到的第一个错误提示是这样：\n<blockquote>\nError 500\n<br>\nApplication runtime path \"/home/ts/www/ref/yii/demos/blog/protected/runtime\" \nis not valid. Please make sure it is a directory writable by the Web server \nprocess.\n</blockquote>\n<pre class=\"brush:php\">\ndrwxr-xr-x 2 ts       ts       4.0K 2012-07-29 21:20 runtime \n</pre>\n这里的 <i>\"Web server process\"</i> 指的就是 Apache, 从网上获知 Apache 所属用户、\n用户组均为 <tt>www-data</tt>. 显然上面的权限是不对的，于是改成\n<pre class=\"brush:php\">\ndrwxr-xr-x 2 www-data       www-data       4.0K 2012-07-29 21:20 runtime \n</pre>\n后问题“解决”。\n<br><br>\n在使用 <tt>Gii</tt> 工具自动生成 Model Class 时 <tt>models/</tt>\n目录应有写权限，因此修改如下：\n<pre class=\"brush:php\">\ndrwxr-xr-x 4 www-data www-data 4.0K 2012-08-30 15:45 models\n</pre>\n问题来了：新建的 Model Class 都需要进一步配置才能使用，这就需要修改它，\n但新生成的 Model Class 权限为：\n<pre class=\"brush:php\">\n-rw-rw-rw- 1 www-data www-data 2.8K 2012-08-30 15:47 Company.php\n</pre>\n理想状态是把 www/ 下所有文件/目录都设为 www-data:www-data, 同时将自己 (ts)\n加到 www-data group 中。下周一验证。\n<!--\n<pre class=\"brush:php\">\n</pre>\n-->\n\n',NULL,1,1,'N',0,'util.js','2012-08-30 16:11:40','2014-02-27 13:20:21'),(199,'The Definitive Guide of Yii 笔记','<h2></h2>\n<h2></h2>\n\n<h2>Working with Forms</h2>\n<ol><li>\n根据对待用户输入的数据的不同，Model 分为两种类型：\n	<ol><li>\n	<b>Form Model</b>: 搜集的数据仅用来使用，而不存入数据库中，\n	用完后就丢弃。用户登录表单搜集用户名和密码来验证身份就输入此种情形。\n	该类型的 Model 通常 extends <tt>CFormModel</tt> Class;\n	</li><li>\n	<b>Active Record Model</b>: 搜集上来的数据会存入数据库中。\n	创建费用申请表单就输入此情形；\n	该类型的 Model 通常 extends <tt>CActiveRecord</tt> Class;\n	</li></ol>\n看到这，就明白 Yii Blog <tt>modules/</tt> 目录下为什么除了数据库对应的 Model\nClass 之外还有两个 Model Class 了。\n<pre class=\"tty\">\nblog/protected/modules/\n    		|-- Comment.php\n    		|-- Company.php\n    		|-- <span class=\"red\">ContactForm.php</span>\n    		|-- <span class=\"red\">LoginForm.php</span>\n    		|-- Lookup.php\n    		|-- Post.php\n    		|-- Tag.php\n    		|-- User.php\n</pre>\n</li><li>\n<b>Form Module 中的 Attribute</b> (3.2.1 Defining Model Class, P56)<br>\n本章主要探讨 Form Model. Yii Blog 的 <tt>LoginForm</tt> Model 看起来这样：\n<pre class=\"brush: php\">\nclass LoginForm extends CFormModel\n{\n	public $username;\n	public $password;\n	public $rememberMe;\n\n	private $_identity;\n	...\n}\n</pre>\n这四个 properties 中前三个我们称为 <b><i>attributes</i></b>, \n用来区分普通 properties. 区别方法：\n<i>\"An attribute is a property that is mainly used to store data \ncoming from user input or database.\"</i>\n\n</li><li>\n\n<b>声明验证规则</b>(3.2.2 Declaring Validation Rules, P56)<br>\n通过声明 <tt>rules()</tt> 方法，可以进行输入数据项合法性验证。\n下面是 <tt>LoginForm</tt> 的验证规则。\n<pre class=\"brush: php\">\npublic function rules() {\n	return array(\n		array(\'username, password\', \'required\'),\n		array(\'rememberMe\', \'boolean\'),\n		array(\'password\', \'authenticate\'),\n	);\n}\n</pre>\n每条规则都需遵循如下格式，该节对此有详细介绍；\n<pre class=\"brush: php\">\narray(’AttributeList’, ’Validator’, ’on’=&gt;’ScenarioList’, ...additional options)\n</pre>\n\n</li><li>\n<b>Massive assignment: </b>(3.2.3 Securing Attribute Assignments, P59)<br>\n一个 Model Class instance 创建后，我们需要将用户输入的数据赋值给对应的\nattributes, 使用 <b><i>massive assignment</i></b> 可以轻松完成：\n<pre class=\"brush: php\">\n// Snippet in blog/protected/controllers/SiteController.php\npublic function actionLogin() {\n	$model=new LoginForm;\n\n	...\n	if(isset($_POST[\'LoginForm\'])) {\n		$model-&gt;attributes=$_POST[\'LoginForm\']; // Massive assignment\n		...\n	}\n	...\n}\n</pre>\n该节详细讨论了 attribute 的安全问题；\n</li><li>\n<b>触发服务器端验证: </b>(3.2.4 Triggering Validation, P61)<br>\n通过 Massive assignment 将数据传到 Model Class instance 后，\n接下来 通过触发 <tt>CModel::validate()</tt> 开始验证。对 Active Record Model\n来说，调用 <tt>CActiveRecord::save()</tt> 方法将自动触发验证方法；\n<pre class=\"brush: php\">\n// Snippet in blog/protected/controllers/SiteController.php\npublic function actionLogin() {\n	...\n	if($model-&gt;validate() && $model-&gt;login())\n		$this-&gt;redirect(Yii::app()-&gt;user-&gt;returnUrl);\n	...\n}\n</pre>\n</li><li>\n<b><tt>Yii::app()-&gt;user</tt>: </b>(3.2.4 Creating Action , P63)<br>\n它是 <tt>CWebUser</tt> 的（间接）子类，用来存储用户的会话信息，\n下面列举几个之前碰到的用法：\n<pre class=\"brush: php\">\n$this-&gt;author_id=Yii::app()-&gt;user-&gt;id;\n$this-&gt;redirect(Yii::app()-&gt;user-&gt;returnUrl);\nif(Yii::app()-&gt;user-&gt;isGuest) {...}\n</pre>\n</li><li>\n<b><b><i>Tabular Input</i></b>: </b>(3.5 Collecting Tabular Input , P66)<br>\n这正是自己开始阅读此文档的原因：<i>\"the user can enter the information \nfor multiple model instances and submit them all at once.\"</i>\n注意本节中有个 Tabular Update 的例子；\n</li><li>\n<b>快速创建表单 Form Builder <tt>CForm</tt>: </b>(3.6 , P68)<br>\n这是一种比使用 <tt>CActiveForm</tt> （Yii Blog 用此法）\n更简洁创建表单的全新方法。这里面提到 \'Collections\' 的概念，\n<tt>CForm::buttons, CForm::elements</tt>\n	<ol><li>\n	<i>\"Form input specifications are organized in terms of a form element \n	<u>hierarchy</u>. At the root of the hierarchy, \n	it is the <tt>CForm</tt> object.\"</i>\n	</li><li>\n	<i>\"The root form object maintains its children in two collections: \n	CForm::buttons and CForm::elements.\"</i>\n	</li><li>\n	<i>\"A <b>sub-form</b> is a CForm object contained in the \n	CForm::elements collection of another form.\"</i>\n	</li></ol>\n</li></ol>\n\n<h2>Working with Databases</h2>\n<h3>Working with Databases</h3>\n几个名词：\n<ul><li>\n<b>PDO:</b> PHP Data Objects\n<br>\n一个 PHP 插件，定义了访问数据库的统一接口；\n</li><li>\n<b>Yii DAO:</b> Yii Data Access Objects. Yii 开发的基于 PDO 基础上的接口\n</li><li>\n<b>Yii Query Builder:</b> <i>\"offers an object-oriented method for building \nSQL queries, which helps reduce risk of SQL injection attacks.\"</i><br>\n联想名词 Form Builder;\n</li><li>\n<b>Yii AR:</b> Active Record\n	<ol><li>\n	<i>\"implemented as a widely adopted Object-Relational Mapping\n	(ORM) approach\"</i>\n	</li><li>\n	<i>\"Representing a table in terms of a class and a row an instance\"</i>\n	表格是类, 行是实例\n	</li></ol>\n</li></ul>\n<h3>Data Access Objects (DAO)</h3>\nYii DAO 主要由如下四个类组成：\n<ol><li>\n<tt>CDbConnection</tt>: 连接数据库\n</li><li>\n<tt>CDbCommand</tt>: 生成一条语句并执行；\n</li><li>\n<tt>CDbDataReader</tt>: \n<i>\"represents a <u>forward-only stream of rows</u>\nfrom a query result set.\"</i> 什么意思？\n</li><li>\n<tt>CDbTransaction</tt>: 事务，类似批处理，存储过程\n</li></ol>\n\n<h4>Establishing Database Connection using <tt>CDbConnectiong</tt></h4>\n<tt>CDbConnection</tt> Class 继承自 <tt>CApplicationComponent</tt>, \n这表示我们可以在 application configuration (如 config/main.php) 中进行配置，\nYii Blog 配置如下：\n<pre class=\"brush: php\">\nreturn array(\n	...\n	\'components\'=&gt;array(\n		...\n		\'db\'=&gt;array(\n			\'connectionString\' =&gt; \'mysql:host=localhost;dbname=blog\',\n			\'emulatePrepare\' =&gt; true,\n			\'username\' =&gt; \'root\',\n			\'password\' =&gt; \'xingyang\',\n			\'charset\' =&gt; \'utf8\',\n			\'tablePrefix\' =&gt; \'tbl_\',\n		),\n		...\n	),\n	...\n);\n</pre>\n之后可以通过 <tt>Yii::app()-&gt;db</tt><b>显性</b>激活此连接。\n注意，一般情况下该激活是自动生成的，<tt>CDbConnection:autoConnect</tt>\n用于设置自动或手动，激活后我们就可以在代码中自由地使用此连接了。\n<h4>Executing SQL Statements</h4>\n连接建立后，就可以通过 <tt>CDbCommand</tt> Class 执行 SQL 语句，\n通过调用 <tt>CDbConnection::createCommand()</tt> 可以生成一个\n<tt>CDbCommand</tt> instance:\n<pre class=\"brush: php\">\n$connection = Yii:app()-&gt;db; // 此 \'db\' 就是上面 configuration 那个 \'db\'\n$command = $connection-&gt;createCommand($sql);\n</pre>\n通过 <tt>CDbCommand</tt> 执行 SQL 语句有两种方式：\n<ol><li>\n<tt>execute()</tt>: 用来执行 INSERT, UPDATE 或 DELETE 这样不返回查询数据的查询，\n</li><li>\n<tt>query()</tt>: 执行 SELECT 操作，返回一个 <tt>CDbDataReader</tt> instance,\n通过该 instance, 我们可以对数据的每一行遍历；\n</li></ol>\n<h4>Fetching Query Results</h4>\n<pre class=\"brush: php\">\n$dataReader = $command-&gt;query();\nforeach ($dataReader as $row) { ...}\n</pre>\n<h4>事务 Using Transactions</h4>\n<i>\"When an application executes a few queries, each reading and/or \nwriting information in the database, it is important to be sure that \nthe database is not left with only some of the queries carried out. \"</i>\n<br><br>\n为了确保执行多条查询时每条查询都成功执行，可以用如下步骤：\n<ol><li>\n事务开始；\n</li><li>\n逐条执行查询，数据库的任何变更在此期间都秘密进行，外部世界不可见；\n</li><li>\n提交事务，若事务执行成功，则对数据库的更新对外可见；\n</li><li>\n若有任何查询失败，整个事务回滚（Roll back）；\n</li></ol>\n上面的流程用代码实现如下：\n<pre class=\"brush: php\">\n$transaction=$connection-&gt;beginTransaction(); // 创建 CDbTransaction instance\ntry {\n	$connection-&gt;createCommand($sql1)-&gt;execute();\n	$connection-&gt;createCommand($sql2)-&gt;execute();\n	//.... other SQL executions\n	$transaction-&gt;commit();\n} catch(Exception $e) {\n	$transaction-&gt;rollback();\n}\n</pre>\n<h4>Binding Parameters via <tt>bindParam()</tt></h4>\nWhy binding parmeters:\n<ul><li>\nTo avoid SQL injection attacks;\n</li><li>\nTo improve performance of executing repeatedly used SQL statements;\n</li></ul>\n<pre class=\"brush: php\">\n// an SQL with two placeholders \":username\" and \":email\"\n$sql=\"INSERT INTO tbl user (username, email) VALUES(:username,:email)\";\n$command=$connection-&gt;createCommand($sql);\n\n$command-&gt;bindParam(\":username\",$username,PDO::PARAM STR);\n$command-&gt;bindParam(\":email\",$email,PDO::PARAM STR);\n$command-&gt;execute();\n$command-&gt;bindParam(\":username\",$username2,PDO::PARAM STR);\n$command-&gt;bindParam(\":email\",$email2,PDO::PARAM STR);\n$command-&gt;execute();\n</pre>\n<h4>Binding Columns via <tt>bindColumn()</tt></h4>\nTo bind columns in query results with PHP variables so that they are\nautomatically populated with the latest data each time a row is fetched.\n<pre class=\"brush: php\">\n$sql=\"SELECT username, email FROM tbl_user\";\n$dataReader=$connection-&gt;createCommand($sql)-&gt;query();\n$dataReader-&gt;bindColumn(1,$username); // bind the 1st column (username) with the $username variable\n$dataReader-&gt;bindColumn(2,$email); // bind the 2nd column (email) with the $email variable\nwhile($dataReader-&gt;read()!==false) {\n	// $username and $email contain the username and email in the current row\n}\n</pre>\n<h4>Using Table Prefix</h4>\n<pre class=\"brush: php\">\n$sql = \'SELECT * FROM {{order}}\';\n$orders = $connection-&gt;createCommand($sql)-&gt;query();\n</pre>\n\n<h3>Query Builder</h3>\n<ol><li>\nProvides an objected-oriented way of writing SQL statements;\n</li><li>\nUse class methods and properties to specify individual parts of a SQL statements\n</li><li>\nAssembles different parts into a valid SQL statement;\n</li><li>\n<b>When NOT use Query Builder?</b><br>\nIf your queries are simple, it is easier and faster to directly \nwrite SQL statemtns.\n</li></ol>\nA typical usage demo:\n<pre class=\"brush: php\">\n$logistics = Yii::app()-&gt;db-&gt;createCommand()\n	-&gt;select(’id, full_name, short_name, contacter’)\n	-&gt;from(’tbl_company c’)\n	-&gt;join(’tbl_address a’, ’c.id=a.company id’)\n	-&gt;where(’id=:id’, array(’:id’=&gt;$id))\n	-&gt;queryRow();\n</pre>\n这种样式的写法看着眼熟啊，没错，PHPExcel 中有类似写法，自己曾不理解何意。\n其实这种写法叫 \"Method Chaining\", 能这样写是因为上面 \n<tt>select(), from(), join()</tt>\n这些方法返回的数据都是 <tt>CDbCommand</tt> instance.\n<br><br>\nBenifits:\n<ol><li>\nallows building SQL statements programmatically;\n</li><li>\nautomatically quotes table names and column names; \n</li><li>\nalso quotes parameter values and uses parameter binding;\n因列值引号设置不当导致 SQL 语句在 E-Orders 中太常见了，所以这个优点很有吸引力；\n</li></ol>\n<h4>Preparing</h4>\nTo start, we create a <tt>CDbCommand</tt> instance:\n<pre class=\"brush: php\">\n$command = Yii::app()-&gt;db-&gt;createCommand();\n</pre>\n<h4>Building SELECT SQL statements</h4>\nA set of methods is provided to build individual parts of a SELECT statement:\n<ul><li>\n<tt>select()</tt>, <tt>selectDistinct()</tt>:\n<pre class=\"brush: php\">\nfunction select($columns = \'*\')\nfunction selectDistinct($columns)\n</pre>\n	<ul><li>\n	Parameter <tt>$columns</tt> can be either a string representing\n	comma-separated columns, or an array of column names.\n	</li><li>\n	Column names: can contain table prefixed, and/or column aliases\n	</li></ul>\n<pre class=\"brush: php\">\nselect() // SELECT *\nselect(’id, username’) // SELECT ‘id‘, ‘username‘\nselect(’tbl user.id, username as name’) // SELECT ‘tbl user‘.‘id‘, ‘username‘ AS ‘name‘\nselect(array(’id’, ’username’)) // SELECT ‘id‘, ‘username‘\nselect(array(’id’, ’count(*) as num’)) // SELECT ‘id‘, count(*) as num\n\nselectDistinct(\'id,username\') // SELECT DISTINCT \'id\', \'username\'\n</pre>\n</li><li>\n<tt>from()</tt>:\n<pre class=\"brush: php\">\nfunction from($tables)\n\nfrom(’tbl user’) // FROM ‘tbl user‘\nfrom(’tbl user u, public.tbl profile p’) // FROM ‘tbl user‘ ‘u‘, ‘public‘.‘tbl profile‘ ‘p‘\nfrom(array(’tbl user’, ’tbl profile’)) // FROM ‘tbl user‘, ‘tbl profile‘\nfrom(array(’tbl user’, ’(select * from tbl profile) p’)) // FROM ‘tbl user‘, (select * from tbl profile) p\n</pre>\n注意：如果使用 Table Aliases, 且在 <tt>select()</tt> 中选取该表中具有歧义的列时\n，该列名称必须为 Table Alias, 而不能直接输入表名。例如：\n<pre class=\"brush: php\">\n$addresses = Yii::app()-&gt;db-&gt;createCommand()\n	-&gt;select(\'tbl_address.id,duty,contacter,office_phone,cell_phone,full_name\') //!\n	-&gt;from(\'tbl_company c,tbl_address a\')\n	-&gt;where(\'c.id=a.company_id\')\n	-&gt;order(\'a.id ASC\')\n</pre>\n上面代码中我们在 <tt>from()</tt> 方法中声明了表别名，但在\n<tt>select()</tt> 方法中仍使用表原始名称 <tt>tbl_address.</tt>,\n此时在 Yii Debug 模式下将抛出 <tt>CDbException</tt> 信息如下：\n<blockquote>\nCDbCommand failed to execute the SQL statement: SQLSTATE[42S22]: \nColumn not found: 1054 <u>Unknown column \'tbl_address.id\' in \'field \nlist\'.</u>\n</blockquote>\n正确的写法是也使用表别名，如下：\n<pre class=\"brush: php\">\n-&gt;select(array(\'a.id\',\'duty\',\'contacter\',\'office_phone\',\'cell_phone\',\'full_name\'))\n</pre>\n</li><li>\n<tt>where()</tt>:\n<pre class=\"brush: php\">\nfunction where\n</pre>\n</li><li>\n<tt>join(), leftJoin(), rightJoin(), crossJoin(), naturalJoin()</tt>:\n</li><li>\n<tt>group()</tt>:\n</li><li>\n<tt>having()</tt>:\n</li><li>\n<tt>order()</tt>:\n</li><li>\n<tt>limit()</tt>, <tt>offset()</tt>:\n</li><li>\n<tt>union()</tt>:\n</li></ul>\nNow, it\'s time to execute the statement we create using methods above,\nyou can use either <tt>queryAll()</tt>, or <tt>queryRow()</tt>.\n\n<h3>Active Record</h3>\n<ol><li>\n<b>The reason to create Active Record</b>:<br>\n<i>\"Although Yii DAO can handle virtually any database-related task,\nchances are that we would spend 90% of our time in writing some SQL statements\nwhich perform the common CRUD operations. It is also difficult to maintain our\ncode when they are mixed with SQL statements.  \"</i>\n这几句话之间的关系需要好好理解，“尽管 Yii DAO 几乎可以处理所有数据库相关的操作，\n让我们有机会将主要时间花在写 SQL 语句上，\n但这些 SQL 语句和代码混在一起时仍不便于维护。” \n即前两句绑在一起和最后一句是转折关系，第一句和第二句是并列关系。\n</li><li>\n<b>Common Usage</b><br>\n<pre class=\"brush: php\">\n$post=new Post; // AR class represents a database table\n$post-&gt;title=’sample post’; //Table\'s attributes are represented as the AR class properties\n$post-&gt;content=’post body content’;\n$post-&gt;save(); //Common CRUD operations are implemented as AR methods\n</pre>\n</li><li>\n<b>AR 的最佳应用场景</b><br>\n<i>\"AR is not meant to solve all database-related tasks. It is best used for \nmodeling database tables in PHP constructs and performing queries that do not\ninvolve complex SQLs. Yii DAO should be used for those complex scenarios.\"</i>\nAR 适用于为数据库表格建模，适合简单的 SQL 查询，复杂的 SQL 查询适合使用\nYii DAO. 这段话表明显示物流公司的操作应通过 Yii DAO 完成；\n</li><li>\n<b><tt>__get()</tt> magic method</b><br>\n<pre class=\"brush: php\">\n$post=new Post;\n$post-&gt;title=’a sample post’;\n</pre>\n<tt>Post</tt> Model Class 中并为显性声明 <tt>title</tt> Property,\n但却能直接使用的原因在于借助了 PHP 中的 <tt>__get()</tt> magic method;\n</li><li>\n<b><tt>CDbExpression</tt></b><br>\n在自己创建的 <tt>Company</tt> Model Class 中自己是这样保存列 \n<tt>create_time</tt>的值的：\n<pre class=\"brush: php\">\n// Snippet in models/Company.php\n$this-&gt;create_time=$this-&gt;update_time=date(\'Y-m-d G:i:s\');\n</pre>\n这里采取 PHP 的方式获取当前时间，其实 SQL 语句中更常见的是使用 <tt>NOW()</tt>\n来完成：\n<pre class=\"brush: php\">\n$this-&gt;create_time=$this-&gt;update_time=\'NOW()\';//! 错误, \'NOW()\' 会被当成字符串\n$this-&gt;create_time=$this-&gt;update_time= new CDbExpression(\'NOW()\'); // 正确写法\n</pre>\n</li><li>\n<b>Create a record</b><br>\n<pre class=\"brush: php\">\n$post=new Post; // 1. create a new instance of an AR class\n$post-&gt;title=’sample post’; // 2. set its properties associated with table columns\n$post-&gt;content=’content for the sample post’;\n...\n$post-&gt;create time = new CDbExpression(\'NOW()\'); // 2. set special properties\n$post-&gt;save(); // 3. invoke the insert action\n</pre>\n</li><li>\n<b>Read a record</b><br>\n<pre class=\"brush: php\">\n// find the first row satisfying the specified condition\n$post=Post::model()-&gt;find($condition,$params);\n// find the row with the specified primary key\n$post=Post::model()-&gt;findByPk($postID,$condition,$params);\n// find the row with the specified attribute values\n$post=Post::model()-&gt;findByAttributes($attributes,$condition,$params);\n// find the first row using the specified SQL statement\n$post=Post::model()-&gt;findBySql($sql,$params);\n</pre>\n<i>\"If the find method finds a row satisfying the query conditions, \nit will return a <tt>Post</tt> instance whose properties contain the \ncorresponding column values of the table row. We can then read \nthe loaded values like we do with normal object properties,\"</i>\n<pre class=\"brush: php\">\n$post=Post::model()-&gt;findByPk(5);\necho $post-&gt;title;\n</pre>\n</li><li>\n<b>Update a record</b><br>\n<pre class=\"brush: php\">\n$post=Post::model()-&gt;findByPk(10);\n$post-&gt;title=’new post title’;\n$post-&gt;save();\n</pre>\n</li><li>\n<b>Delete a record</b><br>\n<pre class=\"brush: php\">\n$post=Post::model()-&gt;findByPk(10);\n$post-&gt;delete();\n</pre>\n</li><li>\n<b>Never trust anything coming from the client side</b><br>\n<pre class=\"brush: php\">\nif($post-&gt;save()) {\n	// data is valid and is successfully inserted/updated\n} else {\n	// data is invalid. call getErrors() to retrieve error messages\n}\n</pre>\n</li><li>\n<b>Using Transaction with AR</b><br>\n<pre class=\"brush: php\">\n$model=Post::model();\n$transaction=$model-&gt;dbConnection-&gt;beginTransaction();\ntry {\n	$post=$model-&gt;findByPk(10);\n	$post-&gt;title=’new post title’;\n	$post-&gt;save();\n	$transaction-&gt;commit();\n} catch(Exception $e) {\n	$transaction-&gt;rollback();\n}\n</pre>\n</li></ol>\n<!--\n<ol><li>\n</li><li>\n<b></b><br>\n<pre class=\"brush: php\">\n</pre>\n</li></ol>\n<b>: </b>(3.2.4 , P61)<br>\n\n<h3></h3>\n<h4></h4>\n<h2></h2>\n<ol><li>\n</li><li>\n</li></ol>\n<a target=\"_blank\" href=\"\">l</a>\n-->\n',NULL,1,1,'Y',0,'util.js','2012-08-31 07:20:27','2014-02-27 13:20:21'),(200,'W36, 2012','<div class=\"diary\" rel=\"20120903\">\n<h3>9.3（一）</h3>\n<br><br>\n</div>\n\n<div class=\"diary\" rel=\"20120904\">\n<h3>9.4（二）</h3>\n</div>\n\n<div class=\"diary\" rel=\"20120905\">\n<h3>9.5（三）《一句顶一万句》读毕 + 给刘森组装电脑</h3>\n近几天把《一句顶一万句》读完，如作者刘震云所说，该书讲的是一个人在人群中想找一个\n能说得上来的人很困难。所谓“说得上来”就是对自己胃口，自己喜欢，人如此，工作不也如\n此吗，做自己不喜欢做的事情跟找不着能说话的人时内心的感觉是类似的：郁闷、孤独。\n<br><br>\n下午给刘森组装电脑，线都连好后发现电源和 CPU 风扇皆不转，一时找不到原因。\n刘只好把机箱报到楼下花五块钱连好。\n<ul><li>\n又犯了一个基本错误：硬盘上的电源接头没有连接；\n</li><li>\n老式机箱里面有 <tt>VCC DATA +/-</tt> 两个接头，其实是 USB 接头；\n</li><li>\n电源和硬盘指示灯那几个接头上次有过经历，但找不到记录。<b>指示灯有正、负极之分，\n而开关按钮没有</b>\n</li></ul>\n</div>\n\n<div class=\"diary\" rel=\"20120906\">\n<h3>9.6（四）三姐买的笔记本到货</h3>\n给三姐在京东订的电脑上午仍未送到，打电话催促后下午终于送了过来。使用了一下这个\n联想 G460 笔记本电脑，感觉真不错，三千元真是物美价廉。这个电脑有两个主要优点：\n一是它的键盘触感很好，有点 IBM 的感觉，只这个键盘就改变了我以往对联想牌电脑的\n不好印象，看来还是跟型号有关；另一个是电脑用料很好，结实耐用，相比较而言，\n自己的 A840 所用的塑料就很一般。以后如果再买笔记本电脑就买联想的。\n<br><br>\n\n眼下正是各个大学的开学季，下班在公交车上想到今天的日子有些特殊，十年前的今天，\n也就是２００２年９月６日，是我去上大学的日子，想到此，内心自然而然有些许感慨。\n可转念又一想，自己为什么会感慨呢，大概是对自己目前的状况不甚满意罢了。前两天读的\n刘震云小说《一句顶一万句》里有一句话：过日子是朝后过，不是朝前过，用在此刻比较\n恰当，因为无端的感慨无济于事，这些感慨还是留到暮年好了。\n<br><br>\n\n由三姐忽然想到我和三个姐姐的关系。凭我自己的感觉，相比较大姐，我在二姐、三姐面前\n感觉更自在些。原因可能有这么几个：一是从经济条件上来说，我跟大姐的差距较大；\n二是大姐作为家中老大说的一些话让内心自卑、敏感的我感觉不适。唉，仔细琢磨这些干嘛\n。\n</div>\n\n<div class=\"diary\" rel=\"20120907\">\n<h3>9.7（五）失信于人</h3>\n四楼屈前天下午打电话说今天上午来签合同，结果放了鸽子，一天也没见人，心中不爽。\n可转念一想，自己也曾答应他把修改后的合同发给他，但也没有兑现，有何不爽？\n\n<br><br>\n从网上订购《我不是潘金莲》、《暗算》两本书。\n</div>\n\n<div class=\"diary\" rel=\"20120908\">\n<h3>9.8（六）</h3>\n天气预报今天有小到中雨，自己希望不要下雨，因为如果下大的话，下午就见不到老婆孩子\n了。凌晨四点，雨最终还是下了起来。索性到了中午，天气转晴了。\n<br><br>\n下班让世杰过来把电脑和显示器带走。世杰来的时候没有空着手来，还提了一只烧鸡过来，\n感觉这个外甥很懂事，比我刚结婚时强。\n</div>\n\n<div class=\"diary\" rel=\"20120909\">\n<h3>9.9（日）</h3>\n可能由于感冒，安琢晚上没有睡好，半夜醒了好几次，而且哭得厉害，哭声比平常半夜醒时\n要痛；这也导致金艳肩膀疼。早上六点又闹了一会儿，算是不睡了，看着窗外一直闹着要出\n去。像上周一样，我带着他出去，好让金艳自己休息一会。安琢今天穿的是岳母刚照看安琢\n时跟焕姐晚上去广场逛街时买的一件印有长颈鹿图案的亮绿色上衣，看着很可爱。不过因为\n早上出门没有洗脸，加之昨天感冒鼻涕不断，脸上看着脏兮兮的，更显着人黑了。\n<br><br>\n\n八点半出门后我让金艳在惠厂给安琢看病，我到火车站附近买排骨。结果因为出门晚了，\n排骨已经卖完了，拐回到诊所发现看病的人很多，等到老家已经快九点半了。到家后安琢看\n到邻居家小孩凯明在玩土，也跟着一起玩。不一会浑身都是土，母亲说小孩玩土不生病，\n我们也没制止他。我们到家没多长时间大姐也来了，给母亲带的做烩面的东西，荆一去上海\n实习时给她姥姥买的丝巾大姐也带了过来。大姐带了些菜就匆匆离开，下午她还要和炎生哥\n一起去文安。\n<br><br>\n\n四点我们三口出发回王村，到家后岳母正在院里套褥子，岳父正在蒸馒头。和岳母聊天时岳\n母说着安琢有多费力、手有多快，看孩子的辛苦从中可见一斑。跟着岳父到房顶把晒着的芝\n麻收起来。待岳父做好晚饭，他和岳母便把安琢带出去让金艳我们俩先吃饭。吃着现成可口\n的晚饭，心里觉得很幸福。\n<br><br>\n\n明天姥姥家村子集会，母亲说她很想带着父亲去，只是父亲现在行动不如以前，但愿明天去\n的时候能够顺利。自己心想如果自己有辆车，父母也不会操这心了……\n</div>\n',NULL,1,1,'N',0,'util.js','2012-09-03 07:20:15','2014-02-27 13:20:21'),(201,'如何获取 Yii CForm 表单中元素的值','上周六开始尝试使用 <tt>CForm</tt> 来生成存储完整物流信息（涉及两个表）的表单，\n在获取表单中元素的值时遇到问题。\nYii Guide 3.6.4 Accessing Form Elements 节中介绍 \n<i>\"to access the <tt>useername</tt> element in the login form:\"</i>\n<pre class=\"brush: php\">\n$username = $form-&gt;elements[\'username\'];\n</pre>\n自已已为这就获得元素的值了，查看文档发现 <tt>elements</tt> Property 值类型为\n<tt>CFormElementCollection</tt>, 在该类的属性、方法中没有找到简单获取元素值的\n方法，最后通过 <tt>CForm.models</tt>间接获得：\n<pre class=\"brush: php\">\n$f = $form-&gt;models[0];\necho $f[\'full_name\'];\necho $f[\'short_name\'];\n</pre>\n<!--\n<pre class=\"brush: php\">\n</pre>\n-->\n',NULL,1,1,'N',0,'util.js','2012-09-03 07:56:22','2014-02-27 13:20:21'),(202,'W37, 2012','<div class=\"diary\" rel=\"20120913\">\n<h3>9.13（四）晴</h3>\n凌晨\n<br><br>\n</div>\n<!--\n<div class=\"diary\" rel=\"20120903\">\n<h3>9.3（一）</h3>\n<br><br>\n</div>\n<img src=\"/img/page/2012/life.20120623.3.jpg\" style=\"float:left;\" />\n-->\n',NULL,1,1,'N',0,'util.js','2012-09-10 08:33:55','2014-02-27 13:20:22'),(203,'在 CGridView Widget 中显示两个关系表中的列','Yii Blog 中在文章和评论的 admin 页面均使用 <tt>CGridView</tt> 来显示。\n该 Widget 功能非常强大，几乎涵盖了管理时需要的所有功能。但问题是只能显示一个表\n中的列信息。而 E-Orders 中很多管理表中列信息来自多个表中。例如物流公司管理页面\n中就涉及 <tt>om_company</tt>, <tt>om_address</tt> 两个表：\n<br>\n<img src=\"/img/page/2012/snap.logistics-admin-table-in-eorder.png\" /><br>\n下面介绍使用 <tt>CGridView</tt>显示出上面表格的样式的方法：\n<ol><li>\n在 <tt>Address</tt> Model Class 中添加一个新的 attribute\n<tt>$company_search</tt>, 并在 <tt>rules()</tt> 方法中将新建的 attribute \n添加到 \'safe\' 中；\n<pre class=\"brush: php\">\nclass Address extends CActiveRecord\n{\n	public $company_search; // 1\n	...\n	public function rules()\n	{\n		...\n		return array(\n			array(\'contacter, office_phone, cell_phone, company_search\', \'safe\', \'on\'=>\'search\'), // 2\n		);\n	}\n}\n</pre>\n</li><li>\n在 <tt>search()</tt> 中修改代码如下：\n<pre class=\"brush: php\">\npublic function search() {\n	$criteria=new CDbCriteria;\n	$criteria-&gt;with = array(\'company\'); // 1\n	$criteria-&gt;compare(\'id\',$this-&gt;id,true);\n	$criteria-&gt;compare(\'company_id\',$this-&gt;company_id);\n	...\n	$criteria-&gt;compare(\'company.full_name\',$this-&gt;company_search,true); // 2\n\n	return new CActiveDataProvider($this, array(  // 3\n		\'criteria\'=&gt;$criteria,\n		\'sort\'=&gt;array(\n			\'attributes\'=&gt;array(\n				\'company_search\'=&gt;array(	\n					\'asc\'=&gt;\'company.full_name\',\n					\'desc\'=&gt;\'company.full_name DESC\',\n				),\n				\'*\',\n			),\n		),\n	));\n}\n</pre>\n</li><li>\n在 admin view 文件中修改如下：\n<pre class=\"brush: php\">\n$this-&gt;widget(\'zii.widgets.grid.CGridView\', array(\n	\'id\'=&gt;\'address-grid\',\n	\'dataProvider\'=&gt;$model-&gt;search(),\n	\'filter\'=&gt;$model,\n	\'columns\'=&gt;array(\n		array(\'name\'=&gt;\'company_search\', \'value\'=&gt;\'$data-&gt;company-&gt;full_name.\"［\".$data-&gt;duty.\"］\"\'), // 1\n		\'contacter\',\n		\'office_phone\',\n		\'cell_phone\',\n		array(\n			\'class\'=&gt;\'CButtonColumn\',\n		),\n	),\n));\n</pre>\n</li></ol>\n参考：\n<ol><li>\n<a target=\"_blank\" href=\"http://www.yiiframework.com/wiki/281/searching-and-sorting-by-related-model-in-cgridview/\">Searching and sorting by related model in CGridView</a>\n</li><li>\n<a target=\"_blank\" href=\"http://www.yiiframework.com/doc/guide/1.1/en/database.arr\">Relational Active Record</a>\n</li></ol>\n<!--\n<a target=\"_blank\" href=\"\n\"></a>\n<img src=\"/img/page/2012/.png\" class=\"rf\" />\n<ol><li>\n</li><li>\n</li></ol>\n<pre class=\"brush: php\">\n</pre>\n-->\n',NULL,1,1,'N',0,'util.js','2012-09-11 10:37:38','2014-02-27 13:20:22'),(204,'在 Yii 中通过 AJAX 加载内容','在完成物流公司的 CRUD 操作后，开始转向客户创建页面。相比较创建物流公司，创建客户\n的表单要更复杂，比如 <tt>country_id, province, city</tt> 三列数据项的搜集会因客\n户是国内还是国外而不同：国内客户的省份和城市是通过下拉菜单来获取，且两个下拉菜单\n之间存在联动；国外客户的这两项则通过简单的文本输入框实现，同时通过一个下拉菜单来\n选择国家。这种情况就把 jQuery 技术引入到 Yii Framework 中。\n<br><br>\n\n从网上找来一个在 Yii 中通过 AJAX 实现省份、城市联动下拉菜单的源码，基本满足了当\n前需求。\n\n<h3>Model Class <tt>City</tt> and <tt>CustomerForm</tt></h3>\n首先需要将含有省份、城市的表格导入到现有数据库中。找到的这份表格和 E-Orders\n中的表格的不同之处在于：一个表格内同时存储了省份和城市信息，而 E-Orders \n中使用了两个表格分别存储省份和城市信息。该表格结构如下：\n<pre class=\"tty\">\nmysql&gt; DESC tbl_city;\n+-------+-------------+------+-----+---------+----------------+\n| Field | Type        | Null | Key | Default | Extra          |\n+-------+-------------+------+-----+---------+----------------+\n| id    | int(11)     | NO   | PRI | NULL    | auto_increment | \n| pid   | int(11)     | NO   | MUL | NULL    |                | \n| name  | varchar(20) | NO   |     | NULL    |                | \n+-------+-------------+------+-----+---------+----------------+\n</pre>\n通过 Gii 工具生成 Model Class <tt>City</tt>, 由于客户的操作和物流公司的操作一样\n都没有单独属于自己的 Model Class, 所以选择手工添加 Controller 和 View 文件如下：\n<pre class=\"tty\">\ncontrollers/CustomerController.php\nviews/customer/create.php \nviews/customer/_form.php \n</pre>\n至此，创建客户操作所需的所有文件都已创建完毕，下面对这些文件进行修改。\n<br><br>\nView 中联动菜单的实现代码：\n<pre class=\"brush: php\">\n// Snippet in views/customer/_form.php\n\n// Province select box\necho $form-&gt;dropDownList($model,\'province\',City::getProvinceList(),array(\n	\'empty\'=&gt;\'-请选择-\',\n	\'ajax\'=&gt;array(\n		\'url\'=&gt;Yii::app()-&gt;createUrl(\'customer/dynamicCity\'),\n		\'data\'=&gt;array(\'pid\'=&gt;\'js:this.value\'),\n		\'update\'=&gt;\'#CustomerForm_city\',\n	),\n));\n\n// City select box\necho $form-&gt;dropDownList($model,\'city\',City::getCityList($model-&gt;province),array(\'empty\'=&gt;\'-请选择-\'));\n</pre>\n初始状态下两个菜单应该是这个样子：省份菜单是完整的，城市菜单初始状态下没有实际可\n选项，需要在用户选择某个省份后通过 AJAX 动态生成该省份下的所有城市选项。\n两个初始菜单间接通过 Model Class <tt>City</tt> 中 <tt>getProvinceList()</tt> 和\n<tt>getCityList($pid)</tt> 两个方法实现，其中后者携带有表示省份 ID 的参数。\n这里的关键在于 \'ajax\' 参数处。注意这里和 E-Orders 中如下 JS 代码功能类似：\n<pre class=\"brush: javascript\">\n// Snippet in \'module/sale.create-customer-and-address.php\'\n$.ajax({ \n	type: \"POST\", \n	url: \"md.ajax-pipe.php\", \n	data: {\n		do: \'mk_china_city_select_box\',\n		province_name: province_name\n	}\n}).done(function(msg) {\n	$(\"#chinaCityDiv\").html(msg);\n	$(\"#chinaCityDiv\").find(\'select[name=city_m]\').addClass(\'required\');\n	$(\"#chinaCityDiv\").parent().slideDown();\n});\n</pre>\n借助这段代码可以帮助我们理解相同功能在 Yii 中的实现方法。从中不难看出：\nYii 的 <tt>CActiveForm</tt> 中已含有 AJAX 模块，且以更优雅的方式实现。\n进而我们找到 E-Orders 中 md.ajax-pipe.php 文件在 Yii 中表现方法：\n单独创建名为 <tt>AjaxController.php</tt> 的 Controller, \n用于存放所有通过 AJAX 生成的动态内容。而省份下拉菜单可以写成如下形式：\n<pre class=\"brush: php\">\necho $form-&gt;dropDownList($model,\'province\',City::getProvinceList(),array(\n	\'empty\'=&gt;\'-请选择-\',\n	\'ajax\'=&gt;array(\n		\'url\'=&gt;Yii::app()-&gt;createUrl(\'ajax/dynamicCity\'), // 专门存储各种 AJAX 的 Controller 的 URL\n		\'data\'=&gt;array(\'pid\'=&gt;\'js:this.value\'),\n		\'update\'=&gt;\'#CustomerForm_city\',\n	),\n));\n</pre>\n\n<h3>使用 \'success\' 参数</h3>\n有时需要对 AJAX 生成的内容再做进一步的控制。在创建订单页面，发货地址单选按钮列表\n是根据选择的客户而动态生成的，默认的单选按钮列表处于未选中状态，为了简化制单员的\n操作，我想让地址按钮列表中第一个地址处于选中状态。从网上了解到  ajax 这一\nhtmlOption 中的可用参数除了 \'url\',\'data\',update\' 外，还有一个 \'success\' 参数，\n专门用来放置 AJAX 成功后执行的代码。客户下拉菜单的 ajax option 完整代码如下：\n<pre class=\"brush: php\">\n\'ajax\'=&gt;array( // in views/order/_form.php\n	\'url\'=&gt;Yii::app()-&gt;createUrl(\'order/dynamicAddress\'),\n	\'data\'=&gt;array(\'customer_id\'=&gt;\'js:this.value\'),\n	\'success\'=&gt;\'function(data){$(data).appendTo($(\\\'#addressIdD\\\'));$(\\\'.EAddressId:first\\\').attr(\\\'checked\\\',\\\'checked\\\');}\',\n),\n</pre>\n\'success\' 的值可以是 JS 语句或函数，此处没有使用 \'update\' 参数的原因在于如果写成\n下面的样式：\n<pre class=\"brush: php\">\n\'ajax\'=&gt;array(\n	\'url\'=&gt;Yii::app()-&gt;createUrl(\'order/dynamicAddress\'),\n	\'data\'=&gt;array(\'customer_id\'=&gt;\'js:this.value\'),\n	\'update\'=&gt;\'#addressIdD\',\n	\'success\'=&gt;\'$(\\\'.EAddressId:first\\\').attr(\\\'checked\\\',\\\'checked\\\')\',\n),\n</pre>\n第一个按钮不会被选中，因为执行 \'succcess\' 中的语句时，\'#addressIdD\' 区块内容仍是\n空的，换句话说，\'update\' 发生在 \'success\' 之后。\n\n<h3>参考文章</h3>\n<ul><li>\nhttp://tech.ldg.me/2011/09/yii-use-ajax-call-via-htmloptions-attribute\n</li><li>\n</li></ul>\n<h3>History</h3>\n<ul><li>\n2012.12.21:\n加入 \'success\' 参数的使用。\n</li><li>\n2012.12.22:\ndeprecate using ajax in htmlOptions in order/create route;\n</li></ul>\n<!--\n<ol><li>\n</li><li>\n</li></ol>\n<h3></h3>\n<br><br>\n<pre class=\"brush: php\">\n</pre>\n-->\n',NULL,1,1,'N',0,'util.js','2012-09-12 21:23:11','2014-02-27 13:20:22'),(205,'JavaScript 函数可选参数声明的技巧','<img src=\"/img/page/2012/bug.unnecessary-empty-boxy-window.png\" class=\"lf\" />\n从 E-Orders 中的一个 Bug 说起。财务人员若点击协议结算列表中某个客户的“到帐授权”\n按钮并取消后，再单击单笔结算中客户订单详情后，将弹出两个 Boxy 窗口：\n一个是正常的订单详情窗口，将其关闭后还会出现一个没有内容的空 Boxy (左图).\n查看相关 JS 代码后发现：在弹出协议结算窗口前，通过调用 \n<tt>dress_result_set_table()</tt> 函数试图将协议结算窗口中的订单详情链接添加事件\n，但该函数是将文档中所有 <tt>a.orderTipLink</tt> 链接都添加事件，\n而不是自己希望的仅在协议结算窗口中的 <tt>a.orderTipLink</tt> 链接。\n解决方法就是让<tt>dress_result_set_table()</tt> 函数携带一个可选的表示文档区域的\njQuery Object. 这就涉及到如何在 JavaScript 函数中声明可选参数的问题，\n本文因此产生。\n<pre class=\"brush: javascript\">\n$(\".agreeMonthAuthL\").click(function(){\n	$.ajax({ \n		...\n	}).done(function(msg) {\n		...\n		dress_result_set_table(); // Bug Place\n		var boxyR = new Boxy($(\'#agreeMonthAuthDiv\'), { draggable:false, modal:true, title:\'协议结算批量授权\', });\n	});\n});\nfunction add_order_detail_list_event() {\n	$(\".orderTipLink\").click(function(){\n		...\n	});\n}\n</pre>\n<blockquote>\n<ul><li>\nWhen a function is invoked with fewer arguments than are declared, \nthe additional arguments have the <tt>undefined</tt> value;\n</li><li>\nIn order to wirte functions so that some arguments are optional and may be\nomitted when the function is invoked, you must be able to <u>assign a resonable\ndefault value to arguments that are omitted</u>;\n</li></ul>\n---- 8.2.1 Optional Arguments, P128 《JavaScript: The Definitive Guide》\n</blockquote>\n声明可选参数的关键是当该参数省去时会自动生成一个默认值。\nPHP 中声明这种默认值的方法是直接在 Parameters 后加上默认值，例如\n<pre class=\"brush: php\">\nfunction om_get_orders_qtt($orderIds,$type=\'all\',$output=\'raw\') {}\n</pre>\n而 JavaScript 中这个默认值是在函数主体内赋值的，\n<pre class=\"brush: javascript\">\nfunction add_order_detail_list_event(jqobj) {\n	jqobj = jqobj || $(document); // 当可选参数省去时替代的默认值\n	jqobj.find(\".orderTipLink\").click(function(){\n		...\n	});\n}\n</pre>\n值得注意的是 <tt>||</tt> 符号的用法：\n<i>\"|| operator returns its first argument if that argument is <tt>true</tt>\nor a value that converts to <tt>true</tt>. Otherwise it returns its second \nargument.\"</i>\n<!--\n<ol><li>\n</li><li>\n</li></ol>\n\n<pre class=\"brush: php\">\n</pre>\n-->\n',NULL,1,1,'N',0,'util.js','2012-09-13 14:41:41','2014-02-27 13:20:22'),(206,'W38, 2012','<div class=\"diary\" rel=\"20120921\">\n<h3>9.21（五）</h3>\n李今日心情不好，对办公室内三人发飙，对昨三人早退不满，后对室内卫生生气。\n平静的环境暗藏杀机呀。\n<br><br>\n退换货功能基本完工，下周重回 Yii 中。\n</div>\n<div class=\"diary\" rel=\"20120922\">\n<h3>9.22（六）放弃、改变</h3>\n没想到今天伴随她的哭泣结束，没有打分…她说我就认一件事情，忽视了对她的关心。这情\n形迫使我反思自己的行为，我甚至不知道自己错在哪里，只知道现状必须改变。放弃、冷战\n……到安琢来荥阳再说。\n<br><br>\n\n白天接了三个电话：八点三十分大姐打来电话问我在不在家，炎生哥的手机突然不能开机，\n而营业厅还未开门。好不容易大姐想起我了，自己却又无计可施；母亲中午说本家永闯哥生\n病住院，让我近两天抽空看望；三姐八月十四回来，问我前段时间给她买的东西一共多少钱\n，我说三千六。\n<br><br>\n\n早上退、换货功能上线后接受了客户美常兴的“严峻考验”，发现很多急需改进的地方：\n多订单合并退货、退货单的修改删除功能。\n</div>\n\n<div class=\"diary\" rel=\"20120923\">\n<h3>9.23 在爱惜自己身体的前提下努力挣钱（日）</h3>\n<img src=\"/img/page/2012/life.20120923.a.jpg\" style=\"float:left;\" />\n早七点买排骨，回来熬稀饭。等都忙完安琢才醒，昨晚睡得安稳。午后闷热，琢醒后闹个不\n停，母亲悄悄起来给他蒸鸡蛋，虽然安最终没有吃，但暴露出我们照看孩子的一个问题：不\n会想方设法让小孩吃东西，我们只会让他喝奶粉；安现在看到电话会模仿大人把话筒放到耳\n边，母亲看安现在仍不会爽快说话，让金自己说话，这样安才会跟着她学，而不是默不作声\n，从中看出母亲期盼安早点会说话。\n<br><br>\n\n下午五点到大王村，两个姐姐都在，萍姐拿的石榴。家里上周逮过来一个小狗崽，听岳母说\n安常因小狗和笑笑吵闹。当我亲眼看见这阵势时吓了一跳，安双手紧抓这小狗背上的皮毛，\n笑笑则抓住两支前腿，双方脸上都作出痛苦状，让人误以为自己都是最痛苦的，\n其实真正痛苦的是小狗！\n<br><br>\n\n晚上去医院看望老家的一个亲戚。人比以前明显瘦了许多；不停想漱口；腹部疼到需要打\n止痛针甚至杜冷丁（一种麻醉剂）的程度；身体上的疼痛引起情绪上的激动：未达到自己\n期望的时候说不想活了、A伺候得没有B好之类的话。我可以想象正在承受身心折磨的亲戚\n内心的痛苦！我羡慕四十岁的男人，因为他们可以呼风唤雨。可眼前这个同样是四十岁的\n亲戚却是那么痛苦：父母怎么办？自己的家庭怎么办？还要麻烦自己的亲人，而自己却无能\n为力…亲戚跑跑腿还好说，如果自己没有存款的话，亲戚甚至要出钱为自己看病，这是一个\n何等让人崩溃的场景。一切悲剧的根源在自己的身体。身体不出问题上面百分之九十的痛苦\n都不会存在，生活虽不算富裕，但靠的都是自己，没有麻烦别人；身体不好、经济条件好的\n时候，自己要承受疾病带来的身体上痛苦、亲人忙前跑后的人情债，但至少不必再承受经济\n上亏欠别人之感，如果给妻儿存上够他们以后生活的钱，那么就算自己走也算安心；\n最坏的情况自己简直不敢想象，让人怎么活啊！\n</div>\n',NULL,1,1,'N',0,'util.js','2012-09-17 16:58:37','2014-02-27 13:20:22'),(207,'E-Order 退货换货功能实现','E-Order 应用中退货、换货功能终于在今天得以实现。查看之前的记录，发现从该需求提出\n到今天的实现过去了整整一年时间。从不知如何在数据表中表现到找到主单与子单的表现方\n法，再到现在这种对数据表格结构改变最小的方法。\n<br><br>\n此功能流程图设计如下：\n<br><img src=\"/img/page/2012/diagram.order-return-change.jpg\" /><br>\n显示操作主要集中在订单详情页面内，有四个位置需要做相应调整：\n<ol><li>\n<b>订单金额</b>：含有退、换货的订单的显示了加减计算的过程以便于理解，\n这里通过程序动态计算实际金额，而不是直接在表中修改 <tt>charge</tt> 列。\n通过 <tt>get_raw_charge()</tt> 方法（命名有点随意）实现；\n</li><li>\n<b>货物明细</b>：未付款订单的退货明细追加上去；已付款的退货仅注明金额项；\n</li><li>\n<b>货物总计</b>：与订单金额一样，这里也进行加减计算，不过实现过程并不理想\n<tt>get_qtt_str()</tt>中\n</li><li>\n<b></b>\n</li></ol>\n<img src=\"/img/page/2012/snap.order-return.png\" />\n\n<!--\n<a target=\"_blank\" href=\"\">l</a>\n<a href=\"\">l</a>\n<img src=\"/img/page/2012/animate2.gif\" />\n<ol><li>\n</li><li>\n</li></ol>\n-->\n',NULL,1,1,'N',0,'util.js','2012-09-21 20:56:01','2014-02-27 13:20:22'),(208,'W39, 2012','<div class=\"diary\" rel=\"20120927\">\n<h3>9.27（四）</h3>\n下午金电话里说她带着安去木棉花吃饭，晚上要住政法街，并嘱咐我回家先烧水，给孩子冲\n奶粉用。等我到家又接到电话说安在那里跑来跑去，她根本无法吃饭，让我过去把安接出来\n看一会儿。安上身穿着一件秋衣，金连个外套也没给他穿。我带着安到河阴路上做童车，\n在木棉花对面的邮政超市门口玩了没多久金打电话说已经吃完了。\n</div>\n\n<div class=\"diary\" rel=\"20120928\">\n<h3>9.28（五）</h3>\n上周六发生的事情竟无意间改变我对手机的认识，黑白屏的功能机最佳（岳母用的那种），\n发现手机中除了电话和短信外，任何其它功能都是多余的，浪费时间的。\n<br><br>\n\n昨晚一夜无话，自己在屋里生闷气，清晨四点多被噩梦惊醒，梦中一个高中同学、一个大学\n同学和现在的一个同事三个人去参加考试，结果我把一个人的准考证弄破了，正着急的时候\n惊醒了。之后辗转反侧，怎么想昨晚事情不对，跑到金和孩子床上来。我问迷迷糊糊中的金\n她的原则，她说己所不欲，切勿打扰。之后心情转好，自己庆幸没有继续把闷气生下去。\n<br><br>\n\n昨晚吃饭时安把金的手机屏幕摔花，早上在网上给金新买了个华为手机，二十九号估计就会\n送到。快中午金又打电话过来说大王村家停电好几天，岳母为了照看孩子方便要来政法街住\n上几天。等我吃完中午饭问金岳母来了没有，金说九点已到，而且岳母看到厨房地面脏的样\n子已经自己把地面整理干净！我一面懊悔岳母此次来得突然，一面后悔自己为何如此不注意\n个人卫生。\n<br><br>\n\n下午金说她们晚上要聚餐，让我没事早些回去看着孩子，好让岳母做饭。我四点半离开公司\n，在政法街下车时无意看到岳母抱着睡着的安也向政法街走来，右手还推着安的童车。\n我急忙迎上去接过车子。吃完饭我领着安在门口玩，期间先后碰到向姐、大姐和二姑。\n晚九点安喝完奶后陪他在床上玩，他认出墙上照片中的金，不停在看。今晚发现安的语言表\n达能力有所提高，会喊“奶”，给他唱儿歌时让他跟我说“燕子”，他竟也能模仿得较为清楚，\n这令我很意外。我赶紧趁热打铁，让他跟我学说爸爸、妈妈、姥姥、姥爷等词，他也学得有\n点意思了。\n<br><br>\n\n要是有个车该有多好，岳母回去就方便多了，不用让岳父骑着电动三轮来接。\n</div>\n\n<div class=\"diary\" rel=\"20120930\">\n<h3>9.29（六/晴）</h3>\n早上给金买的华为手机到货，但先是刷卡器不识别工资卡，后是交行ＡＴＭ机上无现金，\n无奈最终在工行取现金付钱。下午早早回家，路上大姐问安穿多大的鞋子，走到政法街门口\n发现岳母带着安在安踏门前坐着，不一会儿大姐问走到哪了，我随口说现在在安踏门口，\n她说她一会儿就到。大姐给安买了上鞋子和三件套，估计要两百块。若事情到此结束也罢，\n由于碰头的地点在安踏门口，姐说进去给我买衣服，我忙推辞，但大姐执意要进去，最终花\n了大姐八百块！给我买两件、金一件。回来岳母知道后对我说你大姐说要给你买你就要啊，\n说起来你也是上班能挣钱。\n</div>\n\n<div class=\"diary\" rel=\"20120930\">\n<h3>9.30（日/晴）</h3>\n<br><br>\n</div>\n',NULL,1,1,'N',0,'util.js','2012-09-24 10:29:48','2014-02-27 13:20:22'),(209,'根据不同情况验证不同表单元素的方法','<h3>2012.12.13 更新：没有搞清楚使用 Scenario 的场合</h3>\n在创建客户时根据客户是国内还是国外来对<tt>CustomerForm</tt>使用不同的\nValidation Scenario 没有任何作用。因为 Scenario 的设置在调用 View 文件之前，\n一旦页面（表单）加载完成，Scenario 不可能在改变，想通过 JS 来改变 Scenario\n是不可能的。那怎么办？对国内客户来说，\'province_ml\'的值不能为空；对国外客户来说\n，\'country_id\'的值不能为空。那么就将\'province_ml\', \'country_id\' 都设为不可为空。\n当选择国内客户时，将 \'country_id\' 值设置成中国并隐藏；当是国外地址时，\n将国家选择菜单显示，同时将 \'province_ml\' 随便赋一个非空值并隐藏。\n在存数据时仅读取那些需要的信息即可。\n<h4>何时声明 Scenario</h4>\n紧跟 Model instance 声明之后：\n<pre class=\"brush: php\">\npublic function actionCreateBranch()\n{\n	$model=new LogisticsForm;\n	// $model 实例化后立即声明 Scenario, 不能放在 Massive assignment 后.\n	$model-&gt;scenario=\'newBranch\'; \n	$model-&gt;attributes=$_POST[\'LogisticsForm\'];\n	...\n}\n</pre>\n\n<h3>Original</h3>\nE-Orders 应用中 <tt>om_addresses.province</tt> 列存储公司所在省份。\n对国内客户来说，我们用下拉菜单来存储该列值，且我们要求此列必须选择；\n国外客户用一个文本框来搜集此列值，可以不填。也就是说，对同一个 Model Class\n<tt>CustomerForm</tt> 来说，Attribute <tt>province</tt> 的 \'required\' \n限制会因客户类别的不同而不同。\n\n<br><br>\n搜索到一篇符合自己需求的文章，发现可以在 Model Class 验证规则声明方法\n<tt>rules()</tt> 中有个 <tt>\'on\'</tt> 属性可以设定不同的验证条件。\n依据自己的需求，可以将规则修改如下：\n<pre>\npublic function rules() {\n	return array(\n		array(\'full_name,short_name,street,contacter\', \'required\'),\n		<span class=\"hl\">array(\'province_cn\', \'required\',\'on\'=&gt;\'mainland\'),</span>\n		array(\'short_name\', \'length\', \'max\'=&gt;14),\n		array(\'province,city,zip,duty,cell_phone,office_phone,fax,site\', \'length\', \'max\'=&gt;40),\n	);\n}\n</pre>\n这个 <tt>\'on\'=&gt;\'mainland\'</tt> 可以解读为：当创建的客户是国内客户时，\nAttribute <tt>province_cn</tt> 就必须填写。在数据保存前，我们通过 \n<pre>$module-&gt;validate(\'&lt;scenarioName&gt;\');</pre>\n的方法选择相应的情况进行验证。但实际操作后发现一个问题：\nView 表单中不能识别相应 Scenario. 直到看到另一篇文章如下介绍后才明白原因：\n<blockquote>\nEach model object has a <tt>scenario</tt> property. <u>Some scenarios are \nbuilt-in and will be assigned automatically by Yii</u>, \nbut you can define your own.\n<br><br>\nFor instance, a <tt>CActiveRecord</tt> read from the database has the \n<tt>\"update\"</tt> scenario, while a new record has the <tt>\"insert\"</tt> \nscenario.\n<pre class=\"brush: php\">\n$modelA = User::model()->findByPk(1); // $model->scenario = \'update\'\n$modelB = new User();                 // $model->scenario = \'insert\'\n$modelB->scenario = \'light\';          // custom scenario\nif ($modelB->validate()) {            // will only apply rules of the \"light\" scenario\n</pre>\n</blockquote>\n这段话帮助理解前篇文章中的另一段话：\n<blockquote>\nYou may already know you can set the ‘on’ property to either ‘insert’ or ‘update’, which will automatically cause the rule to only be used on the corresponding type of save. However sometimes these two options are not enough. So now with this new enhancement, you may set it to any value you want. Let me show an example:\n</blockquote>\n\n<!--\n<pre class=\"brush: php\">\n</pre>\n<blockquote>\n</blockquote>\n-->\n',NULL,1,1,'N',0,'util.js','2012-09-25 15:55:32','2014-02-27 13:20:22'),(210,'单选按钮的显示的问题','Yii 中默认表单显示样式是元素的 Label 和元素分两行显示，当表单中元素多了以后表单\n将变得过长，自己仍喜欢 Label 和 Element 在一行中显示样式。查看文件后发现 Yii\n已经考虑到此情况：\n<pre class=\"brush: css\">\n/* Snippet in file /blog/css/form.css */\n/* ...\n * The above code will render the labels and input fields in separate lines.\n * In order to render them in the same line, please use the \"wide\" form as follows,\n *\n * &lt;div class=\"wide form\"&gt;\n *     ......\n * &lt;/div&gt;\n */\n</pre>\n仅需在 View 表单中追加 <tt>\'wide\'</tt> 类名即可。添加后发现单选按钮显示异常\n（图 B 处），\n<br>\n<img src=\"/img/page/2012/snap.yii.radio-button-style-in-wide-form.png\" />\n<br>\n查看页面源码发现单选按钮之间有个 <tt>&lt;br&gt;</tt>, 搜索后发现该换行符是\n<tt>$form-&gt;radioButtonList()</tt>生成的，且该方法有一些设定单选按钮显示样式的\n参数。如下设置可解决问题，其样式见图C：\n<pre class=\"brush: php\">\necho $form-&gt;radioButtonList(\n	$model,\n	\'type\',\n	array(\'mainland\'=&gt;\'国内客户\',\'abroad\'=&gt;\'国外客户\')\n	,array(\n		\'template\'=&gt;\'{input} {label}\',\n		\'separator\'=&gt;\'  \',\n		\'labelOptions\'=&gt;array(\'style\'=&gt;\'display:inline\')\n	)\n);\n</pre>\n目前的样式仍有问题，简单排查后发现因为单选按钮（复选框也如此）自身含有 \n<tt>&lt;label&gt;</tt>标签、将此类标签也渲染成表单元素的标签样式的原因。\n在样式表中追加如下代码后解决问题：\n<pre class=\"brush: css\">\n/**\n * Snippet in file /blog/css/form.css \n * 在 View 文件单选按钮外侧用 &lt;div class=\"radioR\"&gt; 包裹\n */\ndiv.radioR span input \n{\n	float: left;\n	margin-right: 3px;\n}\ndiv.radioR span label\n{\n	float: left;\n	margin-right: 10px;\n	text-align: left;\n	width: auto;\n}\n</pre>\n<br>\n<!--\n<pre class=\"brush: php\">\n</pre>\n<span class=\"hl\"></span>\n-->\n',NULL,1,1,'N',0,'util.js','2012-09-26 16:12:44','2014-02-27 13:20:22'),(211,'向 Yii 中加入自定义 JS 代码','知道 Validation Scenario 的简单用法后，我在创建客户链接后加上 Query String \n<tt>?type</tt>, <tt>type</tt> 值为 \'mainland\' 表示国内客户；\'abroad\' \n表示国外客户。然后在 Create Action 中根据该值设定 Validation Scenario:\n<pre class=\"brush: php\">\n	public function actionCreate()\n	{\n		$model=new CustomerForm;\n		if ($_GET[\'type\']) {\n			$model-&gt;scenario = ($_GET[\'type\']==\'mainland\') ? \'mainland\' : \'abroad\';\n		}\n	}\n</pre>\n这样即可解决<tt>\'province\'</tt>列在国内客户为必须而在国外客户中为可选的问题。\n但创建一个客户还要分成两个链接显然太麻烦，况且在同一个客户下添加不同收货地址时\n若还用此方法就显得麻烦了，还是之前 E-Orders 中那种方式方便，但需要 JS \n代码控制表单元素，这就引出在 Yii 中添加自定义 JS 代码的问题。\n<br><br>\n\n如下代码可以将自定义代码引入到 Yii 创建客户的 View 文件中：\n<pre class=\"brush: php\">\n// views/customer/_form.php\nYii::app()-&gt;clientScript-&gt;registerScriptFile(\n	Yii::app()-&gt;baseUrl.\'/js/customer.js\',\n	CClientScript::POS_END\n);\n</pre>\n有了 JS 的支持，我就可以对创建客户的表单进行类似 E-Orders 中那样人性化的优化。\n在设置国家下拉选择菜单时发现问题：国内客户是不需要选择国家的，国外客户则必须，\n这就说明<tt>\'country_id\'</tt>的 Validation Scenario 应设置为 \'abroad\'.\n但实践中发现提交国外客户时发现提示”省份/直辖市“列必须输入，但此列明明是\n\'mainland\' 下才必须输入的呀，\n\n\n<!--\n<br><br>\n<pre class=\"brush: php\">\n</pre>\n<img src=\"/img/page/2012/animate2.gif\" />\n<ol><li>\n</li><li>\n</li></ol>\n-->\n',NULL,1,1,'N',0,'util.js','2012-09-26 17:04:18','2014-02-27 13:20:22'),(212,'CGridView 中 AJAX 过滤功能浅述','<tt>customer/create</tt> Action 完工，转向<tt>customer/Admin</tt> Action.\n管理页面常用 <tt>CGridView</tt> Widget, 自己仅需要将客户数据\n（物流、供应商不需要），如何实现呢？\n<pre class=\"brush: php\">\n$this->widget(\'zii.widgets.grid.CGridView\', array(\n	\'id\'=>\'customer-grid\',\n	\'dataProvider\'=>$model->search(),\n	\'filter\'=>$model,\n	\'columns\'=>array(\n		\'full_name\',\n		\'short_name\',\n		\'create_time\',\n		array(\n			\'class\'=>\'CButtonColumn\',\n		),\n	),\n));\n</pre>\n依据上面代码生成的表格显示的是所有公司的数据，查看 <tt>CGridView</tt> API\n得知上面的 <tt>id, dataProvider, filter, columns</tt> 都是 <tt>CGridView</tt>\n的 Properties, 其中 <tt>dataProvider</tt> 就是 View 的数据来源，\n<pre class=\"brush: php\">\n// model/Company.php\npublic function search()\n{\n	$criteria=new CDbCriteria;\n\n	$criteria->compare(\'id\',$this->id,true);\n	$criteria->compare(\'full_name\',$this->full_name,true);\n	$criteria->compare(\'short_name\',$this->short_name,true);\n	$criteria->compare(\'site\',$this->site,true);\n	$criteria->compare(\'create_time\',$this->create_time,true);\n	$criteria->compare(\'update_time\',$this->update_time,true);\n\n	return new CActiveDataProvider($this, array(\n		\'criteria\'=>$criteria,\n	));\n}\n</pre>\n从中看出 <tt>CGridView</tt> 所需数据来源类型为 <tt>CActiveDataProvider</tt>.\n<blockquote>\nCActiveDataProvider provides data in terms of ActiveRecord objects which are\nof class modelClass. It uses the AR CActiveRecord::findAll method to retrieve \nthe data from database. The criteria property can be used to specify \nvarious query options. \n</blockquote>\n从 API 的简单介绍中得知，通过 Property <tt>criteria</tt> 设定查询条件，\n此构造起返回 <tt>ActiveRecord</tt> objects 供 View 使用，而\nClass <tt>CDbCriteria</tt> 是专门用来生成查询条件的类，其 \n<tt>compare()</tt> method 用来生成查询条件：\n<pre class=\"brush: php\">\npublic CDbCriteria compare(string $column, mixed $value, boolean $partialMatch=false, string $operator=\'AND\', boolean $escape=true)\n</pre>\n第三个参数 <tt>partialMatch</tt> 设为 <tt>true</tt> 表示模糊匹配\n（<tt>LIKE</tt>）。第四个参数默认值<tt>\'AND\'</tt> 表示各表达式间是与关系。\n这样一来就大概明白了，其实上面那几行 \'compare\' 语句有的没用的，\n仅有搜索必要的列才需要，以客户表来说，我们只需要支持客户全称、客户简称筛选即可；\n该<tt>search()</tt> method 其实没有存在必要，因为我们将客户、供应商和物流公司都\n保存在一个表中，我们关注的是每一个具体客户类型下的搜索。综上，\n获取所有客户数据的代码如下：\n<pre class=\"brush: php\">\npublic function searchCustomer()\n{\n	$criteria=new CDbCriteria;\n	$criteria->compare(\'full_name\',$this->full_name,true);\n	$criteria->compare(\'short_name\',$this->short_name,true);\n	$criteria->compare(\'category\',self::CATEGORY_CUSTOMER); // 注意：在类内部使用类属性、方法使用 \'self::\'\n\n	return new CActiveDataProvider($this, array(\n		\'criteria\'=>$criteria,\n	));\n}\n</pre>\n最后将 View 文件中 <tt>CGridView</tt> 的 <tt>dataProvider</tt> \n属性值由默认的 <tt>$model-&gt;search()</tt> 改为 <tt>$model-&gt;search()</tt> \n后完工。\n<!--\n<br><br>\n<pre class=\"brush: php\">\n</pre>\n<img src=\"/img/page/2012/animate2.gif\" />\n<ol><li>\n</li><li>\n</li></ol>\n-->\n\n',NULL,1,1,'N',0,'util.js','2012-09-27 11:41:28','2014-02-27 13:20:22'),(213,'CDetailView 显示客户信息','<tt>customer/view</tt> 中选择使用 <tt>CDetailView</tt> Widget 显示客户信息。\n<pre class=\"brush: php\">\n$this->widget(\'zii.widgets.CDetailView\', array(\n	\'data\'=>$model,\n	\'attributes\'=>array(\n		\'full_name\',\n		\'short_name\',\n		\'address_s\', // 自定义属性\n		\'zip\',\n		\'contacter\',\n		\'duty\',\n		\'cell_phone\',\n		\'office_phone\',\n	),\n));\n</pre>\n对 attribute <tt>address_s</tt> 做下说明：此属性并未对应表格中的任何列，\n是将表中的列（或多列）进行“加工”以方便用户而构造的，\'_s\' 后缀表示 \'screen\',\n从代码中可看出它的来历：\n<pre class=\"brush: php\">\n// controllers/CustomerController.php\nif ($a->country_id == 47) {\n	$model->address_s 	= $a->province.$a->city.$a->street;\n} else {\n	$list = array(\'street\',\'city\',\'province\',\'country_s\');\n	foreach ($list as $i) {\n		if ($i)\n			$temp_a[] = $model[$i];\n	}\n	$model->address_s 	= implode(\', \',$temp_a);\n}\n</pre>\n类似的属性 <tt>CustomerForm</tt> Class 中还有：<tt>id, country_s, \nprovince_cn</tt>，这些属性的特点是和表格列无实际对应关系，只是为了收集、\n显示数据方便而添加的属性。\n<!--\n<pre class=\"brush: php\">\n</pre>\n<img src=\"/img/page/2012/animate2.gif\" />\n<ol><li>\n</li><li>\n</li></ol>\n-->\n',NULL,1,1,'N',0,'util.js','2012-09-28 10:40:38','2014-02-27 13:20:22'),(214,'用 CAction 定义 Controller Actions','<h3>实现方法</h3>\n在 Yii Guide 中看到定义 Action 的另一种方法：\n<blockquote>\nan action can be defined as a method whose name starts with the word \n<tt>action</tt>. A more advanced technique is to define an action class and \nask the controller to instantiate it when requested. \nThis allows actions to be reused and thus introduces more reusability.\n---- P27, 2.4.3 Action\n</blockquote>\n下面用这种方法重新定义 <tt>customer/create</tt>:\n<ol><li>\n在 <tt>CustomerController</tt> 中 override <tt>actions()</tt> method 如下：\n<pre class=\"brush: php\">\npublic function actions()\n{\n	return array(\n		\'create\'=>\'application.controllers.customer.CreateAction\',\n	);\n}\n</pre>\n</li><li>\n新建目录 <tt>controllers/customer/</tt>, 并新建 <tt>CAction</tt> Class\n<tt>CreateAction</tt>:\n<pre class=\"brush: php\">\nclass CreateAction extends CAction\n{\n	public function run()\n	{\n		// 同 actionCreate() 中部分\n	}\n}\n</pre>\n</li></ol>\n需要注意，action 在 controller 内部时末尾处生成 view 文件时的代码\n<pre class=\"brush: php\">\n$this->render(\'create\',array( \'model\'=>$model,));\n</pre>\n在<tt>run()</tt>内部时不能原样复制，这是因为<tt>$this</tt>所代表的对象已改变，\n之前是<tt>CController</tt>, 现在是<tt>CAction</tt>, 应修改如下：\n<pre class=\"brush: php\">\n$this->getController()->render(\'create\',array( \'model\'=>$model,));\n</pre>\n\n<h3>面临的问题</h3>\n<tt>customer/view</tt> action 完工后转向客户一般发货地址的创建上，起初打算用\n<tt>customer/addaddress/</tt> route, 后一想对一般发货地址的操作还包括编辑和删除\n，也可以用一个单独的 Controller 来管理，比如使用类似 \n<tt>customer/address/create?cid=5</tt> 的 Route 为客户添加一个发货地址。\n<br><br>\n如果将 Controllers 文件按树状结构存放，那么子目录所在目录不能有相应 Controller.\n如果文件结构如下：\n<pre>\ncontrollers/\n  	|-- CompanyController.php\n  	|-- <span class=\"hl\">CustomerController.php</span>\n	|-- <span class=\"hl\">customer/</span>\n		|-- CreateAction.php\n		|-- ViewAction.php\n		|-- AdminAction.php\n		|-- AddressController.php\n		|-- address/\n			|-- CreateAction.php\n</pre>\n那么访问<tt>customer/address/create?cid=5</tt>时将出现如下 404 错误信息：\n<pre>\nError 404\nThe system is unable to find the requested action \"address\".\n</pre>\n通过提示信息发现系统把<tt>\'customer\'</tt>视为 Controller, 紧挨着的\n<tt>\'address\'</tt>视为 \'action\'.\n原因就在于文件 CustomerController.php 和目录 customer/ 处在同一目录下\n（CustomerController.php 对应的 route 为 \'customer\', 这就和代表 controller \n层次的目录 customer/ 产生冲突，造成系统判断错误）。因为此，还是将所有 Controller\n文件直接放在 controllers/ 目录下。\n<h3>可取性</h3>\n此法适用于含有多个 Actions 的 Controller, 目前的使用仅限于 GRUD 操作，而且此法让\nController 组织看上去很分散，故暂时不用此法。\n<!--\n<br><br>\n<blockquote>\n</blockquote>\n<pre class=\"brush: php\">\n</pre>\n<img src=\"/img/page/2012/animate2.gif\" />\n<ol><li>\n</li><li>\n</li></ol>\n-->\n\n',NULL,1,1,'N',0,'util.js','2012-09-29 09:20:38','2014-02-27 13:20:22'),(215,'W40, 2012','<div class=\"diary\" rel=\"20121001\">\n<h3>10.1（一）</h3>\n\n<br><br>\n</div>\n\n<div class=\"diary\" rel=\"20121002\">\n<h3>10.1 八月十六（一）</h3>\n今天的日子有些特殊，一来陈红结婚，二来是三姐的生日（闰八月十六），阳哥九点多到后\n一家人聚齐，上礼的时候阳哥拿的是十张新钱，由于大姐上的是五百，运亭叔写的也是五百\n，待长林叔纠正后阳哥哈哈大笑，上礼时一定要看着写的数目和实际钱数相同后再离开，\n此时当晕大头最不应该。另外的细节还有：一家人上礼的话顺序要兼顾辈分高低和所上钱数\n多少。\n<br><br>\n饭桌上基本上是以阳哥为焦点。顺序是：池哥、阳哥、国顺哥、清永哥、清伟哥、迎宾、\n二成哥和陈旗（从我左手边按顺时针）。\n列举一些细节：\n<ol><li>\n发酒杯时迎宾没有给陈旗发，阳哥说为什么，迎宾说他俩之前在一起吃过饭，听说他不喝酒\n，又说他和陈旗都是郑大毕业的，阳哥说他（陈旗）说的“郑大”是“正在长大”的意思，言外\n之意是“我现在长大了，会喝了。”这个“郑大”和“正大”的同音用得很妙。\n</li><li>\n倒酒的时候，迎宾因为搞不清我们之间的辈分问从哪里开始倒，阳哥马上接着刚才的话题说\n就从”郑大“的开始倒，一句风趣的话就将场面化解，试想如果这时正儿八经的说某某某是我\n们之间最大的、应该从他开始之类的话效果自然要差很多；\n</li><li>\n等给我倒的时候，我也没说停，阳哥在一旁替我说话说你不用勉强之类的，这种情况下应该\n主动说可以了，不然迎宾在你不说的情况下，自然而然会倒得多些；\n</li><li>\n我们这一桌先打开的是一种酒，后来拿的酒和现在喝的不是一个牌子，这是阳哥果断对迎宾\n说不喝混酒，从某种程度上也减少了大家的饮酒量；\n</li><li>\n为了让客人多喝酒，迎宾找了个说辞：鱼头正对着清永哥，迎宾在和阳哥说的时候，清永哥\n试图转动桌子鱼头朝向改变，却被迎宾制止，清永哥这个下意思动作自己要注意避免，\n显得不够爽快。清永哥喝后没有了下文，迎宾解释说这鱼头酒喝过了，你不夹菜我们也不好\n意思吃啊。原来说辞在此；\n</li><li>\n阳哥在饭桌上对我说让我什么时间去把那辆现代开回来，这个场景和之前炎生哥亲自对我说\n让我等安稍微大些了帮他做事很相似。在说之前，我都从侧面了解到了信息。我的回答过后\n想来不太合适，我说的是停车不方便，如果我能想想再说“中啊，开回来爸妈去哪也方便一\n些“之类的话就更好了。这里主要是不清楚阳哥在这种场合说这事有无特别的意思；\n</li><li>\n新郎过来敬酒后我听到阳哥和池哥在聊不知道新郎姓甚名谁，我天真地接话說咱们来的时候\n我看见新郎好像叫“刘令”，阳哥说问题是我们来的时候注意力不再那里呀，之后又说新郎在\n敬酒的时候应该主动介绍一下。我这时才明白阳哥说那话的真实意思。现在想想，阳哥会觉\n得搞清新郎叫什么很重要？酒桌上的话千万别当真啊；\n</li><li>\n言多必失。下午回来跟母亲说回来和某某某在一个车上，我听到了什么，也没说清楚，\n搞得阳哥迷茫，母亲无回应；\n</li><li>\n下午帮阳哥三口照相，阳哥看后说“陈奎是真知道谁和谁是一家人，你看照相里我和她们俩\n（嫂子和昊）中间正好有棵数分开。“失谓取景时没有注意；得谓自己好歹能想到给哥一家\n照相；\n</li><li>\n白天金哭，晚上问原因，先是答她感到我对别人比对她好，后是说每次家里来客人，\n母亲在一旁说话，我在忙，又说还是回娘家好之类的话；\n</li></ol>\n</div>\n\n<div class=\"diary\" rel=\"20121002\">\n<h3>10.2（二）</h3>\n阳哥今天要带着母亲去洛阳旅游。八点到政法街取回电脑，等明天阳哥回来了把一号那天\n照的全家福拷下来。九点多向姐打电话让母亲到村口等着她们，我把母亲送到村口。\n中午和晚上都是自己做饭喂父亲吃饭，切身感受一下母亲的辛苦。午后万青找我修电脑。\n晚七点母亲到家，阳哥说今天辛苦陈奎了。\n</div>\n\n<div class=\"diary\" rel=\"20121006\">\n<h3>10.6（六）</h3>\n<img src=\"/img/page/2012/life.20121006.a.jpg\" style=\"float:left\" />\n<img src=\"/img/page/2012/life.20121006.b.jpg\" style=\"float:left\" />\n母亲昨天从海顺口中得知徐寨高尧老师母亲今天办丧事，当时母亲说姐姐结婚那时候高老师\n都上礼了，明天也要去上礼。今天一早问母亲的时候母亲又说不去上礼了。但早上带着安在\n马路上转的时候接到金电话让回去，母亲又听说大姐和海顺都去上礼了，又让我去上礼。\n走到徐寨村口看到大姐的车听在路边，因为是外村办事，上礼时一个人也不认识，礼桌上的\n人问是亲戚还是朋友，又问有没有开车，之后给了一块白布外加两盒五渠，我突然担心自己\n是不是上错礼了，要是上礼的不是高老师家那可就丢人丢大发了。为了确认，也为避免尴尬\n，我问身边一个身穿孝服的妇女高尧高老师在哪里，那女眼着陵棚说在里面，这时我才意识\n到问得有些不妥，这种场合下，作为儿子的高老师应该在陵棚下守陵。我正在犹豫要不要过\n去见下大姐，和我同一时间过来上礼的几个人到陵棚前鞠躬，我也跟着站在后面鞠躬，这时\n看到胡同里坐着的大姐，大姐看到我很是诧异，一直问我为什么我也过来了。我系着鞋带说\n父亲发话了让过来，还说我这就回去，大姐说她坐一会儿就回去了，让我回去吧。现在想来\n，以后要是碰到类似的事情，上完礼后不多说话直接走人是最好的方法。\n<br><br>\n下午三点三人到植物园，金领着安去游乐园玩，我和马超说会话。安刚开始看见什么都往里\n进，后来找到钓小鱼的玩具后玩得十分投入，五点返回。\n</div>\n\n<div class=\"diary\" rel=\"20121007\">\n<h3>10.7（日）</h3>\n<img src=\"/img/page/2012/life.20121007.a.jpg\" style=\"float:right\" />\n<img src=\"/img/page/2012/life.20121007.b.jpg\" style=\"float:right\" />\n今天回大王村，我骑着三轮车带着安的童车和母亲让带过去的菜。王羽佳走路没有安稳当，\n但跑得也很快，走起路来跟喝醉酒一样，有时一转弯就忘记了之前的方向，十分搞笑。\n和安相比，羽佳最大的优点是跌倒后二话不说马上站起来继续玩；反观安，跌倒后不管有没\n有摔到，先整两嗓子引起周围人注意；羽佳声音略带沙哑，安的声音比较尖，如安的大姨所\n说，安的声音听起来跟女孩子一样。\n<br><br>\n晚上回到政法街后到老姑家修电脑，说是修电脑，也就是把显示器的连接线重新连了一下，\n之前不显示是因为接触不良。弄好后跟老姑和姑夫在客厅聊天，话题主要是围绕张夏。\n期间老姑夫先是让老姑给我倒水喝，我下意识说不用，但最后还是倒了水喝。现在想想，\n本来就是他们找我帮忙，理应“热情招待”以略表心意，但此时若一味客气，即显得自己外气\n，有让老姑心里不是特别舒坦。相反，若老姑夫让给我倒水，自己直接爽快答应，虽然结果\n同样是喝水，但效果会截然不同。期间自己喝了不少水，老姑夫给我添了几次水；老姑还拿\n出张夏带回来的点心款待我；老姑夫让老姑拿了两盒永和豆浆让我喝。临走时老姑让我把豆\n浆带走，我说拿一盒，姑夫执意让把两盒都带走，这是姑夫对我跑来修电脑的心意。\n<br><br>\n修电脑时姑夫说有些事情对不懂的人来说难得跟什么似的，但对懂的人来说可能顺路捎带就\n给解决了。这让对找别人帮忙有了新的认识，我之前最不情愿麻烦别人，遇事宁可找生人都\n不找亲戚，怕的就是万一遇到不愉快，会碍于情面不能和陌生人那样较真。姑夫这话让我觉\n的这个原则也要分情况，若事情对自己来说十分困难，但对对方来说是举手之劳的话，承对\n方一个人情也未尝不可。但这仅限于小事，跟指望某个人过活不同，后者这种想法十分危险\n。\n<br><br>\n哥假期期间三次提到让我把他那辆现代开回来，综合分析大概可以推测哥的意图：一来是因\n为父亲以后行动不便，万一需要走动有个车会方便些，毕竟大姐比较忙，有时不一定抽得开\n身；二来哥回来可以不用亲自开车，而是选择飞机、动车等工具，这样我去接他比大姐去接\n他要好，用哥的话说，不能总麻烦大姐，她先是董事长，后才是姐，老是麻烦不好；最后可\n能是贯彻他一荣惧荣的观念，为了照顾他这个小兄弟。现在想来，父亲住院时母亲跟我提这\n个事情时我只想到了最后一层。\n</div>\n',NULL,1,1,'N',0,'util.js','2012-10-01 07:54:56','2014-02-27 13:20:22'),(216,'W41, 2012','<div class=\"diary\" rel=\"20121009\">\n<h3>10.9（二）</h3>\n上午请假参加陈永闯追悼会，忙完已中午十二点，本想直接上班，被挽留到招待所吃饭，\n众人估计是怕我不去吃饭，唤成哥以晕车为由非让我坐在车上而由他骑我的自行车。\n下午三点钟到单位。\n<br><br>\n</div>\n\n<div class=\"diary\" rel=\"20121010\">\n<h3>10.10（三）</h3>\n近几日均不想做工。晚上正要炒菜，液化气却用尽。\n</div>\n\n<div class=\"diary\" rel=\"20121011\">\n<h3>10.11（四）</h3>\n晚七点，莫言获诺贝尔文学奖。\n</div>\n\n<div class=\"diary\" rel=\"20121012\">\n<h3>10.12（五）自胜的两种形式</h3>\n今天终于开始干点正事：设计客户主发货地址修改操作。下午销售反映退换货操作出现问题\n，接下来的几天要更新 E-Orders.<br><br>\n\n一日三餐皆在外解决，即费钱又不健康。进来想使用功能手机的欲望强烈，但目前的手机仍\n能工作，禀着物尽其用的原则，遂作罢。换手机是为了避免上网，上网浪费时间；不买烟是\n为了戒烟，吸烟伤身体。两者都不是通过控制自我的方式来改变生活习惯，\n还不能达到真正自胜的境界。\n</div>\n\n<div class=\"diary\" rel=\"20121013\">\n<h3>10.13（六）母亲生日忘记+任请客+方舟子发现360上传用户隐私重要证据</h3>\n\n\n下午金打电话说她和安现在在吴村，这让我很是奇怪，因为我正打算明天回去看她们俩呢，\n后经金提醒才知道今天是母亲六十四岁生日！唉，如此重要的日子自己竟然忘记了！！\n金还说是母亲打电话让她俩回去，还说向姐也回去了。我问金回去有没有买东西，金说买了\n香蕉。唉，要是之前有个提醒，母亲的生日也自己也不会如此仓促！<br><br>\n\n今天任结婚宴请公司同事，饭店订在桐柏路花之轩。饭桌上记录如下：\n<ol><li>\n<b>座位的讲究：</b>经理和同事到齐都落座后厂长还没有来，我考虑厂长和厂长夫人到后坐到经理\n旁边比较合适，就建议公司女同事空出两个位置给厂长，没想到会计听到后立刻发现自己座\n的位置有些不妥，立马端着茶杯离开原座位，原来她坐的地方恰好正对着门口，也就是常说\n的“主位”，这是我没有预料到的。以后参加饭局，如果早到的话，除了预留未到客户外，\n务必先把主位考虑进去；\n</li><li>\n\n<b>何时递红包：</b>同事说反正到时候新郎、新娘要敬酒，到时候给红包最好，但后到的厂长一进\n门先把红包递上，而且任夫妻俩并没有像我结婚时宴请同事那样进行敬酒，而是先喝着，\n只是到后半程才开始给同事添酒，这就让同事门只好宴席结束后再送红包。我觉得这种场合\n还是厂长的做法正确——见面先送红包表示恭喜，之后再吃饭。不过任的做法也不错，之所以\n没有敬酒是因为都是“自己人“，这样显得亲切不是？自己第一次喝醉（炎生哥生日）时在饭\n桌上叫身为审计局局长的荆豪的干爹叫“局长”后立马被治国哥纠正说应该叫“哥”才对的情形\n还历历在目，这表明如果是比较亲近的人，还是不那么正式为好，比如，今天晚上自己向任\n妻子敬酒时喊对方为“新娘子”就不妥，叫“弟妹”岂不更好？不过话有说回来，这也得分场合\n，晚上因为经理、厂长都在场，真这么叫也不是很合适，所以得把握这个度；\n</li><li>\n\n<b>白酒、红酒都要准备：</b>下班前经理把任叫过去给任两瓶红酒让带过去，宴席开始时倒酒时服\n务员问是打红酒还是白酒，任说都打开，女士和开车的喝红酒，男士喝白酒。这时才看到经\n理的先见之明啊：白酒就不说了，开车的和女士怎么办，如果像任那样只带白酒的话？\n喝茶？显然气氛上说不过去。这个细节即体现了经理的细心之处又表明了宴请宾客时要准备\n充分，不能只带白酒，记着考虑到不喝白酒的人；\n</li><li>\n\n<b>别什么都服务：</b>红酒喝完一瓶后，任主动去打开新的一瓶红酒，但是由于找不到启瓶塞打不\n开，这时经理说话了，“让服务员过来打，不要什么都服务。“经理提醒得真对呀，现在的酒\n店服务周到，完全可以让服务员代劳，自己既然花钱了，就不必事必躬亲，此时不是表现考\n虑周到的时候；\n</li><li>\n\n<b>“陈奎，干了啊”：</b>这是第一次举杯时喝红酒的厂长对喝白酒的我说的话，让我一时竟不知如\n何应对，喝红酒的对喝白酒的这么爽快？！以后要是再遇到类似情形，如果是类似厂长这样\n的不是特别亲近的人，就说：“中！我干了，你是把一瓶干了还是两瓶干了？！”若是自己人\n的话就更好说了，“呦，你真够爽快的啊，你要是和白水的话，岂不要喝一桶啊？！“；\n</li></ol>\n\n今天本来是要解决协议结算订单到帐授权的问题的，但看到红帆软件（k-source.com）和新\n浪微博上的牛人（TimYang）后，怀疑自己的想法能否实现，自己的想法已经有太\n多公司在做了，且比自己想得要周全的多（Android, iOS App），不免心情沮丧；\n</div>\n\n<div class=\"diary\" rel=\"20121014\">\n<h3>10.14（日）带父亲到高村卫生院 + 安感冒咳嗽 + 两边父母都为难</h3>\n<img src=\"/img/page/2012/life.20121014.jpg\" style=\"float:left;\" />\n八点骑车到老家，看到安时他正在大门口，声音听着是感冒了，流着鼻涕，时不时咳嗽，\n头发长了，更显得发质黄。父亲气色不错，父亲单独对我说想让我带他到高村卫生院找泰山\n医生输液，母亲说今天星期天泰山不会上班，想着就是医生不在，带着父亲出去转转也算不\n错，用母亲的话说，到高村买个烧饼夹吃着就回来了。 <br><br>\n\n到医院门口打电话得知泰山刚好上班，搀扶着父亲走到泰山的诊室，刚一进门就看见父亲小\n便了，一时竟不知所措，慌忙中抓着毛巾去挡，还是泰山想到赶紧找来垃圾桶让父亲解决。\n最后还是弄得诊室地面上一片，唉。泰山给父亲量血压、听心脏、看看腿，说父亲小便不受\n控制的原因，最后开了点西药，我拿着药单带着父亲返回。出了医院门，找到父亲经常吃烧\n饼夹的地方买了三个，一个直接递给父亲，另两个装起来回家。 <br><br>\n\n到家后母亲已经包好饺子，肉是昨天大姐拿的二百块钱的羊肉。尽管母亲事先嘱咐多煮一会\n儿，因为羊肉不好熟，但最后还是嚼不动。昨天向姐拿的鸭肉根本不喜欢吃，母亲看到我们\n没吃什么东西，又把前天的卤面炒了一下。结论——羊肉不适合做饺子馅。 <br><br>\n\n下午五点回到大王村，走到村口诊所给安抓些药。到家后岳母先是“埋怨”我昨天母亲生日自\n己都会忘记，后说王四对他说想回江苏，因为整天住涣姐家感觉不方便（为了避免两个孩子\n在一起闹得厉害，王四国庆节后住在涣姐家一周），岳母对王四说好不容易回来多住几天，\n最后商量的好像是再在涣姐家住一周后，再回大王村住几天再走。岳母还说安太闹人，\n一摔倒就哭,羽佳一天不知道摔倒多少回，每一次都是二话不说就站起来。\n听后心里不是滋味，养个孩子真作难，自己是干作难，周围亲人是真作难。\n</div>\n',NULL,1,1,'N',0,'util.js','2012-10-08 07:32:26','2014-02-27 13:20:22'),(217,'退货操作（二）协议结算订单到帐授权存在的问题','<h3>Oct 16</h3>\n受 KIS 手册中“会计期间”概念启发，考虑单独建表存储各客户应收账款信息，\n此表含有如下三列信息：\n<pre>\n  Column		Value\n------------------------------------\ncustomer_id		2\namount			45,000 (可能为负值，如果客户多汇钱的话)\naccounting_period	\'201210\'\n</pre>\n对某一个客户来说，当月底应收账款计算方法如下：\n<blockquote>\n应收账款 = 上月应收账款额 + 本月订货金额 - 本月付款金额\n</blockquote>\n其中“本月订货金额”和“本月付款金额”相互独立，可通过自定义函数计算得出。 <br><br>\n\n首先要考虑的一个问题就是销售可能修改订单金额，会计也可能修改收入金额。\n这时需要更新相关项目（订单或收入单）所在月至当前月份该客户的所有应收账款数据。\n<br><br>\n\n工作流程：\n<ol><li>\n将退货单显示在订单表格中，退货单在客户名称后用红色字体［退货］字样，\n添加对应功能 CRUD, 在筛选框中加入订货、退货 Check Box;\n</li><li>\n改进已有退货功能，取消“换货”概念：移除款额到帐订单退货后换货的逻辑；\n</li><li>\n新问题：应在提交订单中添加额外费用（如运费、银行手续费等），\n否则应收账款项将计算不准确；\n</li></ol>\n\n以上为销售操作方面，会计操作方面：\n<ol><li>\n新建“订单款额到帐”模块，<b>让到帐和订单脱钩</b>，这是此次功能更新的根源。\n以上模块适用协议/按月结算模块，单笔结算模块暂时保留；\n</li><li>\n<s>先添加修改</s>收入单应有修改功能（含金额）；\n</li><li>\n到 11 月份会计整理出 201111 所有客户应收账款后添加应收账款模块；\n</li></ol>\n\n\n<br><br>\n<h3>情景再现</h3>\n客户刘晓华退了两个订单中两个粒度的货物若干，由于系统显示这两个订单均已到帐，\n林在进行退货操作后自动转向换货页面，林在不清楚的情况下提交等数量的换货单，\n但实际上客户并没有换货，于是林反映此问题。\n<br><br>\n向林了解情况后发现问题出在两个订单到帐授权信息上，客户有一种付款方式是承兑，\n因承兑的面额是固定的，因此客户的付款经常不能和订单刚好一一对应，不是多就是少，\n少的情况更多。之前已经发现该问题，自己给会计的建议是\n<u>找一些金额临近的订单进行授权</u>，\n而这两个订单就是因为金额临近而被会计计入已付款的，但在销售那里却视为未付款，\n因为销售在造九月份对帐清单时将这两个订单列进去。\n\n<ul><li>\n无法修改退货单货物数量（深圳宝金达）；\n</li><li>\n修改收入单的功能；\n</li><li>\n款额未付货物换货等于退货加普通订货销售没有理解；\n</li><li>\n问题的根源在于没有解决好协议/按月结算客户到帐授权操作；\n</li><li>\n客户到帐的金额非要对应订单号吗？\n</li><li>\n已付款货物退货后也可能不进行换货操作。举例来说，月结客户甲八月份所有订单已付款，\n九月份订单尚未统一付款，现在甲将八月一批货物退回但不急于换货，\n待到九月订单对帐时将八月所退货款减去（即抵消）即可；\n</li><li>\n客户针对一个（或多个）付款的方式可能存在多种形式，比如八月份货款总金额为 50,000\n元，可能给个 30,000 的承兑，剩余的 20,000 元打到公司帐户上；\n将收入和订单脱钩就不存在此问题；\n</li><li>\n为什么非要在原订单中追加退货？直接把退货独立出来更好；\n</li><li>\n为什么非要有“换货”的概念？将其分解为“退货+订货“更好；\n</li></ul>\n<!--\n<pre class=\"brush: php\">\n</pre>\n<img src=\"/img/page/2012/animate2.gif\" />\n<ol><li>\n</li><li>\n</li></ol>\n-->\n\n',NULL,1,1,'N',0,'util.js','2012-10-12 16:40:37','2014-02-27 13:20:22'),(218,'W42, 2012','<div class=\"diary\" rel=\"20121015\">\n<h3>10.15（一, 雨）大扫除</h3>\n近日网上个人隐私说得厉害，趁机修改安的网易相册密码；想来想去还是 Google 最靠谱，\n重新使用 Reader 和 Calender 两个 Google 应用；周日考虑搜狐微博有个“订阅微博”\n的独特功能，在 Reader 中查看更新再好不过。上午准备订阅时发现链接指向 404 错误页\n，好在反馈意见后下午问题便解决，微博作为用户反馈的渠道真是不错。 <br><br>\n\nTimYang 今天有一篇探讨 \'Connect the dots\' 的 Blog, 其中有两句话自己很有感触：\n<blockquote>\n“在平时，当我们并不需要做选择时，我们忘记去创造自己的dot.”\n</blockquote>\n<blockquote>\n“平台或舞台 – 常看到有志于某个领域的人长时间学习缺乏进展，除了悟性之外，\n可能缺少实践的平台是主要原因。平台和视界是相辅相成的。”\n</blockquote>\n这两句自己都有体会：前者体现于八月考虑换工作，换工作就是作出选择，平时如果不\n努力创造 dots, 到想选择时就不会那么顺利，有的只是“要是之前创造某 dot 该多好“\n的悔恨；后者体现于去年夏天的 E-Orders 应用，正是这个实践才让自己平日所学算是有了\n些进展，前三年都是“长时间学习”，但“缺乏进展”。 <br><br>\n\n中午问金怎么看王四的问题，听得出来金对我不甚满意，原来中午她回政法街看到我洗脚水\n也不倒，上周三因为没有煤气切好的白菜到今天还在案板上放着不收拾……晚上到家大扫除，\n白天使用 Reader 算是工作上的大扫除。\n</div>\n\n<div class=\"diary\" rel=\"20121016\">\n<h3>10.16（二）继续考虑应收账款功能 + 固定 IP 上网</h3>\n经过于会计交流，应收账款功能逐渐清晰。<br><br>\n\n单位通过自动获取 IP 上网的电脑突然无法上网，全部改用固定 IP.\n</div>\n\n<div class=\"diary\" rel=\"20121017\">\n<h3>10.17（三）</h3>\n通过 Google Calender 记录每日工作进度不够方便，想到之前曾发现一个类似的应用，\n在 gmail 中搜索后发现名为 Workflowy.\n</div>\n\n<div class=\"diary\" rel=\"20121018\">\n<h3>10.18（四）浪费一天 + 银行负责放款的人牛啊</h3>\n上午经理要去厂里见中信银行负责放款的人，让我跟着过去拍几张照片。从经理一身正装的\n穿戴可看出这些人对经理的重要，其实他们本来说是昨天下午去厂里的，结果放了鸽子。\n等了一上午也没见人，后来听说又改成下午过来了。连续被放两次鸽子搞得经理很郁闷，\n中午厂长、经理、郝、曲我们五人到厂长推荐的须水镇上一家炭锅鱼店吃黑鱼。下午四点钟\n终于看到厂门口驶进来一辆褐色 Ford Mondeo 轿车，车上下来两个三十岁左右的女人，\n大家顿时心里失望：放了两次鸽子、经理重视的“领导”竟是两个看上去不像领导的女人。\n经理送走他们对我说：没想到就来这么两个人，看得出来经理也很是郁闷，但也毫无办法，\n他指望着银行的人放款给他呢。想想真是，这些有钱人在银行放贷款人面前也不是个儿啊，\n求人办事可不就是这样吗。\n</div>\n\n<div class=\"diary\" rel=\"20121019\">\n<h3>10.19（五）发现费用申请单 Bug</h3>\n上午李艳反映现金柜余额显示错误，有个申请重复提交，检查后发现这是一个严重 Bug,\n可归为协同操作时如何保证数据准确的问题。<br><br>\n\n下午处理退货单修改功能，感觉在现有代码基础上新增一个功能工作量太大，累人。\n</div>\n\n<div class=\"diary\" rel=\"20121020\">\n<h3>10.20（六）退货 CRUD 完工 + 支付宝付款方式 + 安洗脸大闹</h3>\n<img src=\"/img/page/2012/life.20121020.jpg\" style=\"float:left;\" />\n上午完成退货操作的 CRUD 代码，用的仍是 Boxy + JS 的方式，整个过程很耗时间。\n之后会计宋过来说客户到帐用的是支付宝，而现有的付款方式中没有此项，让添加上去，\n她还建议最好能让她自己添加、管理，这样不用每次都过来找我。随即着手实现此需求，\n在写代码的过程中发现基础不够牢固，例如日期选择框 jQuery Plugin 一时不知如何使用\n，再如 Select Box Option 发生变化时的触发条件记得不牢靠，应是 \n$(\'select[name=xx]).change(function(){}); 而不是\n$(\'select[name=xx] option).change(function(){}); <br><br>\n\n下午看到香港的许冠杰在上世纪九十年退出歌坛的一个聚会，里面明星璀璨。我是因为歌曲\n《沉默是金》才找到这个视频的，这首歌的词作者正是许冠杰，曲作者是张国荣。上大学时\n曾经买过一张王杰的磁带，里面有一首歌叫《海海人生》，当时觉得曲调非常好听，后来听\n到《沉默是金》后才知道《沉》才是源头。<br><br>\n\n四点金打电话问我什么时候回来，电话里能清楚听到安在哭闹的声音，估计又是安闹人让金\n感到累。六点十五走到家，看到安坐在沙发上静静地玩装有螺丝刀的工具包，看到我后对着\n我笑，金让他喊爸，安清楚地喊出来，让我很高兴。金说今天她们都到萍姐家去了，萍姐前\n段时间做了个小手术；金在萍姐家吃的是饺子，可能是吃得太饱，加之下午安闹得厉害，金\n说她感觉很难受，吃不下去饭。我自己出去吃了碗炒凉粉后到建业给金买了包酸奶回来。\n安睡觉前我端来水要给他洗脸，结果闹得非常厉害——两眼泪珠、两脚乱踢。这小孩子洗个脸\n怎么这么难？\n</div>\n\n<div class=\"diary\" rel=\"20121021\">\n<h3>10.21（日，大风）给父亲理发 + 母亲胳膊疼、眼昏 + 岳父腿疼</h3>\n<img src=\"/img/page/2012/life.20121021.jpg\" style=\"float:left;\" />\n早上五点安早早醒了，过了一会儿跑过来，我到金那屋在床上和安玩耍了一段时间。\n七点多待着安到外面，让金单独休息一会。转到广场后，安看到很多人都在跳舞，站在那里\n看了一会，时不时跑到人群中去。回到家让金起来吃点东西，收拾好后九点往吴村出发，\n走到宫寨时安已经睡着。到家后看到母亲已经把饺子馅盘好，待包的时候母亲单独给安和金\n包了点白菜陷的小饺子，接过安吃的连两个都不到。下午现给父亲理发，之后给安理的时候\n，母亲让安站在乒乓球台上，抱着安的双手不让他乱动。刚开始理那几下安还算老实，不一\n会儿就哭开了，基本上没停。安因为平时不怎么洗头，头前面慢慢一层灰，都有些看不下去\n，好在用点洗发水挠挠再用温水擦洗后就干净了。理完后那头叫一个亮，衬得脸也不像之前\n那么黑了。之后又给王庆叔和一个叫大爷的也理了一下。<br><br>\n\n母亲的左前臂说疼，我说给她刮痧，她没让；母亲说她的一只眼昏得厉害。<br><br>\n\n都弄完后已经四点，今天天气不好，一整天天都阴着，收拾好后回大王村。金今天回来忘记\n带充电器，等拐到二电门前那条路上时快没电了。我们推着往前走了一段后总算到家了。\n一进家门看到岳父和王四坐在院子里，岳母在厨房做饭。感觉岳父、母似乎心情不好。\n岳母炒好菜后让我先吃，后来听说岳父前两天在地里干活的时候累着腿了，两腿从膝盖到\n胯部感觉没劲儿。安很是闹人，让岳母很是费心，不听话的孩子到哪都不招人喜欢。\n</div>\n',NULL,1,1,'N',0,'util.js','2012-10-15 11:04:17','2014-02-27 13:20:22'),(219,'会计名词基础','<h3>名词解释</h3>\n<h4>会计期间</h4>\n会计期间(Accounting Period/Fiscal Period) <br><br>\n\n一个会计个体在持续经营的情况下，其经济活动是循环往复、周而复始的。\n为了及时提供决策和管理所需要的信息，在会计工作中，\n人为地在时间上把连续不断的企业经营活动及其结果用起止日期加以划分，形成会计期间，\n这就是会计分期的假设。我国\n<a target=\"_blank\" href=\"http://www.casc.gov.cn/kjfg/200611/t20061115_489668.htm\">《企业会计准则》</a>\n规定：会计期间一般应从公历1月1日开始，\n12月31日结束，又称会计年度。 <br><br>\n\n会计期间的影响和作用：<u>会计期间假设是正确计算损益的前提</u>，利润总额、收入、\n费用等会计概念都是以“时期”为前提的。\n\n<h4>会计科目（Account Title）</h4>\n科目类别：\n<ul><li>\n资产\n</li><li>\n负债\n</li><li>\n所有者权益\n</li><li>\n损益\n</li><li>\n成本\n</li></ul>\n\n<h4>本位币、原币</h4>\n本位币和原币都是相对的概念。\n<br><br>\n比如中国，规定以人民币为记帐本位币，意思是说在国内的企业所有的财务报表都要用人民\n币来进行反映；\n<br><br>\n而原币则相对于本位币来讲，比如一家德国外资企业，老板是德国人，企业的财务报表当然\n要让德国老板看得明白，一般情况下都是按照德国马克来相老板汇报财务报表的，\n这个时候的德国马克在中国国内就被看作原币。\n<br><br>\n同样的情况如果到了德国，则马克成了本位币，而人民币则成了德国人眼中的原币。\n\n<h4>记账凭证（Voucher）</h4>\n记账凭证是会计人员根据审核后的原始凭证进行归类、整理，并确定会计分录而编制的凭证\n，是直接凭以登账的依据。记帐凭证分为收款凭证、付款凭证和转账凭证。\n<br><br>\n\n(1)收款凭证：是用以反映货币资金收入业务的记账凭证，根据货币资金收入业务的原始凭\n证填制而成。实际工作中，出纳人员应根据会计管理人员或指定人员审核批准的收款凭证，\n作为记录货币资金的收入依据。出纳人员根据收款凭证收款(尤其是收人现金)时，要在凭证\n上加盖“收讫”戳记，以避免差错。收款凭证一般按现金和银行存款分别编制。\n<br><br>\n\n(2)付款凭证：是用以反映货币资金支出业务的记账凭证，根据货币资金支出业务的原始凭\n证填制而成。实际工作中，出纳人员应根据会计主管人员或指定人员审核批准的付款凭证，\n作为记录货币资金支出并付出货币资金的依据。出纳人员根据付款凭证付款时，要在凭证上\n加盖“付讫”戳记，以免重付。\n<br><br>\n\n(3)转账凭证：用以反映与货币资金收付无关的转账业务的凭证，根据有关转账业务的原始\n凭证或记账编制凭证填制而成。\n<img src=\"/img/page/2013/snap.voucher.jpg\" />\n<br><br>\n\n2、综上，凡是经济业务与货币资金收、付有关的的事项，使用收款凭证和付款凭证。 \n\n<h4>冲帐、挂帐、反结帐</h4>\n2012.10.25\n<h4>预付账款</h4>\n预付账款属于会计要素中的资产，通俗点就是你暂存人家那的钱，如果没有买人家东西前，\n这钱还是你的，所以是资产。\n<h4>“其它应收款”主要包括那些？</h4>\n包括职工借款以及一些不是供应原材料的对方有经济业务单位之间的往来。\n<h4>进项税、销项税</h4>\n所谓进项税和销项税是指增值税的进项和销项税。增值税是国家就增值额征的一种税。\n如果你是一般人纳税人，你花1元钱买的商品（三厂电缆）的同时(卖方如果能提供增值税发\n票的话)，给你商品的一方要替税务局向你收0.17元的税款。你要向卖给你商品方支付1.17\n元.当你把1元的商品以1.2元卖出的时侯(或加工成别的商品以1.2元卖出时),你要替税务局\n向购买方收取1.2*0.17=0.204元税款.实际你的纳税额是0.204-0.17=0.034元.0.17元叫进项税0.204元叫销项税.用0.17元抵减0.204元的过程就叫抵扣进项税.抵扣的前提是你是一般纳税人,有认证过的进项税额.当月没抵扣完的可到以后抵扣. \n小规模的企业帐上没有进项税，只有销项税。\n\n<h4>坏帐、呆帐</h4>\n坏帐是企业无法收回的应收帐款。\n<br>\n企业发生坏帐，造成坏帐损失是一种很正常的现象。按照我国有关规定，\n企业应收账款符合下列条件之一的，应确认为坏账：\n<ol><li>\n因债务人死亡，以其遗产清偿后仍然无法收回；\n</li><li>\n因债务人破产，以其破产财产清偿后仍然无法收回；\n</li><li>\n债务人较长时期内（如超过3年）未履行偿债义务，\n并有足够的证据表明无法收回或收回的可能性极小。\n</li></ol>\n\n呆帐指： \n三年以上既不增加也不减少的无法收回的往来账，并且不能确定将来是否能收回的往来账，应该确定为呆帐。它作为一项资产反映在各年的资产负债表上，而且也不需计提坏账准备。\n\n<h4>成本类中制造费包括哪些费用</h4>\n折旧、车间管理人员工资福利、低值易耗用、机器修理、水电费用、车间租用费用等，\n总之只要是加工用的费用且不能单独加到那个产品的生产成本中去的都是有由所有产品分摊\n的都可以归到这个里面，然后在从他这分摊入个产品的生产成本中去\n\n<h4>无何区分“制造费用”和“生产成本”</h4>\n通俗地讲:二者都是生产车间发生的. \n能直接表明是为了生产某产品而发生的费用应记入生产成本.\n反之,不能直接表明是为了生产某产品而发生的费用应记入制造费用.\n\n<h3>所有者权益</h3>\n<pre>资产 = 负债 + 所有者权益</pre>\n企业所有者对企业净资产的要求权。所谓净资产，在数量上等于企业全部资产减去全部负债\n后的余额，这可以通过对会计恒等式的变形来表示，即：资产-负债＝所有者权益。\n\n<h3>增值税</h3>\n<ol><li>\n一般纳税人收到的增值税专用发票去税务局认证成功之后是可以抵扣的，\n要交的增值税=销项税-进项税\n因此 认证的发票越多可以抵扣的税金也就越多。\n还有一点就是发票可以抵扣的有效期是180天，过期了是不能抵扣的。\n</li><li>\n</li></ol>\n<h4>增值税普通发票和增值税专用发票</h4>\n按：搞清两者区别有助于理解为什么财务那里只记录开票的销售订单。\n<br><br>\n两者区别在于取得发票的纳税人是否可以依法抵扣购货进项税额。对于增值税专用发票，\n购货方可以凭抵扣联，依法申报认证抵扣进项税额，而普通发票，\n购货方不能抵扣进项税额。具体来说：\n<ol><li>\n使用范围不同：普通发票在所有的经营活动中都可以使用，而增值税专用发票仅限于\n增值税一般纳税人使用；\n</li><li>\n票面记载的内容不同：普通发票记载的主要是交易数量、含税价格、含税交易额等，\n增值税专用发票记载的主要是交易数量、不含税价格、增值税税款、不含税交易额等；\n<br>\n专用发票的页面构成：\n<pre>金额 + 税额 = 价税合计 (金额 * 税率 = 税额)</pre>\n由于普通发票不具有抵扣进项税额的功能，因此，无需将价税分列开具，只需将价税合计合\n并开具为“金额”。\n</li><li>\n联次不同：普通发票一般有三联，分别是存根联、发票联、记帐联，\n而增值税专用发票一般有四联，比普通发票多了税款抵扣联，\n这是购货方用作抵扣增值税款的凭证。\n</li></ol>\n因此，增值税专用发票不仅是纳税人经营活动中的合法凭证，\n而且是兼记销货方纳税义务和购货方进项税额的合法凭证。\n\n<br><br>\n另外，在其他方面也有不同之处，如：增值税专用发票需列明购销双方的税务登记号等。\n这些不同之处均是增值税专用发票具有抵扣功能所致。\n<br><br>\n举例说明，某纳税人销售货物一批，共取得价款117,000元，增值税税率17%，\n则对于销货方而言：\n<ol><li>\n开具增值税专用发票时，金额为100,000元，税率为17%，税额为17,000元，\n价税合计为117,000元；\n</li><li>\n开具普通发票时，金额为117,000元；\n</li></ol>\n不论销售方开具何种发票，均应当交纳增值税销项税额17,000元。另外，\n对某些特殊业务，依法不得开具增值税专用发票，而只能开具普通发票。\n<br><br>\n对于购货方而言：\n<ol><li>\n如果取得普通发票，那么117,000元应当计入相关资产成本，不得抵扣进项税额；\n</li><li>\n如果取得增值税专用发票，那么100,000元应当计入相关资产成本，\n17,000元进项税额准予申报认证抵扣（税法规定不得抵扣的项目除外）。\n</li></ol>\n\n简单地说,可以抵扣的发票可以减少购货方的成本\n\n<h3>复式记账</h3>\n为了更好的掌握资金的来源与去向，企业一般都采用复式记账法，也就是指一笔经济业务发\n生后需要记录时，同时在相关联的两个或两个以上的账户中，以相等的金额进行登记的一种\n记账法。\n<br>\n<table border=\"1\" cellpadding=\"3\" cellspacing=\"0\">\n  <caption>科目的借贷关系</caption>\n  <tr style=\'background-color:#eeeeee;\'>\n    <th colspan=\"3\">借方表示增加,贷方表示减少</th>\n    <th colspan=\"3\">借方表示减少,贷方表示增加</th>\n  </tr>\n  <tr>\n    <td style=\'background-color:green;\'>资产</td>\n    <td style=\'background-color:green;\'>成本</td>\n    <td style=\'background-color:green;\'>损益中支出类</td>\n    <td style=\'background-color:red;\'>负债</td>\n    <td style=\'background-color:red;\'>所有者权益</td>\n    <td style=\'background-color:red;\'>损益中收入类</td>\n  </tr>\n  <tr>\n    <td>银行存款</td>\n    <td>生产成本</td>\n    <td>管理费用(运输费等费用申请中的分类)</td>\n    <td>应付账款</td>\n    <td></td>\n    <td>主营业务收入</td>\n  </tr>\n  <tr>\n    <td>备用现金</td>\n    <td></td>\n    <td>财务费用（银行手续费）</td>\n    <td>应付票据</td>\n    <td></td>\n    <td>营业外收入（废品收入、离职员工社保、预付运费）</td>\n  </tr>\n  <tr>\n    <td>应收账款</td>\n    <td></td>\n    <td></td>\n    <td>应交税费</td>\n    <td></td>\n    <td></td>\n  </tr>\n  <tr>\n    <td>应收票据</td>\n    <td></td>\n    <td></td>\n    <td>预收账款</td>\n    <td></td>\n    <td></td>\n  </tr>\n  <tr>\n    <td>固定资产（如设备）</td>\n    <td></td>\n    <td></td>\n    <td></td>\n    <td></td>\n    <td></td>\n  </tr>\n  <tr>\n    <td>原材料</td>\n    <td></td>\n    <td></td>\n    <td></td>\n    <td></td>\n    <td></td>\n  </tr>\n  <tr>\n    <td>库存商品</td>\n    <td></td>\n    <td></td>\n    <td></td>\n    <td></td>\n    <td></td>\n  </tr>\n  <tr>\n    <td>预付账款</td>\n    <td></td>\n    <td></td>\n    <td></td>\n    <td></td>\n    <td></td>\n  </tr>\n  <tr>\n    <td>低值易耗品</td>\n    <td></td>\n    <td></td>\n    <td></td>\n    <td></td>\n    <td></td>\n  </tr>\n  <tr>\n    <td>预付运费</td>\n    <td></td>\n    <td></td>\n    <td></td>\n    <td></td>\n    <td></td>\n  </tr>\n  <tr>\n    <td>其它应收款</td>\n    <td></td>\n    <td></td>\n    <td></td>\n    <td></td>\n    <td></td>\n  </tr>\n</table>\n\n<h4>管理费用的二级科目分类参考</h4>\n\'*\' 标的表示在费用申请中曾经用到的条目。\n<pre>\n  工会经费\n  折旧费\n  职工福利费\n* 车辆修理费\n* 办公费\n* 水电费\n* 差旅费\n  运杂费\n  保险费\n* 业务招待费\n  无形资产摊销\n* 养老保险\n  失业保险\n  医疗保险\n  工伤保险\n  生育保险\n  住房公积金\n* 交通费\n  物料消耗\n  资料费\n* 检测费\n* 快递费\n* 汽油费\n* 通讯费\n  教育经费\n  其他\n</pre>\n<h4>资产科目下的应收账款和其它应收账款各自核算的内容</h4>\n<ul><li>\n应收账款：核算企业因销售商品、材料、提供劳务等，应向购货单位收取的款项，以及代垫\n运杂费和承兑到期而未能收到款的商业承兑汇票。本账户按不同的购货或接受劳务的单位设\n置明细账户；\n</li><li>\n其它应收款：核算的内容包括：各种赔款、罚款、存出保证金、备用金、\n应向职工收取的各种垫付款项等。该账户借记发生的其他各种应收款项，贷方登记收回的各种其他应收款；余额在借方，表示尚未收回的各种其他应收款。\n</li></ul>\n<h4>举例</h4>\n<ol><li>\n长青公司用银行存款购入设备，价值10,000元，发生此业务后，用复式记账法记账时，\n需要在银行存款账户上记一笔账，减少了10,000元，另一方面还要在固定资产账户上记一笔\n账，增加了10,000元，即业务发生后在两个相关联的账户都做登记，金额相等，\n均为10,000元。\n</li><li>\n长青公司开出商业汇票一张，抵偿应付帐款3000元。这项业务为负债类不同项目的此增彼减\n，即应收帐款帐户减少3000元，应付票据帐户增加了3000元。\n</li><li>\n公司购入价值30,000元材料，尚未支付；<br>\n<pre>\n应付账款	+	贷\n原材料		+	借\n</pre>\n</li></ol>\n<!--\n<h4></h4>\n<br><br>\n<a target=\"_blank\" href=\"\">l</a>\n<ol><li>\n</li><li>\n</li></ol>\n-->\n',NULL,1,1,'Y',0,'util.js','2012-10-16 09:06:38','2014-02-27 13:20:22'),(220,'由自动获取 IP 改为固定 IP','上午公司电脑接连出现无法上网情况，不能上网的机器都是自动获取 IP，设置为固定 IP\n后即可。Windows 下设置如下：\n<pre>\nIP: 		192.168.1.[0~255]\n子网掩码：	255.255.255.0\n默认网关：	192.168.1.1\n首选 DNS：	202.102.224.68\n备用 DNS：	202.102.227.68\n</pre>\n经过简单的搜索，Debian 下设置固定 IP 地址步骤如下：\n<ol><li>\n设置固定 IP，涉及文件 /etc/network/interfaces:<br>\nDebian Lenny 下此文件内容如下：\n<pre class=\"tty\">\n# This file describes the network interfaces available on your system\n# and how to activate them. For more information, see interfaces(5).\n\n# The loopback network interface\nauto lo\niface lo inet loopback\n\n# The primary network interface\nallow-hotplug eth0\niface eth0 inet <b><span class=\"hl\">dhcp</span></b> <span class=\"cmt\"># 表示自动获取 IP</span>\n</pre>\n将上面高亮显示的 \'dhcp\' 更改为 \'static\'后并在行尾追加固定 IP 信息，修改后的\ninterfaces 文件内容如下：\n<pre class=\"tty\">\nauto lo\niface lo inet loopback\n\nallow-hotplug eth0\niface eth0 inet static\n\naddress 192.168.1.249\nnetmask 255.255.255.0  \ngateway 192.168.1.1\n</pre>\n</li><li>\n修改首选/备用 DNS 服务器信息，涉及文件 /etc/resolv.conf:<br>\n查看文件内容发现默认的 DNS 服务器信息恰好是我们需要的，因此该文件不需改动\n<pre class=\"tty\">\ndomain domain\nsearch domain\nnameserver 202.102.224.68\nnameserver 202.102.227.68\n</pre>\n</li></ol>\n\n至此，可以使用固定 IP 在 Debian 下上网。 <br><br>\n\n参考：\n<ul><li>\nDebian 修改IP地址或DNS: <i>http://www.blogjava.net/josson/archive/2007/06/20/125359.html</i>\n</li></ul>\n',NULL,1,1,'N',0,'util.js','2012-10-16 14:04:05','2014-02-27 13:20:22'),(221,'E-Order V0.0.20 Change Log','思路：\n<ul><li>\n首先确保现有退货单能正常显示，同时将换货单改为订货单；\n</li><li>\nB 是 A 的退货单，如果用户修改订单 A 的货物信息（如单价、粒度），因为 B \n的货物信息借鉴自 A, 那么也要更新 B 的相应信息，麻烦；\n</li><li>\n既然取消“换货”的概念，应删除 om_mapping 表中 from2to 列值为 \'return_id2order_id\'\n的记录；\n</li></ul>\n<pre>\n- 删除按下“退货”按钮时相关 PHP, JS 代码，发现需先将退货、换货订单显示正常\n  - 退货单显示正常\n    - 订货单客户名链接 class=\'orderTipLink\', 退货单为 \'returnOrderLink\'\n    - 创建退货单模板时里面 id, class 值混乱……\n    - add_return_order_view_action(jqobj)\n    - case \'get_return_order_data\' in md.ajax-pipe.php\n    - YalongOrderClass 中构造器应按是进货、退货区分开\n    - 将（一）中对订单详情页的四个改动撤销\n    - deprecate function \'get_retchg_map()\'\n    - Create \'get_return_order_id()\'\n    - Done\n</pre>\n\n<h3>Fri, Oct 19［Bug］协同操作时未及时刷新页面导致数据紊乱</h3>\n\n<h3>［］(2012.10.25/四)</h3>\n新建订单中需要加入“运费”内容，为了应收账款计算准确。\n<ol><li>\n加入“运费承担方(charge_to)”，‘运费金额(transport_charge)“,“订单总金额(total_charge)” 三列，\'\'\n</li><li>\n</li></ol>\n\n<h3>［具体调整］(2012.11.1/四)月初现金余额初始化模块的位置</h3>\n每月月初出纳访问现金管理页面时会弹出核对现金柜余额窗口，其实此弹窗放置在首页中更\n为合理，以便出纳登录系统后就能看到。\n<!--\n<pre class=\"brush: php\">\n</pre>\n<img src=\"/img/page/2012/animate2.gif\" />\n<ol><li>\n</li><li>\n</li></ol>\n-->\n\n<!--\n<pre class=\"brush: php\">\n</pre>\n\n<h3>［］(2012.10.25/四)</h3>\n<ol><li>\n</li><li>\n</li></ol>\n	<ol><li>\n	</li><li>\n	</li></ol>\n<p><img src=\"/img/page/2012/snap.20120702.png\" /></p>\n-->\n',NULL,1,1,'Y',0,'util.js','2012-10-17 07:10:23','2014-02-27 13:20:22'),(222,'用户页面未及时刷新导致费用申请状态错误','Bug 1：李艳早上说有一个费用提交了两次，截图如下：\n<br><img src=\"/img/page/2012/snap.expense-status-code-error.a.png\" /><br>\nBug 2：出纳首页待办事宜中显示一条待付款的申请，但查看详情却发现已付款！\n<br><img src=\"/img/page/2012/snap.expense-status-code-error.b.png\" /><br>\nBug 3：销售人员重复提交订单，生产部发现后电话告知，销售却说已经删除，\n但工厂页面显示重复订单仍存在，查看详情页面如下：\n<br><img src=\"/img/page/2012/snap.expense-status-code-error.c.png\" /><br>\n<br>\n这三种错误可归为一类：协同操作时不同用户对数据库的修改不能准确反映到各页面中。\n分别对三种错误产生的过程进行叙述：\n<br>\nBug 1:\n<ol><li>\n财务甲在电脑 A 上提交 960 元费用申请单，此时申请单 Status Code 为 0 \n(等待初审), 页面随后转向首页；\n</li><li>\n财务甲在电脑 B 上进入首页，付款了刚才的申请单，此时 om_cashflow 表写入一条记录。\n申请单 Status Code 值此刻为 4 (已付款,会计请假);\n</li><li>\n财务甲又来到电脑 A 上，此时页面没有刷新，所以申请单 Status Code 仍为 0,\n甲没有细看直接付款，导致 om_cashflow 表中重复提交记录！这也是图一中看到的；\n</li></ol>\nBug 2:\n<ol><li>\n员工申请费用申请；\n</li><li>\n出纳和会计同时登录系统，出纳先看到待办事宜后直接付款，之后会计点击审核后，\n申请单状态变成了 2 (等待付款);\n</li><li>\n出纳再次登录系统时又看到了实际上已经付款的申请单，付款后，Status Code 为 5 \n(已付款,未复审)，同时 om_cashflow 像 Bug 1 一样重复扣除现金；\n</li></ol>\nBug 3:\n<ol><li>\n销售重复提交两个重复的订单 A 和 B;\n</li><li>\n紧接着生产部门打开首页，“正在备货”栏中同时出现 A 和 B, 生产部在打印订单时发现\n订单 A 和 B 系一个订单；\n</li><li>\n销售发现重复订单 B 后直接删除；\n</li><li>\n生产部向销售反映有重复订单，销售惊讶说已经删除了（由于生产部页面在销售删除订单后\n没有刷新因此还有 B 订单的链接）；\n</li><li>\n生产部再次打开 B 链接出现错误页面；\n</li></ol>\n\n以上问题如果用户在做任何操作前都先刷新页面就不会存在，但显然不现实：用户 A \n载入页面后、执行操作前这段时间内，其他用户可能会做很多操作，这导致用户 A \n载入的页面已经“有问题”了，不采取一些措施而是直接操作的话就会导致数据紊乱\n（如现金柜出库记录重复现象）。采取什么措施？如果 Bug 1 和 Bug 2 中财务试图第二次\n付款前系统先检测是否已经付款；如果 Bug 3 中单击”查看详情“按钮后系统先检测此订单\n是否存在，若不存在提示用户后直接重新载入首页，这样即可避免问题。\n<!--\n<pre class=\"brush: php\">\n</pre>\n<br><img src=\"/img/page/2012/animate2.gif\" /><br>\n<ol><li>\n</li><li>\n</li></ol>\n-->\n',NULL,1,1,'N',0,'util.js','2012-10-19 11:03:12','2014-02-27 13:20:22'),(223,'W43, 2012','<div class=\"diary\" rel=\"20121022\">\n<h3>10.22（一）基础不扎实 + E-Orders 维护越来越麻烦</h3>\n工作进展迟缓。一天干了两件半事：一是完成自定义添加收入类别功能；二是明白为何退货\n单日期输入框不起作用；还有半件是在订单筛选器中添加订货、退货 Select Box, 但折腾\n到现在还没弄明白……最近越来越觉得在现有系统中添加一个新功能的工作量过大。\n</div>\n\n<div class=\"diary\" rel=\"20121023\">\n<h3>10.23（二）</h3>\n9:30 李让郝和我到科技市场买投影仪，李没有直接给钱，也没有给信用卡，而是我们到那\n里谈好价钱后经理把钱打到我的工资卡上，然后让我再取出来。\n</div>\n\n<div class=\"diary\" rel=\"20121024\">\n<h3>10.24（三，风）考驾照正式开始</h3>\n上午请假到阳光驾校总校照相、体检，早上七点十分骑自行车出发，骑到京城路建设路交叉\n口的垃圾电厂处又向北走了一段，看到一条东西路，路牌上显示”科学大道“，继续往前走还\n是没见醒目的标牌，又问了两个人才找到，门口挂着很不显眼的牌子。进去发现院子西头有人在排队，人还不少。到八点，工作人员把档案拿过来，上到卡车上准备喊人，队伍中的人\n随没有了队形，人们蜂拥到卡车周围，用满怀期待的眼神望着卡车上的人，希望能念到自己\n的名字，那场景车上的人手中的权力好像大得出奇。拿到档案开始排队照相，之后再排队取\n相片，最后排第三次队体检，等走出体检的门刚好十点整。打今天起，学车之路正是开始!\n接下来等通知去参加理考。\n\n也许是白天排队站得时间太久，加之中午步行从西站走到公司，晚上不到八点就上床休息。\n</div>\n\n<div class=\"diary\" rel=\"20121025\">\n<h3>10.25（四）</h3>\n昨晚睡得早，凌晨四点醒后基本上无睡意。\n</div>\n\n<div class=\"diary\" rel=\"20121026\">\n<h3>10.26（五）心情差 + 渴望在网上互动</h3>\n昨天下午在 LinuxSir 论坛上看到一个询问如何在 Debian 下连接河南网通宽带我世界的\n问题帖，看到是自己老乡发的帖子，倍感亲切，于是就回帖谈了下自己感觉比较得意的\nnpu, nup 两个脚本。今早打开帖子后发现自己回复后又多了两个回复，一个给出了解决的\n方法，另一个是楼主对给出解决方案的人的感谢，自己那条回复两个人都没有回应，\n就好像自己的回复根本不存在一样，这让自己”倍感冷落”。事后想想，自己的回复属于\n“驴唇不对马嘴”，跟帖子讨论主题毫不相干，对发问题帖这种目的性很强的人来说，\n看到我这样不着调的回复心里不生气就够了，这样想来，自己这不是自讨无趣吗。\n<br><br>\n\n在 LinuxSir 上受打击后，又跑到 PHPChina 上闲看。PHPChina 上的很多回复广告痕迹过\n于明显：用户名、签名就是产品名称；见帖子就回复，且内容无实际内容。找到一个也是通\n过脚本备份文件的帖子，当中用的方法是使用名叫 \'mutt\' 的邮件客户端来把备份文件发送\n到指定邮箱中。感觉这个很用，经过简单的验证和搜索后发现一点都不简单，该过程其实要\n用到三、四个相关软件（发信客户端、收信客户端等）；在搜索 mutt 软件配置时发现一个\n自己感觉很厉害的博客。博主毕业于西安交大，在 NVIDA 日本公司工作，有个漂亮的老婆\n，让人心生羡慕。 <br><br>\n\n第二个影响自己心情的事是中午听金说王四下周二要回江苏，据说王四是因为钱不多了才要\n回去，可我心里想安在姥姥家也是王四回去的一个原因（两个孩子在一起容易打闹，这会让\n岳母头疼），我于是建议金给王四买两箱石榴让她带回江苏，我给向姐打电话问国庆节她给\n哥买的石榴在哪买的，可能是向姐那会忙，当我问她的时候，她说了两次：“你啥意思？”，\n这话让我怀疑自己问话方式是不是有问题，不然向姐怎么那么问呢。\n</div>\n\n<div class=\"diary\" rel=\"20121027\">\n<h3>10.27（六）哭闹厉害 + 没见笑脸</h3>\n晚上金带着安和安姥姥家人去上街吃鱼，七点半金打电话让我到政法街口等着，安二姨夫送\n安过来。打开车门就看见安在抽泣，眼眶还是湿的，估计是晚上看不到金的缘故。在洗衣店\n门口做了一会童车，还没等结束，安就不坐了。金过来后把干洗的大衣取出来，三人回家。\n没到家门口，安已经睡着。金把安放到床上没多久，安就被尿憋醒，开始打声哭闹，持续有\n十几分钟。大约一个小时后，再一次哭闹。我给他沏了一百五十毫升奶 ，喝下去坏事了：\n安连奶带晚上吃的羊肉一同吐出来，金好不容易又给哄睡。安最近咳嗽得厉害，明天带着他\n到医院看看。唉，好不容易盼到的周末最后竟是这么个结果。<br><br>\n\n看着矿泉水瓶里脏兮兮的烟灰和烟头，我仿佛看见自己肺的样子。就在此刻，隔壁又传来安\n的哭声。他到底这是怎么了？？\n</div>\n\n<div class=\"diary\" rel=\"20121028\">\n<h3>10.28（日，晚雨）饭局所想 + 给安抓中药</h3>\n此刻大脑清醒，无睡意，索性起来。大学同学张杰平今天在郑州农业路经五路阿五美食请客\n。八点到王勇诊所给安开些中药，回来后开始准备往郑州赶。先后坐 5 路、12 路和 B1,\n于 11:45 赶到。路上换乘公交时安黏金，眼看金累得抱不动，仍不让我抱。我所在的房间\n空间狭小，进去的时候看到韩采华、他老婆还有两个女同学，都不是很熟悉。孙兆吉之后到\n，再后来是杨晓东、杨晓东老婆、许刚、路洁，最后张新安也过来了。<br><br>\n\n由于都不是熟悉的同学，自己感觉不是很放松。兆吉提议每个人轮流给大家介绍近况，方式\n是先干一杯再说。兆吉夸我“年轻”，说我”虽然当爹了，看着还是很年轻”，我随口接了句说\n“听你的意思，你都是当爷的人了？”，自己回答得太笨，夸奖人本是找话的一种方式，但我\n对这类当面夸奖的话有很强的排斥感，一是脸皮薄（太当真），二是总觉对方有种类似\n”嘲讽“的意思里面，总之对这类话听着特别不舒服，表现就是很容易激动；还有一种情况下\n自己也会很激动，就是有人抓着某句话让我多喝酒的时候，这时我为了“辩解”脑子往往没有\n条理，言语激动，总之不能从容应对。这种行为就是很容易被外界挑逗甚至激怒，原因估计\n有：一、性格自卑；二、类似场景经历少，经验欠缺。其实应对兆吉这类夸奖的话的最好方\n式不是针锋相对（你说我年轻，我说你也不老），而是迂回，另外找个对象进行对比，类似\n相声中常用的对比方法，比如小孩儿就是个很好的对象，同样的对话如果这样回答：“恩，\n年轻吧，我问他喊哥（眼看着小孩儿）”，就能起到类似相声中运用对比技巧产生笑料而起\n到幽默效果。<br><br>\n\n接下来兆吉为了活跃气氛要进行“打关”，方法是自己先喝起，之后拿着酒瓶过一轮，所说的\n话不外乎多年不见之类的。感觉这样“干喝”调动不起气氛，不过终归还是不熟悉。采华说话\n的方式很特别，祝这个“寿比南山”，祝那个“生日快乐”，都是些听着“不着调”的话。无数的\n经验、教训表明：酒桌上嘻嘻哈哈永远比中规中距效果好。<br><br>\n\n下午两点半结束，本来还打算到大商超市，金和我的状态都不佳（一个累，一个晕）就直接\n回家。 (at 23:30)\n</div>\n',NULL,1,1,'N',0,'util.js','2012-10-22 08:18:02','2014-02-27 13:20:22'),(224,'jQuery TOOLS 插件','功能很丰富，目前仅使用了 Date Input 功能。Offical Site: http://jquerytools.org/\n<h3>快速上手</h3>\n<ol><li>\n下载并在<tt>&lt;head&gt;</tt>中引用：\n<pre class=\"brush: xml\">\n&lt;script src=\"/common/js/js.jquery.tools.min.js\"&gt;&lt;/script&gt; \n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/common/css/cs.jquery.tools.css\" /&gt;\n</pre>\n</li><li>\nJS 触发：\n<pre class=\"brush: xml\">\n&lt;script&gt;\n$(\":date\").dateinput();\n&lt;script&gt;\n</pre>\n</li><li>\n在需要的位置插入输入框：\n<pre class=\"brush: xml\">\n&lt;input type=\"date\" /&gt;\n</pre>\n</li><li>\n效果：<input type=\"date\" />\n</li><li>\n简单自定义配置日期的语言和格式：\n<pre class=\"brush: javascript\">\n$(\":date\").dateinput({\n	lang: \'cn\',\n	format:\'yyyy-mm-dd\'\n});\n</pre>\n</li></ol>\n<h3>修改退货时间输入框异常原因</h3>\n该日期输入框是通过 AJAX 动态生成的，js.public.common.js 文件中代码：\n<pre class=\"brush: javascript\">\n$(\":date\").dateinput({\n	lang: \'cn\',\n	format:\'yyyy-mm-dd\'\n});\n</pre>\n仅针对页面<b>加载完成后文档中现有</b>日期输入框，所以动态生成的应该单独写一遍。\n这跟订单筛选完成后必须对所有链接再赋予查看订单详情事件一个道理。\n<pre class=\"brush: javascript\">\n// in add_edit_return_order_event()\n$(\"input[name=returnOrderDateIpt]\").dateinput({\n	lang: \'cn\',\n	format:\'yyyy-mm-dd\'\n});\n</pre>\n\n<!--\n<pre class=\"brush: php\">\n</pre>\n<img src=\"/img/page/2012/animate2.gif\" />\n<ol><li>\n</li><li>\n</li></ol>\n-->\n\n',NULL,1,1,'N',0,'util.js','2012-10-22 12:50:56','2014-02-27 13:20:22'),(225,'使用 jQuery 控制表单元素小节','在订单筛选框中加入订货单、退货单选项：\n<pre>\n&lt;p&gt;包含：\n&lt;input id=\"ipt_sell\"  type=\"checkbox\" name=\"ordersSell\" value=\"y\" checked=\"checked\" /&gt;&lt;label for=\"ipt_sell\"&gt;订货单&lt;/label&gt;\n&lt;input id=\"ipt_retn\"  type=\"checkbox\" name=\"ordersReturn\" value=\"y\" checked=\"checked\" /&gt;&lt;label for=\"ipt_retn\"&gt;退货单&lt;/label&gt;\n&lt;button id=\"filterOrderRecords\"&gt;筛选&lt;/button&gt;\n</pre>\n这里 Checkbox 每个选项是独立的个体，jQuery 中判断选项是否被选中采用\n<tt>.is(\'checked\')</tt>方法：\n<pre>\nvar concludeSell   = ($(\'input[name=ordersSell]\').is(\':checked\')) ? \'y\' : \'n\';\nvar concludeReturn = ($(\'input[name=ordersReturn]\').is(\':checked\')) ? \'y\' : \'n\';\n</pre>\n\n<div class=\"testBox\">\n<p>包含：\n<input id=\"ipt_sell\"  type=\"checkbox\" name=\"ordersSell\" value=\"y\" checked=\"checked\" /><label for=\"ipt_sell\">订货单</label>\n<input id=\"ipt_retn\"  type=\"checkbox\" name=\"ordersReturn\" value=\"y\" checked=\"checked\" /><label for=\"ipt_retn\">退货单</label>\n<button id=\"filterOrderRecords\">筛选</button>\n</p>\n\n</div>\n<script type=\"text/javascript\">\n$().ready(function() { \n});\n</script>\n<h3>参考</h3>\n<ul><li>\n<a target=\"_blank\" href=\"http://stackoverflow.com/questions/901712/check-checkbox-checked-property-using-jquery\">Check checkbox checked property using jQuery</a>\n</li><li>\n</li></ul>\n<!--\n<pre class=\"brush: php\">\n</pre>\n<img src=\"/img/page/2012/animate2.gif\" />\n<ol><li>\n</li><li>\n</li></ol>\n-->\n',NULL,1,1,'N',0,'util.js','2012-10-22 14:31:35','2014-02-27 13:20:22'),(226,'驾照理考模拟考试错题','第二次模拟考试错题：\n<ol><li>\n发生与前车追尾碰撞时，驾驶人应紧靠椅背，双手迅速置于脑后合并护住头后部。\n<span class=\"red\">(错误)</span><br>\n根据惯性人会向前栽，保护后面没用；\n</li><li>\n因醉酒后驾驶机动车被吊销驾驶证的，终身禁驾\n<span class=\"red\">(错误)</span><br>\n</li><li>\n公交车以外的机动车在公共汽车站__30m_以内的路段，不得停车。\n<br>越大越安全\n</li><li>\n驾驶人在超车时，前方车辆不减速、不让道，应__C_。\n    	A、连续鸣喇叭加速超越\n	B、加速继续超越\n	C、停止继续超车\n	D、紧跟其后,伺机再超<br>\n看全所有选项，还有更正确的选项；\n</li><li>\n机动车驾驶人因交通肇事___，处7年以上15年以下有期徒刑。\n    	A、发生重大事故的\n	B、致人重伤的\n	C、公私财产遭受重大损失的\n	D、逃逸致人死亡的\n	您的答案：B   正确答案：D\n<br>\n	<ol><li>\n	逃逸致他人死亡，7-15\n	</li><li>\n	逃逸情节恶劣：3-7\n	</li><li>\n	重大伤亡，但没逃逸：&lt; 3\n	</li></ol>\n</li><li>\n在我国境内道路上行驶的机动车___，应当依照道路交通安全法的规定投保机动车交通事故责任强制保险。\n    	A、所有人和管理人\n	B、担保人\n	C、乘坐人\n	D、维修人\n	您的答案：B   正确答案：A\n<br>\n比如公司配车给员工甲，公司老总就是所有人，员工甲就是管理人\n</li></ol>\n\n<a target=\"_blank\" href=\"http://zhinan.jxedt.com/index_9_1.htm\">各种标志含义</a>\n<span class=\"red\">(错误)</span><br>\n交警手势注意如下几个：\n<ol><li>\n左转待转（左手）：\n<img src=\"/img/page/2012/traffic-signal-turn-left-wait-pic.jpg\" />\n<img src=\"/img/page/2012/traffic-signal-turn-left-wait-real.jpg\" />\n</li><li>\n减速慢行（右手）：\n<img src=\"/img/page/2012/traffic-signal-slow-down-pic.jpg\" />\n<img src=\"/img/page/2012/traffic-signal-slow-down-real.jpg\" />\n</li><li>\n变道信号：\n<img src=\"/img/page/2012/traffic-signal-change-route-pic.jpg\" />\n<img src=\"/img/page/2012/traffic-signal-change-route-real.jpg\" />\n</li></ol>\n<hr>\n<ol><li>\n移动脊柱骨折的伤员，切勿扶持伤者走动，可用软担架运送 <span class=\"red\">(错误)</span><br>\n要用抬得，但是不能用软担架，脊柱骨折的要用三角巾固定，要不然软担架没有支撑点;\n</li><li>\n伤员骨折处出血时，应先固定，然后止血和包扎伤口。 <span class=\"red\">(错误)</span><br>\n伤员骨折处出血时，应先止血和消毒，然后在固定。\n血流干了，就会有生命危险；另外如果把骨折处固定了，就不方便包扎止血了。\n</li><li>\n易燃液体一旦发生火灾，应及时用水扑救 <span class=\"red\">(错误)</span><br>\n汽油燃烧就不能用水扑救，否则汽油浮于水面上，就扩大了燃烧面积。\n</li><li>\n</li><li>\n离合器踏板是离合器的操纵装置，用以控制___与传动系动力的接合与分离。\n\nA.离合器\nB.变速器 X\nC.差速器\nD.发动机 √\n\n汽车的动力来源的发动机，发动机把动力传给离合器然后传给变速箱，变速箱在把动力传给\n驱动轴，最后传给驱动轮，离合器起到的作用是分离发动机传给变速箱的动力。\n\n-------------------------------------------------------------------------------\n\n11、座椅安全头枕的主要作用是___。\nA：在车辆行驶过程中使头部放松\nB：车辆发生追尾事故时保护颈椎 √\nC：车辆发生追尾事故时保持正确姿势\nD：长时间驾驶时使颈部放松 X\n\n-------------------------------------------------------------------------------\n\n12、调节座椅头枕高度，使头枕中心___。\nA：抵住脖子\nB：与颈平齐 X\nC：与头平齐 √\nD：抵住颈椎\n-------------------------------------------------------------------------------\n检查离合器踏板时，应将踏板踏到底，检查踏板与车厢板之间的间隙是否合适。 (错误)\n\n搞反了。 检查离合器踏板，是用力踩离合器踏板，看踏板能否顺利的踏下，回位。 检查制动踏板，才是将制动踏板踩到底，检查制动踏板与车厢地板之间的间隙是否符合要求。\n-------------------------------------------------------------------------------\n为了避免爆胎，要定期进行轮胎换位，适当降低轮胎气压。(错）\n爆胎的原因：\n一是轮胎漏气。在被铁钉或其他尖锐物刺扎而暂时没有把轮胎扎破，轮胎会出现漏气现象，进而引起爆胎。\n二是轮胎气压过高。因汽车高速行驶，轮胎温度升高，气压随之升高，轮胎变形，胎体弹性降低，汽车所受到的动负荷也增大，如遇到冲击会产生内裂或爆胎。这也是爆胎事故会在夏季集中爆发的原因。\n三是轮胎气压不足。当汽车高速行驶时(速度超过120km/h)，轮胎气压不足容易造成胎体“谐振动”从而引发巨大得谐振作用力，如果轮胎不够结实或者已经有“伤”，就易爆胎。而且气压不足使得轮胎的下沉量增大，在急拐弯时容易造成胎壁着地，而胎壁是轮胎最薄弱的部分，胎壁着地同样会导致爆胎。 四是轮胎“带病工作”。轮胎在使用时间长后磨损严重，冠上已无花纹(或花纹过低)、胎壁变薄，已变成了人们常说的“光头胎”或已出现了高低不平得“薄弱环节”，它将会因为承受不了高速行驶的高压、高温而爆胎。\n-------------------------------------------------------------------------------\n为什么不能长时间使用备胎？\n\n现在车子卖的越来越便宜了，很多车的备胎为小尺寸，所以车上的一些部件能省的就省了，多省一点，要不4S店怎么生存呢，对吧。 所以备胎也分两种全尺寸备胎，还有就是你这种缩减版的，非全尺寸的，这种小一号的备胎。 有一点要注意，就是车速不能超过80码，而且也不能长时间使用。就是说，找到合适的更换轮胎的地方，就赶紧换了，不要放到车子上一直用好几天。\n-------------------------------------------------------------------------------\n\n##############################################################################\n\n	出现爆胎、转向失控、制动失灵等紧急情况时临危处置知识\n			83题 78.31% \n\n##############################################################################\n-------------------------------------------------------------------------------\n1. 驻车制动就是常说的手刹\n-------------------------------------------------------------------------------\n14、转向失控后，若车辆偏离直线行驶方向，应___，使车辆尽快减速停车。\nA：轻踏制动踏板 X\nB：拉紧驻车制动器操纵杆\nC：迅速抢挡减速\nD：果断地连续踩踏、放松制动踏板 √\n\n制动失灵，应该抢挡并减速。注意了，这里是制动坏了！ 而这题是说转向失灵！！！制动不曾坏\n-------------------------------------------------------------------------------\n22、安装防抱死制动装置(ABS)的车辆制动时，可用力踏制动踏板。 正确\n\n防抱死制动装置(ABS)的作用就是用力踏制动踏板不会抱死，既然安装了，当然可以用力踏制动踏板了\n-------------------------------------------------------------------------------\n28、最容易发生侧滑的路面是___。\nA：干燥水泥路面\nB：下雨开始时的路面 √\nC：潮湿水泥路面 X\nD：大雨中的路面\n\n因为下雨开始的时候雨水和泥土混合成泥水，路面的摩擦力是最小的，大雨时已将路面泥土冲刷干净所以摩擦力比小雨时的路面小。\n-------------------------------------------------------------------------------\n30、车辆在泥泞路上发生侧滑时，应___。\nA：向侧滑的一侧转动转向盘适量修正 √\nB：向侧滑的另一侧转动转向盘适量修正 X\nC：迅速制动减速\nD：迅速制动停车\n\n后轮发生侧滑，当然要向侧滑的一侧转动转向盘来使前轮与之对应，否则不就原地打转了嘛\n-------------------------------------------------------------------------------\n34、泥泞路行驶中，当车辆发生横滑时，应向后轮横滑的相反方向转动转向盘进行修正。 错误\n\n侧滑是相反  横滑是相同\n-------------------------------------------------------------------------------\n36、行车中与其他车辆已不可避免地发生正面碰撞时，应___，以减少正面碰撞力。\nA：改正面碰撞为侧面碰撞\nB：紧急制动 √\nC：向右急转转向盘躲避 X\nD：向左急转转向盘躲避\n\n注意“不可避免”，向右转向是为了避免相撞\n-------------------------------------------------------------------------------\n39、若无法避免与来车正面相撞时，应在迎面相撞发生的瞬间，*迅速*放开转向盘，并抬起双腿，身体侧卧于右侧座上，避免身体被转向盘抵住。 正确\n-------------------------------------------------------------------------------\n40、车辆撞击无法避免时，驾驶人应当尽力避免侧面相撞。 正确\n\n因为侧面向相撞容易致使翻车，侧面钢板薄，又没有安全气囊，所以，只能正面了。正面有保险杠，起到缓冲，还有安全气囊，车头有一段距离，也可以起到缓冲。\n-------------------------------------------------------------------------------\n44、感到车辆不可避免地要倾翻时，应尽力稳住身体，迅速跳车。 错误\n\n稳住身体，双手用力撑住方向盘，不用跳车。系了安全带的最多皮外伤。 \n-------------------------------------------------------------------------------\n45、跳出车外落地后，应力争双手抱头顺势向惯性力的方向多滚动一段距离，以躲开车体，增大离开危险区的距离。(正确)\n\n自己把目光盯在“多滚动一段距离”上，心想要是滚到车子跟前怎么办？后面两句说的很清楚\n-------------------------------------------------------------------------------\n47、发动机着火，错误的做法是___。\nA：迅速关闭发动机\nB：用覆盖法灭火 X\nC：开启发动机罩灭火 √\nD：用灭火器灭火\n\n开发动机罩后氧气就会迅速涌入，引起更大的火灾。\n-------------------------------------------------------------------------------\n48、车辆燃油着火时，不能用于灭火的是___。\nA：路边沙土\nB：棉衣 X\nC：工作服\nD：水 √\n\n因为汽油是易燃液体，且不溶于水，如果用水灭火，油都浮在水上必定会扩大燃烧面积，使火势加重。\n-------------------------------------------------------------------------------\n49、救火时错误的做法是___。\nA：站在下风处灭火 √\nB：脱去所穿的化纤服装 X\nC：注意保护暴露在外面的皮肤\nD：不要张嘴呼吸或高声呐喊\n\n风吹来的地方是上风处，风吹向的地方是下风处。\n-------------------------------------------------------------------------------\n57、当车辆不慎落水后，驾驶人应保持冷静，并告知乘员不要慌张，做好深呼吸，待水快浸满车厢时，开启车门或摇开车窗逃生。 正确\n\n刚刚落水时由于车外水压大，车门是无法打开的，只有等到水漫入车厢内，快接近浸满时，内外压力比较对称时才可以用较小的力打开车门逃生。\n-------------------------------------------------------------------------------\n71、高速路上，车辆因故障不能离开应急车道时，驾乘人员不得下车随意走动，应在车上等候救援。 错误\n\n\"应在车上等候救援\" 不对，后面来车怎么办\n-------------------------------------------------------------------------------\n72、高速路上，车辆因故障暂时不能离开应急车道或路肩时，驾乘人员应当下车在路边等候，*但不得离开高速公路*。 错误\n\n应该远离是非区域，不要呆在高速公路上了，迅速转移至车辆右后侧护栏以外路边。\n-------------------------------------------------------------------------------\n80、在车速较高可能与前方车辆发生碰撞时，驾驶人应___。\nA：先制动减速,后转向避让 √\nB：急转方向向左避让\nC：急打方向,向右避让 X\nD：先转向避让,后制动减速\n\n高速情况下转弯车身容易侧翻\n-------------------------------------------------------------------------------\n83、当前轮制动抱死时，驾驶人转动转向盘并不能改变车辆行进方向。 正确\n\n车速过快，则容易导致翻车；若是车速不快，则应该发生甩尾\n-------------------------------------------------------------------------------\n\n##############################################################################\n\n	高速公路、山区道路、桥梁、隧道、夜间、恶劣气象条件下驾驶知识\n			78题  错:9 正确率:88.46%\n\n##############################################################################\n\n-------------------------------------------------------------------------------\n _错两次_\n5、车辆因故障必须在高速公路停车时，应在车后方___处设置故障警告标志，夜间还需开启示廓灯和后位灯。\nA：200米 X\nB：150米 √\nC：100米\nD：50米\n\n道路：50-100米 高速公路：150米\n-------------------------------------------------------------------------------\n6、机动车驶离高速公路前，距出口___处，即应不得再超越前车、向右变更车道，而应提前做好驶出准备。\nA：2Km\nB：1Km √\nC：500m\nD：出现减速车道处 X\n\n带“打开转向灯”字眼的是500米，带“不再超越前车”字眼的是1000米 \n-------------------------------------------------------------------------------\n9、在同向4车道高速公路上行车，车速高于每小时110公里的车辆应在___车道上行驶。\nA：最左侧 √\nB：第二条 X\nC：第三条\nD：最右侧\n\n交通安全法实施条例第七十八条规定了同向两车道、三车道的限速规范：二车道左侧车道最低限速100，三车道左到右依次110、90、60。 同向四车道记着培训老师讲的：左到右最低限速依次110、90、90、60\n-------------------------------------------------------------------------------\n16、车辆在高速公路以每小时100公里的速度行驶时，100米以上为安全距离。\n\n车辆在高速公路以每小时100公里的速度行驶时,最小横向间距是150米；而安全距离应为100米，所以这道题是正确的\n-------------------------------------------------------------------------------\n48、夜间行车中，如果灯光照射___，有可能是车辆前方出现急转弯或大坑。\nA：由远及近\nB：离开路面 √\nC：距离不变\nD：由高变低\n\n此题虽答对，但停留时间太长。\n-------------------------------------------------------------------------------\n49、夜间行车中，前方出现弯道时，灯光照射___。\nA：距离不变\nB：由高变低\nC：离开路面 X\nD：由路中移到路侧 √\n\n刚好和上题对比记忆。48 是“急转弯或大坑”；49 是“弯道”\n-------------------------------------------------------------------------------\n51、机动车在夜间通过没有交通信号灯控制的交叉路口时，应当减速观察，___确保安全的情况下通过。\nA：使用远光灯\nB：使用近光灯\nC：使用危险报警闪光灯 X\nD：交替使用远近光灯示意 √\n\n变换灯光的目的是引起注意，超车时也用此方法；\n-------------------------------------------------------------------------------\n57、夜间通过没有路灯或路灯照明不良时，应将近光灯转换为远光灯，但同向行驶的后车不得使用远光灯。 正确\n\n后面如果打远光灯的话，你通过后视镜就什么都看不清了！如果你硬看的话，容易出现短暂失明\n-------------------------------------------------------------------------------\n66、行车中遇有浓雾或特大雾天，能见度过低行车困难时，应___。\nA：开启前照灯行驶\nB：开启示廓灯、雾灯行驶\nC：选择安全地点停车 √\nD：开启危险报警闪光灯行驶 X\n\n没看到停车这个选项。\n-------------------------------------------------------------------------------\n73、雾天行车多使用喇叭可引起对方注意;听到对方车辆鸣喇叭，也应鸣喇叭回应。 正确\n\n既然雾天看不见，就要靠听的了。人家鸣喇叭，你当然要回一声告诉别人这里有车，以提高注意。\n-------------------------------------------------------------------------------\n\n##############################################################################\n\n		安全行车、文明驾驶知识\n		159题  错12: 正确率:92.45%\n\n##############################################################################\n\n-------------------------------------------------------------------------------\n3、踏制动踏板，应当用___踩踏。\nA：左脚前掌 X\nB：右脚前掌 √\nC：右脚心\nD：右脚跟\n\n左离合右刹车\n-------------------------------------------------------------------------------\n4、换挡时___。\nA：不得低头下视 √\nB：慢推、慢拉 X\nC：注意看挡位\nD：猛推、猛拉\n\n开车的时候目光始终是在正前方，所以换挡的时候是不能低头看的，万一换挡的时候有行人冲过来，你还低头看档位的话，太危险了，所以答案是A。B和D的选项，都是太极端，不是太快，就是太慢，不能选。\n-------------------------------------------------------------------------------\n8、自动挡汽车可以用左脚踩踏制动踏板。 错误\n\n长途驾驶 右脚累了 我还用左脚踩油门呢 呵呵 其实`这个不是好的习惯``你要是正规驾驶学校考的驾照`学校教练`肯定告诉你``这个是开自动档`最容易出事的`一项``真的`因为`你很容易踩错\n-------------------------------------------------------------------------------\n自动档汽车的自动变速器的档位\nP: (Parking) 停车档\nR: (Reverse) 倒档\nN: (Neutral) 空档\nD: (Drive) 前进档\nS/2: (Second/ Second Gear) 缓坡档\nL/1: (Low/First Gear)陡坡档\n\n正常行驶时将选档杆放在D 位，汽车可在1～4 档(或3 档)之间 *自动* 换档；\n\n-------------------------------------------------------------------------------\n19、行人参与道路交通的主要特点是___。\nA：行动迟缓 X\nB：喜欢聚集、围观\nC：稳定性差\nD：行走随意性大,方向多变 √\n\nA.行动迟缓 B.喜欢聚集、围观 驾车时都好避让，故不选。 C.稳定性差 表达意思不明确，故不选。\n-------------------------------------------------------------------------------\n39、行车中遇到后方车辆要求超车时，应___。\nA：及时减速、观察后靠右行驶让行 √\nB：减速慢行 X\nC：靠右侧加速行驶\nD：不让行\n\n光减速不行啊，万一你是在超车道上开车呢\n-------------------------------------------------------------------------------\n52、在道路上超车时，应尽量加大横向距离，必要时可越实线超车。 错误\n\n实线不能碾压\n-------------------------------------------------------------------------------\n74、进入左侧道路超车，无法保证与正常行驶前车的横向安全间距时，应___。\nA：加速超越\nB：并行一段距离后再超越 X\nC：放弃超车 √\nD：谨慎超越\n\n选项没看完就选。\n-------------------------------------------------------------------------------\n81、通过没有交通信号的交叉路口时，应在进入路口前减速或停车瞭望，___优先通行。\nA：右转弯车辆 X\nB：左转弯车辆\nC：直行车辆 √\nD：掉头车辆\n\n右转车辆比较容易通过，所以要让一下左转的。 任何时候都是转弯让直行。\n-------------------------------------------------------------------------------\n83、驾驶车辆驶入铁路道口前减速降挡，进入道口后___。\nA：不能变换挡位 √\nB：可以变换挡位\nC：可换为高挡\nD：停车观察 X\n\n变档时容易熄火\n-------------------------------------------------------------------------------\n84、驾驶车辆驶出环岛前，应开启___。\nA：左转向灯 X\nB：危险报警闪光灯\nC：右转向灯 √\nD：远光灯\n\n和下一题对比记忆\n-------------------------------------------------------------------------------\n85、驾驶车辆进入环岛时，___。\nA：应开启右转向灯 X\nB：应开启危险报警闪光灯\nC：应开启左转向灯\nD：不用开启转向灯 √\n\n因为你肯定要转向的，而你的后车也是肯定你要转向的。\n-------------------------------------------------------------------------------\n151、行车中发生交通事故时，应先保护自己，其次保护乘车人。 错误\n\n道义上，生命是没有先后的，我觉得应先保护最先受伤人\n-------------------------------------------------------------------------------\n\n##############################################################################\n\n		交通信息\n		158题  错: 正确率:%\n\n##############################################################################\n\n-------------------------------------------------------------------------------\n\n7、道路与铁路平面交叉道口有两个红灯交替闪烁或者一个红灯亮时，___。\nA：车辆在确保安全的情况下可以通行\nB：禁止车辆、行人通行 √\nC：禁止车辆通行,但行人可以通行\nD：禁止行人通行,但车辆可以通行\n\n-------------------------------------------------------------------------------\n\n10、红色箭头灯亮时，本车道禁止车辆通行。 正确\n\n左转和右转不是直行道，也就是说不是本车道的事，在本车道你看好箭头红绿即可\n\n-------------------------------------------------------------------------------\n\n##############################################################################\n\n		道路交通安全法规\n		185题  错23: 正确率87.57:%\n\n##############################################################################\n\n-------------------------------------------------------------------------------\n9、机动车在设有最高限速标志的道路上行驶时，____。\nA：不得超过标明的最高时速 √\nB：允许超过标明最高时速的10%\nC：可以超过车辆的最高设计时速\nD：必须按规定的最高车速行驶\n\n在题目答案中出现否定用语的，“不得”，“不能”一般都是答案\n-------------------------------------------------------------------------------\n22、饮酒后驾驶机动车的，处暂扣______，并处1000元以上2000元以下罚款。\nA：机动车\nB：行驶证\nC：6个月机动车驾驶证 √\nD：6个月以上驾驶证,由民警决定\n\n饮酒后驾驶机动车的，处暂扣六个月机动车驾驶证，并处一千元以上二千元以下罚款。因饮酒后驾驶机动车被处罚，再次饮酒后驾驶机动车的，处十日以下拘留，并处一千元以上二千元以下罚款，吊销机动车驾驶证。\n-------------------------------------------------------------------------------\n23、醉酒驾驶机动车的，由公安机关交通管理部门约束至酒醒，吊销机动车驾驶证，______内不得重新取得机动车驾驶证，并依法追究刑事责任。\nA：1年\nB：2年\nC：5年 √\nD：10年\n\n2011年5月1日修改后的《道路交通安全法》第九十一条规定：醉酒驾驶机动车的，由公安机关交通管理部门约束至酒醒，吊销机动车驾驶证，依法追究刑事责任；五年内不得重新取得机动车驾驶证。\n-------------------------------------------------------------------------------\n25、未取得机动车驾驶证或机动车驾驶证被暂扣、吊销后驾驶机动车的， 由公安交通管理部门处___，还可以并处15日以下拘留。\nA：扣留机动车\nB：200元以上2000元以下罚款 √\nC：2000元以上罚款,由民警决定\nD：扣留行使证\n-------------------------------------------------------------------------------\n26、将机动车交由未取得机动车驾驶证的人或机动车驾驶证被吊销、暂扣的人驾驶的， 由公安交通管理部门处200元以上2000元以下罚款，还可以并处___。\nA：15 日以下拘留\nB：吊销驾驶证 √\nC：扣留车辆\nD：扣留行驶证\n\n“交由”两个字么？意思是有驾照的人把车交给没驾照的人开，有驾照的那个人要罚款和被吊销驾照。没驾照的人按照无证驾驶算，处以200-2000的罚款，并处15日以下拘留。\n-------------------------------------------------------------------------------\n48、货车车厢内载客必须设有座椅。 错误\n\n车厢里是拉货的。\n-------------------------------------------------------------------------------\n55、因醉酒后驾驶机动车被吊销驾驶证的，终身禁驾。 错误\n\n销机动车证的为二年，撤消机动车证的为三年，以醉酒吊销五年，因逃跑而吊销是终身，叫“吊二撤三醉五逃终身\" \n-------------------------------------------------------------------------------\n58、机动车驾驶人初次申领机动车驾驶证后的___为实习期。\nA：3个月\nB：6个月\nC：12个月 √\nD：24个月\n\n常识题，1年实习期\n-------------------------------------------------------------------------------\n60、机动车驾驶证有效期分为___、10年和长期。\nA：1年\nB：2年\nC：5年\nD：6年 √\n\n6年一审，6年一换\n-------------------------------------------------------------------------------\n62、机动车驾驶人累计记分达到12分，拒不参加公安机关交通管理部门通知的学习，也不接受考试的，由公安机关交通管理部门___。\nA：公告其驾驶证停止使用 √\nB：扣留其驾驶证\nC：吊销其驾驶证\nD：对其加倍处以罚款\n\n停止使用：你在交警队接受培训且通过科目一考试的，就可以恢复驾照，时间较短。 吊销：你要满2年且考试合格才能恢复驾照的使用\n-------------------------------------------------------------------------------\n66、机动车在没有道路中心线的狭窄山路行驶，会车有困难时，___先行。\nA：速度快的让速度慢的\nB：重车让空车\nC：让靠山体的一方\nD：让不靠山体的一方 √\n\n山路狭窄，这种山路一般有在靠山体一侧挖个让车位，说白了就是加宽点用来会车用的，两车交会时靠山的开进去停住，不一定有落石的， 让不靠山体车先行，是不会开到路边去的，总不能不靠山的停下来，靠山的车转弯进去再转弯出来吧\n-------------------------------------------------------------------------------\n80、公交车以外的机动车在公共汽车站___以内的路段，不得停车。\nA：30米 √\nB：20米\nC：10米\nD：5米\n\n越大的距离越安全，这是一个系列提，公交车站，弯道转弯都是30m \n-------------------------------------------------------------------------------\n82、机动车从匝道驶入高速公路，应当先在加速车道内提速，并开启___，在不妨碍已在高速公路内的机动车正常行驶的情况下驶入车道。\nA：左转向灯 √\nB：右转向灯\nC：危险报警闪光灯\nD：前照灯\n\n上高速左转向，下高速右转向\n-------------------------------------------------------------------------------\n111、遇高速公路限速标志标明的车速与《道路交通安全法》对车道行驶车速的规定不一致的，应按照车道行驶规定的车速行驶。 错误\n\n当遇到实际路面标志标识与规定不一致时，应按照实际标志标识行驶。 原因 一、限速往往是后标的; 二、限速（90KM）比车道行驶车速（120M）小，难道你还要按“按照车道行驶规定的车速行驶”嘛？！\n-------------------------------------------------------------------------------\n112、机动车在高速公路上行驶，与同车道前车的最小距离不得少于30米。 错误\n\n机动车在高速公路上行驶，车速超过每小时100公里时，应当与同车道前车保持100米以上的距离，车速低于每小时100公里时，与同车道前车距离可以适当缩短，但最小距离不得少于50米。\n-------------------------------------------------------------------------------\n125、对酒后行为失控或者拒绝配合检验的，可以___。\nA：罚款\nB：拘留\nC：使用约束带或者警绳等约束性警械\nD：批评、教育\n\n交警对违法司机的惩罚是四种：警告 罚款 扣留或者吊销驾驶执照和拘留。 是针对证据确凿的情况下对违法司机的惩罚行为。酒后拒绝配合检查，说明还没对酒精含量测试，只能属于嫌疑对象，还不算是违法司机。 所以可以采用强制手段，测试完酒精度可可以使用以上四种惩罚行为。\n-------------------------------------------------------------------------------\n142、交通事故仅造成重伤且驾驶人愿意承担全部责任的，可自行协商处理。 错误\n\n造成重伤,有可能已触犯邢法，就属于比较严重的交通事故,公安机关必须介入调查,因此不可以自行解决的。\n-------------------------------------------------------------------------------\n148、机动车驾驶人在一个记分周期内累积记分达到___的，应当在十五日内到机动车驾驶证核发地或违法行为地公安机关交通管理部门接受为期7天的道路交通安全法律、法规和相关知识的教育。\nA：3分\nB：6分\nC：9分\nD：12分 √\n-------------------------------------------------------------------------------\n153、机动车驾驶人因服兵役、出国(境)等原因，无法在规定时间内办理驾驶证期满换证、提交身体条件证明的，可以向机动车驾驶证核发地车辆管理所申请延期办理。延期期限最长不超过___。\nA：三年 √\nB：二年\nC：一年\nD：半年\n\n因为C1检验期限是6年 ， 所以最晚也不能超过检验期限的一半。\n-------------------------------------------------------------------------------\n159、机动车驾驶人可以委托代理人办理驾驶证的换证、补证、提交身体条件证明、延期办理和注销业务。 正确\n-------------------------------------------------------------------------------\n168、有听力障碍的机动车驾驶人驾驶机动车时，应当佩戴助听设备。 正确\n-------------------------------------------------------------------------------\n172、机动车未按照规定期限进行安全技术检验，由公安交通管理部门处警告或者____元以下罚款。\nA：五十元\nB：一百元\nC：二百元 √\nD：五百元\n-------------------------------------------------------------------------------\n175、在我国境内道路上行驶的机动车___，应当依照道路交通安全法的规定投保机动车交通事故责任强制保险。\nA：所有人和管理人 √\nB：担保人\nC：乘坐人\nD：维修人\n √\n X\n################################################################################\n\n			模拟考试后出现的错题 Nov 2\n\n################################################################################\n试题：机动车驾驶人累计记分达到12分，拒不参加公安机关交通管理部门通知的学习，也不接受考试的，由公安机关交通管理部门___。\n\nA.公告其驾驶证停止使用\nB.扣留其驾驶证\nC.吊销其驾驶证\nD.对其加倍处以罚款\n\n答案：A\n停止使用：你在交警队接受培训且通过科目一考试的，就可以恢复驾照，时间较短。\n吊销：你要满2年且考试合格才能恢复驾照的使用\n-------------------------------------------------------------------------------\n试题：醉酒驾驶机动车的，由公安机关交通管理部门约束至酒醒，吊销机动车驾驶证，______内不得重新取得机动车驾驶证，并依法追究刑事责任。\n\nA.1年 \nB.2年 \nC.5年 \nD.10年 \n\n答案：C\n吊销机动车证的为二年，撤消机动车证的为三年，以醉酒吊销五年，因逃跑而吊销是终身，叫“吊二撤三醉五逃终身”\n-------------------------------------------------------------------------------\n试题：将机动车交由未取得机动车驾驶证的人或机动车驾驶证被吊销、暂扣的人驾驶的， 由公安交通管理部门处200元以上2000元以下罚款，还可以并处___。\n\nA.15 日以下拘留\nB.吊销驾驶证\nC.扣留车辆\nD.扣留行驶证\n\n答案：B\n易错题。\n看到前面“交由”两个字么？意思是有驾照的人把车交给没驾照的人开，\n有驾照的那个人要罚款和被吊销驾照。\n没驾照的人按照无证驾驶算，处以200-2000的罚款，并处15日以下拘留。\n-------------------------------------------------------------------------------\n试题：夜间行车中，前方出现弯道时，灯光照射___。\n\nA.距离不变\nB.由高变低\nC.离开路面\nD.由路中移到路侧\n\n答案：D\n要是没有实地操作，个人为了避免混淆是这样记的：\n在平直的路面时，灯光距离不变；\n出现一般的弯道时，灯光也跟着转弯，从路中移至路侧；\n当上坡时，灯光随着车的上下导致灯光也由高变低；\n当出现急弯或大坑时，灯光随着车的颠簸也离开路面。\n大家试着记记，遇到这题绝对不错！\n-------------------------------------------------------------------------------\n-------------------------------------------------------------------------------\n-------------------------------------------------------------------------------\n-------------------------------------------------------------------------------\n',NULL,1,1,'N',0,'util.js','2012-10-24 16:42:11','2014-02-27 13:20:22'),(227,'怎样只备份某文件夹下所有修改时间晚于某时间的文件','近两天突然想把数据备份脚本修改一下，将全部备份改为只备份仅几天修改的文件。\n这种改动有一个最大的问题是：删除的文件不能很好地同步。但抛开此问题进行备份也发现\n问题。\n<blockquote>\n范例六：在 /home 中，比 2005/06/01 新的文件才备份<br>\n<pre>\ntar -N \'2005/06/01\' -zcvf home.tar.gz /home\n</pre>\n<p class=\"source\">---- 《鸟哥 Linux 私房菜》第９章 文件的压缩与打包, P178</p>\n</blockquote>\n鸟哥教材中范例命令应注意以下几点：\n<ol><li>\n关于参数<tt>-N</tt>: 经验证此参数并不准确，而应使用<tt>--newer-mtime</tt>;\n</li><li>\n关于日期格式：格式<tt>\'2012-10-27\', \'2 days ago\'</tt>均有效；\n</li><li>\n关于子目录：假设文件结构如下：\n<pre>\neorder/\n    |-- <span class=\"hl\">analysis.php				2012-10-27 16:17</span> \n    |-- cashflow.php    			2012-10-08 11:42 \n    |-- createorder.php 			2012-10-22 15:02 \n    |-- class/           			2012-03-20 09:36 \n    |-- img/             			2012-08-07 16:03 \n        |-- bg.png				2012-08-07 16:03\n        |-- logo.png				2012-06-27 09:16\n    |-- img-ori/         			2012-08-03 11:16 \n    |-- js/              			2012-07-20 14:43 \n    |-- <span class=\"hl\">module/          			2012-10-26 16:15</span> \n        |-- <span class=\"hl\">sale.saler.order-result-table.php	2012-10-26 16:15</span> \n        |-- sale.sent-order-table.php		2012-08-26 16:15 \n</pre>\n现在仅备份 \'2012-10-26\' 以后修改的文件：\n<pre>\ntar --newer-mtime \'2012-10-26\' -zcf eo-recently.tgz eorder/\n</pre>\n我觉得备份的文件结构应该如下：\n<pre>\neorder/\n    |-- analysis.php				2012-10-27 16:17\n    |-- module/          			2012-10-26 16:15 \n        |-- sale.saler.order-result-table.php	2012-10-26 16:15 \n</pre>\n也就是仅备份高亮显示的文件或目录，但实际的结构却是：\n<pre>\neorder/\n    |-- analysis.php				2012-10-27 16:17\n    |-- class/           			2012-03-20 09:36 \n    |-- img/             			2012-08-07 16:03 \n    |-- img-ori/         			2012-08-03 11:16 \n    |-- js/              			2012-07-20 14:43 \n    |-- module/          			2012-10-26 16:15 \n        |-- sale.saler.order-result-table.php	2012-10-26 16:15 \n</pre>\n换句话说，tar 命令中<tt>--newer-mtime</tt>指的仅是文件的修改日期，\n跟目录的修改日期没有关系，而且<b>不管子目录下是否有符合要求的文件，\n子目录的结构都会完整保留下来。</b>\n</li></ol>\n<h3>文件的三个时间</h3>\n<blockquote>\nEach file has three time stamps associated with it: its access time, \nits modification time, and its attribute modification time. \nThese correspond to the st_atime, st_mtime, and st_ctime members of the \nstat structure; see File Attributes.\n</blockquote>\n<ol><li>\n文件最后访问时间（atime）：例如通过<tt>cat</tt>查看文件内容后将更新此时间；\n</li><li>\n（内容）修改时间（mtime）：也就是文件最后一次保存的时间（使用编辑器打开文件，\n就算文件内容没有变化，只要进行保存，时间就更新）；\n</li><li>\n属性修改时间（ctime）：文件状态发生改变的最后时间，如权限；\n<br><span class=\"red\">不知这里的 \'c\' 怎么理解？</span>\n</li></ol>\n\n<pre>\n		时间		助记	命令\n---------------------------  --------   -----\n		access time: st_atime	ls -lu\n   (data) modification time: st_mtime	ls -l\nattribute modification time: st_ctime	ls -lc\n</pre>\n<tt>man tar</tt> 中对<tt>-u,-c</tt> 两个参数的解释不理解：\n<pre>\nman tar\n -u     with -lt: sort by, and show, access time with  -l:  show  access\n               time and sort by name otherwise: sort by access time\n -c     with -lt: sort by, and show, ctime with -l: show ctime and  sort  by  \n 		name otherwise: sort by ctimeo\n</pre>\n\n<h4>三个时间的关系</h4>\n列举几个动作对三个时间的影响：\n<ol><li>\n使用编辑器打开文件不作任何修改，直接保存并退出：<br>\n三个时间都会改变。atime, mtime 容易理解，ctime 怎么也跟着更新？往下看：\n<blockquote>\nctime is the time the file\'s inode was last changed. mtime is the last time the file\'s CONTENTS were changed. To modify ctime, you\'ll have to do something to the inode, such as doing a chmod or chown on the file.\n<br><br>\nChanging the file\'s contents will necessarily also update ctime, as the atime/mtime/ctime values are stored in the inode. Modifying mtime means ctime also gets updated.\n<p class=\"source\">\n----\n<a target=\"_blank\" href=\"\nhttp://stackoverflow.com/questions/8346852/how-to-modify-last-status-change-ctime-property-of-a-file-in-unix\n\">by Marc B on Stackoverflow\n</a>\n</p>\n</blockquote>\n</li><li>\n使用修改 mtime (-m) 或 atime (-a) 的<tt>touch</tt> 命令的附带结果是均修改了 \nctime, 原因也参上面引用;\n</li><li>\n<tt>cat</tt> 文件内容：<br>\nmtime, ctime 不变，atime 更新；\n</li><li>\n修改文件名称：<br>\nmtime, atime 不变，ctime 更新；\n</li></ol>\n\n<h3>已删除文件数据同步问题</h3>\n假设这种一种情况：在电脑 A 上删除一个很久以前修改的文件 a, 每天的精简备份并不会\n涉及到这个已经删除的文件，但电脑 B 上仍存在文件 a, 假如在电脑 B 上进行阶段性完整\n备份，那么之前没有用处的 a 又会出现在系统中。\n<br><br>\n一个解决思路：编写一个类似 \'trm\' 的脚本，\n其实际上是对所要删除的文件进行重命名操作，在文件名后加上 \'.todelete\' 后缀。\n然后在每隔一段时间（一个月）将这些”准备删除“的文件统一删除，\n从而避免删除文件在备份与解压之间重新出现。\n<br><br>\n简单实现如下：在 www/shell-example/ 下创建名为<tt>del</tt>的脚本，主要语句如下：\n<pre>\nmv $1 $1\'.todelete\'\ntouch $1\'.todelete\'\n</pre>\n第二句的目的在于更新删除文件的 mtime 值，因为修改文件名 mtime 值不会进行更新。\n<br><br>\n定期清理 \'*.todelete\' 文件。此类文件出现在任意位置，结构如下：\n<pre>\n/home/ts/			2012-10-27 16:17\n    |-- file-a          	2012-10-24 09:36\n    |-- <span class=\"hl\">file-b.todelete</span>         2012-10-27 16:03\n    |-- sub-dir-a/      	2012-10-27 11:16\n        |-- <span class=\"hl\">file-c.todelete</span>     2012-10-27 14:43\n    |-- sub-dir-b/      	2012-10-27 16:15\n        |-- file-d      	2012-10-26 16:15\n</pre>\n使用\n<pre>\nts@TS:~$ rm -rf *.todelete\n</pre>\n未达到与其效果（子目录下文件未删除），原因网上有一个解释不错：\n<blockquote>\nYes, that\'s what you asked it to do. You ran the rm(1) program and \npassed it a list of filenames (via \"*.orig\") and <b>none</b> of those \nfilenames was for a directory, so rm(1) didn\'t recurse into it. \n<p class=\"source\"></p>\n</blockquote>\n该帖子给出了达到效果的命令：\n<pre>ts@TS:~$ find ~/www/ -name \\*.todelete | xargs rm -f</pre>\n<h3>参考</h3>\n<ul><li>\nhttp://www.gnu.org/software/tar/manual/html_section/after.html\n</li><li>\n<a target=\"_blank\" \nhref=\"http://forum.soft32.com/linux/rm-orig-files-subdirectories-ftopict352752.html\">\nrm all *.orig files in subdirectories?\n</a>\n</li></ul>\n<!--\n<a target=\"_blank\" href=\"\">\n</a>\n-->\n',NULL,1,1,'N',0,'util.js','2012-10-26 22:51:04','2014-02-27 13:20:22'),(228,'W44, 2012','<div class=\"diary\" rel=\"20121029\">\n<h3>10.29（一/阴）退票</h3>\n中午到火车站售票大厅退票（1, 2 号窗口办理），时过境迁，现在退票要带上购票人的身\n份证原件，另外扣费变成了 5%.<br><br>\n\n三个星期晚上没做过饭了，昨晚重新开始。近段时间因为一日三餐都在外面吃感觉身体状态\n不如从前。由于昨晚没有休息好，洗完衣服早早睡觉。\n</div>\n\n<div class=\"diary\" rel=\"20121030\">\n<h3>10.30（二，晴）回帖受打击 + 给王四送身份证</h3>\nPHPChina 上有个运行 MySQL 提示 \'Command not found\' 的问题帖，自己跟帖说可能是程\n序没有安装完整的原因（附图中命令列表中没有他要执行的命令），结果楼主回复说，他的\n电脑上有这个命令！显然自己回答错误了，这让自己心情比较郁闷。想想自己的脸皮真够薄\n的，连网上匿名发帖别人提出自己的问题都能影响自己的心情，这要是现实生活中自己还不\n知要被打击成什么样呢。以后要多发帖，加以锻炼才是。<br><br>\n\n晚上骑车到萍姐家给王四送身份证，跑过去才知道原来王四上周日已经去焕姐家住了。嗨，\n要是之前问清楚至于瞎跑这么远吗？\n</div>\n\n<div class=\"diary\" rel=\"20121031\">\n<h3>10.31（三，晴）工作有进展</h3>\n今天将“运费”、“交货日期”两项功能加到订单中。其中运费部分涉及到表单中多个元素之间\n的联动，在该位置耗费较多时间。明天开始考虑应收账款功能。<br><br>\n\n今天 PHPChina 上关于通过 PHP 发短信的话题有两个网友和我互动，另外 LinuxSir 上有\n个快捷键设置为 Win + T 不起作用的帖子自己也加入讨论，但未收到回音。忽然感觉没有\n必要在 dbflow.net 上搭建博客程序，就以 PHPChina 为基地，把论坛当作博客来用，\n如果搭建独立博客程序，以自己对自己的了解，必将在内容以外的事情上耗费大量精力\n（外观、文章样式、网站收录等），有点本末倒置；独立博客的互动仅仅是用户到自己的\n网站上留言，这中概率很低；相反如果选择在论坛上发帖，依托 PHPChina 的用户，\n通过跟帖的形式进行互动得几率相对而言要高得多，且时效性较好。\n</div>\n\n<div class=\"diary\" rel=\"20121101\">\n<h3>11.1（四，晴）阅读 KIS 用户手册学习财务基础</h3>\n早上发现金蝶友商网的一款名为“在线会计 + 进销存“的应用程序，看后有种强烈的挫败感\n。该系统和 E-Orders 系统功能类似，但强大得多，尤其是会计方面，金蝶客户端里所有的\n功能它都有，深深感到巨大的差距。在应收账款功能的设计上，开始从会计科目的角度重新\n认识。<br><br>\n\n下午接到阳光驾校通知，下周一早上参加理考。\n</div>\n\n<div class=\"diary\" rel=\"20121102\">\n<h3>11.2（五，晴）复式记账法 + DBflow.net</h3>\n今天使用发散学习的方法继续学习会计方面的基础。对复式记账法中“借”、“贷”两个概念有\n了相对清晰的理解。接下来的任务是搞清目前公司里用到的所有科目结构明细，为下一步设\n计数据库打基础。<br><br>\n\n在网上搜索信息时时不时会发现 Broken Links, 有种生命终结的意味。既然决定给出链接\n，就要确保其随时访问，指不定某个人就会顺着这个链接继续了解，而且当他打开这个链接\n时，必定是对内容感兴趣的、想一睹为快的，这时候如果出现链接无法访问，也就随即失去\n了一个为数不多的读者。<br><br>\n\n但是一个链接的生命周期有多久呢？对公司来说，只要公司不彻底倒闭，它就可以一直存在\n；对个人维护的网站来说，只要站长觉得花钱续费网站是值得的，只要站长的生命没有终止\n，那么它也可以一直存在着。<br><br>\n\n说这些是因为心里又重然搭建 DBflow.net 站点的冲动。\n</div>\n\n<div class=\"diary\" rel=\"20121103\">\n<h3>11.3（六，雨）荆豪买相机大姐给我打电话我却无能为力</h3>\n上午下雨，气温骤降，下午金和安回不了政法街；上午大姐打电话说荆豪要买相机，问我认\n识的有没有人，等中午我再给大姐打电话的时候，相机已经买到手。这一个电话让我心神不\n宁，没办法静下心来工作。\n</div>\n\n<div class=\"diary\" rel=\"20121104\">\n<h3>11.4（日，晴,大风）陪荆一买电脑 + 父亲吃坏肚子</h3>\n昨下午荆一打电话让今天陪着她去科技市场买笔记本电脑。早八点半出发，10:20 到科技市\n场。买电脑时显示他们拿错货，我们要的是 500G 硬盘，店里人拿货拿的是 750G, 但已经\n拆封，换货已经不现实。看着像店长的人很是紧张，先是让加 150, 荆一说得很好：\n“不能因为你们的失误让我们来把钱付了。“后来又降到 115, 最后我说再添 100, 荆一也答\n应了。荆一说：“你应该感到庆幸，这次我同意加这个钱，要是换成别人就不加钱你不是也\n没办法？“店长连忙点头。另外一件事是头一个给我们介绍电脑的人在介绍电脑中途给荆豪\n拿了一个优盘，等电脑价格谈妥去拿货的时候他去接待另外一个客户。等荆一刷完卡我们三\n个走下楼梯的时候，荆豪提醒说优盘的钱没有给他，我们这才发现他们两人在交接工作没有\n做好。想想他本来打工就不易，这次还要自己垫上优盘的钱，自己心生一丝怜悯。记得自己\n07 年在南京户外店打工的时候，因为多找顾客钱，晚上结帐时发现后只能自掏腰包垫上。\n一方面是感到工作不管大小，越是忙越要头脑清醒，要做到忙而有序；另一方面感觉自己心\n很软。<br><br>\n\n在回来的 B1 公交上，母亲打电话说让给父亲买串香蕉，说父亲这两天大便情况不是很好。\n到家后发现大姐、向姐都在家，院内的洗衣机在转着。母亲说父亲刚才吐了，昨天吃的饺子\n没有消化；母亲还说父亲今天身体比较虚弱，她自己没办法把父亲移到轮椅上；昨天晚上父\n亲一直到凌晨两点都没睡好，在床上翻来覆去，说肚子难受；母亲以为是天气骤冷的原因，\n但心想也不至于如此，这两天温度骤降，昨天下雨，今天刮大风；母亲不能把父亲扶到轮椅\n上，自己也累得气喘吁吁，无奈之下母亲给大姐打了电话，电话里母亲应该是给大姐说父亲\n状况不是很好，母亲说大姐买了送终的衣服回来，最后母亲和我找来两个箱子把东西放进去\n扎好；父亲躺在床上时不时的打嗝，脸色看上去比较虚弱，大概是没吃东西的缘故；\n我跟父亲说话，父亲没有作声，看上去是在睡觉。吃完饭母亲说让我帮忙把父亲扶到轮椅上\n，我先扶父亲坐起来，穿上鞋子，母亲把轮椅推到沙发旁边，把轮子固定后，母亲和我一人\n架着父亲的一支胳膊，在往轮椅上架的时候父亲的腿根本用不上力气，加上父亲身上的衣服\n比较滑，母亲我们两人用尽力气也没把父亲架到轮椅上，父亲还是坐在了地上。母亲和我又\n先把父亲扶到沙发上，我们两个也喘口气。过了一会，母亲找了一个板凳，我们俩先把父亲\n搀到凳子上，然后我拽这凳子慢慢往轮椅那里移动，等到刚好移到轮椅跟前后，我们俩再用\n力这才把父亲搀到轮椅上！此情此景让我心里有种说不出的难受，病痛的折磨让父亲、母亲\n和我们兄弟姐妹每个人心里都不能痛快。\n</div>\n',NULL,1,1,'N',0,'util.js','2012-10-29 08:20:49','2014-02-27 13:20:22'),(229,'W47, 2012','<div class=\"diary\" rel=\"20121122\">\n<h3>11.22（四/阴）搭建公司内网服务器</h3>\n苌正义发来短信说驾校教练不让代签名，必须本人过去签。晕，不能因为这再请一次假吧。\n接着给教练打电话是一个失误，我在电话里说是不是必须本人回去签名，教练在电话里爱搭\n不理地回了句：“你看事吧。”弄得自己灰头土脸。\n<br><br>\n这个月的手机上网流量前天就用完了，不该下那么多程序呀！T_T...\n</div>\n\n<div class=\"diary\" rel=\"20121123\">\n<h3>11.23（五/多云）看 xbeta 中科大讲演视频</h3>\nXbeta 在微博上给出前段时间他在中科大的两场演讲视频，抵挡不住 Xbeta 的个人魅力，\n立即花费半天时间（8:00--14:20）观看。<br><br>\n\n第一场讲演标题为《Total Commander——文件管理的新境界》, xbeta 主张文件管理的前提\n是文件应作减法。首先是善用 del 键，养成定期整理（删除无用）文件的习惯；其次是\n真正需要管理的、最重要的文件原没有硬盘中文件的多。xbeta 举了两个例子：一是一个人\n真正有价值、能留给后人的思想存储成文件几兆空间就够了。毛泽东所有著作保存为文本\n格式也就十几兆而已；二是他引用 Jobs 一个极端的例子：如果明天你将死去，今天让你\n把电脑中你认为最重要的文件拷贝的 U 盘中留给后人，估计一个 64M 的 U 盘足矣。\n所以我的理解就是：文件管理 = 减法 + 将信息经过思考形成自己的东西加以保存。\n通过这两层“过滤”，文件的数量将得到精简，所有文件一目了然，也就无须管理了。\n<br><br>\n\n第二场讲演内容是介绍一些提高个人生产力的软件，包括文件管理、知识管理、时间管理等\n，自己在这方面没有需求。其中有几个思维导图的软件，xbeta 说在列提纲、听讲演记笔记\n是可以使用，自己觉得暂时用不到，直接在 Vim 中通过 Tab 缩进记录即可。\n</div>\n\n<div class=\"diary\" rel=\"20121124\">\n<h3>11.24（六/阴）</h3>\n打今天开始，在网络上使用 \'dbflow\' 这个 ID, 包括微博和百度空间两个帐号，用于 SNS.\n</div>\n\n<div class=\"diary\" rel=\"20121125\">\n<h3>11.25（日/雨转多云）</h3>\n自半夜开始下雨，起床后还在下，没办法骑车回家，只好到汽车站坐车。\n下午因为要到繁荣街驾校签名，三点钟开始到村口等车。不一会迎面过来一辆看着像起亚的\n白色轿车并停在我跟前，车窗摇了下来，司机对我说：“去哪儿呢，奎，我是你增华哥。”\n就这样，我趁着增华哥的车到了荥阳。\n</div>\n',NULL,1,1,'N',0,'util.js','2012-11-19 08:05:17','2014-02-27 13:20:22'),(230,'搭建公司内网服务器','怎么使用 Debian 在局域网中搭建一个内部服务器？其实就目前办公室网络环境来说，\n此服务器已经搭建了！目前公司所有电脑都使用固定 IP 上网，我的工作电脑分配的地址为\n192.168.1.249, 公司员工在浏览器中访问 http://192.168.1.249/ 的话即可访问！\n自己通常使用的 http://localhost/ 和 http://127.0.0.1/ 两个地址专用于在本机上访问\n，上面那个则在内网中所有电脑上都能访问到！<br><br>\n\n解决了内部访问的问题，下面将想办法让外网访问到内网的服务器。以订单系统来说，\n上面解决了公司桐柏路这边所有电脑访问系统的问题，现在是想办法让须水厂区也能访问\n自己的电脑。在土豆网上找到一个\n<a target=\"_blank\" href=\"http://www.tudou.com/programs/view/qI-AIA-6FZM\">\n《内网机器如何被外网访问》</a>的视频，该视频是云南一个公司的培训视频，看后很好地\n解决了自己的疑问。\n<br><br>\n\n实现通过外网访问内网服务器借助于路由器转发规则下“虚拟服务器”或“DMZ 主机”\n这两个功能。其中前者相比后者更安全些。前提是内网服务器必须是静态 IP, \n而不是通过 DHCP 动态获取 IP 地址。在虚拟服务器下将服务器的静态 IP 添加进去，\n该功能是利用 NAT 公网 IP 转换为内网服务器中。通过查看路由器 WAN 口信息获得公网 IP 地址，\n<h3>NAT (网络地址转换)</h3>\n<blockquote>\n在计算机网络中，网络地址转换（Network Address Translation或简称NAT，\n也叫做网络掩蔽或者IP掩蔽）是一种在IP封包通过路由器或防火墙时重写源IP地址或/和\n目的IP地址的技术。<u>这种技术被普遍使用在有多台主机但只通过一个公有IP\n地址访问因特网的私有网络中。</u>根据规范，路由器是不能这样工作的，\n但它的确是一个方便并得到了广泛应用的技术。当然，NAT也让主机之间的通信变得复杂，\n导致通信效率的降低。\n</blockquote>\n<hr>\n好处：\n<ul><li>\n”安全“：公司的老板会觉得网站上所有的”东西“都在自己公司的电脑上、而不是存在”别人“\n的电脑上，这样比较安全；\n</li><li>\n省却了放置应用的虚拟主机和域名的费用；\n</li></ul>\n坏处：\n<ul><li>\n作为服务器的电脑、路由器、交换机等不能断电，这里是指需要外网访问的情况。\n如果访问应用的所有的计算机都是通过内网访问则不存在此问题；\n</li><li>\n访问速度变慢：由于外网访问内网是通过公司拉的宽带进行访问，那么如果公司的宽带带宽\n不大，或者公司内部电脑每天传输的数据量大（如下载影片）的话，外网访问的速度势必受\n到影响；\n</li></ul>\n\n<h3>设想</h3>\n<ul><li>\n公司如果有一个固定的公网 IP 就好了，能否在内网服务器上加上 DNS 功能，\n绑定一个域名，这样外网访问就可通过域名而不是公网 IP 来访问。内网访问的话要不要\n域名都不是太重要；\n</li><li>\n</li></ul>\n\n<h3>参考</h3>\n<ul><li>\n</li><li>\n</li><li>\n局域网内怎么配置一个php服务器？访问网站\nhttp://zhidao.baidu.com/question/384083827.html\n</li><li>\n怎么才能在外网访问内网服务器的网站: \nhttp://zhidao.baidu.com/question/342615260.html\n</li><li>\n路由器虚拟服务器设置：http://www.360buy.com/knowledge/57-731.html\n</li><li>\n</li></ul>\n<!--\n<br><br>\n<a target=\"_blank\" href=\"\">l</a>\n<ul><li>\n</li><li>\n</li></ul>\n-->\n',NULL,1,1,'N',0,'util.js','2012-11-22 14:42:20','2014-02-27 13:20:22'),(231,'Windows 下的几个操作习惯（为更好地用 Debian）','<pre>\nTODO:\ncat -A\n[dos]\n[noeol]:Debian 下创建的文件在 Windows 下编辑后重新在 Debian 下使用 Vim 打开\n	底端出现的信息；\ndos2unix, unix2dos 这两个命令居然没有，虽然自己可以不用这两个命令，但总得搞清楚\n为什么没有，这就好像去书店买一本附赠光盘的书，付钱时发现并没有附带光盘，心里会打\n一个小小的问号。\n</pre>\n\n在使用 Debian 作为主工作环境的过程中有时也需要到 Windows 下临时工作，如果在\nWindows 下工作产生的文件将复制到 Debian 下继续使用的话，有几个注意事项：\n\n<h3>汉字显示乱码</h3>\n一个经常遇到的问题是 Windows 下复制过来的文件在 Debian 下汉字显示为乱码。\n原因也已经清楚：\nWindows 下文件（如记事本文件）默认编码格式为 ANSC, 而 Debian 下 Vim 默认编码格式\n为 UTF-8. 这就需要在 Windows 下创建文件时确认保存为 UTF-8 编码格式，如果准备在\nDebian 下继续使用此文件的话。\n<br><br>\nWindows 下的记事本程序能够自动选择和文件的编码格式（ANSC 或 UTF-8）一致编码格式\n进行正常显示；Debian 下的 Vim 则必须手动进行编码切换操作。\n<pre>\nts@ts:~/www/document$ file default.txt default-utf8.txt \ndefault.txt:      ISO-8859 English text, with CRLF line terminators\ndefault-utf8.txt: UTF-8 Unicode (with BOM) English text, with CRLF line terminators\ndefault.unix: 	  UTF-8 Unicode text\n\n</pre>\n\n<h3>压缩文件时不要使用 RAR 格式</h3>\n<!--\n<br><br>\n<pre class=\"brush: php\">\n</pre>\n<img src=\"/img/page/2012/animate2.gif\" />\n<ul><li>\n</li><li>\n</li></ul>\n<blockquote>\n<p class=\"source\"></p>\n</blockquote>\n-->\n\n',NULL,1,1,'N',0,'util.js','2012-11-23 19:41:51','2014-02-27 13:20:22'),(232,'Vim 编辑器底端 [noeol], [dos] 的含义','有时使用 Vim 打开一个文件会在窗口底部发现 [noeol], [dos] 提示信息：\n<pre class=\"tty\">\n\"hello-dos.txt\" [noeol][dos] 2L, 10C                          1,1           All\n</pre>\n这两个符号有何含义？\n<br><br>\n直观上理解，\'noeol\' 就是 \'no end-of-line\', 即“没有行末结束符”，\nLinux 下的文本编辑器（如 Vim）会在每一行\n（包括最后一行）末尾添加一个换行符。比如我们在 Debian 下新建一个名为\n\'hello-unix.txt\' 的文本文件，内容如下：\n<pre class=\"tty\">\nHello\nUnix\n</pre>\n那么，使用<tt>cat -A hello-unix.txt</tt> 命令可以看到这些换行符：\n<pre class=\"tty\">\nts@TS:~/www/document$ <span class=\"ttyipt\">cat -A hello-unix.txt</span>\nHello$\nUnix$\nts@TS:~/www/document$\n</pre>\n从中可以清楚地看到每行末尾的 \'$\' 字符，这就是 Linux 下的“行末结束符”。\n<br><br>\n下面我们再在 Windows 下创建一个名为 \'hello-dos.txt\' 记事本文件，内容如下：\n<pre class=\"tty\">\nHello\nDOS\n</pre>\n在 Debian 下查看此文件的换行符信息：\n<pre class=\"tty\">\nts@TS:~/www/document$ <span class=\"ttyipt\">cat -A hello-dos.txt</span>\nHello^M$\nDOSts@TS:~/www/document$\n</pre>\n同样是两行，每行一个单词，Windows 和 Linux 下的换行符有两个明显不同：\n<ol><li>\nWindows 下的换行符比 Linux 下的多了个 <tt>^M</tt>;\n</li><li>\n最后一行行末没有换行符；\n</li></ol>\n这两个不同之处也正是 [dos], [noeol] 两个 Flag 信息出现的原因。\nWindows 下文本文件每行的换行符为“回车+换行“(CRLF,^M$), 而 Linux 下则仅为\n“换行” (LF, $). Vim 发现文本中含有 <tt>^m$</tt> 换行字符判定为 Windows 下创建的\n文件，用 [dos] Flag 提示；Vim 没有在最后一行发现换行符，判定此文件不是在 Linux\n下创建/编辑，用 [noeol] Flag 提示用户。\n<h3>如何消除 [noeol] Flag 信息？</h3>\n只需在 Debian 下将该文件重新保存即可，还是上面的 hello-dos.txt 文件，打开它，\n不做任何修改直接 <tt>:wq</tt> 保存退出，再查看换行符：\n<pre class=\"tty\">\nts@TS:~/www/document$ <span class=\"ttyipt\">cat -A hello-dos.txt</span>\nHello^M$\nDOS<span class=\"hl\">^M$</span>\nts@TS:~/www/document$\n</pre>\n换行符已经追加上去，这里要注意的是追加的是 Windows 下的换行符（回车+换行）\n<tt>^M$</tt>, 而不是 Linux 下的换行符（换行）<tt>$</tt>, 因为 Vim 已经发现此文件\n是在 Windows 下创建的（[dos] Flag），尽管是在 Linux 下编辑，Vim 也会按照文件创建\n时所在的操作系统下的换行规则添加换行符。\n<h3>如何消除 [dos] Flag 信息？</h3>\n有两种简单的方法：\n<ol><li>\nLinux 下提供有两个命令用来进行 Windows 和 Unix 文件的转化：<tt>dos2unix</tt> 和\n<tt>unix2dos</tt>;\n</li><li>\n在 Debian 下使用 <tt>touch template.txt</tt> 创建一个模板，在 Windows 下创建的任\n何文本文件都以此模板为基础；\n</li></ol>\n\n<h3>参考文档</h3>\n<ul><li>\nhttp://unix.stackexchange.com/questions/31807/what-does-the-noeol-indicator-at-the-bottom-of-a-vim-edit-session-mean\n</li><li>\nhttp://linux.vbird.org/linux_basic/0310vi.php#tips_dos\n</li></ul>\n',NULL,3,1,'N',0,'util.js','2012-11-24 11:17:27','2014-02-27 13:20:22'),(233,'dpkg 命令','<pre>\nTODO:\n	1. Firefox 安装了，但是 packages 列表中没有；\n</pre>\n怎么知道 Debian 上都安装了那些软件？\n<pre class=\"tty\">\nts@ts:~$ <span class=\"ttyipt\">dpkg --list</span>\n<span class=\"hl\">Desired=Unknown/Install/Remove/Purge/Hold</span>\n<span class=\"hl\">|</span><span class=\"hl2\"> Status=Not/Inst/Cfg-files/Unpacked/Failed-cfg/Half-inst/trig-aWait/Trig-pend</span>\n<span class=\"hl\">|</span><span class=\"hl2\">/</span> Err?=(none)/Hold/Reinst-required/X=both-problems (Status,Err: uppercase=bad)\n<span class=\"hl\">|</span><span class=\"hl2\">|</span>/ Name                   Version              Description\n<span class=\"hl\">+</span><span class=\"hl2\">+</span>+-======================-====================-==============================================================\n<span class=\"hl\">r</span><span class=\"hl2\">c</span>  evolution              2.22.3.1-1           groupware suite with mail client and organizer\n<span class=\"hl\">i</span><span class=\"hl2\">U</span>  google-chrome-stable   12.0.742.124-r92024  The web browser from Google\n<span class=\"hl\">r</span><span class=\"hl2\">c</span>  iceweasel              3.0.6-3              lightweight web browser based on Mozilla\n<span class=\"hl\">i</span><span class=\"hl2\">i</span>  vim                    1:7.1.314-3+lenny2   Vi IMproved - enhanced vi editor\n<span class=\"hl\">i</span><span class=\"hl2\">i</span>  vim-common             1:7.1.314-3+lenny2   Vi IMproved - Common files\n<span class=\"hl\">i</span><span class=\"hl2\">i</span>  vim-runtime            1:7.1.314-3+lenny2   Vi IMproved - Runtime files\n<span class=\"hl\">r</span><span class=\"hl2\">c</span>  vim-tiny               1:7.1.314-3+lenny2   Vi IMproved - enhanced vi editor - compact version\n</pre>\n列表中将显示大约 700+ 的 Packages 信息，起初对 <tt>dpkg --list</tt> 显示内容的\n格式不是很理解，例如，每个包前有的是 \'ii\', 而有的为 \'rc\', 这些字符串各自代表的\n含义分别是什么呢？上面高亮显示的内容就能立即明白其结构的用意，其中：\n<ul><li>\n第一个字母（紫色）表示系统“期望“的状态：\n	<ul><li>\n	u (Unknown):\n	</li><li>\n	i (Install):\n	</li><li>\n	r (Remove):\n	</li><li>\n	p (Purge): 清理\n	</li><li>\n	h (Hold):\n	</li></ul>\n</li><li>\n第二个字母（蓝色）表示系统当前“实际“的状态：\n	<ul><li>\n	n (Not-install):\n	</li><li>\n	i (Install):\n	</li><li>\n	c (Config-files): 仅仅安装了配置文件\n	</li><li>\n	u (Unpacked):\n	</li><li>\n	f (config files Failed): 配置文件未能安装成功；\n	</li><li>\n	h (Half-installed): 安装未能完成；\n	</li><li>\n	w (triggers aWaited): package is waiting for a trigger from another package\n	</li><li>\n	t (Triggers pending): package has been triggered\n	</li></ul>\n</li></ul>\n具体来说，vim Package 前的 \'ii\' 可以这样解释：系统希望此包安装，\n实际上此包确实已经安装上；Iceweasel 这个 Debian 自带浏览器 Package 的状态是 \'rc\'\n, 这说明系统希望此包删除，但实际上<b>没有删彻底，仍保留了配置文件</b>。\n<br><br>\n那么 Iceweasel 的这个 \'rc\' 状态是怎么来的呢？想到系统刚装好后自己曾把根本不用的\n软件删掉，用的是如下命令：\n<pre class=\"tty\">\nts@ts:~$ <span class=\"ttyipt\">apt-get remove vim-tiny iceweasel openoffice*</span>\n</pre>\n正是这条命令让这几个 Packages 的状态由 <tt>\'ii\'</tt> 变成了 <tt>\'rc\'</tt>,\n这表示不用的程序没有删除彻底。查看 <tt>apt-get</tt> 帮助文档后发现删除软件的指令\n除了 <tt>remove</tt> 外，还有一个 <tt>purge</tt>：\n<blockquote>\npurge is identical to remove except that packages are removed and \npurged (any configuration files are deleted too).\n<p class=\"source\">man dpkg</p>\n</blockquote>\n至此明白问题的源头：Debian 下删除不用的软件的命令为 <tt>apt-get purge xxx</tt>,\n而不是 <tt>apt-get remove xxx</tt>.\n<br><br>\n最后的疑问：这些配置文件具体存放在什么地方呢？\n',NULL,1,1,'N',0,'util.js','2012-11-24 19:26:35','2014-02-27 13:20:22'),(234,'W48, 2012','<div class=\"diary\" rel=\"20121126\">\n<h3>11.26（一/晴）“情愈切，辞愈巧”</h3>\n上午跟经理说离职的事情，我是这样开口的：“经理，我这个月底想辞职……”经理听到后立刻\n给我说了一个出乎意料的结果——去须水上班。现在想来，把结果（辞职）”硬邦邦“的放在谈\n话开始是那么幼稚，因为从某种意义上说，这是一种“谈判“。当经理知道我想离职的原因后\n，跟我说了这样一句话：“这个事情我之前也考虑过，也没听你提……“抛开这句话的真假，\n这句话表明问题其实有另外一条途径：当离职是出于某些客观原因时，作为公司的老员工，\n你可以向上面叙述说明这种原因，试探一下公司是否能找到一条对双方而言相对“完美”的方\n法。表达方式太硬、下上之间沟通不畅，看来还是自己与人沟通的技巧有待提高。<br><br>\n\n百度空间改版很简洁，编辑器让人有种书写的冲动。因此左右了自己的正确选择，\n浪费时间。\n</div>\n\n<div class=\"diary\" rel=\"20121127\">\n<h3>11.27（二/晴）</h3>\n顺序很重要啊，像现在这样，荥阳那边不就放空炮了吗，这边没有确认放人。\n</div>\n\n<div class=\"diary\" rel=\"20121128\">\n<h3>11.28（三/晴）</h3>\n五毛就是在以“网上舆论导向”为职业者。据说每发一个“舆论导向”的帖子可以领取5毛钱的奖金，所以被广大网民称为五毛。\n<br><br>\n父亲本周日生日，上午没事给金打电话说让她没事到苗苗母亲店里看看有没有合适的保暖\n衣服买一件（前段时间母亲生日自己竟然忘记），在我的试探下，发现金并不太乐意，\n她说她想到超市给安买点杂粮熬粥，我也没多想。午饭后我又打电话想问问杂粮买了没有，\n电话那头的金说她难受、烦躁，我问为何，她说：“我发现你对恁家人比对俺家人好。”；\n“孩子你也不管了，每次都让我来找你，你也不来大王村。”我简单解释后就挂了电话。\n事后想想自己的确有做的不够的地方，再一想金这种想法也没错，我们两人结婚才三年，\n双方和各自的父母又生活了多久？\n<br><br>\n在改善 MOTD 模块时产生一个想法：目前写日记的方法太笨，不够“懒”，明天来实现。\n</div>\n',NULL,1,1,'N',0,'util.js','2012-11-26 08:14:58','2014-02-27 13:20:22'),(235,'回车与换行','和文本输入框中加以区别：Textarea 中按下一次回车将产生一个“换行符”（\\n）\n<ul><li>\n回车符和换行符区别：\nhttp://www.cnblogs.com/yunf/archive/2011/04/20/2021830.html\n</li><li>\n正确显示textarea中输入的回车和空格：\nhttp://www.blogjava.net/hunter129/archive/2008/10/09/233444.html\n</li></ul>\n',NULL,1,1,'N',0,'util.js','2012-11-28 10:16:11','2014-02-27 13:20:22'),(236,'U盘中文件自动加上可执行属性','不管U盘是否在 Windows 下使用过，只要文件存进U盘，一律加上可执行属性，同时用户组\n变为 root,\n<pre class=\"tty\">\n-rw-r--r--  1 ts TS    88K 2012-11-29 09:09 tree.jpg\n-rwxr-xr-x  1 ts root  88K 2012-11-29 09:09 tree.jpg\n</pre>\n怀疑：U盘的分区文件类型可能是原因。\n',NULL,1,1,'N',0,'util.js','2012-11-29 09:48:01','2014-02-27 13:20:22'),(237,'迁移MOTD复习Yii','时隔两个月后，重新学习 Yii. 计划将数据库 trekshot 中有价值的表格逐步迁移到数据库\nblog中，在此过程中熟悉Yii,为以后E-Orders的迁移做准备。\n\n先从表格motd开始，这是一个单独表格，不和其它表格有任何关联。\n<ol><li>\n迁移表格motd并改名为tbl_motd;\n<pre>\nmysqldump -u root -p trekshot motd &gt; motd.sql\n\\. motd.sql\n</pre>\n</li><li>\n借助Gii工具生成Model页；将在\'protected/models/\'目录下生成如下文件：\n<pre>\n-rw-rw-rw- 1 www-data www-data 2.4K 2012-11-30 09:51 Motd.php\n</pre>\n注意Yii自动生成的文件的拥有者和用户组均为\'www-data\',同时“其他人”也具有写权限，\n这表名这里的权限设置存在问题，应思考如何让Yii自动生成的文件对其他人仅有读权限。\n</li><li>\n用Gii生成Controllers文件：在\'Controller ID\'中输入\'motd\',在\'Action IDs\'中输入\n\'index,create,update,delete\',单击\'Generate\'按钮将生成如下文件：\n<pre>\ncontrollers/MotdController.php\nviews/motd/create.php	 \nviews/motd/delete.php	 \nviews/motd/index.php	 \nviews/motd/update.php\n</pre>\n</li></ol>\n下面通过修改 Index Action 部分的代码（高亮处），在motd/index页将数据显示出来：\n<pre>\npublic function actionIndex() {\n	$criteria=new CDbCriteria(array(\n		<span class=\'hl\'>\'order\'=&gt;\'time DESC\',</span>\n	));\n	$dataProvider=new CActiveDataProvider(\'<span class=\'hl\'>Motd</span>\', array(\n		\'pagination\'=&gt;array(\n			\'pageSize\'=&gt;Yii::app()-&gt;params[\'postsPerPage\'],\n		),\n		\'criteria\'=&gt;$criteria,\n	));\n	$this-&gt;render(\'index\',array(\n		\'dataProvider\'=&gt;$dataProvider,\n	));\n}\n</pre>\n修改View文件，这次依然复制Post的视图文件，查看文件后发现需要复制的关键代码如下：\n<pre class=\"brush:php\">\n$this-&gt;widget(\'zii.widgets.CListView\', array(\n	\'dataProvider\'=&gt;$dataProvider,\n	\'itemView\'=&gt;\'_view\',\n	\'template\'=&gt;\"{items}\\n{pager}\",\n));\n</pre>\n至此，motd/index Route 设置完成，访问 \'/blog/motd/\'查看效果，这是发现页面提示\n如下错误信息：\n<pre>\nFatal error: CBaseController::require() [function.require]: Failed opening required \'\' (include_path=\'.:/home/ts/www/blog/protected/components:/home/ts/www/blog/protected/models:/usr/share/php:/usr/share/pear\') in /home/ts/www/ref/yii/framework/web/CBaseController.php on line 131\n</pre>\n查看错误行如下：\n<pre class=\"brush:php\">require($_viewFile_);</pre>\n查看对应代码发现是一个 require 语句出现错误，经过简单验证，发现使用require语句\n调用一个不存在的文件时出现和上面相同的错误，由此可知，变量$_viewFle_不存在。\n后来发现Post列举信息时由于index和view两个actions都使用相同的显示文章的模板，\n因此单独创建一个名为\'_view.php\'的文件来保存显示文章的模板。而Motd中View文件中\n并没有_view.php文件，这就是问题的原因。马上创建_view.php文件，观察发现此文件内\n$data就是存有某个Motd所有信息的变量，用\'echo $data-&gt;content;\'测试，果然，\nmotd/index显示正常，这表明“路通了”，接下来进行一些完善工作即可。\n\n<h3>新建操作</h3>\n因为motd表中已有记录，所以我们先解决index的问题、再说create.\n<ol><li>\n在Motd中设定表格各列的规则，通常就是一些非空设定，开始仅要求content列非空\n即可；\n</li><li>\n添加create action内容，这里从Post Model中相应代码复制过来进行修改；\n</li><li>\n编写create view，包括create.php 和 _form.php 两个页面；\n</li><li>\n在 Motd Model 中 beforeSave() 方法中对 motd 表中 time, m_time 两个时间列进行预设\n，这些值是表单搜集不到的数据列；\n</li></ol>\n一切完工后进行测试发现合法数据没有保存到数据库，同时\n非法数据提交后也没有非法提示信息。在迷惑很久后突然发现如下错误代码：\n<pre>\n$model-&gt;attributes=$_POST[\'<span class=\'red\'>Post</span>\'];\n</pre>\n原来是从Post Model复制过来的代码没有修改彻底。这个低级错误之前曾经遇到过一次，\n总之还是对代码不熟悉、不理解造成的。\n<!--\n<pre class=\"brush:php\">\n</pre>\n<pre></pre>\n<pre>\n</pre>\n-->\n',NULL,1,1,'N',0,'util.js','2012-11-30 09:48:49','2014-02-27 13:20:22'),(238,'W49, 2012','<h3></h3>\n<ul><li>\nAdd property <tt>$addressType</tt> in <tt>CustomerForm</tt>;\n</li><li>\n</li></ul>\n\n<h3>按中文名称排序的方法</h3>\n<pre class=\"brush: php\">\npublic function searchCustomer()\n{\n	$criteria=new CDbCriteria;\n	...\n	$criteria-&gt;order = \'CONVERT(full_name USING gbk)\';\n	...\n}\n</pre>\n注意，为 CGridView 提供 dataProvider 时不要使用 \'order\' 属性，否则导致\nCGridView 表头排序功能失效。正确的做法是在 CActiveDataProvider 中用 \'sort\'\n声明：\n\n<h3>配置 CGridView 中每页显示记录条数</h3>\n<pre class=\"brush: php\">\npublic function searchCustomer()\n{\n	...\n	return new CActiveDataProvider($this, array(\n		\'criteria\'=&gt;$criteria,\n		\'pagination\'=&gt;array( //此参数\n			\'pageSize\'=&gt;20,\n		),\n	));\n}\n</pre>\n\n<h3>om_address 表需要更新：is_main 列值有为\'NULL\'的</h3>\nAddress::getCmnAddrs() 方法想获取一个公司下的所有非首要发货地址，使用了\n<pre class=\"brush: php\">\n$criteria-&gt;compare(\'is_main\',0);\n</pre>\n\n<h3>Scenario 误区</h3>\n创建客户没有必要使用 Scenario.\n\n<h3>$c=new Company(); 和 $c=new Company; 有何不同？</h3>\n<h3></h3>\n\n<ul><li>\n</li><li>\n</li></ul>\n<!--\n<h3></h3>\n<pre class=\"brush: php\">\n</pre>\n<img src=\"/img/page/2012/animate2.gif\" />\n<ul><li>\n</li><li>\n</li></ul>\n<blockquote>\n<p class=\"source\"></p>\n</blockquote>\n-->\n\n',NULL,1,1,'N',0,'util.js','2012-12-03 15:25:40','2014-02-27 13:20:22'),(239,'MOTD迁移（一）：加入Boxy插件','想在motd/index页面中删除按钮中加入Boxy确认功能。\n<h3>在链接标签中加入Class属性</h3>\n需要生成的删除链接中加入统一的名为\'delete\'的class名称，Yii中生成一个链接使用专门\n的类方法CHtml::link()来实现的，参数声明如下：\n<pre>\npublic static string link(string $text, mixed $url=\'#\', array $htmlOptions=array ( ))\n</pre>\n其中参数$url表示链接的地址，它即可以是普通的URL地址，也可以是Yii中的Route,\n例如Motd中的条目删除链接用如下代码生成：\n<pre class=\"brush: php\">\necho CHtml::link(CHtml::encode(\'删除\'), array(\'delete\', \'id\'=&gt;$data-&gt;id));\n</pre>\n第三个可选参数用来设置一些标签的属性，想让每个链接都加上一个Class名称就用此参数:\n<pre class=\"brush: php\">\necho CHtml::link(CHtml::encode(\'删除\'), array(\'delete\', \'id\'=&gt;$data-&gt;id), array(\'class\'=>\'delete\'));\n</pre>\n<h3>加入自定义JS代码</h3>\n在motd/_view.php视图中引用自定义JS文件motd.js：\n<pre class=\"brush: php\">\nYii::app()-&gt;clientScript-&gt;registerScriptFile(\n	Yii::app()-&gt;baseUrl.\'/js/motd.js\',\n	CClientScript::POS_END\n);\n</pre>\n这样就能添加控制删除链接的JS代码了：\n<pre class=\"brush: javascript\">\n/* blog/js/motd.js */\n$(\'.delete\').click(function(){\n	return confirm(\'真的要删除此条目吗?\');\n});\n</pre>\n<h3>引入Boxy插件</h3>\n更进一步，使用更为美观的Boxy插件来进行确认动作的显示，使用此插件的另一个目的是\n为将来在Boxy中创建条目做准备。不同于之前仅供某个视图使用的JS文件，Boxy插件每个\n页面都可能用到，因此应该加到页面的头部视图（views/layouts/main.php）中，\n<pre class=\"brush: xml\">\n...\n&lt;script src=\"&lt;?php echo Yii::app()-&gt;request-&gt;baseUrl; ?&gt;/js/jq.boxy.js\"&gt;&lt;/script&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"&lt;?php echo Yii::app()-&gt;request-&gt;baseUrl; ?&gt;/css/cs.jquery.boxy.css\" /&gt;\n&lt;/head&gt;\n</pre>\n现在将上面的删除确认动作更改成用Boxy实现：\n<pre class=\"brush: javascript\">\n$(\'.delete\').click(function(){\n	var confirmInfo = $(\'&lt;span&gt;正在删除一条记录，请再次确认&lt;/span&gt;\');\n	Boxy.confirm(confirmInfo, function() { \n	}, {title: \'\'});\n	return false;\n});\n</pre>\n<h3>Boxy 窗口满屏宽的 Bug</h3>\n基本实现，只是Boxy“太宽了”，和浏览器可视窗口尺寸相同。通过代码\n<pre class=\"brush: javascript\">\nalert($(\'.boxy-wrapper\').html());\n</pre>\n查看Boxy的HTML内容如下：\n<pre class=\"brush: xml\">\n&lt;tbody&gt;\n	&lt;tr&gt;\n		&lt;td class=\"top-left\"&gt;&lt;/td&gt;\n		&lt;td class=\"top\"&gt;&lt;/td&gt;\n		&lt;td class=\"top-right\"&gt;&lt;/td&gt;\n	&lt;/tr&gt;\n	&lt;tr&gt;\n		&lt;td class=\"left\"&gt;&lt;/td&gt;\n		&lt;td class=\"boxy-inner\"&gt;\n			&lt;div class=\"title-bar\"&gt;\n				&lt;h2&gt;Dialog&lt;/h2&gt;&lt;a href=\"#\" class=\"close\"&gt;[close]&lt;/a&gt;\n			&lt;/div&gt;\n			&lt;span style=\"display: block; \" class=\"boxy-content\"&gt;\n				Hello Boxy&lt;br&gt;&lt;i&gt;The second line.&lt;/i&gt;\n			&lt;/span&gt;\n		&lt;/td&gt;\n		&lt;td class=\"right\"&gt;&lt;/td&gt;\n	&lt;/tr&gt;\n	&lt;tr&gt;\n		&lt;td class=\"bottom-left\"&gt;&lt;/td&gt;\n		&lt;td class=\"bottom\"&gt;&lt;/td&gt;\n		&lt;td class=\"bottom-right\"&gt;&lt;/td&gt;\n	&lt;/tr&gt;\n&lt;/tbody&gt;\n</pre>\n现在知道每天看到的Boxy弹出窗口实际上是一个九宫格样式的表格，主要内容放在中间的\n单元格内。一般来说，表格的宽度都是根据单元格的宽度来自适应的，现在的表格宽度每次\n都是最大，会不会是Yii Blog应用中CSS样式设置了表格的默认的宽度是100%呢？果然，\n在样式文件screen.css中发现如下设定：\n<pre class=\"brush: css\">\ntable {margin-bottom:1.4em;width:100%;}\n</pre>\n原来如此！知道了原因，在Boxy的CSS文件cs.jquery.boxy.css中对.boxy-wrapper\n的宽度重新设定为auto即可：\n<pre class=\"brush: css\">\n.boxy-wrapper{\n	position:absolute;\n	width:auto; /* 重要 */\n}\n</pre>\n至此，宽度适中的Boxy窗口终于出现在Motd中。\n<!--\n<pre class=\"brush: php\">\n</pre>\n<img src=\"/img/page/2012/animate2.gif\" />\n<ul><li>\n</li><li>\n</li></ul>\n<blockquote>\n<p class=\"source\"></p>\n</blockquote>\n-->\n',NULL,1,1,'N',0,'util.js','2012-12-06 20:36:31','2014-02-27 13:20:22'),(240,'Yii 怎么在head标签中引用 jQuery?','想实现访问motd/create页面时，自动将光标移至内容输入区域，先在\nviews/motd/_form.php中添加自定义JS代码：\n<pre class=\"brush: php\">\nYii::app()->clientScript->registerScript(\n	\'motd_c\',\n	\'\n	$(\"#Motd_content\").focus();\n	\',\n	CClientScript::POS_END\n);\n</pre>\n查看源文件发现页面中并未引入jQuery文件，因而不起作用。再查看了几个页面后发现\nyii中引入jQuery有些不一样。首先是不是所有的页面都包含jQuery文件，有此文件的引用\n文件如下：\n<pre class=\"brush: xml\">\n&lt;script type=\"text/javascript\" src=\"/blog/assets/d40a9d00/jquery.js\"&gt;&lt;/script&gt; \n</pre>\n有的页面有这段代码（如motd/index），而有的页面没有（如motd/create）。这就产生一\n个问题：在某View中试图添加自定义JS代码时要确定此页面顶端是否已经引入jQuery.\n<ul><li>\nViews中使用\n</li><li>\nUnderstanding \"Assets\":\nhttp://www.yiiframework.com/wiki/148/understanding-assets/\n</li></ul>\n如果想在页面中手动包含jQuery文件，需要在相应View文件中加入如下代码：\n<pre class=\"brush: php\">\nYii::app()->clientScript->registerCoreScript(\'jquery\');\n</pre>\n<!--\n<pre class=\"brush: php\">\n</pre>\n<img src=\"/img/page/2012/animate2.gif\" />\n<ul><li>\n</li><li>\n</li></ul>\n<blockquote>\n<p class=\"source\"></p>\n</blockquote>\n-->\n',NULL,1,1,'N',0,'util.js','2012-12-08 17:14:42','2014-02-27 13:20:22'),(241,'CGridView学习（二）——下拉菜单样式的Filter','创建一个管理城市表的控制器，城市所属省份在表格中存储在列\'pid\'中，前端仍显示为\n数字的话没什么意义，希望此列直接显示为省份的名称。\n<pre class=\"brush: php\">\n$this-&gt;widget(\'zii.widgets.grid.CGridView\', array(\n	\'dataProvider\'=&gt;$model-&gt;search(),\n));\n</pre>\n<img src=\"/img/page/2012/yii-cgridview-1.png\" /><br>\n希望在默认显示样式基础上进行一些改进，包括：\n<ol><li>\n“所属省份“列显示的是id,我希望直接显示名称（如果有的话）；\n</li><li>\n去掉\'ID\'列；\n</li><li>\n加入过滤功能，“所属省份“通过选择下拉菜单实现过滤，可筛选某一省下的所有城市。\n城市“名称”列使用简单的文本输入框实现过滤；\n</li></ol>\n以上都是对列的一些定制，<tt>CGridView</tt>类中的属性<tt>columns</tt>用来配置这些\n定制信息：\n<blockquote>\nEach array element represents the configuration for one particular grid column \nwhich can be either a <i>string</i> or an <i>array</i>. \n<p class=\"source\">---- CGridView Class API</p>\n</blockquote>\n上面的引用说明属性<tt>columns</tt>内的数组元素的两种类型：字符串或数组。\n对于直接显示的列（如<tt>city.name</tt>），使用字符串；\n<pre class=\"brush: php\">\n\'columns\'=&gt;array(\n	\'name\'\n)\n</pre>\n而对于需要对数据进行加工的列，采用数组的形式：\n<blockquote>\nWhen a column is specified as an array, it will be used to create a grid column\ninstance, where the \'class\' element specifies the column class name \n(defaults to <tt>CDataColumn</tt> if absent).\n<p class=\"source\">---- CGridView.columns Property</p>\n</blockquote>\n如果是数组，那么该数组创建的是一个<tt>CDataColumn</tt> Instance,\n需要注意的是property <tt>value</tt>的数据类型是一个PHP表达式的字符串。\n<pre class=\"brush: php\">\n\'columns\'=&gt;array(\n	array(\n		\'name\'=&gt;\'pid\',\n		// \'value\'接受PHP表达式字符串，记着用单引号\n		\'value\'=&gt;\'City::getCityName($data-&gt;pid)\',\n	)\n)\n</pre>\n另外需要注意的是property filter,\n<blockquote>\nthe HTML code representing a filter input (eg a text field, a dropdown list) \nthat is used for this data column. This property <b>is effective only</b> \nwhen <tt>CGridView::filter</tt> is set. If this property is not set, \na text field will be generated as the filter input; If this property is an \narray, a dropdown list will be generated that uses this property value as the \nlist options. If you don\'t want a filter for this data column, set this value to false.\n</blockquote>\n最终的样式如下：\n<pre class=\"brush: php\">\n$this-&gt;widget(\'zii.widgets.grid.CGridView\', array(\n	\'dataProvider\'=&gt;$model-&gt;search(),\n	\'filter\'=>$model,\n	\'columns\'=&gt;array(\n		array(\n			\'name\'=&gt;\'pid\',\n			\'value\'=&gt;\'City::getCityName($data-&gt;pid)\',\n			\'filter\'=&gt;City::getProvinceIdList(),\n		),\n		\'name\',\n	),\n));\n</pre>\n<!--\n<pre class=\"brush: php\">\n</pre>\n<img src=\"/img/page/2012/animate2.gif\" />\n<ul><li>\n</li><li>\n</li></ul>\n<blockquote>\n<p class=\"source\"></p>\n</blockquote>\n-->\n',NULL,1,1,'N',0,'util.js','2012-12-10 12:35:42','2014-02-27 13:20:22');
INSERT INTO `ts_essay` VALUES (242,'W50, 2012','<h4>CGridView 中自定义操作按钮</h4>\n快递公司的删除操作实际上是隐藏操作，CGridView 中默认的按钮是三个：查看、修改和\n删除，所以需要再加一个“隐藏”按钮，查看 API 后设置如下：\n<pre class=\"brush: php\">\n$this-&gt;widget(\'zii.widgets.grid.CGridView\', array( // in views/logistics/admin.php\n	...\n	\'columns\'=&gt;array(\n		...\n		array(\n			\'class\'=&gt;\'CButtonColumn\',\n			\'template\'=&gt;\'{view}{update}{hide}\',\n			\'buttons\'=&gt;array(\n				\'hide\'=&gt;array(\n					\'label\'=&gt;\'Hide\',\n					\'url\'=&gt;\'\"hide?id=\".$data-&gt;address_id\',// PHP 表达式组成的字符串\n					\'options\'=&gt;array(\n						\'class\'=&gt;\'hideAddrL\',\n					),\n					\'click\'=&gt;\'doConfirm\',// JS 函数名称\n				),\n			),\n		),\n	),\n));\n</pre>\n\n<h4>仅更新一条记录某一列值的操作方法</h4>\n上面的隐藏按钮实际上是将一条地址记录的 visible 列值由 1 改为 0. 模仿 blog \n引用中审核通过评论的功能实现如下：\n<pre class=\"brush: php\">\npublic function actionHide() // controllers/LogisticsController.php\n{\n	$model=$this-&gt;loadModel();\n	$model-&gt;hide();// 这是我们在 Model Address 中创建的隐藏地址的方法\n	$this-&gt;redirect(array(\'logistics/admin\'));\n}\n</pre>\n<pre class=\"brush: php\">\npublic function hide()	//model/Address.php\n{\n	$this-&gt;visible=0; // 准备好更新列的新值\n	$this-&gt;update(array(\'visible\')); // update() 可携带数组类型的参数, 元素为需要更新的列名\n}\n</pre>\n\n<h3>11.28（三/晴）</h3>\n上周六金对我的不满用一个词概括：物尽价廉。\n</div>\n\n<h3>12.16（日/小雨）</h3>\n七点半起床到王贵肉店买了些排骨和瘦肉，带上昨晚买的鸡蛋卷去大王村。八点半到，岳父\n开的门，安正在床上闹着不穿棉袄。岳母中午给安炸的菜角，安吃的时候先吃菜角的棱，\n小孩子也知道棱又焦又脆很好吃，很有意思。下午两点半回吴村，顺便买了些香蕉。\n父亲状态看上去不错。母亲说村子里有很多人都买了能下载戏曲、评书的广播来听，有的在\n院子里放得很响，很是热闹。还说之前买药时送的那个红广播不管用了，我说咱们也买一个\n吧，你们俩可以在屋里听听戏或者评书什么的，老两口都说行，母亲还说咱买的话不要那种\n装电池的，最好是插到插座上就能用的那种。<br><br>\n\n每个礼拜天一到晚上就困得不行，也不知是白天来回跑得太厉害还是怎么了。想到目前自己\n的一个礼拜天要掰成两半来过，觉得挺有意思。\n\n</div>\n',NULL,1,1,'N',0,'util.js','2012-12-10 20:41:57','2014-02-27 13:20:22'),(243,'Yii 基础——loadModule()方法在update,view,delete等actions中用法','看一下\'logistics/view?id=x\'的代码：\n<pre class=\"brush: php\">\npublic function actionView($id) // 此写法从哪复制的忘了\n{\n	$model=new LogisticsForm;\n	$addressModel=Address::model()-&gt;findByPk($id);\n	$model-&gt;full_name 	= $addressModel-&gt;company-&gt;full_name;\n\n	$this-&gt;render(\'view\',array(\n		\'model\'=&gt;$model,\n	));\n}\n</pre>\n更好的写法（借鉴PostController）：\n<pre class=\"brush: php\">\nclass LogisticsController extends Controller\n{\n	private $_model;\n	public function loadModel()\n	{\n		if ($this-&gt;_model===null) \n		{\n			if (isset($_GET[\'id\']))\n			{\n				$this-&gt;_model=Address::model()-&gt;findByPk($_GET[\'id\']);\n			}\n			if($this-&gt;_model===null)\n				throw new CHttpException(404,\'请求页面不存在。\');\n\n		}\n		return $_model;\n	}\n}\n</pre>\n说明：上面的变量<tt>$_model</tt>和方法<tt>loadModel()</tt>使用 Gii 工具自动生成\n的 Controller 文件中没有，需要手动输入。现在写 update, view, delete 等 actions\n就简洁些：\n<pre class=\"brush: php\">\npublic function actionView()\n{\n	$model=new LogisticsForm;\n	$addressModel=$this-&gt;loadModel();\n	$model-&gt;full_name 	= $addressModel-&gt;company-&gt;full_name;\n\n	$this-&gt;render(\'view\',array(\n		\'model\'=&gt;$model,\n	));\n}\n</pre>\n这么写最大的好处是<b>让 update, view, delete actions 不必携带参数</b>，比较简单，\n和<tt>actionCreate()</tt>保持外观一致。\n<!--\n<pre class=\"brush: php\">\n</pre>\n<img src=\"/img/page/2012/animate2.gif\" />\n<ul><li>\n</li><li>\n</li></ul>\n<blockquote>\n<p class=\"source\"></p>\n</blockquote>\n-->\n\n',NULL,1,1,'N',0,'util.js','2012-12-11 13:50:38','2014-02-27 13:20:22'),(244,'new Address() or new Address(\'search\')?实例化Model的方法','昨晚发现使用 CGridView 生成的客户管理表中 \'c_time\' 列的过滤查找功能不起作用。\n另一件事是发现 CountryController 和 CityController 的 index action 中实例化各自\nModel 时都带了一个参数 \'search\':\n<pre class=\"brush: php\">\npublic function actionIndex() // in CityController.php\n{\n	$model = new City(\'search\');\n	...\n}\npublic function actionIndex() // in CountryController.php\n{\n	$model = new Country(\'search\');\n	...\n}\n</pre>\nYii 中实例化一个 Model 的方法很简单，有以下两种方式：\n<pre class=\"brush: php\">\n$model = new City();\n$model = new City;\n</pre>\n那上面两个 Controller 中为什么不用简单的方法呢？\'search\' 参数有何特殊作用吗？\n经过验证发现：将 Model City 的参数去掉后无影响，但 Model Country 参数去掉后\n\'continent\' 列筛选不起作用。city 是一个独立的表，而 country 和 continent \n存在关联，这个搜索关联在<tt>Country.search()</tt>声明：\n<pre class=\"brush: php\">\n$criteria=new CDbCriteria;\n$criteria-&gt;with = array(\'continent\');\n$criteria-&gt;compare(\'continent_id\',$this-&gt;continent_id);\n</pre>\n<tt>\'search\'</tt>参数的作用<b>很可能</b>就是调用<tt>search()</tt>方法。\n所以，<i>如果使用 CGridView 来生成可搜索的表，那对应控制器中实例化 Model\n是就应带上 \'search\' 参数。</i>\n<br><br>\n<!--\n<pre class=\"brush: php\">\n</pre>\n<img src=\"/img/page/2012/animate2.gif\" />\n<ul><li>\n</li><li>\n</li></ul>\n<blockquote>\n<p class=\"source\"></p>\n</blockquote>\n-->\n\n',NULL,1,1,'N',0,'util.js','2012-12-13 09:45:23','2014-02-27 13:20:22'),(245,'如何在 Debian 上安装 Xerox 3117 打印机驱动','官网上下载的驱动文件\'Linux_Printer_Package.tgz\' 已保存至\n<tt>~/download/xerox-driver</tt>目录下。解压后按照 readme 文件说明运行脚本\nsetup.sh 提示如下错误：\n<pre class=\"tty\">\nline 7: .: filename argument required\n</pre>\n网上有人说将文件 setup.sh~ 重命名为 setup.sh 运行，尝试发现提示如下新错误：\n<pre class=\"tty\">\n/root/.setup3557: error while loading shared libraries: libgtk-1.2.so.0: \ncannot open shared object file: No such file or directory\n</pre>\n这次又变成库文件缺失了，目前 Debian 5 已无法安装，也就算了。\n参考网址：\n<ul><li>\nhttp://forum.pclinuxos.org.pl/viewtopic.php?f=5&t=2194&start=10\n</li><li>\nhttp://loliboli.hu/xerox_phaser_3117_vs_ubuntu_linux\n</li></ul>\n',NULL,1,1,'N',0,'util.js','2012-12-13 11:53:50','2014-02-27 13:20:22'),(246,'W51, 2012','<div class=\"diary\" rel=\"20121217\">\n<h3>12.17（一/阴）</h3>\n</div>\n\n<div class=\"diary\" rel=\"20121218\">\n<h3>12.18（二/多云）</h3>\n<ul><li>\norder/index 和 logistics/index 类似，都引入了同一个外表的列：company.short_name.\n</li><li>\nCGridView 中生成链接样式的单元格内容时的 \'value\' 值是一个 PHP 表达式的字符串，\n此字符串的书写有些困惑，尤其是使用关联表中的列时，比如 order/index 中：\n<pre class=\"brush: php\">\n\'value\'=&gt;\'CHtml::link(\"$data-&gt;customer-&gt;short_name\",array(\"order/view?id=$data-&gt;id\"))\'\n</pre>\n上面的写法将提示如下错误信息：\n<pre>\nRecoverable error: Object of class Company could not be converted to string\n</pre>\n</li><li>\nModel 中 Relation 的声明是成对出现的，在一个表中声明了 HAS_MANY, 就必须在对应的\n表中声明 BELONGS_TO.\n</li><li>\n\n</li></ul>\n\n晚上去洗羽绒服，老板娘说怎么这么脏啊？在饭店工作？这两问问的我很是无语，自己是不\n是太邋遢了？\n</div>\n\n<div class=\"diary\" rel=\"20121220\">\n<h3>12.20（四/雪）Respect Is Earned!</h3>\n下午阳哥给我发短信说身份证收到，考虑到之前在网上查到汽车外迁时需要填写接收单位的\n名称，我给炎伟哥打电话确认一下接收单位是不是在荥阳这边的车管所。炎伟哥说接收单位\n应该是郑州市公安局车辆管理所，还说等车回来了再说，不行找个人跟着我到郑州办理一下\n。挂了电话后心里不是很爽，因为电话那边说话的口气有些许不耐烦。自己当自强啊！\n</div>\n\n<div class=\"diary\" rel=\"20121221\">\n<h3>12.22（六/晴,夜大风）</h3>\n在创建订单页面中，当销售人员从客户下拉菜单中选择一个客户时，除了将客户对应的发货\n地址单选按钮列表通过 AJAX 动态显示出来外，还要做两个判断：一是看此客户是不是样品\n自动填充客户，二是看是不是单价可不填的特殊客户，根据不同的判断使用 JS 进行更进一\n步的控制。这些判断和控制都写在 \'success\' 参数中显得力不从心，因此决定还是将这些\n代码也写在单独的 JS 文件中。\n<pre class=\"brush: php\">\n$(\'.ECustomerId\').change(function(){ \n	$.ajax({ \n		 type: \"GET\" \n		,url: \"/eo/order/dynamicAddress\" \n	}).done(function( msg ) {\n	});\n});\n</pre>\n\'url\' 的值采用了 Yii 中 Route 样式，这里需要注意的是对应的 \'type\' 的值必须是\n\'GET\', 使用 \'POST\' 将产生一个 400 错误。\n\n<h4>货物列表中粒度、数量、单价的非空验证方法</h4>\n之前的思路是给这些需要验证的元素添加一个值为 \'NoEmpty\' 的 class 属性，如果是单价\n可不填的特殊客户，则把所有单价元素里的 \'NoEmpty\' 属性移除。这样加来减去让代码变\n得很乱，而且很容易出错，在此处花费了很长时间。最后想到一个很好的方法：默认的元素\n都不急着添加 class=\'NoEmpty\' 属性，而是等到用户按下提交订单按钮时、JS 代码将所有\n元素重新索引排序之前，将粒度、数量元素加上该属性，若为样品可不填的特殊客户，也给\n单价元素加上属性，代码如下：\n<pre class=\"brush: javascript\">\n$(\'.ESubmit\').click(function(){\n	var upriceCouldEmpty = in_array($(\'.ECustomerId option:selected\').val(),emptyUpriceCustomerIds) ? true : false;\n	$(\'.goodsDetailT\').find(\'input[name*=size]\').addClass(\'NoEmpty\');\n	$(\'.goodsDetailT\').find(\'input[name*=qutity]\').addClass(\'NoEmpty\');\n	if (!upriceCouldEmpty)\n		$(\'.goodsDetailT\').find(\'input[name*=uprice]\').addClass(\'NoEmpty\');\n\n	if (noempty_check($(\'.goodsDetailT\'))) {\n		...\n	}\n});\n</pre>\n这里的关键就是 class 属性添加的时间，时间找对就会事半功倍。\n\n<h4>用户登录界面的实现</h4>\n至此，订单中的所有数据都完整保存到变量<tt>$_POST[\'OrderForm\']</tt>, 数据搜集齐后\n，往数据库中写入就简单了。等等，订单中有个重要的列就是创建者（\'c_id\' 列）还没有\n，是时候实现用户登录模块了。对 Yii Blog 中现成的登录模块进行简单配置就实现了，\n再一次感叹 Yii 的强大，这次只是配置得能够工作，里面具体的细节需要慢慢体会。\n至此，在任何页面里都能通过如下代码获取当前登录用户的 id:\n<pre class=\"brush: php\">\nYii::app()-&gt;user-&gt;id\n</pre>\n有了 id, 就可以正式开始将订单写入数据库了。\n</div>\n\n<h4>听王玥波</h4>\n下午下载了王玥波的单口相声《聊斋——鸦头》，听了两三段感觉很不错，相对郭德纲，王\n的单口更“正”一些，郭的相声里面\"闲话“相对多些。在网上还了解到王玥波和何云伟、\n李菁、王文林等人在一起，他们也有一个团体叫“星夜相声会馆”。从德云社出走的曹云金\n似乎是自立门户又一家。<br><br>\n\n晚上给母亲买点药和水果，明天一早回去。\n\n<div class=\"diary\" rel=\"20121223\">\n<h3>12.23（日/晴,冷）</h3>\n早上八点躺在被窝里正要起床，金打电话说她昨天发烧难受一天了，想让早点回大王村。\n出门发现由于昨晚大风的原因，天空很蓝，云彩都被刮走了，阳光看着很好，但冷得出奇。\n到家后给母亲说了下怎么用 MP3 广播，一会儿，父亲在屋里说想尿，等我找到小便器、\n撩开被子时发现父亲已经控制不住了。没过多久，父亲又说要大便，母亲我们两人赶忙到\n里屋，我正准备把父亲扶起来，却发现父亲已经无法自控……着急之下，我顺手拿了个小褥子\n垫在父亲身子下。忙活完母亲先是用热毛巾给父亲擦洗身子，然后重新烧水洗褥子，\n现在的天气洗个东西没有热水根本下不下去手。母亲说手冻得像猫咬了一样。阳哥九点半打\n来电话说下周一他去办理过户手续，估计几天就办好了，他说弄好后他把我的身份证寄回来\n，让汪群我们俩趁元旦假期去把车开回来。<br><br>\n\n十点从吴村出发去大王村。走到村口岳母先看见我喊了我，我这才发现岳父、母在推茅粪。\n不远处是金和安，安正跟着村里一帮小孩儿往一家人院子里进。金一身上下穿的都是许久未\n洗的衣服，让本来生病的她更显羸弱，这让我心里有些不舒服，人生病了，穿着打扮应该\n精神点才是。岳母问我今天到底回没回吴村，我说回了。岳母说你这赶得可真好，\n这么冷的天；我笑着说回去给母亲带了些治糖尿病的药，岳母说她前天晚上做了个梦，\n梦见她对我说让我替金干些什么活，我说话很不中听地说我自己还一身病呢！\n我不知道岳母给我说她做这个梦有什么含义。我想可能是安不听话，她和岳父照看起来很\n辛苦、同时金每天回娘家、作为安爸的我没做什么有实际意义的事情吧。总之，最近寒冷的\n天气让本来就为安照看问题烦恼的我心情更加糟糕……\n</div>\n',NULL,1,1,'N',0,'util.js','2012-12-17 20:18:48','2014-02-27 13:20:22'),(247,'Recoverable Error: Object couldn\'t be converted to string 错误','这两天接连碰到两次如下错误提示信息：\n<pre>\nRecoverable error\n\nObject of class Product/Company could not be converted to string\n</pre>\n<pre class=\"brush: php\">\n// in K.mkOrderGoodsTable()\n$opt .= \"&lt;td align=\\\"right\\\"&gt;&lt;code&gt;$g-&gt;product-&gt;size&lt;/code&gt;&lt;/td&gt;\\n\";\n// in views/order/index.php\n\'value\'=&gt;\'CHtml::link(\"$data-&gt;customer-&gt;short_name\",array(\"order/view?id=$data-&gt;id\"))\',\n</pre>\n以第一个为例，把 $g-&gt;product-&gt;size 存储在一个变量中再放进去就没问题。这表明 PHP 不能识别\n双引号中连续引用的对象。\n<!--\n<pre class=\"brush: php\">\n</pre>\n<img src=\"/img/page/2012/animate2.gif\" />\n<ul><li>\n</li><li>\n</li></ul>\n<blockquote>\n<p class=\"source\"></p>\n</blockquote>\n-->\n',NULL,1,1,'N',0,'util.js','2012-12-18 22:29:33','2014-02-27 13:20:22'),(248,'如何使用 jQuery 定位使用 CActiveForm 生成的元素','假设有一个订单（Order）表，里面有个币种（Currency）列，使用单选按钮来搜集该列信\n息,使用<tt>CActiveForm.radioButtonList()</tt> 方法生成该按钮，\n其 HTML 文件如下：\n<pre class=\"brush: xml\">\n&lt;input id=\"Order_currency_0\" value=\"1\" type=\"radio\" name=\"Order[currency]\" /&gt;&lt;label for=\"Order_currency_0\"&gt;人民币&lt;/label&gt;\n&lt;input id=\"Order_currency_1\" value=\"2\" type=\"radio\" name=\"Order[currency]\" /&gt;&lt;label for=\"Order_currency_1\"&gt;美元&lt;/label&gt;\n&lt;input id=\"Order_currency_2\" value=\"3\" type=\"radio\" name=\"Order[currency]\" /&gt;&lt;label for=\"Order_currency_2\"&gt;日元&lt;/label&gt;\n&lt;input id=\"Order_currency_3\" value=\"4\" type=\"radio\" name=\"Order[currency]\" /&gt;&lt;label for=\"Order_currency_3\"&gt;欧元&lt;/label&gt;\n</pre>\n上面的按钮默认没有选中值，我想用 jQuery 将“人民币”按钮加上 \'checked\' 属性，\n以前使用类似\n<pre class=\"brush: javascript\">\n$(\'input[name=xxx]:first\').attr(\'checked\',\'checked\');\n</pre>\n的代码可以实现，但在 Yii 中使用<tt>CActiveForm</tt>生成的表单元素的<tt>name</tt>\n属性值都是数组的形式（像上面的<tt>Order[currency]</tt>），我试了一下，jQuery\n好像不能识别类似\n<pre class=\"brush: javascript\">\n$(\'input[name=Order[currency]]:first\')\n</pre>\n这样的表达式，请教大家如何实现？\n<hr>\n暂时采用 class 定位法\n<pre class=\"brush: javascript\">\n$(\'input[class=ECurrency]:first\').attr(\'checked\',\'checked\');\n$(\'.ECurrency:first\').attr(\'checked\',\'checked\');\n// 第2行比第1行简单\n</pre>\n',NULL,1,1,'N',0,'util.js','2012-12-20 20:10:17','2014-02-27 13:20:22'),(249,'Tabular Input','<!--\n<pre class=\"brush: php\">\n</pre>\n<img src=\"/img/page/2012/animate2.gif\" />\n<ul><li>\n</li><li>\n</li></ul>\n<blockquote>\n<p class=\"source\"></p>\n</blockquote>\n-->\n',NULL,1,1,'N',0,'util.js','2012-12-21 19:09:10','2014-02-27 13:20:22'),(250,'W52, 2012','<div class=\"diary\" rel=\"20121224\">\n<h3>12.24（一/晴）</h3>\n<h4>Column \'c_id\' in where clause is ambiguous</h4>\n登录模块加入后，订单提交页面中客户下拉菜单中就可以只显示销售自己添加的客户了，\n在筛选条件中加入如下一行：\n<pre class=\"brush: php\">\n// Snippet in models/Order.php\n$criteria-&gt;compare(\'c_id\',Yii::app()-&gt;user-&gt;id);\n</pre>\n之后发现 /eo/eorder 首页抛出异常错误（信息见标题），错误 SQL 语句如下：\n<pre>\nSELECT COUNT(DISTINCT `t`.`id`) \nFROM `om_order` `t` LEFT OUTER JOIN `om_company` `customer` \nON (`t`.`customer_id`=`customer`.`id`) WHERE ((action=:ycp0) AND (<span class=\"red\">c_id</span>=:ycp1))\n</pre>\n这是因为 order, company 两表中都含有相同名称的列 \'c_id\', 查看 CDbCriteria  API\n后通过设定<tt>alias</tt> Property 的值即可解决列名重复的问题：\n<pre class=\"brush: php\">\n$criteria-&gt;alias = \'order\';\n</pre>\n设定后再引用会引起冲突的列名时只需在前面带上 alias 前缀即可：\n<pre class=\"brush: php\">\n$criteria-&gt;compare(\'order.c_id\',Yii::app()-&gt;user-&gt;id);\n</pre>\n\n<h4>toPinyin() 多音字问题</h4>\n<h4>Order 表加入运费信息</h4>\n将现有 \'charge\' 列改名为 \'goods_charge\', 再添加 \'transport_charge\',\n\'total_charge\', \'charge_to\' 三列。其中 \'transport_charge\' 列默认值为 \'NULL\',\n‘charge_to\' 列默认值为 2 (卖方承担运费), \'total_charge\' 列与 \'goods_charge\' \n列值完全对应。\n</div>\n\n<div class=\"diary\" rel=\"20121225\">\n<h3>12.25（二/晴）心情不好时就打扫卫生</h3>\n昨天晚上向姐打电话给我说她买房的时候开发商送了两张圣诞节的自助餐券，请我晚上去吃\n大餐。下班后到市标后坐出租车到海龙，吃完后还有个晚会，会上会进行抽奖，特等奖\n奖励业主五万现金，折腾到十点结束。出了海龙门后没多久碰见刚从海龙洗完澡出来的\n大姐和炎生哥。我便跟着大姐和姐夫坐一辆出租车回家。今天白天\n情绪莫名的低落，一天没干正事。我在想为什么每一次跟大姐见过面后我的心情都会变得低\n落呢？想来跟几天后要托炎伟哥办旧车落户、上牌的事情也有关系。<br><br>\n\n心里不爽的时候看什么都别扭，衣服不干净、头发不干净都烦。晚上一边洗衣服、\n打扫卫生，一边调整情绪。我决定以后克制自己上网闲逛的恶习，浪费时间不说，\n还把自己的情绪弄的很糟，这是一个恶性循环；我要养成专注的习惯，\n就像用铁锤在木板上钉钉子一样，瞄准一个地方持续发力，必将收到成效。<br><br>\n\n能不看微博吗；能不看视频吗；网络上可以表达的地方多了去了，能精简至一、两个吗\n末了引用李敖的一段话自勉：\n<blockquote>\n有一次搭電梯時，李敖老師說:岳忠，如果要在意每個人說的話，那什麼事都別幹了。\n認真做對的事，認真學習，努力賺錢，不用看人臉色。\n十年來，奉為圭臬、確切執行。今日不亦快哉!\n</blockquote>\n</div>\n\n<div class=\"diary\" rel=\"20121226\">\n<h3>12.26（三/晴）</h3>\n<h4>attachment 列值存不上 + 自定义 Validator</h4>\n在订单的 create controller 中，通过 Massive Assignment 将表单中的值存入：\n<pre class=\"brush: php\">\n$model-&gt;attributes=$_POST[\'OrderForm\'];\n</pre>\n通过 print_r(\'$model-&gt;attributes\') 查看时发现 attachment 值未存上，为空，\n但同样是数组的 goods 却存上。在耗费了很长时间后发现是 rules() 规则设置的问题，\n这个问题之前曾经遇到过，\n<pre class=\"brush: php\">\npublic function rules() // eo/models/OrderForm.php\n{\n	return array(\n		array(\'customer_id,via,currency,payment_way,goods,deliver_way,address_id\', \'required\'),\n		array(\'note\', \'length\', \'max\'=&gt;440),\n	);\n}\n</pre>\n没存上原因很简单：就是因为 Attribute \'attachment\' 没有在 rules() \n方法中进行任何声明。知道原因后又面临一个问题：\'attachment\' 不是字符串，\n而是有两种可能：空字符或数组，这样的类型没有内建的验证法则。之后查看 blog \n应用中曾对 Post Model 中 attribute \'tags\' 自定义过一个 Validator:\n<pre class=\"brush: php\">\npublic function rules()\n{\n	return array(\n		array(\'tags\', \'normalizeTags\'),\n	);\n}\npublic function normalizeTags($attribute,$params)\n{\n	$this-&gt;tags=Tag::array2string(array_unique(Tag::string2array($this-&gt;tags)));\n}\n</pre>\n该自定义 Validator 仅仅是对表单搜集到的数据进行加工，也算是变相的验证，\n不管怎么说，这是一种让非空 attribute 出现在 rules() 方法中的方式。\n于是依葫芦画瓢，将 OrderForm Model 代码变更如下：\n<pre class=\"brush: php\">\npublic function rules()\n{\n	return array(\n		array(\'attachment\', \'normalizeAttachment\'),\n	);\n}\npublic function normalizeAttachment($attribute,$params)\n{\n	$this-&gt;attachment = (gettype($this-&gt;attachment) == \'array\') ? $this-&gt;attachment : \'\';\n}\n</pre>\n这样就能获取想要的、真正往数据库中存储的列了：\n<pre class=\"brush: php\">\n$orderM-&gt;has_invoice = ($model-&gt;attachment != \'\' and in_array(\'invoice\',$model-&gt;attachment)) ? 1 : 0;\n</pre>\n\n<h4>得不到 \'charge\' 值 + $_POST 变量的数据类型</h4>\n使用如下代码计算订单金额得到的值却为 0:\n<pre class=\"brush: php\">\n$orderM-&gt;charge = 0;\nforeach($model-&gt;goods as $g)\n{\n	if ($g-&gt;type == 1 and $g-&gt;uprice-&gt; != \'\')\n		$orderM-&gt;charge += floatval($g-&gt;qutity)*floatval($g-&gt;uprice);\n}\n</pre>\n上面代码中有两处错误：\n<ol><li>\n<tt class=\"red\">$g-&gt;type</tt>: 这里变量<tt>$g</tt>是一个关系数组，而非对象，\n正确的写法是：<tt>$g[\'type\']</tt>\n</li><li>\n<tt>$g-&gt;type <span class=\"red\">== 1</span></tt>: $_POST 搜集表单中的数据的\n数据类型一律是字符串，因此正确的写法该是：<tt>$g[\'type\'] == \'1\'</tt>;\n</li></ol>\n\n<h4>order/update 开始</h4>\n在 OrderForm 中加入 \'c_date\', \'c_hms\' 以便修改订单的创建日期；收货地址位置：\n创建时是通过 AJAX 动态获取，编辑时是通过创建 Company.getDispatchAddressKv()\n来获取 List 数据，然后直接通过 $form-&gt;radioButtonList() 生成；\n</div>\n\n<div class=\"diary\" rel=\"20121227\">\n<h3>12.27（四/小雪）</h3>\n<h4>将 order/create, order/update 两个 actions 中共用的 JS 代码分离出来</h4>\n共用代码可分三种：\n<ol><li>\n<tt>add_submit_evt()</tt>:\n提交表单之前对货物明细中输入数据（size, qutity, uprice）进行 JS 非空验证，\n数据合法后重命名货物明细中所有表单元素的 name 属性，改成 Yii 表单的命名格式；\n</li><li>\n<tt>add_goods_row()</tt>:\n生成新的货物明细行，并为各个元素添加相关事件；\n</li><li>\n<tt>add_top_change_evt()</tt>:\n订单属性（币种、结算方式和客户名称）发生改变触发的事件；\n</li></ol>\n\n<h4>小插曲</h4>\nviews/order/_form.php 信息行实现隔行变色显示，反色显示后才发现需要在每个元素行\n里面添加一个 class 属性值为 \'cf\' 的区块：\n<pre class=\"brush: php\">\n&lt;div class=\"row\"&gt;\n	&lt;div class=\"radioR\"&gt;\n		&lt;div class=\"cf\"&gt;&lt;/div&gt; // 就是这一行\n	&lt;/div&gt;\n&lt;/div&gt;\n</pre>\n\n<h4>转向 Dashboard 页面编写</h4>\n每个用户的仪表盘页面其实都是由不同的模块组成，每个模块都有各自的 $model,\n到目前为止 Controller 的 render() 方法传递的都是一个 $model,\n而仪表盘页面需要传入每个模块需要的 $model, 刚查了下 render() 方法的文档，\n发现可以接受多个 $model 值，很好。另外想单独创建一个 DashboardController,\n里面只有一个 index action, 用作登录成功后的页面。在这些之前，\n想把页面的整体布局调整成 E-Orders 的样式。\n</div>\n\n<div class=\"diary\" rel=\"20121230\">\n<h3>12.30（周日/大风）</h3>\n早上八点出门，买些排骨、鸡蛋卷骑车去王村。到家门口看见岳母抱着安往家走，岳母戴着\n一顶圆形的毛线帽。安现在经常说的一个词是“不中”，自己的目的达不到时就会一边哼唧\n一边说不中，甚至躺在地上耍赖。今天除了风有些大外，阳光还算可以，岳母说家里的三个\n小狗崽从生下来还没从窝里出来见过阳光，我便把三个小家伙逮出来。安抓着刚满月的小狗\n拎到半空就往下扔，有时还用脚去踢，我拉着他的手制止，他就哭闹耍赖。过了一会又把三\n个小狗挨个抓起来往另外一只身上放，好像堆积木一样。\n\n今天是 30 号，老城逢十有会，岳母其实今天想去老城赶会，不知是岳父不愿去还是其它\n原因没有去。下次去王村买箱不含糖的八宝粥，安经常拿八宝粥当饭吃，太甜不好。\n</div>\n\n',NULL,1,1,'N',0,'util.js','2012-12-24 09:00:45','2014-02-27 13:20:22'),(251,'JSON 简单应用','<h4>使用 jQuery.parseJSON() 快速获取样品自动填充客户信息</h4>\n先说一下之前的思路：从数据库中读取客户 id 和对应免费样品的数量，将这些信息放在一\n个有固定分割符的字符串中并显示到页面中一个隐藏的区块中。JS 读取字符串并按预先设\n定好的分隔规则将字符串转换为 JS 数组，最后通过判断当前客户 id 是否在数组中来判断\n客户是不是特殊客户。这里面通过 JS 将区块中的字符串转换成 JS 数组这一步很是麻烦，\n昨晚躺床上想 jQuery 要是能识别字符串样式的表达式就好了。比如从数据库读出的数据\n直接显示成类似 \'[3,5,6]\' 的样式，jQuery 若能直接拿来使用多好。通过搜索，发现\njQuery 有一个叫做 parseJSON() 的函数能完美实现自己的想法。其实自己想的那种\n“表达式式样的字符串”准确来说是一种叫做 JSON 的数据格式，前面写的是数组样式，\n对象格式的看起来是这样的：\'{\"name\":\"kuixy\",\"location\":\"XingYang\"}\'. \n具体应用如下：\n<pre class=\"brush: javascript\">\nvar user = jQuery.parseJSON(\'{\"name\":\"kuixy\",\"location\":\"XingYang\"}\');\nalert(user.name); // 将显示 \'kuixy\'!\n</pre>\n\n<h4>在 AJAX 中的应用</h4>\norder/update Action 中需要将订单中货物的详情填充到各自表单元素中，\n由于还不知道如何使用 jQuery [] 表达式进行 Yii 中元素的定位，决定还采用老办法：\n将所有货物信息存储在一个由特殊分割符分割的字符串中，然后将其交由 JS 进行分割，\n进而转化成 JS 对象，最后通过 jQuery 填充到对应表单元素中。\n起初选定分割符时有点费事，突然一想要是能存储成 JSON 格式就好了，\n但货物详情里面包含有多条货物信息，单条信息可存储成 JSON 对象格式。\n又一想弄个嵌套数组不就行了吗，验证一下：\n<pre class=\"brush: javascript\">\nvar users = jQuery.parseJSON(\n	\'[\'\n		+\'{\"name\":\"kuixy\",\"location\":\"XingYang\"},\'\n		+\'{\"name\":\"drodata\",\"location\":\"XuShui\"}\'\n	+\']\'\n);\nalert(users[1].name); // \'drodata\' alerted!\n</pre>\n这表明 jQuery 正确识别并解析了数组元素为对象的 JSON 结构。立刻应用到代码中：\n<pre class=\"brush: php\">\n// Snippet in controllers/OrderController.php\npublic function actionGetGoodsData($order_id)\n{\n	$oM = Order::model()-&gt;findByPk($order_id);\n	$i=0;\n	$data=array();\n	foreach ($oM-&gt;goods as $g)\n	{\n		$data[$i] = \'{\"type\":\"\'.$g-&gt;type.\'\",\'\n			.\'\"name\":\"\'.$g-&gt;product-&gt;name.\'\",\'\n			.\'\"size\":\"\'.$g-&gt;product-&gt;size.\'\",\'\n			.\'\"qutity\":\"\'.$g-&gt;qutity.\'\",\'\n			.\'\"uprice\":\"\'.$g-&gt;uprice.\'\",\'\n			.\'\"purity\":\"\'.$g-&gt;purity.\'\",\'\n			.\'\"solute\":\"\'.$g-&gt;solute.\'\"}\';\n		$i++;\n	}\n	echo \'&lt;p&gt;[\'.implode(\',\',$data).\']&lt;/p&gt;\';\n}\n</pre>\n<pre class=\"brush: javascript\">\n// Snippet in eo/js/order.update.js\n$.ajax({ \n	 type: \"GET\" \n	,url: \"/eo/order/getGoodsData\" \n	,data: {\n		order_id: $(\'#EUpdateOrderId\').val()\n	 }\n}).done(function( msg ) {\n	var goods = jQuery.parseJSON($(msg).html());\n});\n</pre>\n<!--\n<h4></h4>\n<pre class=\"brush: php\">\n</pre>\n<ul><li>\n</li><li>\n</li></ul>\n<blockquote>\n<p class=\"source\"></p>\n</blockquote>\n<img src=\"/img/page/2012/animate2.gif\" />\n-->\n',NULL,1,1,'N',0,'util.js','2012-12-27 19:01:46','2014-02-27 13:20:22'),(252,'W53, 2012','<div class=\"diary\" rel=\"20130103\">\n<h3>1.1 - 1.3: 祥哥待客＋坐桌时男女分开＋跟亲戚寒暄找话要简单考虑</h3>\n<img class=\"lf\" src=\"/img/page/2013/andro.20121230.jpg\" />\n<img class=\"lf\" src=\"/img/page/2013/andro.20130102.jpg\" />\n<img class=\"lf\" src=\"/img/page/2013/andro.20130103.jpg\" />\n元旦假期第一天给安洗澡，去的路上安已经睡着，洗澡的单间限时一个半小时，安在澡堂里\n睡了近一个小时。洗澡的环境还可以，只是限时这点不好，一会一敲门。第二天没什么事，\n上午去穆寨买两袋面粉（７７/袋），下午喜顺叔和发顺婶两家人到家中看望父亲。\n<br><br>\n３号国顺叔家女儿出嫁，徐彬哥早上开车把父母接到徐寨。一个细节：早上起床时看到母亲\n在厨房做饭，头上蒙着个毛巾。母亲说她早上洗头了，我这才想起吹风机在我们的屋里，\n母亲为了不打搅我们这么冷的天洗完头不能吹干，只能用头巾蒙着。母亲是个注重衣着的人\n，每次串门当天早上都会洗头，把自己收拾得干净利落。我很后悔没有想到这个细节提前把\n吹风机放到厨房，今年春节母亲去穆寨串门时务必记住。今天还是南山大姑家祥哥的女儿\n出嫁提前在荥阳待客的日子，我们三口十二点到达易初美食。进门后看到一楼大厅里正在\n举行结婚仪式，表明不是祥哥家。我向二楼走的时候给老姑夫打了个电话，正打着看到祥哥\n从二楼下来。其实根本没必要打电话，自己摸就行了，就那么大的地方，自己上去了还怕看\n不到几个熟面孔吗？到了二楼先看到国顺哥，然后看到二姑、三姑、四婶和应征嫂在楼道里\n站着，礼桌直接摆在楼道里，饭店服务员端着菜盘在楼道里艰难地穿梭着，环境有些嘈杂。\n过了一会才知道原来是祥哥事先考虑不周，定的桌不够，很多客人都没地方坐，只能先站在\n外面等着。我站着没事和几个长辈找话说，我问三姑三姑夫来了吗，三姑说他上班了；\n三姑问我阳哥的车我开回来了没有，我说手续还没有办下来，比较麻烦；三姑说直接让他\n给你买辆新的不就行了吗，我对三姑的这句话一时不知如何应答，便没有了下文。用王玥波\n在相声里的话说叫我“实受”了这句话，说相声的不会实受人说的话，话落地上即显得尴尬\n又显得听话的人不够机智，王玥波讲的那个经典的“来不了那么些人”的笑话说的就是这个\n意思。事后想想回答三姑这句话的方式有很多，可自己当时愣是一句也没想起来。\n二姑跟我找话的内容不外乎是“现在还在郑州吗“；我给四婶找话的内容是问他陈赓什么时候\n放假，四婶说他回来都到年根儿了，因为他现在已经上班了。现在想想如果当时向他打听\n世凯放假了没有估计效果会更好，很显然他更乐意听到别人问及自己自己亲生儿子的近况。\n这么一想跟亲戚见面客套寒暄的话题还是要经过简单考虑才是。<br><br>\n\n最后没有位置的亲戚被安排到马路对面的东北人家。我待着安跟姑们坐了一桌，老姑夫进来\n说一桌八个人，让我坐到外面，说我坐的那一桌就我一个男的。想想也是，自己怎么就稀里\n糊涂坐在里面了呢？没见国顺哥跟着进来啊，还是自己经历这类场合太少的原因，\n以后就知道了，男女一般是分开的，或者说喝酒和不喝酒的是分开的。二姑夫拿大姑家最小\n的我喊哥的开玩笑：赖好洗洗过来吃饭了（哥早上刚开车回来，一身灰土）。\n</div>\n\n<div class=\"diary\" rel=\"20130104\">\n<h3>1/4（周五/睛）</h3>\n节后上班第一天又沉迷在网上闲逛中！弄的为虚度今朝感到内心不平静。\n</div>\n\n<div class=\"diary\" rel=\"20130105\">\n<h3>1/5（周六/睛）回绝莫太草率</h3>\n<ol><li>\n车手续办妥,身份证从京寄出;\n</li><li>\n群来须水找我,复印身份证;\n</li><li>\n楼上早打电话让回去签名向对面开发商索要赔偿,我一口回绝,不料楼上一个向姐同事将此事\n告诉向姐,姐又电话过来以团结为名让我回去签名,最后只得让金回来签名。\n问题在于这件事是集体事件,自已回绝过于草率;\n</li></ol>\n</div>\n\n<div class=\"diary\" rel=\"20130105\">\n<h3>1/6（周日/睛）</h3>\n九点母亲打电话说徐寨庆姑夫过世，和金的大妗同一天办事。由于我没有去过徐寨庆姑家，\n我跟母亲说不行我让辉姑把钱稍过去。母亲嘴上说不用，但我知道母亲是很看重这类事情的\n，如果真不上礼，以后一想起来总是有些过意不去，心里不舒坦。最后母亲同意我的建议。\n<img class=\"rf\" src=\"/img/page/2013/manager-demand.jpg\" />\n<ul><li>\nMove files in eorder/class/ directory under /lib;\n</li><li>\nThree relevant directories in www/: fonts/, lib/, min/\n</li><li>\n在销售人员的首页顶部放置归类非标粒度的通知，为年度统计做准备；\n</li></ul>\n</div>\n',NULL,1,1,'Y',0,'util.js','2012-12-31 07:59:44','2014-02-27 13:20:22'),(253,'2012年终总结','了解并使用 Yii Framework 重写 E-Order 应用；\n八月安被送到姥姥家照看。如今四个月过去了，对母亲的伟大有了更深的体会；\n考驾照；\n十一月父亲病重，在医院待了半个月。期间为了能工作离家近些，曾有过三次面试的经历，\n最终以在须水上班告终；\n',NULL,1,1,'N',0,'util.js','2012-12-31 17:13:55','2014-02-27 13:20:22'),(254,'W4, 2013','<!--\n<h4></h4>\n<pre class=\"brush: php\">\n</pre>\n<br><br>\n<ul><li>\n</li><li>\n</li></ul>\n<div class=\"diary\" rel=\"20121230\">\n<h3>12.30（周日/大风）</h3>\n</div>\n-->\n\n',NULL,1,1,'N',0,'util.js','2013-01-21 07:57:29','2014-02-27 13:20:22'),(255,'oustanding 主机不能使用PHPExcel导出Excel 2007文件','<blockquote>\nThis extension enables you to transparently read or write ZIP compressed archives and the files inside them.\n<p class=\"source\"></p>\n</blockquote>\n\n',NULL,1,1,'N',0,'util.js','2013-03-07 10:27:20','2014-02-27 13:20:22'),(256,'W11, 2013','<div class=\"diary\" rel=\"20130310\">\n<h3>3.10（周日/大风）</h3>\n上周六晚，我们三口在大王村吃完饭就回吴村。进了家门，安琢在院子里喊奶奶；过了一会\n儿母亲从屋里出来，母亲说她已经睡着，朦朦胧胧听着像是我们回来了。\n<br><br>\n\n１０号八点多，我们还没有起床；母亲推门进来说村里陈稳昨晚上去世了，听后非常吃惊，\n要知道他还很年轻，女儿春节前才出门，儿子刚大学毕业……和陈勇闯一样，他得的也是肝上\n的病。上午母亲说家里的水泵坏了，他想把房后的蒜苗浇浇；还有就是父亲轮椅上的一个轮\n子坏了，这么多事放一起，我准备上午到荥阳一趟。准备出门时，父亲跟我说他想让我拉着\n他到高村卫生院找泰山医生。这个要求年前父亲已经跟我说过，对父亲来说，能和泰山医生\n见面说说话就能起到一定的“疗效”。我带着父亲先到高村卫生院，碰巧泰山上班，泰山跟我\n到车里和父亲简单聊了一会儿，泰山简单检查后夸父亲说身体恢复得不错（毫无疑问，这话\n对父亲的身体有好处），嘱咐他多锻炼；父亲看到泰山心情很兴奋，说话也比平常“提劲儿”\n。最后泰山医生建议到药店买种叫“华佗再造丸”的药回去吃，之后我们回家，路过高村街时\n问父亲想想吃点什么买点，父亲说买点烧饼夹。我下车买了两个分别给父亲和安琢（其实两\n个都没吃多少，几口而已）。到荥阳买水泵时，卖水泵的人认出我来（问我是不是陈朋的兄\n弟），我也不好意思再别处买，那位姐姐也没多问我要钱，直接买下。又到路对面买轮椅上\n的轮子、３０米水管\n</div>\n<div class=\"diary\" rel=\"20130311\">\n<h3>3.11（周一/阴）</h3>\n<img class=\"lf\" src=\"/img/page/2013/andro.20130311.jpg\" />\n１１号陈岩女儿满月，金艳由于请不下假早早上班。我带着安琢去，那边找了一辆公交车，\n我没有开车。事后证明不开是对的，路况太差（太窄）。安琢坐在公交车上不一会就睡着。\n到后发现大姐、向姐和还有几个姑、姑父已经到了。大姐提醒我先去上礼，\n可能因为天气原因，礼桌在正当屋内，还是直接放在大门口更好找。\n这边的习俗是吃一顿饭，吃饭时先在桌上上两盘面条，之后直接上菜。\n那边准备得不是很好，酒水上了没有杯子，热汤上了没有勺子。\n让性格直来直去的三姑和二姑父有些许不满，二姑父有句话说得对：这种场合应该把\n“娘家人”招待好。这话在安琢做满月的时候三姑父也对我说过，\n记得那时亲戚们吃完饭往外出准备走，我看见三姑和三姑父走了出来，\n我赶忙上前问姑和姑父吃好了没有，三姑夫说咱这边的人都好说，\n你赶紧去招呼金艳那边的人吧。\n<br><br>\n\n这两天右边大牙疼得厉害，起初以为是上火，没想到从陈岩家回来后身体竟有些发冷，\n估计是有点发烧。晚上回大王村到诊所打了一针后今天早上才好些。\n</div>\n<!--\n<div class=\"diary\" rel=\"20130310\">\n<h3>3.10（周日/大风）</h3>\n</div>\n<br><br>\n<img class=\"lf\" src=\"/img/page/2013/andro.20130311.jpg\" />\n\n<h4></h4>\n<pre class=\"brush: php\">\n</pre>\n<ul><li>\n</li><li>\n</li></ul>\n-->\n\n\n',NULL,1,1,'N',0,'util.js','2013-03-11 10:26:44','2014-02-27 13:20:22'),(257,'W12, 2013','<div class=\"diary\" rel=\"20130323\">\n<h3>3.23（周六/晴）担心安的腿</h3>\n下班回大王村，刚下车就看见安走过来。今天天气不算冷，安穿了一个稍薄些的棉裤，据说\n是姥姥新买的，金连个裤子也没有罩，上面满是红、黄相间的花，很不好看；更让我心里不\n舒服的是安走路的时候左小腿不正，有点往外拐，这让我心里很担心是不是因为坐学步车的\n原因，不行回头到儿童医院去看看。晚上回到吴村时母亲已经准备休息了，我看下表发现都\n七点半了，今天回来得有些晚。我把安抱到我的床上跟他玩了会儿积木，不知怎么了，安一\n点睡意都没有，在床上恐怕乱到九点，我们两个都瞌睡得要命，最后他什么时候睡着都不知\n道。\n</div>\n\n<div class=\"diary\" rel=\"20130324\">\n<h3>3.24（周日/晴）反思粗暴对待安琢的行为</h3>\n昨天乡里通知金今天还得上班，母亲不到六点就起床做饭。外面有叫卖油条的，母亲买了些\n回来，听到安已经醒，便进来给正在被窝里的安半根油条吃，安没吃几口，剩下的都塞到我\n的嘴里，他可能是觉得咬不动。\n<br><br>\n\n母亲把父亲推到健身器材那里让他胳膊架在双杠上锻炼一下双腿，我看着安和凯明在玩土。\n安看到凯明在台上沿，也要跟着学，我把他抱到台子上，拉着他的手让他往东边走。这时安\n手指着前面，嘴里说着“来了”，我顺着看过去，原来是大姐的车过来了。大姐回荆寨厂里发\n工资，拐到吴村给母亲稍些吃的：黄瓜、番茄、轧的面条、肉、鸡蛋卷、包子、糖糕、菜角\n，还拎了一箱乌鸡蛋和一箱杂粮。大姐没多大一会就去厂里。过了一会，看见老铁姑爷从村\n东头走过来，手里拿里两张卖房的广告。他把两张纸给了安，我用两张纸给两个小孩一人叠\n一个纸飞机，俩人算是又耍了一会儿。\n<br><br>\n\n快十一点金打电话说过会儿回来，下午不用去了，我让他买点香蕉带回来。中午母亲包的饺\n子，可能是肉在冰箱里冻得时间太长、不容易剁碎的原因，饺子馅吃着有些费劲。吃完饭金\n领着安去房后浇菜，安拿着水管、看着水从水管里不断流到菜地，很好。不一会儿凯明和少\n俊过来找安玩，安拿着水管一会儿就不老实了，又是甩水管又是让水朝上流，中间凯明往外\n走的时候，碰住了安琢，一下子趴到菜地，弄得身上、裤子上静是水。我跟安说不让玩水，\n他还是再那甩水管，我就抱着他往前走，安琢闹得很厉害，一会儿眼泪鼻涕一大把，哭得脸\n通红，我把到抱到厨屋给他擦脸，他哭着趴在地上往外褪；我抓着他的左胳膊一把把他拎起\n来，给他擦脸，这下他哭得更响了，吵得母亲也过来问怎么了。事后想想今天这种粗暴的方\n式很不可取。母亲问起来怎么回事时，自己可以振振有词说水都弄到棉袄上了，可反过来想\n想，对于一岁的小孩儿来说，他那管得了那些？对自己来说，把他的水管抢过来是“为他好”\n，可小孩根本不这样想，在他眼里，自己这种行为就跟强盗差不多，就像歌中唱的：“就像\n孩子丢失了心爱的玩具”，你说他能哭得不伤心吗？半夜里安似乎是做噩梦了，闭着眼睛哭\n了好长时间，这更让我觉得今天所做的真是太不应该，以后决不能再用这种粗暴的方式对待\n安琢了。\n<br><br>\n\n下午不到六点回到大王村，岳母和焕姐他们去洗澡了，岳父一会出去办点事。安琢在睡觉，\n金在看手机，我一点事情也没有。应该再在吴村多待一会，反正现在交通不是问题。\n看孩子真是累人，晚上啥也不想干，直接睡觉。\n</div>\n',NULL,1,1,'Y',0,'util.js','2013-03-18 10:35:01','2014-02-27 13:20:22'),(258,'W13, 2013','<div class=\"diary\" rel=\"20130326\">\n<h3>3.26（周二/雨转晴）不变道超停下的车</h3>\n上班走到廿铺下坡处，前面一辆面包车减速直至停下来。我转到左侧车道准备通过，当车开\n到和那辆面包车平行处时突然发现一个骑电动车的妇女横穿马路，当时车速有些快，所幸车\n子停了下来。\n<br><br>\n\n下班走进政法街，我以二档开着。走到政法小区门口时前面一辆大面包停在路口，我从它的\n右侧通过，还是在和左侧的车平行时，突然跑出来一个小孩，索性车速不快，我踩刹车停车\n，小女孩看到右边突然出现的车后也停下来，随后又跑回路边。这时听到在路边买炸丸子的\n小孩的母亲说她怎么不看车。我过去后目光扫到迎面走来的一个中年妇女用惊讶的目光看我\n，她显然是因为看见刚才的一幕而感到后怕，也让我感觉很是后怕。\n<br><br>\n\n以上两个场景可归为一类，就是开车时如果遇到自己车道上前面的车减速，自己准备变更车\n道超车时要特别注意要以低档（２档）通过，同时右脚应在刹车上，绝对不能放在油门上，\n因为停下来的车辆会阻挡自己的视线，也就是有盲区存在。上面两个实际的场景也印证了盲\n区内经常会有人突然出现。其实可以分别站在前面停下来的车和准备横穿马路的行人两个角\n度再想一下：车子在行驶过程中不会无缘无故急踩刹车，肯定是前方出现情况，使得它被动\n刹车；而对于横穿马路的行人来说，他看到了路上的车因为他的突然出现而急踩刹车停车，\n他会觉得可以安全通过了，却会经常疏忽自己也有盲区——旁边的车道。遇到此种情况最好的\n应对方法就是跟着减速甚至停车，不到万不得已，不要变更车道进行超车。因为你一旦改变\n车道，盲区就出现了。改变车道通过时千万记住挂２档，脚放在刹车上，利用发动机的怠速\n小心通过。\n<br><br>\n\n此外还有两个场景有必要记下：一是早上在二砂等红绿灯时起步忘拉手刹，这是因为自己停\n下来后用手刹制动，等绿灯前又准备用脚刹制动，两种方式同时使用后出现了错误。喜欢用\n手刹的原因一是更安全（踩脚刹后也可能溜车），二是汽车尾部刹车灯不会亮来亮去。为避\n免出现类似情况，自己还是养成选用固定的一种刹车方法（手刹），只要把一种练好也行。\n第二个场景是在政法街停车时又熄火了两次，尽管自己认为已经掌握了诀窍（车抖动后油门\n脚不要上下动）。琢磨熄火的原因是车抖得还不够厉害，或者说油门松得有些浅。\n</div>\n\n<div class=\"diary\" rel=\"20130327\">\n<h3>3.27（周三/晴）阳光刺眼看不见红绿灯、勿跟货车后过路口</h3>\n今天开车的主题是“红绿灯”。今天是个大晴天，上班拐到郑上路后感到阳光很是刺眼，还好\n路面上的车流还能看清，但是问题是红绿灯却看不清。在植物园、三公像两个地方的红绿灯\n都看不见，也不知道闯红灯了没有。下午回来遇到同样的问题，在唐王路十字路口，我前面\n是几辆大货车缓慢通过，我紧跟其后准备通过，等大货车过去后我才看到信号灯已经变成黄\n颜色了，只好急刹，等车子停下来后车前轮已经出了白实线，也不知道会不会被摄像头拍到\n。以后遇到今天这样的强阳光必须带上太阳镜了，另外开车时尽量不要仅跟在面包车、货车\n后面，尤其是在有信号灯的路口，因为根本看不见信号灯。\n<br><br>\n\n晚上回到政法街，刚好有辆黑色捷达（豫Ａ７７Ｋ７３）挡在我经常停车的入口处，没办法\n只好先停在它的对脸处，想着等它走了我再开进去。进屋后想想有些不妥，因为自己占了多\n半个车道，于是又出去把车倒进了旁边窗户下的那个位置。倒之后感觉这也是个不错的位置\n，没倒的时候担心地面上有个凸起的阴井盖会不好倒，实践后发现离自己的底盘还有一段距\n离。另外对倒进去的度的把握有个很好的参照物——左边的梧桐树，今天倒的位置刚到能打开\n车门，再往里倒自己就出不来了。\n<br><br>\n\n今天熄火两次：一次是下班往政法街拐的时候对面过来一辆也拐进的车，我跟在它后面，由\n于它转弯时速度过低，我车速完全降下来。这时忘记２档变１档导致熄火；另外一次好像是\n往停车点倒的时候熄火，还是老问题——离合松的度没有把握住。\n<br><br>\n\n上午经理来须水签钢架房的合同，下午帮小曲修剪厂区内的松柏，没干什么活，就那感觉累\n得不行，身体不行呀；网上碰到小任，他在西站对面找了个工作，公司是卖拓展器材的。\n</div>\n\n<div class=\"diary\" rel=\"20130328\">\n<h3>3.28（周四/晴）加油</h3>\n早上在快到豫龙收费站的中石化加油站加２００块（７。４１／升），加后油表数为\n１３７５７３。\n<br><br>\n\n下班后给母亲买无线插板，在政法街碰到接荆一回家的大姐；新建订单时强制用户归类非标\n粒度的功能晚上完成。\n</div>\n\n<div class=\"diary\" rel=\"20130329\">\n<h3>3.29（周五/阴）</h3>\n下班回家看到一辆现代车停在我常停车的地方旁边，它停得太靠前，我这边停不了，只得停\n在小区门口计生委楼前。一个车占两个车位，遭人骂。昨晚还对复式记账的实现踌躇满志，\n今天发现实现起来很困难；晚上学烙馍，这回面和得还行，就是烙出来的馍干，而且不圆。\n</div>\n\n<div class=\"diary\" rel=\"20130330\">\n<h3>3.30（周六/雨转晴）</h3>\n<br><br>\n</div>\n',NULL,1,1,'N',0,'util.js','2013-03-25 08:22:20','2014-02-27 13:20:22'),(259,'E-Order V0.0.21 Change Log','V0.0.20-16 -&gt; V0.0.21\n<br>\nTODO:\n<ol><li>\n</li><li>\n</li></ol>\n\n<h3>V0.0.21-1 新建订单时有非标粒度时的一个Bug [3/25/13-3/28/13 (4天)]</h3>\n刘东亮提交订单时误输入一个产品粒度（autocomplete 插件的原因），在弹出归类窗口时\n发现粒度错误，于是关闭归类窗口后修改粒度，提交订单后竟然出现两个新订单，也就是把\n错误的粒度也保存进去。简单查找后发现问题的根源在于归类窗口弹出之前 order 表的写\n入操作已经进行，这么设计产生另一个自己一直想解决的问题：如何从根本上保证每个新产\n品销售都进行归类，因为这涉及到以后的销售统计工作。之前的方法是在准备生成全年报表\n前让销售统一对以往未归类的产品进行归类操作，其实最好的办法还是从源头上杜绝未归类\n产品写入数据库，也就是说销售提交的新粒度如果不归类，就无法完成订单提交操作。现在\n的做法是先把订单提交进去，然后弹出窗口提示销售分类，这种逻辑设计会让有些销售（如\n冯璐）直接关闭归类窗口，从而使未归类产品越来越多。弄明白这些，决定将这两个遗留问\n题一并解决，然后再转入财务到帐复式记账的工作。令自己没想到的是，这个问题耗费了\n4天时间，直到现在（28 号晚）才全部解决。回望其中的过程，发现主要原因在于在\nJavascript 中的抽象能力不行。\n<h4>V0.0.21-1.1 新建、修改订单均不能写入数据库 [3.29]</h4> \n上午小林急着提交订单却提交不上，我一验证的确不能，看来是早上升级系统时出了问题。\n查找后发现自定义函数<tt>ajax_insert_order()</tt>未定义的错误，为了解释原因，\n先复习一下之前引用的一段关于函数定义存放位置的文字：\n<blockquote>\n同一段腳本，函數定義可以出現在函數調用的後面，但是如果是分別在兩段代碼，\n且函數調用在第一段代碼中，則會報<b>函數未定義錯誤</b>。\n<pre class=\"brush: php\">\n&lt;script type=\"text/javascript\"&gt; \n	aa(); //瀏覽器報錯\n&lt;/script&gt;\n\n&lt;script type=\"text/javascript\"&gt; \n	aa();//輸出 1 \n	function aa(){alert(1);}\n&lt;/script&gt;\n</pre>\n----\n<a target=\"_blank\" href=\"http://southmaster.com/article/pub.php?page=red2.php&id=5375\">Javascript在網頁頁面加載時的執行順序網頁</a>\n</blockquote>\n此次改进定义了三个 JS 函数，三者的位置和关系如下：\n<pre class=\"brush: javascript\">\n// in js.public.custom-functions.js\nfunction ivk_order_create_edit_evt(cce)\n{\n	...\n	ajax_insert_orderod();\n	...\n	ajax_update_orderod();\n}\n// in js.private.createorder.js\nfunction ajax_insert_orderod()\n{\n	...\n}\n</pre>\n而两个 JS 文件的载入顺序为 customer-functions 文件在先，这就和上面引用中的情况完\n全一致。解决方法就是将 ajax_insert/update_order() 两个函数移出和调用它们的函数\nivk_order_create_edit_evt() 放在一起。\n<h3>快递地址的问题</h3>\n<pre>\n□╭桃花 2013-03-25 15:29:49:\n还有 徐景月虽然贱  但是说的有道理 \n□╭桃花 2013-03-25 15:30:08:\n可不可以以后打印的时候都不显示出来 \nandro+ 2013-03-25 15:30:43:\n？不显示什么 \n□╭桃花 2013-03-25 15:31:59:\n地址 \n□╭桃花 2013-03-25 15:32:19:\n比如 河南 郑州 新乡市长垣县 \n□╭桃花 2013-03-25 15:32:26:\n这个郑州就不显示 \nandro+ 2013-03-25 15:32:40:\n可以 \n□╭桃花 2013-03-25 15:32:48:\n假如或从广州发出，明明可以直接到新乡，还得到郑州倒一手 \n</pre>\n<h3>JS 数组、对象基础问题</h3>\n<pre class=\"brush: php\">\nif (input_validate($(\'#orderAddDiv\'))) { \n	var ajax_data = [];\n	ajax_data[\'do\'] = \'classify_product_size\';\n	ajax_data[\'number\'] = nidx;\n	...\n	$.ajax({ \n		 type: \"POST\" \n		,url: \"md.ajax-pipe.php\" \n		,data: ajax_data // 查看 API 看此处接受的数据类型到底是什么\n		,beforeSend:loading\n	}).done(function( msg ) {\n		var d = split_ajax_data(msg);\n		//boxy_msg(d[\'number\'],\'\',\'\');\n		loading_end();\n	});\n}\n</pre>\n\n<h3>等待发货模块两个待办事项</h3>\n<ol><li>\n将“撤销出库”按钮移过来；\n</li><li>\n连续打印发货清单时弹出窗口会累加的 bug;\n</li></ol>\n\n<h3>V0.0.21-2: 复式记账（3/29/13 - ）</h3>\n<ol><li>\n如果不用，运费、佣金、手续费如何处理？\n</li><li>\n不管用不用复式记账，都得统计所有客户某时间点上的应收账款作为数据基础；\n</li><li>\n刚开始不设置多币种；\n</li><li>\n客户和供应商都添加会计属性，好；\n</li></ol>\n<ol><li>\n</li><li>\n</li></ol>\n<h3>V0.0.21-3: 出纳待办DIV块应限制高度；月初“强制”出纳初始化现金柜余额</h3>\n<h3>V0.0.21-4: 修改订单中授权环节存在的问题 [4/10/13] </h3>\n<ol><li>\nBug: 已经到帐的单笔结算订单修改后订单状态变成了错误的“款额未到”；\n</li><li>\n生产部授权销售提交的修改申请后不能确定销售何时修改完订单，以便重新打印订单。\n应该提交修改后发给生产部一个确认消息；\n</li><li>\n销售会误操作：已经修改好的订单又提交一次修改申请。应有撤销功能；\n</li></ol>\n<!--\n<pre class=\"brush: php\">\n</pre>\n<img src=\"/img/page/2012/animate2.gif\" />\n<ol><li>\n</li><li>\n</li></ol>\n-->\n',NULL,1,1,'Y',0,'util.js','2013-03-25 14:57:12','2014-02-27 13:20:22'),(260,'W14, 2013','<div class=\"diary\" rel=\"20130401\">\n<h3>4.1（周一/晴）面包车挡在后面倒车困难</h3>\n早上开车上班时发现经常停在前面的那辆面包车这回在我的后面，右侧留的空间有限（右边\n上多是砖头、树枝），倒车的时候很费劲，快倒出去时左边倒车镜擦到面包车上一点。来到\n厂里停车查看发现倒车镜边上有一个米粒大小的地方的漆已经蹭掉，这让我想起了今年过年\n路中间的槽钢擦到车门的经历，对比这两个小摩擦，发现一个共同点是前轮的方向没有根据\n车的方向和障碍的方向及时微调，导致两秒前还能通过，两秒后就碰上了，问题就在这两秒\n内。不过最好的方法是尽可能地避免，因为倒车的时候往往需要“瞻前顾后”，在很短的时间\n内既要看着前面，又要兼顾后面，这对于一个新手来说有困难。索性最后那个开面包车的人\n刚好也准备开车出去，看到我正在吃力地倒车，他马上将车往前开走，我这才顺利倒出去。\n下回要注意了：停车的时候再往前停点，后面真是停车了，给人家留的地方尽可能宽裕点，\n与人方便就是于己方便；另外下次可以尝试不倒车，往前看能不能右转开出去。\n</div>\n\n<div class=\"diary\" rel=\"20130403\">\n<h3>4.3（周三/雨转晴）让让横在马路中间急着左转的车</h3>\n七点起床，外面下雨。出政法街右转时，万山路上车很多，都堵到出口了，右转时刚好有辆\n红色出租车直行到我前面，我们俩都停了下来，停顿片刻后他先走了，事后想想挺危险。\n快到郑上路时，在万山路上缓慢移动，看到一辆从汽车站东门出来、准备左转的黑色轿车。\n我看这它想从我前面过去，我便鸣笛示意，但是它还是往前开，我只得来个急刹。当时心里\n挺气愤，甚至把车窗摇下来想看清楚司机的模样。但事后想想，让它一下又能怎样？它当时\n的位置是横在马路中间，把右侧半个车道截断，如果不赶快通过，后面堵车会越来越严重。\n很多时候就是这样，时候想想当时的抢快根本没必要，但总是避免不了。\n</div>\n\n<div class=\"diary\" rel=\"20130404\">\n<h3>4.4（周四/晴）清明长假＋洗澡＋安学会骑玩具四轮</h3>\n三天假期金仅休息今天，上午三人去洗澡，之后到大坑去买些红薯和蔬菜，中午到家后母亲\n已把槐花馅饺子包好。安这个假期学会骑玩具车，玩得不亦乐乎。晚上凉调一个芹菜黄豆。\n</div>\n\n<div class=\"diary\" rel=\"20130405\">\n<h3>4.5（周五/雨转晴）亲人团聚＋向姐做大盘鸡</h3>\n节前向姐说今天来吴村，不料半夜下起小雨，母亲说“有好好儿没好天”，所幸天亮后下得不\n大。荆豪开车把向姐三口送来，向姐中午要做大盘鸡，大姐还带来一箱螃蟹，挺大个儿。\n大姐来后给三姐打电话让她和世杰也回来。吃完午饭后大姐让三姐去她那里拿些衣服，我刚\n好想到荥阳去看看车胎是不是慢撒气，于是我带着世杰跟在大姐后面一起去荥阳。大姐听到\n母亲说上周日三姐去金寨给安买件罩衣后马上给了安三百块钱让去买衣服；焱伟哥的女儿三\n月初六在老家，和几个姐商量后决定６号晚上我和三姐、向姐一起到泰安小区焱伟哥家里把\n礼随上，礼钱大姐已经全给我们出了（大姐给了我们２０００块）。到商业大厦给安和竞月\n买了个充气小羊玩，之后把向姐和三姐送回家。\n</div>\n\n<div class=\"diary\" rel=\"20130406\">\n<h3>4.6（周六/晴）买番茄苗＋去焱伟哥家随礼</h3>\n上午带着安在家玩。中午把昨天向姐买的绘面吃了，炒的西葫芦鸡蛋。下午去王庄买番茄苗\n，先到上次说要定两星期才行的那家去，这次出来的是个女的，她很热情地跟我说她们家现\n在还不能卖，因为她们家不是专门卖苗的，而是卖番茄的。她又告诉我西边另一家卖苗的让\n我去看看。到了后发现果然能卖，感叹同样一件事，换个人的差别竟是这么大。\n<br><br>\n\n下午五点把金和安送到大王村，之后接着俩姐到焱伟哥家随礼。完事后我们三人到向姐推荐\n的尚炉一家烧烤店吃饭，向姐会点菜，我们三人刚好吃完，即吃好了又不浪费。点的有：炸\n素丸子、炒红薯面条、凉拌胡萝卜丝、一把羊肉串、四串豆腐还有一个烤草鱼。向姐提到她\n很想到马拉湾吃烤全羊，找个机会带着姐去一趟。在送向姐回来的路上向姐问我厂里有人说\n我没有，我问说什么，她说有没有人说你拿那么点钱还整天开车去，我说他们都知道这不是\n我自己买的车。之所以要记下这段对话，是要提醒自己要努力才是。\n<br><br>\n\n向姐说正在给岳母钩了一个包，等到村会的时候给她，向姐还说没事多给岳母买些东西，说\n人家给咱们看孩子，也不图什么，要勤跑些。下次给岳母买些她爱吃的耳丝。下午给安买鞋\n的时候自责怎么没想起给岳父、母也买双鞋子。\n</div>\n\n<div class=\"diary\" rel=\"20130407\">\n<h3>4.7（周日/晴）该按喇叭就得按＋等信号灯永远在中间车道上</h3>\n节后上班，出政法街时看见一个妇女在马路中间走着，我没有按喇叭，想从路左侧悄悄通过\n，因为我不是很喜欢按喇叭，自己走路时听到后面的车按喇叭心里很反感，哪怕有时自己确\n实挡道了，但是当车头与那女的平行后发现离她太近，想完全过去有些困难，不得已按喇叭\n，但这时显然有些晚，想想里车离她那么近，不免要吓到她。我开始反思自己不按喇叭的行\n为有些过头，类似这种情况还是提前鸣笛比较妥当。\n<br><br>\n\n开车到三公像，红灯亮起，我看到最右侧车道是空的，想着反正这条路也不允许\n右转，准备在最右车道等，快走到前面时，中间车道上停着好好的一个白色众泰突然也准备\n变道到最右侧，他也看到了这个车道上的车少些，眼看就撞上了，我赶紧急刹并鸣喇叭，心\n里骂道你提前一个车位到底能快多少，真是我撞到你的车上了也是你的责任。经过急停再２\n档起步时熄火了。心里自然很是不爽，但转念一想，开车最忌讳的是跟人斗气，这不是干别\n的事，这种斗气很危险。反过来一想，自己要是老老实实在中间车道上等车也不会有这种事\n发生，既然改变别人很困难，那就改变自己好了：在任何情况下都在中间车道上等红灯。\n</div>\n',NULL,1,1,'N',0,'util.js','2013-04-01 08:49:33','2014-02-27 13:20:22'),(261,'现有业务分录练习','<h3>最初科目</h3>\n<b>应交税费二级科目和主营业务收入是不是都应该辅助核算</b>\n<table border=\"1\" cellpadding=\"3\" cellspacing=\"0\">\n  <caption>科目的借贷关系</caption>\n  <tr style=\'background-color:#eeeeee;\'>\n    <th colspan=\"3\">借方表示增加,贷方表示减少</th>\n    <th colspan=\"3\">借方表示减少,贷方表示增加</th>\n  </tr>\n  <tr>\n    <td style=\'background-color:lightgreen;\'>资产</td>\n    <td style=\'background-color:lightgreen;\'>成本</td>\n    <td style=\'background-color:lightgreen;\'>损益中支出类</td>\n    <td style=\'background-color:red;\'>负债</td>\n    <td style=\'background-color:red;\'>所有者权益</td>\n    <td style=\'background-color:red;\'>损益中收入类</td>\n  </tr>\n  <tr>\n    <td>银行存款［辅：银行］</td>\n    <td>制造费用（工资、耗材）</td>\n    <td>管理费用(办公费、水电费、交通费等)</td>\n    <td>应付账款［辅：供应商］</td>\n    <td></td>\n    <td>主营业务收入</td>\n  </tr>\n  <tr>\n    <td>现金柜备用金</td>\n    <td></td>\n    <td>财务费用（银行手续费）</td>\n    <td>预收账款（客户多汇的钱）</td>\n    <td></td>\n    <td>营业外收入（废品收入、离职员工社保、预付运费）</td>\n  </tr>\n  <tr>\n    <td>应收账款［辅：客户名］</td>\n    <td></td>\n    <td>销售费用（佣金、运费）</td>\n    <td>应交税费</td>\n    <td></td>\n    <td></td>\n  </tr>\n  <tr>\n    <td>应收票据［辅：客户名］</td>\n    <td></td>\n    <td></td>\n    <td></td>\n    <td></td>\n    <td></td>\n  </tr>\n  <tr>\n    <td>低值易耗品（拖把、手套）</td>\n    <td></td>\n    <td></td>\n    <td></td>\n    <td></td>\n    <td></td>\n  </tr>\n  <tr>\n    <td>其他应收款（辅：员工名）［预借员工的钱］</td>\n    <td></td>\n    <td></td>\n    <td></td>\n    <td></td>\n    <td></td>\n  </tr>\n</table>\n<h3>货到付款客户汇款</h3>\n<h4>普通情况</h4>\n公司帐户上收到甲公司汇到公司帐户 117 元货款，开增票：\n<br>\n收款凭证\n<table border=1 width=400>\n	<tr><th>科目</th><th>借</th><th>贷</th></tr>\n	<tr>\n		<td>银行存款_交行中西支</td>\n		<td>117</td>\n		<td></td></tr>\n	<tr>\n		<td>应收账款_甲公司</td>\n		<td></td>\n		<td>117</td></tr>\n</table>\n销货凭证\n<table border=1 width=400>\n	<tr><th>科目</th><th>借</th><th>贷</th></tr>\n	<tr>\n		<td>应收账款（甲公司）</td>\n		<td>117</td>\n		<td></td></tr>\n	<tr>\n		<td>主营业务收入（甲公司）</td>\n		<td></td>\n		<td>100</td></tr>\n	<tr>\n		<td>应交税费_增值销项税（甲公司）</td>\n		<td></td>\n		<td>17</td></tr>\n</table>\n\n<h4>汇款中除货款外还包含其它费用</h4>\n公司帐户上收到甲公司汇到公司帐户 200 元货款：\n<ol><li>\n170为货款，多余３０元下次订货再用：<br>\n	<table border=1 width=400>\n		<tr><th>科目</th><th>借</th><th>贷</th></tr>\n		<tr>\n			<td>银行存款（交行中西支）</td>\n			<td>200</td>\n			<td></td></tr>\n		<tr>\n			<td>应收账款（甲公司）</td>\n			<td></td>\n			<td>170</td></tr>\n		<tr>\n			<td>预收账款（甲公司）</td>\n			<td></td>\n			<td>30</td></tr>\n	</table>\n	<table border=1 width=400>\n		<tr><th>科目</th><th>借</th><th>贷</th></tr>\n		<tr>\n			<td>应收账款（甲公司）</td>\n			<td>170</td>\n			<td></td></tr>\n		<tr>\n			<td>主营业务收入（甲公司）</td>\n			<td></td>\n			<td>170</td></tr>\n	</table>\n	下次该客户订货时就可以用这笔多汇的钱：甲客户又订了１７０元的货，\n	这次汇款１４０元：\n	<table border=1 width=400>\n		<tr><th>科目</th><th>借</th><th>贷</th></tr>\n		<tr>\n			<td>银行存款（交行中西支）</td>\n			<td>140</td>\n			<td></td></tr>\n		<tr>\n			<td>预收账款（甲公司）</td>\n			<td>30</td>\n			<td></td></tr>\n		<tr>\n			<td>应收账款（甲公司）</td>\n			<td></td>\n			<td>170</td></tr>\n	</table>\n	<table border=1 width=400>\n		<tr><th>科目</th><th>借</th><th>贷</th></tr>\n		<tr>\n			<td>应收账款（甲公司）</td>\n			<td>170</td>\n			<td></td></tr>\n		<tr>\n			<td>主营业务收入（甲公司）</td>\n			<td></td>\n			<td>170</td></tr>\n	</table>\n	<br>\n</li><li>\n	１８０为货款，２０元为运费：\n	<table border=1 width=400>\n		<tr><th>科目</th><th>借</th><th>贷</th></tr>\n		<tr>\n			<td>银行存款（交行中西支）</td>\n			<td>200</td>\n			<td></td></tr>\n		<tr>\n			<td>应收账款（甲公司）</td>\n			<td></td>\n			<td>200</td></tr>\n	</table>\n	<table border=1 width=400>\n		<tr><th>科目</th><th>借</th><th>贷</th></tr>\n		<tr>\n			<td>应收账款（甲公司）</td>\n			<td>200</td>\n			<td></td></tr>\n		<tr>\n			<td>主营业务收入（甲公司）</td>\n			<td></td>\n			<td>180</td></tr>\n		<tr>\n			<td>营业外收入_预付运费</td>\n			<td></td>\n			<td>20</td></tr>\n	</table>\n	<br>\n</li><li>\n	汇款200,中介提成50，实收150。按收款、支付佣金和销售三部分分录：\n	<table border=1 width=400>\n		<tr><th>科目</th><th>借</th><th>贷</th></tr>\n		<tr>\n			<td>银行存款（交行中西支）</td>\n			<td>200</td>\n			<td></td></tr>\n		<tr>\n			<td>应收账款（甲公司）</td>\n			<td></td>\n			<td>200</td></tr>\n	</table>\n	<table border=1 width=400>\n		<tr><th>科目</th><th>借</th><th>贷</th></tr>\n		<tr>\n			<td>销售费用_佣金</td>\n			<td>50</td>\n			<td></td></tr>\n		<tr>\n			<td>银行存款（交行中西支）</td>\n			<td></td>\n			<td>50</td></tr>\n	</table>\n	<table border=1 width=400>\n		<tr><th>科目</th><th>借</th><th>贷</th></tr>\n		<tr>\n			<td>应收账款（甲公司）</td>\n			<td>200</td>\n			<td></td></tr>\n		<tr>\n			<td>主营业务收入（甲公司）</td>\n			<td></td>\n			<td>200</td></tr>\n	</table>\n	<br>\n</li><li>\n	汇200,扣除5元手续费，实收195，按收款、支付手续费和销售三部分分录：\n	<table border=1 width=400>\n		<tr><th>科目</th><th>借</th><th>贷</th></tr>\n		<tr>\n			<td>银行存款（交行中西支）</td>\n			<td>200</td>\n			<td></td></tr>\n		<tr>\n			<td>应收账款（甲公司）</td>\n			<td></td>\n			<td>200</td></tr>\n	</table>\n	<table border=1 width=400>\n		<tr><th>科目</th><th>借</th><th>贷</th></tr>\n		<tr>\n			<td>财务费用_银行手续费</td>\n			<td>5</td>\n			<td></td></tr>\n		<tr>\n			<td>银行存款（交行中西支）</td>\n			<td></td>\n			<td>5</td></tr>\n	</table>\n	<table border=1 width=400>\n		<tr><th>科目</th><th>借</th><th>贷</th></tr>\n		<tr>\n			<td>应收账款（甲公司）</td>\n			<td>200</td>\n			<td></td></tr>\n		<tr>\n			<td>主营业务收入（甲公司）</td>\n			<td></td>\n			<td>200</td></tr>\n	</table>\n</li></ol>\n\n<h3>月结/协议结算客户汇款</h3>\n这类客户当货物从厂里发出后，自动生成销售凭证，当该客户汇款时，记录收款凭证即可。\n<br>\n销售凭证举例：收到客户1170元汇款\n	<table border=1 width=400>\n		<tr><th>科目</th><th>借</th><th>贷</th></tr>\n		<tr>\n			<td>应收账款（甲公司）</td>\n			<td>1170</td>\n			<td></td></tr>\n		<tr>\n			<td>主营业务收入（甲公司）</td>\n			<td></td>\n			<td>1170</td></tr>\n	</table>\n若开增票：\n	<table border=1 width=400>\n		<tr><th>科目</th><th>借</th><th>贷</th></tr>\n		<tr>\n			<td>应收账款（甲公司）</td>\n			<td>1170</td>\n			<td></td></tr>\n		<tr>\n			<td>主营业务收入（甲公司）</td>\n			<td></td>\n			<td>1000</td></tr>\n		<tr>\n			<td>应交税费_增值销项税（甲公司）</td>\n			<td></td>\n			<td>170</td></tr>\n	</table>\n<b>说明：此销售凭证是在货物发出后自动生成的，若在此期间销售修改订单金额，\n需要同步更新凭证内容。</b>\n<br>\n付款：\n	给一张30,000元的承兑：\n	<table border=1 width=400>\n		<tr><th>科目</th><th>借</th><th>贷</th></tr>\n		<tr>\n			<td>应收票据（甲公司）</td>\n			<td>30,000</td>\n			<td></td></tr>\n		<tr>\n			<td>应收账款（甲公司）</td>\n			<td></td>\n			<td>30,000</td></tr>\n	</table>\n\n<h3>各种报账</h3>\n曲冬冬申请现金购买化学试剂费用300元：\n	<table border=1 width=400>\n		<tr><th>科目</th><th>借</th><th>贷</th></tr>\n		<tr>\n			<td>低值易耗品</td>\n			<td>300</td>\n			<td></td></tr>\n		<tr>\n			<td>备用现金</td>\n			<td></td>\n			<td>300</td></tr>\n	</table>\n所有报账的区别集中在借方科目明细的选择上，之前系统中的分类在会计科目中属于资产类\n中的低值易耗品、成本类中的制造费用及损益支出类中的管理/财务/销售费用。\n<pre>\n--------------------------------------\n			      付款，报销	\n注意：对会计记账来说，应该先记收款凭证，后记销售凭证\n\n上面这句话错误，应按照实际业务流程来操作。对款到发货的单笔计算客户来说上面的顺序\n没问题，但对月结客户来说应该是先记销售凭证，再记收款凭证。\n\n\n换句话说，刘晓华月结客户在会计看来，只有款额到帐后，涉及货物才\n算真正“销售”出去，也就是才会在帐面上显示出来。\n然后，客户在下次订货时就可以使用上次多汇的钱\na.收款\n借 银行存款(+) 	 5,795\n   预收账款(-)	    55\n贷 应收账款(-) 	 5,850\na.销售\n借 应收账款(+) 				5,850\n贷 主营业务收入(+)  			5,000\n    应交税费--应交增值税（销项税额）(+)	  850\n========\n========\n销售报账中通快递月结费用\n		  借		  贷\n备用现金(-)			698\n运输费用(+)	698\n========\n员工曲冬预申请 500 现金用于购买厂区耗材\na.费用申请\n		  借		  贷\n备用现金(-)			500\n其它应收款-曲冬(+)500\n\nb. 报销\nb1. 报销金额 = 申请金额\n		  借		  贷\n管理费厂区耗材(+)500\n其它应收款-曲冬(-)		500\n\nb2. 报销金额 > 申请金额\n		  借		  贷\n管理费厂区耗材(+)600\n其它应收款-曲冬(-)		500\n备用现金(-)			100\n\nb3. 报销金额 < 申请金额\n		  借		  贷\n管理费厂区耗材(+)400\n备用现金(+)	 100\n其它应收款-曲冬(-)		500\n</pre>\n<!--\n<h4></h4>\n<pre class=\"brush: php\">\n</pre>\n<ul><li>\n</li><li>\n</li></ul>\n<blockquote>\n<p class=\"source\"></p>\n</blockquote>\n<img class=\"lf\" src=\"/img/page/2013/andro.20130103.jpg\" />\n-->\n\n',NULL,1,1,'Y',0,'util.js','2013-04-08 09:42:14','2014-02-27 13:20:22'),(262,'W15, 2013','<div class=\"diary\" rel=\"20130408\">\n<h3>4.8（周一/晴）</h3>\n</div>\n\n<div class=\"diary\" rel=\"20130409\">\n<h3>4.9（周二/大风）</h3>\n</div>\n\n<div class=\"diary\" rel=\"20130410\">\n<h3>4.10（周三/风）懈怠了＋加油１００</h3>\n自打哥的车开回来后，早上上班就没有订过闹铃，今天早上本来起得晚，加上路上加油，\n到厂里已经８点，厂长早就来了，打招呼的时候都有些不好意思。\n按说开车上班早上时间应该更充裕才是，现在弄得比以前更紧张，看来自己是懈怠了，\n紧张起来。\n</div>\n\n<div class=\"diary\" rel=\"20130411\">\n<h3>4.11（周四/晴）</h3>\n</div>\n\n<div class=\"diary\" rel=\"20130412\">\n<h3>4.12（周五/晴）老婆奶做寿，不会打扮的老婆惹岳母生气＋耐性差</h3>\n每年的三月初三是老婆奶奶的生日，岳父、母一早到奶奶那院帮忙。九点多岳母回来了一趟\n，看两个姐姐还没有来，说金钟叔家的女儿甜甜在那院都吃过面条了，又说明婶穿得很拽。\n接着打量了一下她的三闺女，老婆上身穿着焕姐给她的一件好多年的格子大衣，脚上穿双粉\n色布鞋，鞋很脏，而且由于是毛边，更显得鞋子破，岳母问今天打算穿这过去？家里没别的\n衣服了？金艳说没了，都在政法街；岳母说现在回政法街拿，又问你刚结婚买的那件红大衣\n呢？穿那个就行（岳母八成是看到金钟叔家的甜甜穿了件红大衣，甜甜去年刚结婚）；金艳\n说那个在吴村放着，岳母听后对老婆说了句话，我记得很清楚：“不是你妈说你，你穿这样\n有点丢人你知道吗？”最后金艳把荆一给她买的红线衣穿上。<br><br>\n\n吃完饭都回家在院里说话，安琢不懂事，不让琳琳玩他的玩具，琳琳拿什么他就去抢什么，\n抢不到就哼唧，不招人待见。岳母不喜欢听见安琢老是哼唧，看着他也像该睡了，就骑着电\n动车带着他出去转圈，想着能把他弄睡了，家里好清静一会。出去没一会安琢眼睛就闭上，\n我便骑着车回家。到院子里刚要把车停下，安琢就醒了，碰巧琳琳拿着一个灯笼在院子里耍\n，安琢变哭着要那个灯笼。我被安琢醒得这么是时候气坏了，便把他硬往座里摁，这下他叫\n得更厉害，金艳过来抱着他才停住哭。金艳说咱去上街吧，岳母听到刚才安琢在院里哭也明\n显有些不耐烦，便说道：中中中，你们赶紧去上街吧。听到这话，我心里气极了，直接出去\n开车。路上金艳跟我说话我也不说话，在路上瞎转，绕了几个路口才在车子停在公安局旁边\n。<br><br>\n\n再给岳父、母买鞋的时候，安琢在玩放在地上的鞋盒，我说不让玩，他不停，刚才的气还没\n下去，他又把我的火给气上来了，我便抱着他到马路边上，让金在里面挑鞋子。安琢在外面\n大声哭叫，哭得整个脸都是泪，嚷着要下来，我紧抱着不让他下来，根本不管他听不听得懂\n，厉声说：你哭吧。现在想来，这是把火撒在安琢身上；安琢这么闹人，岳母说两句气话也\n很正常，当时为什么就想不通呢？\n</div>\n\n<div class=\"diary\" rel=\"20130413\">\n<h3>4.13（周六/晴）开车三个月整＋买交强险</h3>\n交强＋车船税：１１５０\n</div>\n\n<div class=\"diary\" rel=\"20130414\">\n<h3>4.14（周日/晴）找不到钱包＋老婆低烧＋遇突发情况＋加油２００块</h3>\n中午准备去买辣椒苗，一摸兜没见钱包，到屋里找也没有，顿时有些着急，担心是不是丢了\n，要知道身份证、驾驶证、银行卡都在里面，马上就该审车，真要是丢了，那麻烦可就大了\n。仔细想想发现可能昨下午回来时落在办公室，母亲催促着让去厂里找找。到村东头看到大\n松婶抱着孙子和儿子、儿媳在等车，一问他们打算去医院给小孩看病，把他们送到保健院。\n到厂里发现钱包在抽屉里静静地躺着，顿时舒了口气，马上给金艳打电话让母亲不用担心。\n<br><br>\n\n饭后安琢再不睡了，骑着三轮去王庄买苗，走到电厂安琢就睡着了，掉头先把他放家，再拐\n回去买苗。这段时间金艳在家睡觉，早上她说身上没劲。下午四点她起来时说好像发烧了，\n一量体温３７度７，低烧，加上又上火，母亲说你们早点回去，到大王村诊所输液。把金艳\n放到诊所，我和安琢先回来。安琢和岳父母在外面凉快，我回家把安琢的小车推出来。在院\n子里洗手时听见洗澡间有流水的声音，前段时间也听到过，那是因为太阳能热水器里的水温\n太高，水溢出来的原因。我本能地推门进去想把水龙头拧紧，结果……<br><br>\n\n晚上送焕姐和笑笑回家，路上焕姐说走萍姐家那条路会近些，话的意思我明白，我则担心晚\n上那条路太窄不好走，因而走庙王路，下次再送的时候可以走。送完焕姐，加了２００块钱\n油，油表显示１３８１２９，这样一算，３００块钱跑了５５６公里，百公里油耗７.２，\n还算将就。\n</div>\n',NULL,1,1,'N',0,'util.js','2013-04-08 09:53:39','2014-02-27 13:20:22'),(263,'W16, 2013','\n<div class=\"diary\" rel=\"20130411\">\n<h3>4.15（周一/晴）NAUTICA 鞋收到＋回王村＋安琢摔到床下</h3>\n花１８９买的ＮＡＵＴＩＣＡ鞋收到，穿上很舒适，只是稍微大些，穿４１（８.５）刚好\n，买的是４２的，不过无大碍，觉得物有所值，比过年在建业买的革皮鞋值多了，那双烂鞋\n搞的我右脚脚趾磨出茧子了。<br><br>\n\n下午金艳打电话说下班开会不知道何时结束，想让我回去看安琢。到家后金艳又打电话说会\n开完了，一会就回去。晚上和安琢在床上玩，我躺在床上时不时把脚抬起来，安琢会很兴奋\n地躲，就这样重复了几次，不料有一次因为他站的太靠边，躲的时候直接掉床地下了。这下\n子哭得声音大啊。以后再玩这种游戏自己得在外面才是。\n\n</div>\n\n<div class=\"diary\" rel=\"20130417\">\n<h3>4.17（周三/晴）开封审车记</h3>\n　　早上４：４５闹钟准时响起，５点出门。因为是头一次去开封，担心油不够，到廿铺中\n石化又加了１００块钱。虽然起得早，走在建设路上的时候感觉路上车子还是不少，所以心\n里有些着急，不过到了金水路上感觉好多了。看见民航大酒店，看见去年曾经面试过的绿地\n国际，没想过自己会开车经过。等走到郑开大道就更爽了，双向十车道，加上车子少（倒车\n镜里经常看不见一辆车），感觉很爽，有种尽驰骋的感觉。<br><br>\n\n　　７：２０左右到了今明广场大转盘，我想着在转盘西南角等，但右转时没看到有停车线\n，而且看见一个大大的禁止停车的标志，没办法又逆时针转了个圈后重新回到广场附近。给\n喜来打电话后，他说让我停在西南角人行道上，说那里有停车线。等我再次走到转盘西南角\n时，这一回才看见人行道上两个停车位置，赶紧停下来开始等，中间简单吃了些东西。一会\n一辆车向我靠近、鸣笛，知道开车的就是喜来了。跟在他后面走到车管所开始排队。他先把\n保单和行车证要过来，把３００块钱收下，我开始等。不一会儿一个小伙子让我把车前盖打\n开，说要拓号，我之前也不知道开关在哪，只能问他，他一听，咦了声，开封腔。经他指点\n，我才发现开关在最下面（离合左边），正常坐在座上的话是根本看不见的。<br><br>\n\n　　十点多，终于“上线”了。一个穿着短袖警服的胖子让我下来，他开车进去检测，并交代\n我去另一端等着接车。我在那头儿看着检测项目就是看远光灯是不是加了疝气大灯。出来后\n姓邢的那个兄弟让我尽量往前开，而我却停在了后面。一会他过来让我赶紧开到前面，说民\n警要看车。我开到前面去，打开引擎盖，看见一个民警拿着行车证和发动机上的车架号对，\n这就是问什么要尽量往前开的原因，这种人一般脾气大得很，车子开到他跟前他对照也方便\n，像我刚才那样开到大后头不在他视线范围内，他要是直接来句“等会儿吧”你一点办法都没\n有。对照完后跟着刚那个警察去领表，他在表上天书一番后盖上红戳后，第二道手续ＯＫ。\n最后是去更新行车证审车时间，这个程序里会先查违章，如果有，先去交钱，所幸我没有违\n章，顺利拿上行车证和年审圆形纸。至此审车顺利结束！一看表刚１１点，很顺利呀。有了\n第一次，明年再审的时候就轻车熟路了，比如早上可以直接先到车管所排队，这样肯定比今\n天排号靠前（＃２０这次），还有明年审前得把进水那个大灯换掉，再有就是可以审完车在\n附近吃完饭再返程（避开中午郑州高峰期）。<br><br>\n\n　　中午１２点到金水东路，在未来路附近有些堵，之后还算顺畅，感觉高峰期在市区开车也不过如此。１点钟到须水，在二砂村吃碗捞面，圆面条，不太好吃，但饿了６个小时，顾不了那么多了。\n</div>\n\n<div class=\"diary\" rel=\"20130418\">\n<h3>4.18（周四/大风）接阳哥回家看父母</h3>\n　　中午在厂里刚吃过饭，电话响了，显示是阳哥，电话里阳哥问我在哪，我说在郑州，\n问他在哪，他说来河南出差，在农业路南阳路交叉口的中州快捷酒店，我问他用不用去接他\n，他问我下午有没有事情，我说没有，他说那你来这里接我回趟老家看望一下父母，然后再\n把我送回去。这种事情自然不在话下，赶快在网上搜了一下路线，走建设路-西三环-冉屯路\n-农业路就到了。我一点半到农业路南阳路交叉口，因为不知道怎么停车，于是在农业路过\n南阳路的一个红绿灯处掉头，停在马路对面的凯旋酒店门口，给了保安五块钱停车费，其实\n我就在那停不到一分钟，那保安在车引擎盖上用手指划了两个对号，表示这车他收过钱了。\n其实这种情况如果给他让根烟，说两句好话，估计五块钱也能省下来，真是不行就问他要发\n票，“难为”他一下，如果他不是真正收停车费的，不过因为是第一次接哥，加上对市区里的\n情况不熟悉，也就算了。在车里给哥打电话，哥说他马上下来。之后给厂长打电话，这时候\n是一点四十分左右，厂长在休息，打电话肯定是打扰他休息，不过想想不跟他说也不太合适\n，电话通后，听到那边有点不耐烦的问有事吗，我把情况简单说了下，厂长就说我知道了，\n接着就挂了电话。其实这种情况最好的办法是给厂长发个短信，但是当时发信息有点费劲，\n如果事先把信息编辑好会更好。我站在十字路口等哥，马上看到哥除了酒店门往这边走来，\n他穿着一身职业装，和参加我婚礼时一样的衣服。上车开始往回走，到了桐柏路口时，由于\n对路况不熟悉，我没有按来时的路走，而是走桐柏路，想着走建设路也一样，但是到了建设\n路时没注意，一下走过了，这时自己只好将错就错，想着走中原路也一样，路还比郑上路好\n，事实证明这是个错误的决定，因为走中原路回老家比走郑上路要慢至少十分钟的路程，要\n知道哥下午五点有事还要赶回去。到家后哥和爸妈简单聊了一会，也就四十分钟左右，我们\n就开始返回。回去时哥说让我开，他显然是觉得我开车太慢，害怕在路上耽误太多时间。哥\n还说其实回老家最快的应该是走高速，因为农业路在北边。因为我不知道走高速的话在郑州\n哪个路口下，我们只好还走郑上路。路上哥说你开车也不听音乐，他估计是觉得车里太静了\n，因为我也不怎么说话，其实我是怕说话影响他开车，我赶忙把ＣＤ打开。哥开车感觉快得\n很，感觉油门轰得很厉害；哥换档时有个细节：动作是分解的，先退到空档，在变档，很谨\n慎；哥用５档不多，一般是３、４档走，但也很快，我说我开车不敢使劲轰油门，他说有时\n候必须轰，必须让发动机的转速上去；哥说我超车时不果断，该超时，大油门踩下去，不能\n慢慢腾腾；哥说开车最重要就是预判，鸣笛、打转向都是次要的。４：５０我们到了农业路\n南阳路路口，当时是红灯，排队的车很多，哥不想等，问能不能左转到路口，我说能吧，哥\n立马就变道最左边，之后我们俩先后都发现有点不对劲，转弯时才发现走在了ＢＲＴ车道上\n，也不知道摄像头拍到没有。哥习惯性地问我要不要上去坐坐，我说不用了，其实哥肯定知\n道我不会上去，但他还是说了这话，这是待人接物，自己都要学习呀。<br><br>\n  \n　　回去的路上，决定走西三环，结果又是跑过了，直接上到化工路上，无奈又在化工路上\n掉头。加上春节秋姑孙子满月顺着经三路跑过农业路，都跑过三次了，得注意看路标呀。\n５：２０跑到须水，反正到这了，索性就回厂里一趟，给厂长打声招呼。准备回家时，向姐\n打来电话，说给岳母钩的西瓜包钩好了，大姐要请客吃饭，让我也过来。晚上我们还是在尚\n炉的张记烧烤店吃烧烤。之后我们到蒋氏干果行，大姐给安琢买了很多吃的，大姐说对岳母\n好点，人家给你看孩儿。 \n</div>\n\n<!--\n<div class=\"diary\" rel=\"20130417\">\n<h3>4.17（周三/晴）</h3>\n</div>\n\n<br><br>\n<img class=\"lf\" src=\"/img/page/2013/andro.20130311.jpg\" />\n--> \n\n\n早上跟在一个面包车后，跟得比较紧，突然看到它的车速明显降下来，但是刹车灯却不亮，幸亏我及时踩下刹车，在距离它二十公分的时候停下，好险。\n\n养成保持车距的习惯；\n\n',NULL,1,1,'N',0,'util.js','2013-04-15 07:50:55','2014-02-27 13:20:22'),(264,'2013年12月中','	<h3>2013年12月11日（周三 晴）越是人多，哭得越大声</h3>\n\n	晚上诗影的爷爷和奶奶来家里看望奶奶。聊天过程中，奶奶让妈妈从里屋拿些苹果\n	出来。当妈妈起身准备去里屋时，我哭闹着不让妈妈进去拿，嘴上一直说着”不中“\n	。不知道的已为我不想让客人吃似的，其实我的意思是不让妈妈进去拿，\n	而是让我自己进去拿，也就是说，哭闹的焦点不在让不让拿，而在谁去拿上。\n	可能是想让客人知道我有多委屈，我哭的声音比平时大得多。等到客人要走时，\n	我又像往常一样不让诗影的爷爷奶奶走，奶奶开玩笑说我很会留客人。\n	诗影的奶奶对我说：”那我先走，让这个爷爷在这，好不好？“我爽快地答应，\n	那意思好像是说不能两个人都走，不然谁跟我玩？\n\n\n	<h3>2013年12月12日（周四 晴）“我要小便”</h3>\n\n	<h3>2013年12月13日（周一 霾）爸爸给我申请一个QQ号</h3>\n	QQ号码为：2759833065，密码为 andro_chen@163.com 上的密码。\n\n\n	<h3>2013年12月18日（周三 雪转晴）入冬第一场雪</h3>\n	早上七点，三姑给爸爸打电话说外面下雪了，让爸爸把院子里的褥子收到屋里。\n	上学的路上，可以看到车窗外飘的雪花，这可是今年入冬以来的第一场雪呢。\n	稍微遗憾的是这场雪只下了不到两个小时就停了。\n\n	<h3>2013年12月19日（周四 冷）睡过站＋一夜尿床两次</h3>\n	早上爸爸做完饭，看到我们屋里的灯还没有亮，便进去喊我和妈妈起床。\n	妈妈被推门声惊醒，问爸爸几点了，爸爸看看手机，说：“6:50了。”\n	妈妈一听知道睡过头了，赶忙起床。爸爸走到床前，发现我正睡得香，\n	床边是尿湿的褥子。爸爸听妈妈说昨晚我尿了两次床，最近一天比一天冷，\n	我肯定是不想出被窝才尿床的。\n\n	<h3>2013年12月20日（周五 多云）不让洗脸</h3>\n	早上爸爸给我洗脸时我一直喊水凉，挣脱着不让爸爸洗。眼看时间越来越少，\n	爸爸拉住我强行把脸洗干净。这下我不干了，先是转过身打了爸爸两下，\n	然后自己走到橱柜下，背对着爸爸呕气，爸爸觉得我的动作像“面壁思过\"一样，\n	很好笑。\n	<video controls=\"controls\" preload=\"auto\"> \n		<source src=\"/media/andro/video/02-03/v.mp4\" />\n	</video> \n',NULL,1,1,'N',0,'util.js','2013-12-19 11:16:35','2014-02-27 13:20:22'),(265,'TS: 2013年12月中','<!--\n\n<h3>\n</h3>\n<p>\n</p>\n<video width=\"640\" height=\"480\" controls=\"controls\" preload=\"auto\"> \n	<source src=\"/media/andro/video/02-03/v.mp4\" />\n</video> \n\n-->\n\n\n',NULL,1,1,'N',0,'util.js','2013-12-20 08:26:18','2014-03-01 15:00:41'),(266,'CGridView 中 value 属性的值问题','<h4></h4>\n<pre class=\"brush: php\">\n	\'columns\'=>array(\n		array(\n			\'name\'=>\'customer_short_name\',\n			\'type\' => \'html\',\n			\'value\'=>\'Order::getStockOutCustomerNameLink($data->id)\',\n		),\n	),\n</pre>\ncolumns 值用来定义表格单元格的内容，客户名称栏我们需要显示内容如下：\n<pre class=\"brush: php\">\n<a data-action=\"view\" class=\"LiteOrderViewPrint\" href=\"order/view?id=2347\">上海日腾中</a>\n</pre>\n\n此 HTML 内容用 Yii 内置的 CHtml::link() 方法实现，写法如下：\n<pre class=\"brush: php\">\n\'value\' => \'CHtml::link($data->customer->short_name,\"order/view?id=$data->id\",array(\n	\"data-action\"=>\"view\",\n	\"class\"=>\"LiteOrderViewPrint\")\n)\',\n</pre>\n	但是生成的 HTML 代码并不完整，data-action 属性丢失，\n	分析原因可能是上面的写法不符合 value 属性允许的 \"PHP Expression\" 要求。\n\n	<h4>另一种方法也不行</h4>\n\n	改用一个函数来完成（见最开始 value 属性值），但结果仍无变化。\n\n	<h4>可行的办法</h4>\n\n	仍是上面的函数，将 return 语句改为 echo 语句正常，真是奇怪。\n<!--\n<br/><br/>\n<h4></h4>\n<pre class=\"brush: php\">\n</pre>\n<ul><li>\n</li><li>\n</li></ul>\n<blockquote>\n<p class=\"source\"></p>\n</blockquote>\n<img class=\"lf\" src=\"/img/page/2013/andro.20130103.jpg\" />\n-->\n',NULL,1,1,'N',0,'util.js','2014-02-19 11:03:03','2014-02-27 13:20:22'),(267,'2014年2月中','<div class=\"diary\">\n	<h4 name=\"20140221\">HeHe</h4>\n	<video controls=\"controls\" preload=\"auto\"> \n	<source src=\"/media/andro/video/02-03/20140218.mop-floor-then-slip.mp4\">\n	</video>\n		go\n	<br>\n	<img  src=\"/media/andro/photo/02-03/xx.jpg\" />\n</div>\n\n<div class=\"diary\">\n	<h4 name=\"20140220\">2014年2月20日（周四 晴）理发店想拿乒乓球</h4>\n</div>\n\n<div class=\"diary\">\n	<h4 name=\"20140221\">早上看电视</h4>\n</div>\n\n<!--\n<div class=\"diary\">\n	<h4 name=\"20140220\"> （周四 晴）</h4>\n</div>\n-->\n',NULL,1,1,'N',0,'util.js','2014-02-20 16:09:04','2014-02-27 13:20:22'),(268,'2014年2月下','	<div class=\"diary\">\n	<h4 name=\"20140221\">\n	2014年2月21日（周五 晴）害眼＋感冒流鼻涕\n	</h4>\n\n	早上一起床，我趁家人不注意，自己就把电视打开了，这在之前是从没有过的。\n	爸爸责怪我说一会儿还要上学，万一迟到了怎么办。现在电视已经打开了，\n	立刻关掉也没太大意义，爸爸便把昨晚看的动画电影《神偷奶爸２》\n	重新播放，同时对我说下不为例。\n	<br/><br/>\n\n	早上爸爸自己带我上学，刚出家门，一想到妈妈没有在身边，我又有些委屈，\n	想着想着，眼角竟泛起了泪花。爸爸好容易才将我的注意力转移开来。\n	<br/><br/>\n\n	爸爸下班回家，一进门奶奶就说让爸爸吃完饭带着我去诊所看眼，爸爸问怎么了，\n	妈妈说下午去接我时发现我的右眼有点红，而且老是流鼻涕，说话的声音也不对，\n	有点感冒的样子。吃完饭，爸爸带着我和妈妈到老城的诊所去看病。\n	医生说我的眼睛是因为接触到脏东西引起的，另外还有点感冒。\n	医生给我开了些药后，我们便回家。到家后，奶奶已经躺床上准备休息。\n	看到我们回来，奶奶说让我洗洗脚，还说有句俗语叫“害眼洗脚，胜似吃药”。\n	爸爸听后一笑了之，也没多说什么，便给我洗脚，反正洗脚又没坏处。\n	<br/><br/>\n\n	尽管身体不适，但我好像一点事都没有，在沙发上上窜下跳，玩得不亦乐乎。\n	下午妈妈接我出校门时，我又让妈妈给我买了一个钓鱼的玩具。\n	我晚上睡觉前又在床上玩了会钓鱼。\n	</div>\n\n	<!--\n	<div class=\"diary\">\n		<h4 name=\"20140220\"> （周四 晴）</h4>\n	</div>\n	-->\n\n',NULL,1,1,'N',0,'util.js','2014-02-21 08:25:49','2014-02-27 13:20:22'),(269,'在Yii中引入PHPExcel教程','\n	<div class=\"keynote\">\n	此文仅是一个快速上手教程，里面有很多的细节值得思考，因此此文尚待更新。\n	</div>\n	步骤如下：\n	<ol><li>\n	在 protected/ 目录下新建目录 extensions/, 将 PHPExcel 类库放至改目录下。\n	目录结构如下：\n	<pre>\neo/protected/extensions/\n	-- PHPExcel/\n	-- PHPExcel.php</pre>\n	注：此目录结构适用的 PHPExcel 版本号为 1.7.6\n	</li><li>\n	修改 config/main.php 文件如下：\n	<pre class=\"brush: php\">\n	return array(\n		...\n		\'import\'=>array(\n			\'application.models.*\',\n			\'application.components.*\',\n			\'application.extensions.*\', // 1\n		),\n		\'components\'=>array(\n			...\n			\'excel\'=>array(\n				\'class\'=>\'application.extensions.PHPExcel\',\n			), // 2\n		),\n	);\n	</pre>\n\n	</li><li>\n	在 Controller 中使用 PHPExcel. 假设我们想通过访问 eo/report/excel/ \n	链接来下载 Excel 文件，那么 ReportController 的 actionExcel() \n	方法主要内容如下：\n	<pre class=\"brush:php\">\n	public function actionExcel(){\n	\n		$phpExcelPath = Yii::getPathOfAlias(\'ext\');\n		spl_autoload_unregister(array(\'YiiBase\',\'autoload\')); \n		include($phpExcelPath.\'/PHPExcel.php\');\n		//spl_autoload_register(array(\'YiiBase\',\'autoload\')); \n\n		$objPHPExcel = new PHPExcel();\n		...\n	}</pre>\n	至此，$objPHPExcel生成，PHPExcel 和 Yii 正式打通，\n	接下来就可以像往常一样使用 PHPExcel 了。\n	</li></ol>\n\n	<h3></h3>\n	参考：\n	<ul><li>\n	http://www.yiiframework.com/wiki/101/how-to-use-phpexcel-external-library-with-yii/\n	<br>\n	此链接里介绍的函数 spl_autoload_unregister() 管用；\n	</li><li>\n	http://www.yiiframework.com/forum/index.php/topic/18486-new-way-to-use-phpexcel-with-yii-framework/\n	<br>\n	</li><li>\n	http://www.yiiframework.com/forum/index.php/topic/29225-tip-using-phpexcel-with-yii/\n	</li></ul>\n\n<!--\n	<video controls=\"controls\" preload=\"auto\"> \n		<source src=\"/media/andro/video/02-03/20140218.mop-floor-then-slip.mp4\">\n	</video>\n	<br>\n	<img  src=\"/media/andro/photo/02-03/xx.jpg\" />\n	<h4></h4>\n	<pre class=\"brush: php\">\n	</pre>\n	<ul><li>\n	</li><li>\n	</li></ul>\n	<blockquote>\n	<p class=\"source\"></p>\n	</blockquote>\n-->\n',NULL,1,1,'N',0,'util.js','2014-02-21 14:11:15','2014-02-27 16:26:06'),(270,'用 Vim 编辑博客正文的想法','	\n	这是凌晨躺在床上想到的，大致步骤如下：\n	<ol><li>\n	将 essay 主内容存入数据库，文章页面放至两个按钮，分别为：“编辑正文”和\n	“保存正文”；\n	</li><li>\n	新建一个名称固定的空文件，例如: /home/ts/www/essay/edit-save.php\n	</li><li>\n	在 .bashrc 中添加一个用 vim 打开此文件的 alias;\n	</li><li>\n	当单击“编辑正文”按钮时，将存于数据库中的正文部分写入到 edit-save.php\n	中；\n	</li><li>\n	打开终端，键入上面的 alias (可以取名 ee), 即可编辑。编辑结束记着 :w\n	保存；\n	</li><li>\n	单击“保存正文”按钮后利用 PHP 将 edit-save.php \n	文件中的内容重新写入数据库；\n	</li></ol>\n\n\n	<h3>Update:2014年2月27日</h3>\n	想法已基本实现！现在的主要问题是 Yii 的 CListView 的 AJAX \n	翻页功能不能添加相应事件。\n\n	<!--\n	<img  src=\"/media/andro/photo/02-03/8.jpg\" />\n	-->\n',NULL,1,1,'N',0,'util.js','2014-02-22 08:46:14','2014-02-28 08:19:02'),(271,'咳嗽第三天','\n	上午十点我跟着爸妈去洗澡，洗完回来已经快十二点了。\n	爸爸到外面饭店拎了两个菜回来，中午吃了点米饭。\n	<br><br>\n\n	下午我咳嗽得又严重起来，刚好前两天开的药已经吃完，\n	奶奶让爸妈带着我再开些药。本来打算还到老城那个诊所，\n	但妈妈担心经常给我看病那个女医生不在诊所，而另外那个男的看病效果一般，\n	于是爸妈领着我到成皋路上一个社区诊所去看病。\n	<img  src=\"/media/andro/photo/02-03/20140223-05.jpg\" />\n	<img  src=\"/media/andro/photo/02-03/20140223-06.jpg\" />\n',NULL,1,1,'N',0,'util.js','2014-02-23 09:33:18','2014-02-28 14:57:00'),(272,'早上咳嗽得厉害＋爸爸做灯笼','	<p>\n	全家人过个周末比平常都累。昨天后半夜我又尿床了，爸爸早上也睡过头，\n	起来做饭时已经 6:30. 我早上醒来后咳嗽得很厉害，这让全家人心里都很难受：\n	奶奶不停地在她的卧室里对爸妈说让我赶紧喝点热水压压，\n	爸爸在厨房炒菜心里想着是不是昨天开得药不起作用、\n	万一今天一天还不好怎么办这样的问题。\n	</p>\n\n	<p>\n	上周末老师给爸妈发短信说今天要几样东西到学校，妈妈除了橡皮泥外都已备齐。\n	爸爸带上老师要求的东西和我中午吃的药，领着我上学。走到学校门口，\n	爸爸到商店里买橡皮泥。\n	</p>\n\n	爸爸下班后第一件事就是问妈妈我今天咳嗽好些没有，妈妈说不怎么咳嗽了。\n	爸爸注意到我穿了一条之前没见过的蓝色裤子，问妈妈什么时候买的，\n	妈妈说哪啊，是我今天在学校尿裤子，老师给我换了一条学校的裤子！\n	爸爸说真是服了我了，半夜尿不说，白天也尿。\n	<br /><br />\n\n	另外一件事就是老师给家长发短信说明天去学校让带一个灯笼去，说是上课要用。\n	爸爸刚吃完饭，奶奶就催爸爸出去买，省得去晚人家关门。\n	爸爸出去转了一大圈也没碰到一个卖灯笼的。这也并不稀奇，\n	灯笼这东西跟月饼、粽子一样，都属于特定时期内才会有的，\n	眼下元宵节早已过去，哪里会有灯笼？！眼看买灯笼已不现实，\n	爸爸决定买些做灯笼的工具，回去 DIY.\n	<br /><br />\n\n	到家后爸爸找来一个装奶粉的盒子，用给我买的理发器里带的图形模板在盒子\n	四周剪出几个图案，再用饮料盒子外包装上的绳子系上去。\n	等完工后我早已睡去，爸爸拎着自己亲手做的灯笼让妈妈看，\n	妈妈说奶粉盒子看上去太花，最好用红纸在周围糊一圈，\n	爸爸觉得妈妈说的有道理，幸好爸爸在外面买的有胶水，很快，红纸就糊上去了。\n	再一看，有点灯笼的意思了。最后爸爸把灯笼系在一根筷子上，\n	再用绿色的胶带将筷子整个缠一圈，大功告成！\n	爸爸希望明天这个灯笼拿到学校还能过得去。\n\n	<img  src=\"/media/andro/photo/02-03/20140224-07.jpg\" />\n',NULL,1,1,'N',0,'util.js','2014-02-24 09:46:54','2014-02-27 13:20:22'),(273,'凌晨连着咳嗽两小时','	凌晨四点我醒了，之后就是不停地咳嗽，一直咳嗽到早上六点，\n	爸爸听着我的咳嗽声根本睡不着，而且越听心情越差。\n	<br /><br />\n\n	早上起床后我看见挂在冰箱上的灯笼，我打着灯笼，脸上露出笑容。\n\n	<img  src=\"/media/andro/photo/02-03/20140225-08.jpg\" />\n',NULL,1,1,'N',0,'util.js','2014-02-25 09:09:15','2014-02-27 16:00:22'),(274,'First one dd','	First Test.\n	haha.\n	<br /><br />\n\n<pre class=\"brush: php\">\necho \'kuixy\';\n</pre>\n',NULL,1,1,NULL,NULL,NULL,'2014-02-27 11:26:17','2014-02-28 13:43:10'),(275,'一张全家福照片引起的风波','\n	学校老师下午四点给家长发短信说让明天带一张全家福照片，\n	爸爸妈妈对老师这种凡事不提前打招呼的行为十分恼火。\n	前两天让带灯笼就是如此，这次让带照片难度更大，\n	因为临时去照相时间紧，代价又高。爸爸起初打算在家用相机照一张，\n	再出去找看能不能打印出来。但是准备照相的时候我闹得厉害，\n	爸爸朝我腿上打了一下让我快点，结果我哭起来。这下哭着怎么照全家福？\n	爸爸一生气说不照了，奶奶在一旁说让我们还是出去照，\n	爸爸顺着奶奶的意思硬着头皮出去了。出去后妈妈两手空空，\n	电动车钥匙、钱和纸巾（照相时给我擦脸用）都没带，\n	而这些东西在爸爸看来妈妈理所当然都应带的，但是妈妈没有。\n	爸爸这下生气了，在去照相的路上爸爸又和妈妈争吵起来，\n	最后爸爸妈妈都生对方的气，爸爸自己回来，妈妈气得也带着我走了。\n	奶奶见只有爸爸回来，我和妈妈没有回来，向爸爸追问出他和妈妈生气的事，\n	便又把爸爸撵出去，让他出去找我和妈妈。晚上八点二十，妈妈带着我回到家，\n	奶奶让我给爸爸打电话让他回来。\n\n',NULL,1,1,NULL,NULL,NULL,'2014-02-26 20:53:28','2014-02-28 20:54:37'),(276,'看病＋学话','	\n	昨天半夜尿床，早上五点咳嗽得厉害。\n	<br /><br />\n\n	妈妈晚上对爸爸说我的药已经吃完，问怎么办，言外之意是用不用再去开些药。\n	考虑到今天早上还咳嗽，加上奶奶和妈妈都说我下午放学回家又咳嗽，\n	爸爸决定再带我到成皋路上那个诊所去抓药，妈妈因为感冒不舒服没有跟着去。\n	今天一整天都淅淅沥沥地下着小雨，爸爸带了把雨伞，带着我出了门。\n	<br /><br />\n\n	到诊所后，爸爸忙着排队，我在屋里跑来跑去。轮到我时，\n	给我看病的那个爷爷照例用听诊器先给我听听，我好像很喜欢这个动作，\n	当然还有接下来用手电筒照我的嘴。当大夫伸手去拿棉签时，\n	我已迫不及待地张大嘴巴等着，嘴里还发出“啊”的声音，\n	我的这一举动引起身边看病的阿姨连连称赞，他们都说我听话。\n	医生检查完说我的嗓子炎症仍未消除，又给我开了些药。\n	<br /><br />\n\n	回到家后，我在客厅又玩耍起来。爸爸见我拿着玩具手枪对着他，\n	嘴上还说着“开枪了”时，对我说不能拿着枪对着人，而应枪口朝上。\n	说完，爸爸从我手中接过枪，起身给我示范。只见爸爸站起来，\n	枪口朝上将枪高高举起来，嘴上说：“不许动！再动我就开枪了啊！”\n	说完把枪还给我，让我跟着他学。我依葫芦画瓢，也将枪口朝上举起枪，\n	嘴上说：“我开枪了啊！”爸爸忙说不能上去就开枪，应该先警告。\n	估计是爸爸刚说的那句话太长了，我只记住了最后一段。\n	爸爸又重复一遍刚说的话，让我跟着他学。\n	这一次我说道：“不许动，我开枪了啊！”一句话把爸爸妈妈都逗乐了。\n',NULL,1,1,NULL,NULL,NULL,'2014-02-28 21:29:00','2014-02-28 21:29:00'),(277,'鲁柯身份证被消磁的事','\n	自己的用 Vim 编辑文章的想法上午终于得以实现，\n	记录个人信息的道路上又上了一个新台阶，以后终于可以静心记录了，\n	忽然觉得印象笔记、未知笔记这些都是浮云呀。\n	<br /><br />\n\n	快中午时厂长让我打印一张招聘厨师的纸贴到外面，还说候不干了，\n	而且是下午就走，人家已经找了一个称心的工作。\n	猴子这突然一走搞得厂长有些措手不及，\n	我当时体会到的是作为一个管理者的辛苦，真是大事小事都得过问呀。\n	<br /><br />\n\n	下午鲁柯突然打电话说他的身份证没有磁性了，去派出所补办身份证，\n	但是派出所的人却问他户口本上其中两个人的父母都叫什么名字，\n	我没想太多，就把我所知的告诉他。\n	结果派出所的人说这两个人其中有一个可能是双户口，必须先消户，\n	才能补办身份证。这让我想到安琢出生上户口时派出所的人也为难了我一番，\n	最后若不是炎伟哥找熟人，真不知道该如何是好。从这件事我有两个体会：\n	一是等有了钱，一定要拥有自己的房子，自己当真正的户主，\n	永远告别跟派出所打交道的历史！第二点体会是我太在意别人的感受，\n	像这种情况可以适当地做到“事不关己，高高挂起”，毕竟，\n	他自己的老爹都不操心自己那么上心干嘛\n	（他爸只是简单让他给向姐打电话问张夏）？\n	从鲁柯身上得到的教训是：户口本和身份证，\n	包括安琢的出生证明这些东西务必放好，身份证防止被消磁，不要没事找事。\n	<br /><br />\n\n	另早上羊在网上又说起做监控网站的事，还把 Java 的代码发了过来。\n	我的感受是只有自己准备好了，机会对自己才是机会。\n',NULL,1,1,NULL,NULL,NULL,'2014-02-28 21:55:49','2014-03-01 15:00:19'),(278,'简单美化 SyntaxHighlighter 插件','	Yii 里已有现成的插件可以方便地使用语法高亮插件 SyntaxHighlighter,\n	但安装后默认的显示样式看着太别扭，主要问题有：\n	<ol><li>\n	水平和垂直滚动条总是可见，哪怕只有一行代码；\n	</li><li>\n	右上角问号很碍眼；\n	</li><li>\n	行数显示也无必要；\n	</li></ol>\n\n	<h3>消除问号和行数</h3>\n	SyntaxHighlighter 可通过如下两行轻松解决自己的问题：\n	<pre class=\"brush: js\">\nSyntaxHighlighter.defaults.gutter = false;\nSyntaxHighlighter.defaults.toolbar = false;\n	</pre>\n\n	问题是这两行配置代码添加到哪里？\n	<pre>\nts@TS:~/www/blog/protected/extensions/JMSyntaxHighlighter$\nJMSyntaxHighlighter.php 在此文件内\nreadme.md\nsyntaxhighlighter/\n	</pre>\n\n	<h3>消除滚动条</h3>\n	shCore.css 文件\n	<pre class=\"brush: css\">\n.syntaxhighlighter {\n	overflow: auto !important;\n}\n	</pre>\n	这里的 overflow 属性即是用来控制滚动条的，我们此属性值改为：\n	<pre class=\"brush: css\">\noverflow-y: hidden !important;\noverflow-x: auto !important;\n	</pre>\n	但问题是修改后 Chrome (version: 12.0.742.124) 仍不行，\n	在确认 Firefox 正常后知道问题很可能出在 Chrome 版本太旧上。\n	还有另外一种方法可以弥补这一问题，那就是将上面的 css 语句单独放在\n	head 标签内，而不是修改 shCore.css 文件。\n	目前采用的就是此方法。\n\n<h4>参考</h4>\n<ul><li>\n<a href=\"http://www.yiiframework.com/extension/syntaxhighlighter/\">http://www.yiiframework.com/extension/syntaxhighlighter/</a>\n</li><li>\nhttp://alexgorbatchev.com/SyntaxHighlighter/manual/configuration/\n</li></ul>\n',NULL,1,1,NULL,NULL,NULL,'2014-03-01 17:17:55','2014-03-01 17:17:55'),(279,'添加按分类、标签查看文章的功能','今天的工作内容是把 Essay 按类别和标签两种方式显示出来。\n当中发现用 Essay Class 作为 DataProvider 达不到搜索分类、标签的目的，\n因为 Essay Class 中唯一的 Relation 是 MANY_MANY 的 categories.\n之后改用 EssayCategory Class 作 DataProvider 解决了此问题。\n\n我的初衷是想将文章以类似印象笔记的形式显示，即可以将分类、\n标签和关键词进行组合搜索。但现在看来可行度不高，\n因为分类和标签不能组合搜索（两个单独的 DataPrivider）\n',NULL,1,1,NULL,NULL,NULL,'2014-03-01 21:24:40','2014-03-01 21:24:40'),(280,'嗓子难受＋急躁','\n	嗓子难受，加上 Essay 模块进展缓慢（Yii 不熟练），今天心情不佳。\n	<br /><br />\n\n	晚上吃了整整一个烧饼夹肉，因担心消化不好，晚上独自出门步行至广武路口。\n	散步中又想起今天的事，觉得不能因为此就变得气馁，坚持。\n',NULL,1,1,NULL,NULL,NULL,'2014-03-01 21:34:22','2014-03-01 21:34:22'),(281,'妈妈带被褥到乡里','早上我一下睡到七点半才起床，妈妈终于可以多睡会。\n\n爸爸下班后开车走到小区门口，车子还没停好，突然发现我和妈妈就站在小区门口\n，妈妈说我非要出来转转。晚上妈妈对爸爸说明天不能让我再吃鸡蛋卷了，\n因为我下午吃了两个后咳嗽又严重起来。\n\n近段时间，除了爷爷，全家人都感冒了，而且嗓子都很难受。爷爷身体大不如前，\n我这几天用妈妈的话说“很不听话”，一老一少让爸爸有些无奈。\n\n明天晚上妈妈值班就得住乡里了，爸爸晚上把妈妈的被褥带到乡里。\n',NULL,1,1,NULL,NULL,NULL,'2014-03-01 21:46:35','2014-03-01 21:46:35'),(282,'游乐场玩耍＋理发＋半夜咳嗽','\n	早上爸爸带我到家附近新开的一家叫“卡卡兔”的游乐园玩，\n	尽管之前我也在类似的游乐园玩过，但这并不妨碍我的兴致。\n	我在里面玩了将近两个小时，十二点才回家。\n	<br /><br />\n\n	今天是“龙抬头”的日子，下午爸爸在家给我理发。之后爸妈打算给我买件衣服，\n	但逛了几个地方都没有相中的，最后空手而归。\n	<br /><br />\n\n	我现在有个坏习惯是不管走到哪，看见想要的东西就哭闹着要大人买。\n	下午去买衣服如此，晚上爸爸带我到药店买药也如此，这让爸妈感到头疼。\n	爸爸今天嗓子仍旧难受得很，身体上的不适让他的情绪变得易怒，\n	今天已经朝着我大声嚷了两三次了。\n	<br /><br />\n\n	今天晚上妈妈值班回不来，我跟着爸爸睡觉。\n',NULL,1,1,NULL,NULL,NULL,'2014-03-02 21:47:16','2014-03-04 09:09:50'),(283,'别再吃油炸花生米','\n	这次上火再不见好转了，成皋路那个医生不行，早上到惠厂又开了些药。\n	<br /><br />\n\n	上班的烦心事是二楼的检测仪器和打包机分别都不能用。\n',NULL,1,1,NULL,NULL,NULL,'2014-03-03 17:01:38','2014-03-03 17:01:38'),(284,'管住嘴，别“作”','\n	\n	刚开始不咳嗽的（只是发热、喉咙疼），现在开始咳嗽；本来没痰的，\n	今天开始有痰；\n',NULL,1,1,NULL,NULL,NULL,'2014-03-04 09:08:30','2014-03-04 09:42:32'),(285,'晚上咳嗽怎么办？！','全家人嗓子都都难受，搞得爸爸这俩天心情糟糕透了。\n\n晚上爸爸决定带我到老城再看看，到了发现人家没有开门。\n回来的路上经过成皋路，爸爸犹豫去不去成皋路那家诊所再开些药，\n本来爸爸不打算去，因为觉得他开的药效果不好，\n但一想起昨天夜里咳嗽一整夜的情形，爸爸还是带着我去了。\n效果不好总比不吃药没效果好些吧。\n',NULL,1,1,NULL,NULL,NULL,'2014-03-03 09:17:22','2014-03-04 09:17:33'),(286,'Yii 基础速查','涉及 URL 的代码都用如下形式：\n	[php]\n	echo Yii::app()->request->baseUrl; // \'/blog\' 注意，末尾无斜扛\n	[/php]\n而不是使用诸如 \'/blog/essay/\' 这样的 Hardcode.这样的好处显而易见：\n将来如果程序的主目录（blog/）名称发生改变，迁移起来将很方便。\n',NULL,1,1,NULL,NULL,NULL,'2014-03-04 09:58:53','2014-03-05 09:19:54'),(287,'CListView跟SyntaxHighlighter结合使用的 Bug','使用 CListView 显示文章，页面跳转后文章中语法高亮失效，\n而且页面垂直滚动条回不到页面顶端。\n\nCListView 不能使用和 view 相同的模板。\n\n	[php]\n	echo \'hello markdown\';\n	date(\'Y-m-d\');\n',NULL,1,1,NULL,NULL,NULL,'2014-03-04 15:54:18','2014-03-04 15:55:09'),(288,'呕吐三次2','前半夜一共吐了三次，褥子、被子、枕头还有衣服，换了又换，\n从吐出来的东西看，这回很可能是下午放学在学校外面吃烤肠引起的。\n爸爸都有些无语了。\n',NULL,1,1,NULL,NULL,NULL,'2014-03-04 08:22:57','2014-03-08 14:22:48'),(289,'标签 Autocomplete 功能','Essay 标签输入框准备添加自动填充功能，Yii 中已对此进行整合，\n名字叫 CJuiAutocomplete. 这里需要具备多重输入功能， \n\nAutocomplete 官方 API 中刚好有个满足自己需求的小例子，拿来用。\n',NULL,1,1,NULL,NULL,NULL,'2014-03-05 11:09:13','2014-03-05 11:09:13'),(290,'Markdown','在了解了 Markdown 的语法后，用“相见恨晚”这四个字来形容我此刻的心情再合适不过了，\n这简直就是我梦寐以求的东西呀！\n\n### 段落\n多个段落用空行隔开即可，从此再也不用担心 Vim 右侧讨厌的 &gt; 符号了。\n\n### Links\n语法：\n\n	[link text](http://site \"hint\")\n举例：此文的链接\n[地址](http://daringfireball.net/projects/markdown/syntax \"Daring Fireball\")：\n\n### Image\n图片的语法和链接的语法非常相似，最大的不同就是图片的 _最前面_ 有一个**感叹号**。\n\n	![sex](/media/andro/photo/02-03/xx.jpg \"dro\")\n\n### 强调\n用__两个__星号（或下划线）包裹：\n\n	**kuixy**\n	__chnkui__\n\n注：单个星号和单个下划线起**斜体**作用。 *test* it, using _under line_.\n\n### 引用\n我的格言：\n\n> Respect Is Eared.\n> I like it very much.\n>\n> Hello from another p.\n\n不错吧\n\n### 有序、无序列表\n这个更简单了：\n\n-	Hello.\n-	word.\n-	good.\n\n有序：\n\n1.	Hello.\n2.	word.\n3.	good.\n\n### &lt;code&gt;\n	`` (Esc 下面那个键)\n\n例如：`CListView` Class do it.\n\n### 代码块 Syntax Highlighting\n>	A code block continues until it reaches **a line that is not indented**\n>	(or the end of the article).\n\n	[php]\n	echo \'hello m.arkdown\';\n	date(\'Y-m-d\');\n真不错\n',NULL,1,1,NULL,NULL,NULL,'2014-03-07 08:27:11','2014-03-07 10:52:29'),(291,'CListView的\'afterAjaxUpdate\'无须额外运行','CListView 中的 \'afterAjaxUpdate\' 参数用于页面内容刷新后添加 JS 事件，\n其值是一个JavaScript函数，例如：\n\n	[php]\n	$this->widget(\'zii.widgets.CListView\', array(\n		...\n		\'afterAjaxUpdate\' => \'essay_list\',\n	));\n\n需要注意的是 essay_list() 函数在 CListView View 页面首次加载时也会运行，\n所以无须额外运行此函数。\n',NULL,1,1,NULL,NULL,NULL,'2014-03-06 14:02:08','2014-03-08 14:00:42'),(292,'Markdown Syntax','Markdown: Syntax\n================\n\n*   [Overview](#overview)\n    *   [Philosophy](#philosophy)\n    *   [Inline HTML](#html)\n    *   [Automatic Escaping for Special Characters](#autoescape)\n*   [Block Elements](#block)\n    *   [Paragraphs and Line Breaks](#p)\n    *   [Headers](#header)\n    *   [Blockquotes](#blockquote)\n    *   [Lists](#list)\n    *   [Code Blocks](#precode)\n    *   [Horizontal Rules](#hr)\n*   [Span Elements](#span)\n    *   [Links](#link)\n    *   [Emphasis](#em)\n    *   [Code](#code)\n    *   [Images](#img)\n*   [Miscellaneous](#misc)\n    *   [Backslash Escapes](#backslash)\n    *   [Automatic Links](#autolink)\n\n\n**Note:** This document is itself written using Markdown; you\ncan [see the source for it by adding \'.text\' to the URL][src].\n\n  [src]: /projects/markdown/syntax.text\n\n* * *\n\n<h2 id=\"overview\">Overview</h2>\n\n<h3 id=\"philosophy\">Philosophy</h3>\n\nMarkdown is intended to be as easy-to-read and easy-to-write as is feasible.\n\nReadability, however, is emphasized above all else. A Markdown-formatted\ndocument should be publishable as-is, as plain text, without looking\nlike it\'s been marked up with tags or formatting instructions. While\nMarkdown\'s syntax has been influenced by several existing text-to-HTML\nfilters -- including [Setext] [1], [atx] [2], [Textile] [3], [reStructuredText] [4],\n[Grutatext] [5], and [EtText] [6] -- the single biggest source of\ninspiration for Markdown\'s syntax is the format of plain text email.\n\n  [1]: http://docutils.sourceforge.net/mirror/setext.html\n  [2]: http://www.aaronsw.com/2002/atx/\n  [3]: http://textism.com/tools/textile/\n  [4]: http://docutils.sourceforge.net/rst.html\n  [5]: http://www.triptico.com/software/grutatxt.html\n  [6]: http://ettext.taint.org/doc/\n\nTo this end, Markdown\'s syntax is comprised entirely of punctuation\ncharacters, which punctuation characters have been carefully chosen so\nas to look like what they mean. E.g., asterisks around a word actually\nlook like \\*emphasis\\*. Markdown lists look like, well, lists. Even\nblockquotes look like quoted passages of text, assuming you\'ve ever\nused email.\n\n\n\n<h3 id=\"html\">Inline HTML</h3>\n\nMarkdown\'s syntax is intended for one purpose: to be used as a\nformat for *writing* for the web.\n\nMarkdown is not a replacement for HTML, or even close to it. Its\nsyntax is very small, corresponding only to a very small subset of\nHTML tags. The idea is *not* to create a syntax that makes it easier\nto insert HTML tags. In my opinion, HTML tags are already easy to\ninsert. The idea for Markdown is to make it easy to read, write, and\nedit prose. HTML is a *publishing* format; Markdown is a *writing*\nformat. Thus, Markdown\'s formatting syntax only addresses issues that\ncan be conveyed in plain text.\n\nFor any markup that is not covered by Markdown\'s syntax, you simply\nuse HTML itself. There\'s no need to preface it or delimit it to\nindicate that you\'re switching from Markdown to HTML; you just use\nthe tags.\n\nThe only restrictions are that block-level HTML elements -- e.g. `<div>`,\n`<table>`, `<pre>`, `<p>`, etc. -- must be separated from surrounding\ncontent by blank lines, and the start and end tags of the block should\nnot be indented with tabs or spaces. Markdown is smart enough not\nto add extra (unwanted) `<p>` tags around HTML block-level tags.\n\nFor example, to add an HTML table to a Markdown article:\n\n    This is a regular paragraph.\n\n    <table>\n        <tr>\n            <td>Foo</td>\n        </tr>\n    </table>\n\n    This is another regular paragraph.\n\nNote that Markdown formatting syntax is not processed within block-level\nHTML tags. E.g., you can\'t use Markdown-style `*emphasis*` inside an\nHTML block.\n\nSpan-level HTML tags -- e.g. `<span>`, `<cite>`, or `<del>` -- can be\nused anywhere in a Markdown paragraph, list item, or header. If you\nwant, you can even use HTML tags instead of Markdown formatting; e.g. if\nyou\'d prefer to use HTML `<a>` or `<img>` tags instead of Markdown\'s\nlink or image syntax, go right ahead.\n\nUnlike block-level HTML tags, Markdown syntax *is* processed within\nspan-level tags.\n\n\n<h3 id=\"autoescape\">Automatic Escaping for Special Characters</h3>\n\nIn HTML, there are two characters that demand special treatment: `<`\nand `&`. Left angle brackets are used to start tags; ampersands are\nused to denote HTML entities. If you want to use them as literal\ncharacters, you must escape them as entities, e.g. `&lt;`, and\n`&amp;`.\n\nAmpersands in particular are bedeviling for web writers. If you want to\nwrite about \'AT&T\', you need to write \'`AT&amp;T`\'. You even need to\nescape ampersands within URLs. Thus, if you want to link to:\n\n    http://images.google.com/images?num=30&q=larry+bird\n\nyou need to encode the URL as:\n\n    http://images.google.com/images?num=30&amp;q=larry+bird\n\nin your anchor tag `href` attribute. Needless to say, this is easy to\nforget, and is probably the single most common source of HTML validation\nerrors in otherwise well-marked-up web sites.\n\nMarkdown allows you to use these characters naturally, taking care of\nall the necessary escaping for you. If you use an ampersand as part of\nan HTML entity, it remains unchanged; otherwise it will be translated\ninto `&amp;`.\n\nSo, if you want to include a copyright symbol in your article, you can write:\n\n    &copy;\n\nand Markdown will leave it alone. But if you write:\n\n    AT&T\n\nMarkdown will translate it to:\n\n    AT&amp;T\n\nSimilarly, because Markdown supports [inline HTML](#html), if you use\nangle brackets as delimiters for HTML tags, Markdown will treat them as\nsuch. But if you write:\n\n    4 < 5\n\nMarkdown will translate it to:\n\n    4 &lt; 5\n\nHowever, inside Markdown code spans and blocks, angle brackets and\nampersands are *always* encoded automatically. This makes it easy to use\nMarkdown to write about HTML code. (As opposed to raw HTML, which is a\nterrible format for writing about HTML syntax, because every single `<`\nand `&` in your example code needs to be escaped.)\n\n\n* * *\n\n\n<h2 id=\"block\">Block Elements</h2>\n\n\n<h3 id=\"p\">Paragraphs and Line Breaks</h3>\n\nA paragraph is simply one or more consecutive lines of text, separated\nby one or more blank lines. (A blank line is any line that looks like a\nblank line -- a line containing nothing but spaces or tabs is considered\nblank.) Normal paragraphs should not be indented with spaces or tabs.\n\nThe implication of the \"one or more consecutive lines of text\" rule is\nthat Markdown supports \"hard-wrapped\" text paragraphs. This differs\nsignificantly from most other text-to-HTML formatters (including Movable\nType\'s \"Convert Line Breaks\" option) which translate every line break\ncharacter in a paragraph into a `<br />` tag.\n\nWhen you *do* want to insert a `<br />` break tag using Markdown, you\nend a line with two or more spaces, then type return.\n\nYes, this takes a tad more effort to create a `<br />`, but a simplistic\n\"every line break is a `<br />`\" rule wouldn\'t work for Markdown.\nMarkdown\'s email-style [blockquoting][bq] and multi-paragraph [list items][l]\nwork best -- and look better -- when you format them with hard breaks.\n\n  [bq]: #blockquote\n  [l]:  #list\n\n\n\n<h3 id=\"header\">Headers</h3>\n\nMarkdown supports two styles of headers, [Setext] [1] and [atx] [2].\n\nSetext-style headers are \"underlined\" using equal signs (for first-level\nheaders) and dashes (for second-level headers). For example:\n\n    This is an H1\n    =============\n\n    This is an H2\n    -------------\n\nAny number of underlining `=`\'s or `-`\'s will work.\n\nAtx-style headers use 1-6 hash characters at the start of the line,\ncorresponding to header levels 1-6. For example:\n\n    # This is an H1\n\n    ## This is an H2\n\n    ###### This is an H6\n\nOptionally, you may \"close\" atx-style headers. This is purely\ncosmetic -- you can use this if you think it looks better. The\nclosing hashes don\'t even need to match the number of hashes\nused to open the header. (The number of opening hashes\ndetermines the header level.) :\n\n    # This is an H1 #\n\n    ## This is an H2 ##\n\n    ### This is an H3 ######\n\n\n<h3 id=\"blockquote\">Blockquotes</h3>\n\nMarkdown uses email-style `>` characters for blockquoting. If you\'re\nfamiliar with quoting passages of text in an email message, then you\nknow how to create a blockquote in Markdown. It looks best if you hard\nwrap the text and put a `>` before every line:\n\n    > This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,\n    > consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.\n    > Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.\n    > \n    > Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse\n    > id sem consectetuer libero luctus adipiscing.\n\nMarkdown allows you to be lazy and only put the `>` before the first\nline of a hard-wrapped paragraph:\n\n    > This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,\n    consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.\n    Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.\n\n    > Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse\n    id sem consectetuer libero luctus adipiscing.\n\nBlockquotes can be nested (i.e. a blockquote-in-a-blockquote) by\nadding additional levels of `>`:\n\n    > This is the first level of quoting.\n    >\n    > > This is nested blockquote.\n    >\n    > Back to the first level.\n\nBlockquotes can contain other Markdown elements, including headers, lists,\nand code blocks:\n\n	> ## This is a header.\n	> \n	> 1.   This is the first list item.\n	> 2.   This is the second list item.\n	> \n	> Here\'s some example code:\n	> \n	>     return shell_exec(\"echo $input | $markdown_script\");\n\nAny decent text editor should make email-style quoting easy. For\nexample, with BBEdit, you can make a selection and choose Increase\nQuote Level from the Text menu.\n\n\n<h3 id=\"list\">Lists</h3>\n\nMarkdown supports ordered (numbered) and unordered (bulleted) lists.\n\nUnordered lists use asterisks, pluses, and hyphens -- interchangably\n-- as list markers:\n\n    *   Red\n    *   Green\n    *   Blue\n\nis equivalent to:\n\n    +   Red\n    +   Green\n    +   Blue\n\nand:\n\n    -   Red\n    -   Green\n    -   Blue\n\nOrdered lists use numbers followed by periods:\n\n    1.  Bird\n    2.  McHale\n    3.  Parish\n\nIt\'s important to note that the actual numbers you use to mark the\nlist have no effect on the HTML output Markdown produces. The HTML\nMarkdown produces from the above list is:\n\n    <ol>\n    <li>Bird</li>\n    <li>McHale</li>\n    <li>Parish</li>\n    </ol>\n\nIf you instead wrote the list in Markdown like this:\n\n    1.  Bird\n    1.  McHale\n    1.  Parish\n\nor even:\n\n    3. Bird\n    1. McHale\n    8. Parish\n\nyou\'d get the exact same HTML output. The point is, if you want to,\nyou can use ordinal numbers in your ordered Markdown lists, so that\nthe numbers in your source match the numbers in your published HTML.\nBut if you want to be lazy, you don\'t have to.\n\nIf you do use lazy list numbering, however, you should still start the\nlist with the number 1. At some point in the future, Markdown may support\nstarting ordered lists at an arbitrary number.\n\nList markers typically start at the left margin, but may be indented by\nup to three spaces. List markers must be followed by one or more spaces\nor a tab.\n\nTo make lists look nice, you can wrap items with hanging indents:\n\n    *   Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\n        Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi,\n        viverra nec, fringilla in, laoreet vitae, risus.\n    *   Donec sit amet nisl. Aliquam semper ipsum sit amet velit.\n        Suspendisse id sem consectetuer libero luctus adipiscing.\n\nBut if you want to be lazy, you don\'t have to:\n\n    *   Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\n    Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi,\n    viverra nec, fringilla in, laoreet vitae, risus.\n    *   Donec sit amet nisl. Aliquam semper ipsum sit amet velit.\n    Suspendisse id sem consectetuer libero luctus adipiscing.\n\nIf list items are separated by blank lines, Markdown will wrap the\nitems in `<p>` tags in the HTML output. For example, this input:\n\n    *   Bird\n    *   Magic\n\nwill turn into:\n\n    <ul>\n    <li>Bird</li>\n    <li>Magic</li>\n    </ul>\n\nBut this:\n\n    *   Bird\n\n    *   Magic\n\nwill turn into:\n\n    <ul>\n    <li><p>Bird</p></li>\n    <li><p>Magic</p></li>\n    </ul>\n\nList items may consist of multiple paragraphs. Each subsequent\nparagraph in a list item must be indented by either 4 spaces\nor one tab:\n\n    1.  This is a list item with two paragraphs. Lorem ipsum dolor\n        sit amet, consectetuer adipiscing elit. Aliquam hendrerit\n        mi posuere lectus.\n\n        Vestibulum enim wisi, viverra nec, fringilla in, laoreet\n        vitae, risus. Donec sit amet nisl. Aliquam semper ipsum\n        sit amet velit.\n\n    2.  Suspendisse id sem consectetuer libero luctus adipiscing.\n\nIt looks nice if you indent every line of the subsequent\nparagraphs, but here again, Markdown will allow you to be\nlazy:\n\n    *   This is a list item with two paragraphs.\n\n        This is the second paragraph in the list item. You\'re\n    only required to indent the first line. Lorem ipsum dolor\n    sit amet, consectetuer adipiscing elit.\n\n    *   Another item in the same list.\n\nTo put a blockquote within a list item, the blockquote\'s `>`\ndelimiters need to be indented:\n\n    *   A list item with a blockquote:\n\n        > This is a blockquote\n        > inside a list item.\n\nTo put a code block within a list item, the code block needs\nto be indented *twice* -- 8 spaces or two tabs:\n\n    *   A list item with a code block:\n\n            <code goes here>\n\n\nIt\'s worth noting that it\'s possible to trigger an ordered list by\naccident, by writing something like this:\n\n    1986. What a great season.\n\nIn other words, a *number-period-space* sequence at the beginning of a\nline. To avoid this, you can backslash-escape the period:\n\n    1986\\. What a great season.\n\n\n\n<h3 id=\"precode\">Code Blocks</h3>\n\nPre-formatted code blocks are used for writing about programming or\nmarkup source code. Rather than forming normal paragraphs, the lines\nof a code block are interpreted literally. Markdown wraps a code block\nin both `<pre>` and `<code>` tags.\n\nTo produce a code block in Markdown, simply indent every line of the\nblock by at least 4 spaces or 1 tab. For example, given this input:\n\n    This is a normal paragraph:\n\n        This is a code block.\n\nMarkdown will generate:\n\n    <p>This is a normal paragraph:</p>\n\n    <pre><code>This is a code block.\n    </code></pre>\n\nOne level of indentation -- 4 spaces or 1 tab -- is removed from each\nline of the code block. For example, this:\n\n    Here is an example of AppleScript:\n\n        tell application \"Foo\"\n            beep\n        end tell\n\nwill turn into:\n\n    <p>Here is an example of AppleScript:</p>\n\n    <pre><code>tell application \"Foo\"\n        beep\n    end tell\n    </code></pre>\n\nA code block continues until it reaches a line that is not indented\n(or the end of the article).\n\nWithin a code block, ampersands (`&`) and angle brackets (`<` and `>`)\nare automatically converted into HTML entities. This makes it very\neasy to include example HTML source code using Markdown -- just paste\nit and indent it, and Markdown will handle the hassle of encoding the\nampersands and angle brackets. For example, this:\n\n        <div class=\"footer\">\n            &copy; 2004 Foo Corporation\n        </div>\n\nwill turn into:\n\n    <pre><code>&lt;div class=\"footer\"&gt;\n        &amp;copy; 2004 Foo Corporation\n    &lt;/div&gt;\n    </code></pre>\n\nRegular Markdown syntax is not processed within code blocks. E.g.,\nasterisks are just literal asterisks within a code block. This means\nit\'s also easy to use Markdown to write about Markdown\'s own syntax.\n\n\n\n<h3 id=\"hr\">Horizontal Rules</h3>\n\nYou can produce a horizontal rule tag (`<hr />`) by placing three or\nmore hyphens, asterisks, or underscores on a line by themselves. If you\nwish, you may use spaces between the hyphens or asterisks. Each of the\nfollowing lines will produce a horizontal rule:\n\n    * * *\n\n    ***\n\n    *****\n\n    - - -\n\n    ---------------------------------------\n\n\n* * *\n\n<h2 id=\"span\">Span Elements</h2>\n\n<h3 id=\"link\">Links</h3>\n\nMarkdown supports two style of links: *inline* and *reference*.\n\nIn both styles, the link text is delimited by [square brackets].\n\nTo create an inline link, use a set of regular parentheses immediately\nafter the link text\'s closing square bracket. Inside the parentheses,\nput the URL where you want the link to point, along with an *optional*\ntitle for the link, surrounded in quotes. For example:\n\n    This is [an example](http://example.com/ \"Title\") inline link.\n\n    [This link](http://example.net/) has no title attribute.\n\nWill produce:\n\n    <p>This is <a href=\"http://example.com/\" title=\"Title\">\n    an example</a> inline link.</p>\n\n    <p><a href=\"http://example.net/\">This link</a> has no\n    title attribute.</p>\n\nIf you\'re referring to a local resource on the same server, you can\nuse relative paths:\n\n    See my [About](/about/) page for details.   \n\nReference-style links use a second set of square brackets, inside\nwhich you place a label of your choosing to identify the link:\n\n    This is [an example][id] reference-style link.\n\nYou can optionally use a space to separate the sets of brackets:\n\n    This is [an example] [id] reference-style link.\n\nThen, anywhere in the document, you define your link label like this,\non a line by itself:\n\n    [id]: http://example.com/  \"Optional Title Here\"\n\nThat is:\n\n*   Square brackets containing the link identifier (optionally\n    indented from the left margin using up to three spaces);\n*   followed by a colon;\n*   followed by one or more spaces (or tabs);\n*   followed by the URL for the link;\n*   optionally followed by a title attribute for the link, enclosed\n    in double or single quotes, or enclosed in parentheses.\n\nThe following three link definitions are equivalent:\n\n	[foo]: http://example.com/  \"Optional Title Here\"\n	[foo]: http://example.com/  \'Optional Title Here\'\n	[foo]: http://example.com/  (Optional Title Here)\n\n**Note:** There is a known bug in Markdown.pl 1.0.1 which prevents\nsingle quotes from being used to delimit link titles.\n\nThe link URL may, optionally, be surrounded by angle brackets:\n\n    [id]: <http://example.com/>  \"Optional Title Here\"\n\nYou can put the title attribute on the next line and use extra spaces\nor tabs for padding, which tends to look better with longer URLs:\n\n    [id]: http://example.com/longish/path/to/resource/here\n        \"Optional Title Here\"\n\nLink definitions are only used for creating links during Markdown\nprocessing, and are stripped from your document in the HTML output.\n\nLink definition names may consist of letters, numbers, spaces, and\npunctuation -- but they are *not* case sensitive. E.g. these two\nlinks:\n\n	[link text][a]\n	[link text][A]\n\nare equivalent.\n\nThe *implicit link name* shortcut allows you to omit the name of the\nlink, in which case the link text itself is used as the name.\nJust use an empty set of square brackets -- e.g., to link the word\n\"Google\" to the google.com web site, you could simply write:\n\n	[Google][]\n\nAnd then define the link:\n\n	[Google]: http://google.com/\n\nBecause link names may contain spaces, this shortcut even works for\nmultiple words in the link text:\n\n	Visit [Daring Fireball][] for more information.\n\nAnd then define the link:\n	\n	[Daring Fireball]: http://daringfireball.net/\n\nLink definitions can be placed anywhere in your Markdown document. I\ntend to put them immediately after each paragraph in which they\'re\nused, but if you want, you can put them all at the end of your\ndocument, sort of like footnotes.\n\nHere\'s an example of reference links in action:\n\n    I get 10 times more traffic from [Google] [1] than from\n    [Yahoo] [2] or [MSN] [3].\n\n      [1]: http://google.com/        \"Google\"\n      [2]: http://search.yahoo.com/  \"Yahoo Search\"\n      [3]: http://search.msn.com/    \"MSN Search\"\n\nUsing the implicit link name shortcut, you could instead write:\n\n    I get 10 times more traffic from [Google][] than from\n    [Yahoo][] or [MSN][].\n\n      [google]: http://google.com/        \"Google\"\n      [yahoo]:  http://search.yahoo.com/  \"Yahoo Search\"\n      [msn]:    http://search.msn.com/    \"MSN Search\"\n\nBoth of the above examples will produce the following HTML output:\n\n    <p>I get 10 times more traffic from <a href=\"http://google.com/\"\n    title=\"Google\">Google</a> than from\n    <a href=\"http://search.yahoo.com/\" title=\"Yahoo Search\">Yahoo</a>\n    or <a href=\"http://search.msn.com/\" title=\"MSN Search\">MSN</a>.</p>\n\nFor comparison, here is the same paragraph written using\nMarkdown\'s inline link style:\n\n    I get 10 times more traffic from [Google](http://google.com/ \"Google\")\n    than from [Yahoo](http://search.yahoo.com/ \"Yahoo Search\") or\n    [MSN](http://search.msn.com/ \"MSN Search\").\n\nThe point of reference-style links is not that they\'re easier to\nwrite. The point is that with reference-style links, your document\nsource is vastly more readable. Compare the above examples: using\nreference-style links, the paragraph itself is only 81 characters\nlong; with inline-style links, it\'s 176 characters; and as raw HTML,\nit\'s 234 characters. In the raw HTML, there\'s more markup than there\nis text.\n\nWith Markdown\'s reference-style links, a source document much more\nclosely resembles the final output, as rendered in a browser. By\nallowing you to move the markup-related metadata out of the paragraph,\nyou can add links without interrupting the narrative flow of your\nprose.\n\n\n<h3 id=\"em\">Emphasis</h3>\n\nMarkdown treats asterisks (`*`) and underscores (`_`) as indicators of\nemphasis. Text wrapped with one `*` or `_` will be wrapped with an\nHTML `<em>` tag; double `*`\'s or `_`\'s will be wrapped with an HTML\n`<strong>` tag. E.g., this input:\n\n    *single asterisks*\n\n    _single underscores_\n\n    **double asterisks**\n\n    __double underscores__\n\nwill produce:\n\n    <em>single asterisks</em>\n\n    <em>single underscores</em>\n\n    <strong>double asterisks</strong>\n\n    <strong>double underscores</strong>\n\nYou can use whichever style you prefer; the lone restriction is that\nthe same character must be used to open and close an emphasis span.\n\nEmphasis can be used in the middle of a word:\n\n    un*frigging*believable\n\nBut if you surround an `*` or `_` with spaces, it\'ll be treated as a\nliteral asterisk or underscore.\n\nTo produce a literal asterisk or underscore at a position where it\nwould otherwise be used as an emphasis delimiter, you can backslash\nescape it:\n\n    \\*this text is surrounded by literal asterisks\\*\n\n\n\n<h3 id=\"code\">Code</h3>\n\nTo indicate a span of code, wrap it with backtick quotes (`` ` ``).\nUnlike a pre-formatted code block, a code span indicates code within a\nnormal paragraph. For example:\n\n    Use the `printf()` function.\n\nwill produce:\n\n    <p>Use the <code>printf()</code> function.</p>\n\nTo include a literal backtick character within a code span, you can use\nmultiple backticks as the opening and closing delimiters:\n\n    ``There is a literal backtick (`) here.``\n\nwhich will produce this:\n\n    <p><code>There is a literal backtick (`) here.</code></p>\n\nThe backtick delimiters surrounding a code span may include spaces --\none after the opening, one before the closing. This allows you to place\nliteral backtick characters at the beginning or end of a code span:\n\n	A single backtick in a code span: `` ` ``\n	\n	A backtick-delimited string in a code span: `` `foo` ``\n\nwill produce:\n\n	<p>A single backtick in a code span: <code>`</code></p>\n	\n	<p>A backtick-delimited string in a code span: <code>`foo`</code></p>\n\nWith a code span, ampersands and angle brackets are encoded as HTML\nentities automatically, which makes it easy to include example HTML\ntags. Markdown will turn this:\n\n    Please don\'t use any `<blink>` tags.\n\ninto:\n\n    <p>Please don\'t use any <code>&lt;blink&gt;</code> tags.</p>\n\nYou can write this:\n\n    `&#8212;` is the decimal-encoded equivalent of `&mdash;`.\n\nto produce:\n\n    <p><code>&amp;#8212;</code> is the decimal-encoded\n    equivalent of <code>&amp;mdash;</code>.</p>\n\n\n\n<h3 id=\"img\">Images</h3>\n\nAdmittedly, it\'s fairly difficult to devise a \"natural\" syntax for\nplacing images into a plain text document format.\n\nMarkdown uses an image syntax that is intended to resemble the syntax\nfor links, allowing for two styles: *inline* and *reference*.\n\nInline image syntax looks like this:\n\n    ![Alt text](/path/to/img.jpg)\n\n    ![Alt text](/path/to/img.jpg \"Optional title\")\n\nThat is:\n\n*   An exclamation mark: `!`;\n*   followed by a set of square brackets, containing the `alt`\n    attribute text for the image;\n*   followed by a set of parentheses, containing the URL or path to\n    the image, and an optional `title` attribute enclosed in double\n    or single quotes.\n\nReference-style image syntax looks like this:\n\n    ![Alt text][id]\n\nWhere \"id\" is the name of a defined image reference. Image references\nare defined using syntax identical to link references:\n\n    [id]: url/to/image  \"Optional title attribute\"\n\nAs of this writing, Markdown has no syntax for specifying the\ndimensions of an image; if this is important to you, you can simply\nuse regular HTML `<img>` tags.\n\n\n* * *\n\n\n<h2 id=\"misc\">Miscellaneous</h2>\n\n<h3 id=\"autolink\">Automatic Links</h3>\n\nMarkdown supports a shortcut style for creating \"automatic\" links for URLs and email addresses: simply surround the URL or email address with angle brackets. What this means is that if you want to show the actual text of a URL or email address, and also have it be a clickable link, you can do this:\n\n    <http://example.com/>\n    \nMarkdown will turn this into:\n\n    <a href=\"http://example.com/\">http://example.com/</a>\n\nAutomatic links for email addresses work similarly, except that\nMarkdown will also perform a bit of randomized decimal and hex\nentity-encoding to help obscure your address from address-harvesting\nspambots. For example, Markdown will turn this:\n\n    <address@example.com>\n\ninto something like this:\n\n    <a href=\"&#x6D;&#x61;i&#x6C;&#x74;&#x6F;:&#x61;&#x64;&#x64;&#x72;&#x65;\n    &#115;&#115;&#64;&#101;&#120;&#x61;&#109;&#x70;&#x6C;e&#x2E;&#99;&#111;\n    &#109;\">&#x61;&#x64;&#x64;&#x72;&#x65;&#115;&#115;&#64;&#101;&#120;&#x61;\n    &#109;&#x70;&#x6C;e&#x2E;&#99;&#111;&#109;</a>\n\nwhich will render in a browser as a clickable link to \"address@example.com\".\n\n(This sort of entity-encoding trick will indeed fool many, if not\nmost, address-harvesting bots, but it definitely won\'t fool all of\nthem. It\'s better than nothing, but an address published in this way\nwill probably eventually start receiving spam.)\n\n\n\n<h3 id=\"backslash\">Backslash Escapes</h3>\n\nMarkdown allows you to use backslash escapes to generate literal\ncharacters which would otherwise have special meaning in Markdown\'s\nformatting syntax. For example, if you wanted to surround a word\nwith literal asterisks (instead of an HTML `<em>` tag), you can use\nbackslashes before the asterisks, like this:\n\n    \\*literal asterisks\\*\n\nMarkdown provides backslash escapes for the following characters:\n\n    \\   backslash\n    `   backtick\n    *   asterisk\n    _   underscore\n    {}  curly braces\n    []  square brackets\n    ()  parentheses\n    #   hash mark\n	+	plus sign\n	-	minus sign (hyphen)\n    .   dot\n    !   exclamation mark\n\n',NULL,1,1,NULL,NULL,NULL,'2014-03-04 14:06:46','2014-03-07 14:15:17'),(293,'出纳反馈信息','财务下午反映两个问题：\n\n>1.	出纳代办事项里操作你最好区别体现，哪些是待审核，哪些是支付现金；\n>2.	月结授权里面，每次授权再去查看收入管理时看不到是哪些订单，\n>	我需要看到是哪些订单，麻烦你给完善一下。\n',NULL,1,1,NULL,NULL,NULL,'2014-03-08 08:24:07','2014-03-08 08:24:07'),(294,'Yii Eorders 升级日志','升级过程还算顺利，过程中遇到的三个小问题：\n\n1. 之前自定义的 CGridView CSS 样式失效，变成默认的；\n   之前的路径是：\n\n		/eo/assets/129f0728/gridview/styles.css\n   但上传后是：\n\n		/eo/assets/1469e596/gridview/styles.css\n   也就是说 Yii 在首次运行时自动新生成了默认的样式文件，之前上传的并不起作用；\n2. `event.preventDefault()`在 Firefox 下失效，但在 Chrome 下正常；\n\n3. 打印功能中表格样式异常，表现为单元格太窄。原因：print.css 没有调整好；\n\n第一个问题重新上传即可，只是抽空要搞清它的运行机制；第二个问题也好解决，\n将所有题换成 Chrome 和 Firefox 都认可的\n\n	return false;\n语句即可。\n\n经过简单搜索，\n[Stackoverflow](http://stackoverflow.com/questions/4585970/jquery-event-preventdefault-not-working-in-firefox-jsfiddle-included)\n上一个帖子给出了很简单的解决方法：在 function 内加上 event 参数即可：\n\n	[javascript]\n	$(\'.LiteOrderViewPrint\').click(function(event){ \n		event.preventDefault();\n	});\n### Markdown: 如何在列表中插入&lt;pre&gt;代码段\n代码段前缩进**两次**, 代码段第一行上方有空行。\n',NULL,1,1,NULL,NULL,NULL,'2014-03-08 16:07:58','2014-03-08 16:07:58'),(295,'nup 脚本运行异常的原因','最近一段时间以来在 A840 上执行 nup 命令总是出问题，表现之一 blog 数据库不能同步\n。今天正式将 E-Orders 升级为由 Yii 驱动，这样以后就无须再备份 eorder 目录，\n因此对 npu, nup 两个脚本做了较大改动。 \n\n晚上再次在 A840 上执行时出现一条奇怪的信息说 \'eorder.sql 文件不存在\',\n可是 npu 和 nup 中已经没有 eorder 了呀。再一看，提示说 nup 脚本的目录是\n/root/, 进入 root 用户的家目录下一看，原来这里还有一个很久以前的 nup 脚本。\n之前执行总是提示错误的原因就在于执行的是这个旧脚本，怪不得总是报错。\n\n再一想，脚本的执行的路径有优先级，估计是 /root/ 下的 nup 脚本的优先级高于\n/home/ts/ 下的。查看 root 用户的 .bashrc 文件后印证了自己的猜想：\n\n	PATH=\"$PATH\":~/:/home/ts:/home/ts/www/shell\n其实这个 root 的 PATH 变量中的 `~/` (即 /root/ 目录) 完全没必要，\n因为自己不可能以 root 身份登录进行脚本编写。新的变量值如下：\n\n	PATH=\"$PATH\":/home/ts:/home/ts/www/shell\n弄明白这些后，果断删除 /root/ 下的旧脚本，再次运行 nup, 终于一切 OK.\n',NULL,1,1,NULL,NULL,NULL,'2014-03-08 22:12:53','2014-03-08 22:12:53'),(296,'爷爷磕到头','近几日的日记有些间断，主要是因为我和爸爸的咳嗽一直没好，不断地看医生、吃药，\n搞得爸爸都没心情拍照片、记日记了。\n\n妈妈今天休息，上午和下午都带我到上周爸爸带我去的那家游乐场玩。\n妈妈晚上对爸爸说我今天一整天都没有咳嗽，一直到了晚上又咳嗽了几声。\n吃完晚饭，爸妈本打算带我出去逛街，但是临出门前爷爷临时说想大便，\n爸爸只好把爷爷穿起来，抱到座便器上。期间我手里拿着打火机和气球找爸爸，\n想让他帮我点着。爸爸奇怪我从哪学的点火玩，赶忙制止我，并把打火机收起来。\n正当爸爸准备把火机放到客厅抽屉时，突然听到身后一声响，\n原来爷爷从座便器上栽了下来。爸爸和奶奶赶忙把爷爷弄到床上，\n这时爸爸看到鲜血从爷爷的眼角流出，一直流到下巴处。\n爸爸又赶忙把血擦去，撒上云南白药，再敷上纱布，用绷带缠好。\n一切弄妥当后，我们三人才出门。\n\n出去转了一圈妈妈也没买到合适的衣服，回家时发现大姑去家里看望爷爷。\n大姑给妈妈买了一件羽绒服，给爸爸买了一双鞋。\n',NULL,1,1,NULL,NULL,NULL,'2014-03-08 22:36:09','2014-03-08 22:36:09'),(297,'尿床','早上六点，尿床。\n',NULL,1,1,NULL,NULL,NULL,'2014-03-09 07:29:51','2014-03-09 07:29:51'),(298,'PHP 常用函数用法速查','# String Funtions\n## 移除字符串中 HTML 标签：`strip_tags()`\n假如想获取一篇文章的摘要信息，即显示文章首部的文字信息，不关心 HTML 标签的话，\n此函数很适合，已应用到 Essay 列表页面：\n\n	[php]\n	mb_internal_encoding(\"UTF-8\");\n	echo mb_substr(strip_tags($data->essay->content), 0, 400);\n待续……\n',NULL,1,1,NULL,NULL,NULL,'2014-03-10 11:17:05','2014-03-10 11:17:05'),(299,'类别关系由多对多改为一对多','![Evernote Data Structure](/media/essay/2014/evernote-data-structure.png \"Evernote 数据模型\")\n查看印象笔记的\n[数据模型](http://dev.yinxiang.com/doc/articles/data_structure.php)\n后发现：只有笔记和标签是多对多关系，笔记和笔记本之间是\n“一对多”。\n\n由此觉得 Essay 应用中 Category 和 Essay 也应是“一对多”，理由有二：\n\n1. 	实用性。一篇文章可以属于多个分类的概念主要来自 WordPress, \n	但实际的作用不是很大，类似印象笔记中那样“一篇笔记只属于一个笔记本“\n	的概念也能说通；\n2.	必要性。Category 和 Tag 跟 Essay 都是“多对多”关系的话，\n	搜索功能在 Yii 中实现起来比较麻烦；\n',NULL,1,1,NULL,NULL,NULL,'2014-03-10 11:58:03','2014-03-10 11:58:03');
/*!40000 ALTER TABLE `ts_essay` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ts_essay_category`
--

DROP TABLE IF EXISTS `ts_essay_category`;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
CREATE TABLE `ts_essay_category` (
  `id` bigint(20) unsigned NOT NULL auto_increment,
  `essay_id` int(11) NOT NULL,
  `category_id` int(11) NOT NULL,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=675 DEFAULT CHARSET=utf8;
SET character_set_client = @saved_cs_client;

--
-- Dumping data for table `ts_essay_category`
--

LOCK TABLES `ts_essay_category` WRITE;
/*!40000 ALTER TABLE `ts_essay_category` DISABLE KEYS */;
INSERT INTO `ts_essay_category` VALUES (291,57,8),(256,1,1),(187,2,3),(446,3,4),(15,4,4),(16,5,4),(17,6,4),(18,7,1),(19,8,4),(193,9,4),(367,10,16),(22,11,2),(257,12,1),(530,13,3),(192,14,7),(188,26,3),(255,27,16),(125,28,7),(338,29,8),(395,30,8),(196,31,9),(154,32,4),(183,33,3),(182,34,3),(62,35,2),(181,36,3),(180,37,3),(38,38,9),(88,39,8),(179,40,3),(447,43,16),(178,44,3),(44,45,2),(280,46,2),(46,47,2),(177,48,3),(383,49,2),(176,50,3),(50,51,8),(197,52,16),(98,53,4),(290,57,2),(337,29,2),(61,58,8),(448,42,2),(449,59,2),(175,60,3),(72,61,8),(71,61,2),(78,62,8),(77,62,4),(76,62,2),(86,54,14),(240,63,4),(147,64,9),(174,65,3),(142,66,8),(110,67,8),(148,68,7),(130,69,7),(450,70,16),(451,71,1),(452,72,7),(169,73,1),(134,74,2),(198,80,8),(168,75,1),(149,76,2),(150,76,8),(156,77,2),(155,32,8),(162,78,3),(158,79,8),(199,80,9),(454,81,9),(453,81,8),(455,83,9),(215,82,8),(219,84,9),(221,85,3),(222,86,8),(457,89,8),(231,88,8),(230,87,3),(456,89,2),(243,90,9),(251,91,4),(252,92,3),(253,93,3),(254,94,2),(259,95,8),(260,96,3),(265,97,3),(459,98,8),(267,99,8),(268,100,4),(269,100,8),(270,100,9),(390,101,4),(289,102,9),(288,102,8),(282,103,8),(277,104,9),(279,105,8),(281,106,8),(285,107,8),(287,108,3),(458,109,1),(296,110,1),(297,111,3),(298,112,7),(299,112,8),(461,113,1),(304,114,1),(460,115,1),(306,116,3),(328,117,8),(327,117,4),(315,118,18),(314,118,4),(317,119,3),(318,120,3),(329,121,3),(462,122,2),(463,123,16),(334,124,3),(335,125,3),(336,126,3),(464,127,3),(344,128,19),(343,129,19),(345,130,19),(346,131,19),(348,132,4),(349,133,3),(350,134,19),(351,135,19),(352,136,19),(353,137,19),(354,138,3),(355,139,3),(468,140,7),(366,141,3),(467,142,7),(360,143,7),(361,144,3),(466,145,18),(465,145,2),(638,146,3),(370,147,3),(637,148,3),(372,149,19),(373,150,19),(375,151,3),(470,152,4),(378,153,4),(469,154,4),(380,155,3),(471,156,16),(472,157,20),(384,49,7),(503,158,7),(502,158,2),(389,159,3),(391,160,4),(392,161,2),(393,162,7),(394,163,3),(396,30,9),(397,164,4),(398,165,2),(475,166,4),(476,167,2),(477,168,2),(590,169,20),(479,170,4),(480,171,20),(408,172,9),(481,173,4),(412,174,3),(482,175,20),(414,176,19),(419,177,19),(421,178,19),(423,179,19),(483,180,20),(485,181,20),(484,181,4),(429,182,19),(430,183,2),(433,184,19),(434,185,4),(435,186,19),(438,187,19),(440,188,19),(486,189,20),(443,190,4),(444,191,19),(487,192,2),(557,193,2),(490,194,19),(491,195,19),(513,196,21),(572,197,2),(494,198,2),(495,198,16),(514,199,21),(497,200,19),(498,201,2),(499,202,19),(500,203,21),(583,204,21),(505,205,4),(506,206,19),(508,207,20),(509,208,19),(510,209,21),(511,210,21),(512,211,21),(516,212,21),(517,213,21),(518,214,21),(521,215,19),(522,216,19),(532,217,20),(526,218,19),(546,219,20),(529,220,16),(531,221,20),(534,222,20),(535,223,19),(536,224,4),(537,225,4),(538,226,3),(544,227,16),(545,228,19),(547,229,19),(548,230,16),(549,231,16),(551,232,16),(552,233,16),(554,234,19),(555,235,2),(556,236,16),(558,193,21),(559,237,21),(561,238,19),(562,239,21),(563,240,21),(564,241,21),(565,242,19),(566,243,21),(568,244,18),(569,244,21),(595,245,16),(573,197,21),(575,246,19),(576,247,21),(582,248,21),(581,248,4),(584,249,21),(585,250,19),(586,251,2),(587,251,4),(588,251,21),(594,252,19),(591,253,3),(593,254,19),(596,255,2),(601,256,19),(605,257,19),(604,258,19),(606,259,20),(607,260,19),(611,261,20),(609,262,19),(610,263,19),(613,264,19),(640,265,3),(616,266,21),(619,267,19),(620,268,19),(621,269,21),(622,270,8),(631,271,19),(625,272,19),(626,273,19),(629,274,8),(630,274,21),(634,275,19),(635,276,19),(639,277,3),(641,278,21),(642,279,8),(643,280,3),(644,281,19),(648,282,19),(646,283,3),(651,284,3),(650,285,19),(657,286,21),(654,287,21),(668,288,19),(658,289,4),(659,289,8),(660,289,21),(662,290,8),(667,291,21),(665,292,21),(666,293,20),(669,294,21),(670,295,16),(671,296,19),(672,297,19),(673,298,2),(674,299,8);
/*!40000 ALTER TABLE `ts_essay_category` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ts_essay_label`
--

DROP TABLE IF EXISTS `ts_essay_label`;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
CREATE TABLE `ts_essay_label` (
  `id` bigint(20) unsigned NOT NULL auto_increment,
  `essay_id` bigint(20) NOT NULL,
  `label_id` bigint(20) default NULL,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=591 DEFAULT CHARSET=utf8;
SET character_set_client = @saved_cs_client;

--
-- Dumping data for table `ts_essay_label`
--

LOCK TABLES `ts_essay_label` WRITE;
/*!40000 ALTER TABLE `ts_essay_label` DISABLE KEYS */;
INSERT INTO `ts_essay_label` VALUES (163,2,28),(335,3,21),(334,3,22),(6,4,14),(7,4,30),(8,5,5),(9,6,23),(10,7,27),(11,7,24),(12,8,23),(171,9,46),(170,9,22),(275,10,17),(17,11,33),(18,11,2),(430,13,28),(168,14,25),(167,14,48),(166,14,29),(165,14,12),(223,27,13),(222,27,45),(221,27,49),(93,28,29),(260,29,3),(259,29,2),(258,29,42),(257,29,33),(256,29,43),(297,30,9),(296,30,10),(183,31,11),(182,31,8),(125,32,31),(41,35,35),(42,35,18),(43,35,6),(44,38,53),(45,39,34),(338,42,40),(337,43,82),(230,46,51),(288,49,98),(51,51,33),(52,51,51),(186,52,39),(55,53,7),(56,54,44),(57,54,54),(342,59,41),(341,59,19),(340,59,16),(339,59,18),(62,61,6),(63,62,38),(64,62,22),(215,63,40),(214,63,37),(213,63,50),(113,64,68),(69,67,36),(114,68,51),(112,64,8),(102,69,64),(92,28,4),(344,70,60),(345,72,64),(104,66,65),(212,63,67),(143,75,66),(128,77,69),(124,32,15),(123,32,70),(130,79,71),(274,10,26),(343,70,59),(185,52,1),(346,81,73),(187,80,72),(200,82,70),(204,84,79),(349,89,89),(348,89,80),(220,94,51),(224,100,81),(336,43,20),(291,101,83),(231,46,85),(229,104,45),(234,107,87),(236,57,51),(350,109,88),(347,89,70),(242,110,90),(252,117,91),(247,118,14),(246,118,30),(352,123,93),(351,123,92),(261,29,18),(263,132,83),(358,140,48),(357,140,25),(356,140,94),(355,140,29),(354,142,95),(270,144,96),(353,145,97),(287,49,16),(362,152,99),(280,153,100),(281,153,83),(361,154,102),(360,154,100),(359,154,101),(363,156,103),(364,157,104),(397,158,16),(292,101,105),(293,101,106),(294,160,107),(295,162,108),(298,164,109),(299,164,110),(300,165,111),(301,165,112),(368,166,14),(367,166,114),(366,166,113),(370,167,115),(371,168,104),(369,167,104),(517,169,116),(516,169,92),(515,169,117),(376,170,104),(375,170,118),(377,171,120),(317,172,119),(378,173,110),(321,174,121),(322,174,122),(323,174,123),(324,174,124),(382,181,127),(381,181,83),(380,181,125),(379,181,126),(332,185,128),(333,190,99),(492,193,129),(411,196,129),(505,197,131),(504,197,130),(503,197,129),(388,198,132),(389,198,133),(390,198,130),(412,199,134),(392,201,129),(393,203,135),(394,203,136),(511,204,110),(510,204,129),(398,158,137),(399,158,138),(403,205,138),(402,205,137),(404,205,139),(405,205,140),(406,209,141),(407,209,142),(408,209,143),(409,210,144),(410,210,145),(420,212,147),(419,212,146),(418,212,136),(417,212,135),(421,212,148),(422,213,149),(423,214,150),(424,214,151),(425,214,152),(429,220,154),(428,220,153),(434,222,158),(433,222,157),(435,222,156),(436,224,159),(437,224,160),(438,224,161),(439,225,162),(440,225,163),(441,225,164),(474,227,173),(473,227,172),(472,227,169),(471,227,168),(470,227,167),(469,227,165),(468,227,166),(467,227,170),(466,227,171),(475,227,174),(476,230,175),(477,230,176),(478,230,177),(479,231,178),(487,232,181),(486,232,49),(485,232,180),(484,232,179),(488,233,182),(489,235,183),(490,235,184),(491,236,185),(493,239,99),(494,240,186),(495,241,135),(496,241,146),(497,243,186),(498,243,187),(500,244,188),(519,245,189),(518,245,93),(506,197,190),(508,248,191),(509,248,93),(512,204,192),(513,251,193),(514,251,110),(520,245,194),(521,245,195),(522,255,115),(523,255,196),(524,255,197),(525,255,198),(527,266,135),(528,266,199),(529,269,115),(532,274,49),(533,274,201),(534,274,202),(535,271,202),(538,275,202),(539,276,203),(543,277,202),(541,148,204),(542,146,204),(544,265,202),(545,278,205),(546,279,206),(547,280,202),(548,281,202),(552,282,202),(550,283,202),(555,284,202),(554,285,202),(563,286,207),(558,287,208),(559,287,156),(560,287,199),(580,288,202),(564,286,201),(565,286,202),(566,289,209),(568,290,210),(579,291,202),(578,291,15),(577,291,208),(575,292,202),(574,292,210),(576,293,211),(581,294,212),(582,294,135),(583,294,202),(584,295,82),(585,295,172),(586,295,202),(587,296,202),(588,297,202),(589,298,213),(590,299,214);
/*!40000 ALTER TABLE `ts_essay_label` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ts_label`
--

DROP TABLE IF EXISTS `ts_label`;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
CREATE TABLE `ts_label` (
  `id` bigint(20) unsigned NOT NULL auto_increment,
  `name` varchar(200) default NULL,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=215 DEFAULT CHARSET=utf8;
SET character_set_client = @saved_cs_client;

--
-- Dumping data for table `ts_label`
--

LOCK TABLES `ts_label` WRITE;
/*!40000 ALTER TABLE `ts_label` DISABLE KEYS */;
INSERT INTO `ts_label` VALUES (1,'alias'),(2,'array'),(3,'array_function'),(4,'basic'),(5,'bigpicture'),(6,'bugs'),(7,'css'),(8,'css_display'),(9,'css_left'),(10,'css_position'),(11,'css_visibility'),(12,'dump'),(13,'error'),(14,'event'),(15,'event_handling'),(16,'ezsql'),(17,'filesystem'),(18,'foreach'),(19,'function'),(20,'gnu_cmd'),(21,'id'),(22,'javascript'),(23,'js'),(24,'language'),(25,'latin1'),(26,'linux'),(27,'literal'),(28,'motd'),(29,'mysql'),(30,'onload'),(31,'onmouseover'),(32,'personal'),(33,'php'),(34,'php_file_functions'),(35,'php_warning'),(36,'plog_essay.index'),(37,'pseudoprotocol'),(38,'redirect'),(39,'shell_scripting'),(40,'sinat'),(41,'statement'),(42,'string'),(43,'tag'),(44,'tam'),(45,'tip'),(46,'undefined'),(48,'utf8'),(49,'vim'),(50,'void'),(51,'wordpress'),(73,'joelonsoft'),(53,'xbeta'),(54,'1989'),(59,'path'),(60,'java'),(72,'hover'),(64,'mysql_basic'),(65,'toc'),(66,'logs'),(67,'switch'),(68,'apple'),(69,'static'),(70,'bug_fixed'),(71,'mt'),(79,'font-size'),(80,'url_encode'),(81,'xclose'),(82,'npu'),(83,'jquery'),(84,'安琢'),(85,'table_structure'),(86,'depth first search'),(87,'depth_first_search'),(88,'grammar'),(89,'spaces_in_url'),(90,'ER'),(91,'dream_comes_true'),(92,'chrome'),(93,'how-to'),(94,'character-set'),(95,'null'),(96,'yanni'),(97,'f_date()'),(98,'wpdb'),(99,'boxy'),(100,'qtip'),(101,'weibo'),(102,'E-Orders'),(103,'debian'),(104,'eorder'),(105,'animate'),(106,'plugins'),(107,'preventDefault'),(108,'enum'),(109,'loading'),(110,'ajax'),(111,'server'),(112,'predefined_variable'),(113,'click'),(114,'unbind'),(115,'PHPExcel'),(116,'cache'),(117,'ued'),(118,'html_tag_matching'),(119,'button'),(120,'eo_log'),(121,'nhk'),(122,'TRON'),(123,'ICtag'),(124,'japan'),(125,'clone'),(126,'speed'),(127,'echo'),(128,'minify'),(129,'yii'),(130,'apache'),(131,'rewrite'),(132,'permission'),(133,'www-data'),(134,'yiiframework'),(135,'CGridView'),(136,'Widget'),(137,'optinal'),(138,'argument'),(139,'operator'),(140,'||'),(141,'validation'),(142,'scenario'),(143,'form'),(144,'wide_form'),(145,'radio'),(146,'filter'),(147,'CDbCriteria'),(148,'CActiveDataProvider'),(149,'CDetailView'),(150,'route'),(151,'action'),(152,'CAction'),(153,'DHCP'),(154,'IP'),(155,'delay.refresh'),(156,'bug'),(157,'delay'),(158,'refresh'),(159,'plugin'),(160,'jquerytools'),(161,'dateinput'),(162,'radio_button'),(163,'select_box'),(164,'check_box'),(165,'tar'),(166,'file_attributes'),(167,'mtime'),(168,'ctime'),(169,'atime'),(170,'rm'),(171,'subdirectory'),(172,'shell'),(173,'touch'),(174,'inode'),(175,'dmz'),(176,'router'),(177,'LAN'),(178,'encoding'),(179,'noeol'),(180,'dos'),(181,'dos2unix'),(182,'dpkg'),(183,'cr'),(184,'lf'),(185,'U盘'),(186,'yii_basic'),(187,'loadModule()'),(188,'instance'),(189,'undo'),(190,'allowoverride'),(191,'CActiveForm'),(192,'htmlOptions'),(193,'json'),(194,'xerox'),(195,'3117'),(196,'Excel'),(197,'extension'),(198,'zip'),(199,'why'),(200,'go'),(201,'gogo'),(202,''),(203,'illness'),(204,'dinner-log'),(205,'SyntaxHighlighter'),(206,'DataProvider'),(207,'yii-basic'),(208,'CListView'),(209,'jui-autocomplete'),(210,'markdown'),(211,'feedback'),(212,'how-does-it-work'),(213,'faq'),(214,'evernote');
/*!40000 ALTER TABLE `ts_label` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ts_lookup`
--

DROP TABLE IF EXISTS `ts_lookup`;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
CREATE TABLE `ts_lookup` (
  `id` int(11) NOT NULL auto_increment,
  `name` varchar(128) collate utf8_unicode_ci NOT NULL,
  `code` int(11) NOT NULL,
  `type` varchar(128) collate utf8_unicode_ci NOT NULL,
  `position` int(11) NOT NULL,
  PRIMARY KEY  (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
SET character_set_client = @saved_cs_client;

--
-- Dumping data for table `ts_lookup`
--

LOCK TABLES `ts_lookup` WRITE;
/*!40000 ALTER TABLE `ts_lookup` DISABLE KEYS */;
INSERT INTO `ts_lookup` VALUES (1,'Draft',1,'PostStatus',1),(2,'Published',2,'PostStatus',2),(3,'Archived',3,'PostStatus',3),(4,'Pending Approval',1,'CommentStatus',1),(5,'Approved',2,'CommentStatus',2),(6,'客户',1,'CompanyCategory',1),(7,'供应商',2,'CompanyCategory',2),(8,'物流公司',3,'CompanyCategory',3),(9,'Draft',1,'EssayStatus',1),(10,'Private',2,'EssayStatus',2),(11,'Publish',3,'EssayStatus',3);
/*!40000 ALTER TABLE `ts_lookup` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ts_motd`
--

DROP TABLE IF EXISTS `ts_motd`;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
CREATE TABLE `ts_motd` (
  `id` int(8) unsigned NOT NULL auto_increment,
  `content` text NOT NULL,
  `category` varchar(20) NOT NULL default '',
  `time` datetime NOT NULL,
  `m_time` timestamp NOT NULL default CURRENT_TIMESTAMP on update CURRENT_TIMESTAMP,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=1249 DEFAULT CHARSET=utf8;
SET character_set_client = @saved_cs_client;

--
-- Dumping data for table `ts_motd`
--

LOCK TABLES `ts_motd` WRITE;
/*!40000 ALTER TABLE `ts_motd` DISABLE KEYS */;
INSERT INTO `ts_motd` VALUES (1,'第一篇测试一下。','misc','2011-01-08 10:35:11','0000-00-00 00:00:00'),(144,'经理对新网页上的字体很不满意','misc','2011-01-24 11:32:04','2011-01-24 03:32:04'),(150,'为方便起见，将 essay/manage.php 中编辑功能的链接整合到 v.php?name=xxx 页面中；\r\n修改的页面有 essay 下的 index.php, v.php','plog','2011-01-26 16:55:02','2011-01-26 08:57:29'),(5,'radio box 没有默认选中的<code>selected</code>选项？\r\n\r\nIt is <code>checked=\"checked\"</code> in Check Box and Radio Button.','done','2011-01-08 11:10:44','2011-03-05 08:22:51'),(6,'表单重新发送','misc','2011-01-08 11:12:04','0000-00-00 00:00:00'),(7,'header 测试一下','misc','2011-01-08 11:16:17','0000-00-00 00:00:00'),(8,'定向到首页试试看','misc','2011-01-08 11:17:06','0000-00-00 00:00:00'),(9,'使用 js 试试看','misc','2011-01-08 11:31:23','0000-00-00 00:00:00'),(200,'It\'s time to delete the \'category\' column of table <code>essay</code>, which statement?\r\n<code>alter table essay drop column category;</code>','done','2011-03-04 17:08:02','2011-03-04 14:03:23'),(183,'3rd time','misc','2011-03-01 15:20:20','2011-03-01 07:20:20'),(13,'在 js/util.js 中添加 show_addt() 和 hide_addt() 两个小函数；','misc','2011-01-08 12:12:37','0000-00-00 00:00:00'),(14,'config.php 页面是在 essay/ 下的吧','misc','2011-01-08 12:57:12','0000-00-00 00:00:00'),(15,'这一次关闭浏览器再看看','misc','2011-01-08 12:59:41','0000-00-00 00:00:00'),(16,'config.php 的路径有问题！','misc','2011-01-08 13:03:41','0000-00-00 00:00:00'),(17,'<pre>&lt;a href=\"javascript:void(0);\" onclick=\"hide_addt()\"  accesskey=\"k\"&gt;</pre>\r\n此 href 值从 sina 处学得，作用不知。\r\n\r\n<a href=\"http://localhost/p/essay/v.php?name=110305-js-use-void-in-javascript-url.php\">Here</a>','done','2011-01-08 13:09:28','2011-03-05 09:17:10'),(18,'textarea wrap 属性有三个属性，默认的是 off, 第二个是 virtual, 也就是说：\r\n\r\n此处将有两个空格。','misc','2011-01-08 13:13:58','0000-00-00 00:00:00'),(19,'那么第三中情况又如何呢？ physical 它的定义是什么关于换行，我们现在还不得而知。这里如果是两行，那就说明在起作用。因为我并没有按下回车键。','misc','2011-01-08 13:16:02','0000-00-00 00:00:00'),(20,'4\r\n4\r\n\r\n4\r\n\r\n6','misc','2011-01-08 13:16:38','0000-00-00 00:00:00'),(21,'This sentences uses the \'physical\' property in the areatext [visual break] box, now I entered [Enter]\r\nrepeated input this line, now entered enter twice\r\n\r\ntyped this new line. what will happen?','misc','2011-01-08 13:20:34','0000-00-00 00:00:00'),(22,'Using \"Virtual\" to have a test, typed, typed, typed, typed, _viual brek_ happened. now typed enter twice\r\n\r\ninput this line.','misc','2011-01-08 13:22:52','0000-00-00 00:00:00'),(23,'turned off the wrap \"off\",.........................._hitted ?right border. input Enter twice..\r\n\r\ninput now.','misc','2011-01-08 13:25:20','0000-00-00 00:00:00'),(24,'jjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj\r\n\r\nnew line.','misc','2011-01-08 13:27:12','0000-00-00 00:00:00'),(25,'wrap: 用…包裹（或包扎、覆盖等）\r\n在 tetxt area 属性中表示用输入框的边框“包裹“输入的数据。\r\n如果是 \"off\", 表明不包裹，当文字单行长度超出输入框限度是，滚动条将出现\r\n\r\n如果是 \"virtual\" 表示虚拟的,也就是说是假的。在输入框中你看的“换行”除了硬回车以外都是假的，最终根本不显示。','misc','2011-01-08 13:38:41','0000-00-00 00:00:00'),(26,'textarea 标签 cols 指定为 80 时，这里一行何以输入 82 个连续字母。也就是说，多出 2 个字母\r\n的宽度。所以，设定为和终端80相等的宽度！','misc','2011-01-08 13:49:23','0000-00-00 00:00:00'),(27,'@阿民与阿菊:老方，那一般的年轻人有必要学点哲学吗\r\n\r\n回复：年轻人还是有必要学点哲学，甚至学点宗教知识，多长点见识，提高抗忽悠能力。\r\n我年轻时就学了很多。最好能提高英语能力，能直接阅读英文资料，那样只要聪明点，就可以傲视国内的哲学教授了。 \r\n','misc','2011-01-08 13:50:59','0000-00-00 00:00:00'),(28,'现在就是页面跳转的问题了。怎么才能让页面重新刷新一下呢？\r\n\r\nRefereed <a href=\"/p/essay/v.php?name=110304-plog-redirect-page-after-sql-update-delete-insert-operation.php\">this essay</a>.','done','2011-01-08 14:01:07','2011-03-05 09:15:59'),(29,'列举链接中 accesskey 属性的值及含义：\r\n\r\nZ: 主页\r\nS: <s>二级目录首页</s> 单词搜索输入框\r\nJ: 调出 twitter 窗口\r\nK： 隐藏 twitter 窗口\r\nI: 将目标跳至输入况内；\r\nU: 调出 essay add 页面（和 t 页面不同，该页面为一单独页面）\r\nI: 激活 essay add 页面第一个输入控件\r\nA: Essay\r\nQ: Twitter\r\n2: PLogs 页面  4.2.11 ','misc','2011-01-08 14:25:01','2011-04-08 04:24:58'),(30,'跳转实验','misc','2011-01-08 14:38:55','0000-00-00 00:00:00'),(31,'ddd','misc','2011-01-08 14:40:07','0000-00-00 00:00:00'),(32,'hjk 多好呀！','misc','2011-01-08 14:43:25','0000-00-00 00:00:00'),(33,'shift + alt + JK 更快！','misc','2011-01-08 14:45:29','0000-00-00 00:00:00'),(34,'//if ( !empty ($_POST[\'txtarea_content\']) )\r\nif ( !empty $_POST[\'txtarea_content\'] )\r\n一个不加括号将产生错误：\r\nParse error: syntax error, unexpected T_VARIABLE, expecting \'(\' in /home/ts/www/p/t/redirect.php on line 3\r\n\r\n莫非是优先级的事情？','why','2011-01-08 14:47:53','0000-00-00 00:00:00'),(35,'redirect.php 页面的确不错，起到一个中转站的作用，实现了页面跳转，但自己肉眼根本看不到该页面！','misc','2011-01-08 14:49:24','0000-00-00 00:00:00'),(36,'备份 &lt;form action=\"&lt;?= $_SERVER[\'PHP_SELF\'] ?&gt;\" method=POST&gt;\r\n\r\n能个小程序自动将输入框的 html 标签转化为源码能有多好呀！就是类似 &lt; 和 &gt; 这些个东西\r\n\r\n','misc','2011-01-08 14:55:00','0000-00-00 00:00:00'),(37,'根据页面跳转来调整 set.php COOKIE 设置页面！','misc','2011-01-08 15:01:01','0000-00-00 00:00:00'),(38,'在 redirect.php 整合两个页面的请求！','misc','2011-01-08 15:04:44','0000-00-00 00:00:00'),(39,'事实证明不可行','misc','2011-01-08 15:19:36','0000-00-00 00:00:00'),(40,'还是用快捷键来完成 COOKIE 吧！不合并在一个页面了。','misc','2011-01-08 15:23:47','0000-00-00 00:00:00'),(42,'这还不够必须是 checked=\"checked\" 而不是简单的 checked !','misc','2011-01-08 16:02:26','0000-00-00 00:00:00'),(43,'','misc','2011-01-08 16:04:55','0000-00-00 00:00:00'),(44,'注意，checked 生效后，如何更改默认设置，使用箭头键，而非空格，和 check box 不同','misc','2011-01-08 16:07:59','0000-00-00 00:00:00'),(45,'想让编辑页面也显示在 tsfoot.php 中的输入框内，似乎有难度。\r\n\r\n没必要。什么情况下最有可能使用编辑功能？浏览时发现内容不对时。故编辑模块放在 v.php 内更合理。','misc','2011-01-08 16:31:30','2011-03-07 03:49:36'),(46,'在 manage.php 中添加同样的表单用来承载存储过的数据，这里有个问题：分类位置的内容似乎应该\r\n使用 PHP 代码动态声称。','why','2011-01-08 17:01:42','0000-00-00 00:00:00'),(47,'权限原来是 root/root 的文件 ts.sql 使用 ts 解压后，权限变为 ts/ts!','misc','2011-01-08 19:31:13','0000-00-00 00:00:00'),(48,'笔记本显示器由于尺寸小使得新建 CSS 样式 black.fix.a840.css 文件\r\n其实除了调整全局 twitter 输入框尺寸外无任何变化。','misc','2011-01-08 20:38:13','0000-00-00 00:00:00'),(49,'要想得出 review_today 的链接，得先对 TIMESTAMP 类型的各种样式了解呀！','misc','2011-01-08 20:46:07','0000-00-00 00:00:00'),(62,'注意 id = 1 的信息。修改内容后，时间也同时更改为当前时间。','misc','2011-01-09 09:19:50','0000-00-00 00:00:00'),(53,'发现昨晚莫名其妙添加了三条无意义的空信息，这个输入框应具有非空验证功能，以防止无效信息。','misc','2011-01-09 06:50:29','0000-00-00 00:00:00'),(54,'','misc','2011-01-09 06:51:04','0000-00-00 00:00:00'),(55,'Keyword DISTINCT 用法：select distinct category from motd;\r\n\r\n========\r\n学会使用 DISTINCT 关键字。','done','2011-01-09 06:57:02','2011-01-12 06:12:33'),(56,'<span class=\"red\">$category_arr = [];</span> 用 JS 的规则创建 PHP 数组！ \r\n脑子还没转换过来。正确的应该是：\r\n$category_arr = array();\r\n','misc','2011-01-09 07:31:15','0000-00-00 00:00:00'),(61,'删除以后，AUTO_INCREMENT 生成的 id 将永久消失，后一条信息不会占据其 ID 号','misc','2011-01-09 09:14:05','0000-00-00 00:00:00'),(58,'t/index.php 把 DISTINCT 筛选出来的分类存到一个 PHP 数组中算是不会了！\r\n\r\n============\r\nwhile($rows_tag = mysql_fetch_assoc($rst_tag)) { \r\n    $t = $rows_tag[\'tag\']; \r\n    $t_str .= $t.\',\'; #1\r\n}\r\n<a href=\"http://localhost/p/essay/v.php?name=110115-plog-add-essay-tag-pool.php\">Ref.</a>','done','2011-01-09 07:40:39','2011-01-15 02:18:38'),(59,'php-chunked-xhtml\r\n\r\nchunk: 短而厚的一块肉或木头等','misc','2011-01-09 08:06:46','0000-00-00 00:00:00'),(60,'一个小时了都，仍为搞定。先换个话题吧','misc','2011-01-09 08:50:51','0000-00-00 00:00:00'),(63,'motd 内的 time 类型似乎应该使用 DATETIME 而不是 TIMESTAMP\r\nmysql&lt; select * from m2;\r\n+----+---------------------+---------------------+\r\n| id | timestamp           | datetime            |\r\n+----+---------------------+---------------------+\r\n|  1 | 0000-00-00 00:00:00 | 0000-00-00 00:00:00 | \r\n|  2 | 2011-01-09 09:55:45 | 2011-01-09 09:55:45 | \r\n+----+---------------------+---------------------+\r\n2 rows in set (0.00 sec)\r\n\r\nmysql&lt; update m2 set id=3 where id=2;\r\nQuery OK, 1 row affected (0.00 sec)\r\nRows matched: 1  Changed: 1  Warnings: 0\r\n\r\nmysql&lt; select * from m2;\r\n+----+---------------------+---------------------+\r\n| id | timestamp           | datetime            |\r\n+----+---------------------+---------------------+\r\n|  1 | 0000-00-00 00:00:00 | 0000-00-00 00:00:00 | \r\n|  3 | 2011-01-09 09:56:18 | 2011-01-09 09:55:45 | \r\n+----+---------------------+---------------------+\r\n2 rows in set (0.00 sec)\r\n','misc','2011-01-09 09:59:11','0000-00-00 00:00:00'),(64,'1,changed','misc','2011-01-09 10:05:59','0000-00-00 00:00:00'),(65,'明白了，创建的时间使用 DATETIME 类型；记录更新的时间使用 TIMESTAMP 类型。\r\n当 UPDATE 行内容，TIMESTAMP 值跟着更新！','misc','2011-01-09 10:09:37','0000-00-00 00:00:00'),(66,'往现有的表格中添加一列怎么办？语法是什么？ 在 motd 中添加 DATESTAMP 类型的 m_time','misc','2011-01-09 13:35:01','0000-00-00 00:00:00'),(67,'$b = \"Hello \";\r\n$b .= \"There!\"; // $b = Hello There!','misc','2011-01-09 13:51:41','0000-00-00 00:00:00'),(68,'$cat_arr = explode(\",\", $cate_2);\r\n呵呵！原来这个函数名称是 explode();','misc','2011-01-09 14:38:29','0000-00-00 00:00:00'),(69,'母亲正在和面，忽然说了句很时髦的话：“哇塞！” 原来是和面的时候水放多了！','misc','2011-01-09 14:43:20','0000-00-00 00:00:00'),(176,'1. t/ edit, add 模块（p/tsfooter.php）表单的 action 属性值直接指向本页面即可，单独为其建立 redirect.php 页面毫无必要\r\n是的，将 t/ 目录变成仅仅一个 t.php 页面！','misc','2011-03-01 14:50:52','2011-03-01 07:41:01'),(194,'How to redirect another page after insert, edit or delete operation?\r\n\r\nI created a function called <code>page_redirect()</code> (in /p/common/ts-functions.php) to accomplish it.\r\nAlso see <a href=\"/p/essay/v.php?name=110304-plog-redirect-page-after-sql-update-delete-insert-operation.php\">this essay</a>.','done','2011-03-03 15:21:09','2011-03-04 13:55:11'),(181,'the date','misc','2011-03-01 15:19:25','2011-03-01 07:19:25'),(74,'自动跳转的问题估计是 debugInfo 样式设计的问题，应该修改的定位到当前屏幕中文档的中间，\r\n而不是整个文档的顶部。\r\n\r\n==========================\r\n问题出在 shift+alt+J 这个快捷键的本质是一个链接，而这个链接的位置是在页面的顶端。\r\n当按下该组合键时，效果等同于先将文档移动到顶端，在用鼠标单击该链接，这时触发显示的\r\ndebugInfo 块自然是在页面顶端位置。\r\n\r\n解决方法：将shift+alt+J, shift+alt+K 这两个链接放在一个 position 属性为 fixed 的块内，\r\n该块的位置定位在文档可视区域的右上方。该区域不会随着文档的移动而移动。这样触发出来的\r\n输入框自然就在当前可视区域的中间了。','done','2011-01-09 15:52:35','0000-00-00 00:00:00'),(75,'SELECT id,content,category,time,date_format(time,\'%c/%e/%y %k:%i\') as ftime FROM motd ORDER BY time DESC\r\n\r\n将 DATETIME 格式数据进行 Google 样式的格式化！ MySQL 提供的函数 date_format()!','misc','2011-01-09 17:24:07','0000-00-00 00:00:00'),(76,'AS 出来的名称不能作为 WHERE 字句中直接使用','misc','2011-01-09 19:54:47','0000-00-00 00:00:00'),(77,'essay 表的不足：\r\n1. 缺少 AUTO_INCREMENT 的 id 列；\r\n2. c_time 属性错误；\r\n3. 缺少 更新时间的列（TIMESTAMP）类型；','misc','2011-01-09 21:01:54','0000-00-00 00:00:00'),(81,'“定位为 fixed的元素永远可见，不会随着页面的滚动而不可见。“\r\n\r\n自己需要的是随着页面的滚动而滚动。','misc','2011-01-09 21:22:48','0000-00-00 00:00:00'),(82,'10日完成 增、改、删、查之改的操作。\r\n\r\n=============================\r\n查：注意 WHERE 字句后面的圆括号\r\nUPDATE motd \r\n      SET content=\'%s\',category=\'%s\' \r\n       WHERE (id=\'%s\')\", $new_content,$new_category,$edit_id','done','2011-01-09 22:08:14','0000-00-00 00:00:00'),(84,'左手食指阵痛感消失。自上月16号开始，将近25天时间。','misc','2011-01-10 18:24:44','0000-00-00 00:00:00'),(85,'将 black.fix.a840.css 中的 pre.cmt 样式颜色修改为深蓝色，避免原来的绿色和文本颜色相近。\r\n\r\n结果证明：相当难看。','plog','2011-01-10 18:34:28','2011-01-22 01:44:05'),(86,'二姐晚上到政法街拿来一瓶香菇酱','misc','2011-01-10 20:33:44','0000-00-00 00:00:00'),(87,'删除后的记录对应的 id 号在 mysqldump 备份后仍不会被覆盖。','misc','2011-01-11 20:20:31','0000-00-00 00:00:00'),(88,'不要养成使用 rmf 命令的习惯！','misc','2011-01-11 20:26:50','0000-00-00 00:00:00'),(182,'twice','misc','2011-03-01 15:19:54','2011-03-01 07:19:54'),(90,'done test.\r\n\r\n成功更新 M_TIME 列','done','2011-01-11 22:09:42','2011-01-11 14:30:35'),(100,') ENGINE=MyISAM DEFAULT CHARSET=utf8;\r\nINSERT INTO ch VALUES\r\n    (\'chinese\',\'中国人\');\r\n\r\n===============\r\nMySQL 默认编码问题。','done','2011-01-12 08:59:32','2011-01-12 06:09:23'),(101,'run command: dpkg-reconfig locales\r\nand add two chinse locales: gb2312 and gbk.\r\nBut it seem that mysqldump still does\'t dump chinese.\r\n\r\n','misc','2011-01-12 09:18:50','2011-01-12 04:23:26'),(97,'导入是导入进去了，就是中文显示为乱码，此问题必须解决呀！\r\n\r\n＝＝＝＝＝＝＝＝＝＝＝＝\r\nSolved. <a href=\"/p/essay/v.php?name=110112-mysql-dump-chinese-with-latin1.php\">Ref.</a>\r\n','done','2011-01-11 22:48:32','2011-03-04 13:56:26'),(98,'如何获取 Debian 支持（安装）的字符集？','undo','2011-01-12 08:20:47','2011-01-12 00:20:47'),(99,'--default-character-set=<i>charset_name</i>\r\n\r\nUse charset_name as the default character set. \r\n\r\nIf no character set is specified, mysqldump uses utf8, and earlier versions use latin1. ','misc','2011-01-12 08:39:50','2011-01-16 13:26:59'),(105,'test ctime and mtime.','misc','2011-01-12 14:25:00','2011-01-12 06:25:00'),(106,'mysqldump 备份出来的记录为：\r\n(105,\'test ctime and mtime.\',\'misc\',\'2011-01-12 14:25:00\',\'2011-01-12 06:25:00\')\r\n\r\n注意后面两个时间。在不修改记录的情况下，创建时间应该和修改时间一致。但这里相差 8 个小时。\r\n但页面显示却是一致的。why?\r\n<pre>\r\n-rw-r--r-- 1 www-data www-data 5.0K 2011-03-21 11:05 static/index.html\r\n-rw-r--r--   1 yalongling yalongling     5119 Mar 21 03:10 index.html\r\n</pre>','why','2011-01-12 14:28:19','2011-03-21 04:55:39'),(107,'Debian 系统开机中曾看到 starting mysqld... 的字样。这里的 mysqld MySQL 服务器之意。','misc','2011-01-12 14:55:37','2011-01-12 06:55:37'),(115,'t 和 essay 目录下的 manage.php 页面有个技巧：\r\n\r\n删除操作的代码放在默认的显示所有记录的代码之前，这样删除后，会立即在之后的列举所有代码中看出来。','misc','2011-01-12 16:47:51','2011-01-12 08:47:51'),(116,'motd 和 essay 两个表中\r\n\r\nTIMESTAMP 类型的列 在插入操作时根本不需写上，这和 DATETIME 类型的 c_time 列不同。\r\n','misc','2011-01-12 16:54:20','2011-01-12 08:54:20'),(117,'discuz 中常见的一个函数是将输入的值两端的空格去掉。那个函数的名称是什么？\r\n\r\n===========\r\ntrim()','done','2011-01-12 20:55:35','2011-01-13 08:57:22'),(118,'使用 MySQL 5 天，心里有一种久违的愉悦感。使用起来是那么得顺，有一切尽在掌控之中之感。','misc','2011-01-12 22:30:20','2011-01-12 14:30:20'),(119,'今晚对数据库 增删改查 进行总结\r\n\r\n==================\r\n<a href=\"http://localhost/p/essay/v.php?name=110113-mysql-4-basic-operation.php\">ref</a>\r\n用到的也就是下面三个函数：\r\nmysql_query()\r\nmysql_fetch_assoc()\r\nmysql_affected_rows()','done','2011-01-13 09:41:49','2011-01-13 14:30:42'),(120,'美化错误输出信息：\r\n\r\nmysql_query($sql) or die (\"&lt;blockquote class=\\\"book\\\"&gt;\".mysql_error().\"&lt;/blockquote&gt;\");\r\n','misc','2011-01-13 10:43:40','2011-01-13 04:00:20'),(121,'essay/manage.php 改得乱七八糟，有备份在','misc','2011-01-13 17:03:00','2011-01-13 09:03:00'),(122,'is_null()\r\nisset()\r\nempty()','misc','2011-01-13 17:13:33','2011-01-13 09:13:33'),(123,'在 essay/ 子页面建立一个 p/paste.php 的链接文件，以便快速编辑。\r\n\r\n===================\r\n命令：ln -s /home/ts/www/p/paste.php /home/ts/www/p/t/paste.php\r\n注意是绝对路径','done','2011-01-13 21:09:57','2011-01-14 00:12:07'),(124,'中午张帅请客吃饭，盛情款待，因为给你更多\r\n通过岳总买房子表明和经理搞好关系的重要性。','misc','2011-01-13 22:33:47','2011-01-13 14:33:47'),(125,'上午十点和经理到荥阳汜水镇看一片荒地。下午一点四十左右回，吃饭有点下三','misc','2011-01-14 15:56:04','2011-01-14 07:56:04'),(126,'列出模式匹配： WHERE tag LIKE \'%tagname%\' 百分号的问题','undo','2011-01-14 21:30:38','2011-01-14 13:30:38'),(127,'explode(\',\',$t_str); 而不是\r\n<span class=\"red\">explode($t_str,\',\')</span>! 顺序搞反了！','misc','2011-01-14 21:48:58','2011-01-14 13:48:58'),(128,'妥了，都搞定了！ tag,category 分类阅读！','misc','2011-01-14 22:12:02','2011-01-14 14:12:02'),(129,'npu.sh nup.sh 可以改进，考虑万一用反命令的情况。\r\n\r\n先将原来的删除在解压缩\r\n\r\n===============\r\n高亮处为新增。\r\n<pre>\r\n#!/bin/bash\r\n#\r\ncp -a /media/A8/bak.tgz ~/\r\n<span class=\"hl\">tar -zcpvf wwwp-bak-befor-run-nup.tgz www/p/</span>\r\ncd /home/ts/\r\n# In case restore files we haved deleted from the former pc. \r\n# Don\'t worry, we have an original bak forahead (wwwp-bak-befor-run-nup.tgz).\r\n<span class=\"hl\">rm -rf www/p/</span>\r\ntar -zxpvf bak.tgz\r\nmysql -u root -p trekshot < trekshot.sql\r\nrm -f trekshot.sql\r\nrm -f bak.tgz\r\numount /media/A8\r\necho \"Good work! Now pull the udisk out. ;)\"\r\n</pre>','done','2011-01-14 22:15:48','2011-03-05 09:14:20'),(130,'忽然，有些迷茫，有些担忧','misc','2011-01-15 15:32:05','2011-01-15 07:32:05'),(131,'将常用 SQL 命令做了个表格，之前总是记不准的关键字问题立刻消失。凡是表格操作均带 TABLE 关键字，\r\n而记录操作均没有。\r\n\r\n归类，对比，汇总，记忆更深。','misc','2011-01-16 06:28:48','2011-01-15 22:28:48'),(132,'How to get twittes of this week?\r\n\r\n==========\r\nWHERE date_format(time,\'%u\')=date_format(NOW(),\'%u\')','done','2011-01-16 20:59:50','2011-01-16 13:23:07'),(133,'缺点：爱安逸胜过爱自尊。','misc','2011-01-17 08:05:41','2011-01-17 00:05:41'),(134,'显卡芯片坏了两天，终于又回到这里。','misc','2011-01-19 08:19:25','2011-01-19 00:19:25'),(135,'挂载到另一个硬盘时，注意分清哪个是 master 哪个是 slave, 别拷错地方。\r\n\r\n网上的所谓的 \"Windows 98 U 盘万能驱动\" 、将几个文件复制到 WINDOWS/Inf 隐藏目录下的方法无效；\r\n\r\n万能驱动的另一个结果是 A8 优盘不可用，不得不将其格式化；','misc','2011-01-19 09:38:01','2011-01-19 08:11:52'),(136,'单词表格涉及多表查询','misc','2011-01-20 11:11:37','2011-01-20 03:11:37'),(137,'王四儿领完结婚证直接去焕姐那里，丢下自己的车子、老婆和家里的小狗不管，不打电话。和汪群一样。','misc','2011-01-20 13:44:20','2011-01-20 05:44:20'),(138,'今日单位电脑莫名无法启动。显卡出现问题，要花钱了；\r\n安装 Windows 98 没有想象中顺利，在格式化 C 盘后，安装程序对所有磁盘进行扫描，之>后便出现如下信息：\r\n\r\n\"Invalid system disk.\r\nReplace the disk, and then press any key.\"\r\n\r\n问题在于连启动盘都无法使用。将老硬盘单独连到另外一台电脑上出现同样信息。但将其作\r\n为 slave 盘挂载\r\n至另一台电脑却可以看到磁盘文件内容。\r\n\r\n难道是格式化C盘的格式有问题？ Windows 98 不会是不能安装在 FAT 格式的磁盘上吧？\r\n使用 format c: 格式化后的文件格式是什么？\r\n\r\n@1/17/11','misc','2011-01-20 21:08:21','2011-01-20 13:08:21'),(139,'essay 表中添加自定义CSS文件列有无必要？\r\n\r\n无。','misc','2011-01-21 10:37:22','2011-03-07 01:15:12'),(140,'复习 JavaScript The Definitive Guide Chapter16 电子笔记，收获如下：\r\n搞清楚 display 和 visibility 在显示、隐藏文档元素时的异同和各自的使用场合，并据此对\r\ntsfooter.php 页面进行更新。详细<a href=\"/p/essay/v.php?name=110121-css-difference-between-display-and-visibility.php\">见此</a>。','misc','2011-01-21 14:18:06','2011-01-21 06:18:06'),(141,'t/index.php 页面中，实现鼠标移动到某个 twwite 上时，显示出编辑和删除的链接，移出时重新不可见。\r\n<a href=\"http://localhost/p/essay/v.php?name=110122-js-an-onmouseover-event-practice.php\">Here</a>\r\n\r\nEvent handling 中的 this\r\n\r\n==================\r\n目前可以确定的是，this 对 html attributes 形式的事件触发器不管用；但对 JS 对象形式的触发器管用\r\n','plog','2011-01-21 16:32:36','2011-01-22 09:08:51'),(142,'CSS 常用属性及取值制作成表 P348 JDG\r\n\r\ndisplay inline 代表什么？','undo','2011-01-22 10:33:40','2011-03-07 01:15:56'),(143,'t/manage.php 可以作古了。','plog','2011-01-22 16:20:23','2011-01-22 08:20:23'),(145,'该死的网速。不是被逼的没办法，真不愿意等！还是 Localhost 好！','misc','2011-01-24 14:57:52','2011-01-24 06:57:52'),(146,'essay/add.php 达到这样一种效果：输入文件名时，可以自动记忆，类似 Google Notebook 标签编辑\r\n功能。','undo','2011-01-24 17:19:35','2011-01-24 09:19:35'),(147,'考虑 essay 页面标签为空的情况\r\n\r\n=================\r\n$tags = $row[\"tag\"];\r\nif (!empty ($tags)) {\r\n        $tag_arr = explode(\',\',$tags); \r\n        foreach ($tag_arr as $tag) { \r\n                echo \" Tags: \".$tag.\", \";\r\n        }\r\n<span class=\"hl\">}else { \r\n        echo \" \"; \r\n}</span>\r\n\r\n没有考虑 $tags 值为空的情况, ','plog','2011-01-24 22:23:12','2011-01-25 02:56:53'),(149,'新建一个硬件页面 <a href=\"http://localhost/p/pc.php\">pc.php</a>','plog','2011-01-25 15:58:19','2011-01-25 07:58:19'),(148,'HTML Attributes 形式生成的事件处理函数中好像不能使用 this关键字，\r\n即它无法表示当前鼠标停留的&lt;pre&gt; 区块所对应的 JS 对象； \r\n<a href=\"http://localhost/p/essay/v.php?name=110122-js-an-onmouseover-event-practice.php\">Source</a>','why','2011-01-25 10:27:04','2011-01-25 02:30:02'),(151,'使用 JS 实现添加新分类的效果\r\n\r\n无必要，单独建立<code>categories</code>表管理。','done','2011-01-26 22:27:54','2011-03-07 01:16:58'),(152,'add.php 页面内部含有下面一个空函数，将覆盖之前 js 文件中同名的函数\r\nfunction addNewCategory() {\r\n}','misc','2011-01-28 11:12:07','2011-01-28 03:12:07'),(153,'目前先实现 单击 OK 按钮后用 JS 添加一个新的 OPTION 选项即可；\r\n\r\n&lt;button onclick=\"staff7()\"Test&lt;/button&gt;','undo','2011-01-28 11:19:02','2011-01-28 06:57:02'),(154,'那个人今天又把电视台的人叫去并给金艳打电话，又给她气哭了。','misc','2011-01-28 14:46:26','2011-01-28 06:46:26'),(155,'春节、发烧过后，如常。','misc','2011-02-12 11:07:15','2011-02-12 03:07:15'),(156,'嗓子已好，但嘴上起泡、牙龈肿痛','misc','2011-02-15 08:25:07','2011-02-15 00:25:07'),(157,'Debian 国内镜像站点：\r\n\r\nhttp://mirrors.163.com/','misc','2011-02-16 08:12:00','2011-02-16 00:12:00'),(158,'Hide essays in \'Life\' category, modified essay/index.php page.','misc','2011-02-18 09:18:19','2011-02-18 01:18:19'),(159,'整理一份 Debian 版本代号列表','undo','2011-02-18 10:24:16','2011-02-18 02:24:16'),(160,'Dodge: USA SUV\r\nInfinite: NISSAN\'s top brand','misc','2011-02-19 08:57:33','2011-02-19 00:57:33'),(161,'一、破除技术执\r\n\r\n　　博客的本质是写作，并与读者互动。而所谓的独立平台、WordPress（及层出不穷的theme、 \r\nplugin）、空间、域名、SEO，皆是手段而已。然而这些手段，尤其对于喜欢软件的博主来说，充满诱惑力。\r\n因此，越有兴趣，越有天赋，就越应远离。因为它们是无底洞，会吞噬掉大量精力。\r\n\r\n经常更新自己的文章\r\n\r\n','misc','2011-02-21 11:48:54','2011-02-21 03:49:28'),(162,'1. 整理 phpfunction.php 页面中 substr() 函数。单个函数有很多细节，需要从宏观上去把握；\r\n   例如针对字符串都些哪些常用操作？和 Robbin 谈 Java API 相同；','misc','2011-02-23 17:16:14','2011-02-23 09:16:14'),(163,'img 目录未及时同步导致网站 favorite icon 无法显示，系路径问题。 \r\n\r\n===============\r\n路径没有错误，早上网站图标显示正常。似乎有一个时间延迟。','misc','2011-02-23 22:57:58','2011-02-24 12:19:36'),(164,'对获取一个字符串中的一部分这个工作，PHP 和 JavaScript 分别提供了各自的 API 或函数来实现。\r\n此刻感觉语言、尤其是计算机程序语言是想通的。一个事情可以有任何一种语言来描述，\r\n做这件事的具体流程叫做算法，每种语言最终的代码是不同的，因为每一种语言的语言规则\r\n（词法、句法）不同。','misc','2011-02-25 10:11:19','2011-02-26 00:05:49'),(165,'发现 essay/tag.php 的一处 bug:\r\n<code>FROM essay WHERE tag LIKE \'%$tag%\' ORDER BY c_time DESC</code>\r\n问题在 %$tag%, 例如含有 php_function 标签的记录也匹配 php, 导致标签计数不准确。\r\n\r\n<a href=\"/p/essay/v.php?name=110304-php-resolved-error-count-bug-of-tag-pool.php\">Resove method</a>','done','2011-02-25 20:10:42','2011-03-04 02:52:45'),(166,'刚刚下载了 WordPress 1.0, 发现文章中居然没有标签这个功能。我正是奔着这个去的呀，\r\n想看看 WP 是如何处理标签的。','misc','2011-02-25 21:03:18','2011-02-25 13:03:26'),(167,'现象：单位电脑中 MySQL Tab 键有自动补齐的功能，A840 似乎没有。\r\n\r\n晚上又试了一次，可以了！','misc','2011-02-26 09:45:35','2011-03-02 02:47:59'),(168,'自定义 shell 命令 trm 的 bug:\r\n<code>trm Distributed\\ By\\ OldApps.txt </code>\r\n名字中一旦含有空格，将不能正确处理。','undo','2011-02-26 10:07:55','2011-02-26 02:08:14'),(169,'WP 中的 wp_posts 表：删除某条记录后，其对应的 ID 值的确不会再被使用。这和自己的做法一致。','misc','2011-02-26 21:17:50','2011-02-26 13:17:50'),(170,'为没有创建记单词的页面而下载 WP 代码研究而庆幸：原来的方法有问题。磨刀不误砍柴！','misc','2011-02-26 22:40:04','2011-02-28 09:08:38'),(174,'数据并未丢失。28 当天并无新记录.\r\n<code>\r\n$rows = $db->get_results(\"SELECT id,content,category,time, \r\n                                                 date_format(time,\'%c/%e/%y\') as day, \r\n                                                 date_format(time,\'%k:%i\') as time2 FROM motd \r\n                                          WHERE date_format(time,\'%c/%e/%y\')=date_format(NOW(),\'%c/%e/%y\') \r\n                                          ORDER BY time\");</code>\r\nSQL 语法没问题，只是查询返回的结果集个数为零。\r\n','misc','2011-02-28 21:48:40','2011-02-28 14:11:16'),(185,'4.1.0 	Introduced $_POST that deprecated $HTTP_POST_VARS.\r\n\r\n都舍弃的变量还用？！','misc','2011-03-01 16:11:45','2011-03-01 08:20:47'),(186,'t.mysql.php isn\'t need anymore. ezSQL is so good','misc','2011-03-02 10:46:53','2011-03-02 14:37:00'),(187,'Optimize Class <code>db</code> in case that empty set was returned.','undo','2011-03-02 11:55:49','2011-03-02 03:55:49'),(188,'- Edit essay Category\r\n- Create page <code>categories.php</code>\r\n- Optimize the following pages:\r\n    v.php\r\n    category.php\r\n    add.php','misc','2011-03-02 17:19:26','2011-03-02 14:39:49'),(189,'Problem: rel_id is disorder','why','2011-03-02 21:14:31','2011-03-02 13:14:31'),(190,'Migrate: category.php ----> categories.php ','done','2011-03-03 08:30:42','2011-03-03 00:51:30'),(191,'<pre>$tag_str = implode(\',\',$tags);\r\n$tag_arr = explode(\',\',$tag_str);</pre>\r\nuse <code>implode($tags)</code> in tag pool <strike>is wrong</strike> is the default style.\r\n\r\nThe first argument of <code>implode</code> is <code>\'\'</code> by default.','misc','2011-03-03 09:48:20','2011-03-03 14:03:31'),(192,'Yalong work notes\r\n1. Update website news frequently (such as  exhibition incoming);\r\n2. Check guest book module;','misc','2011-03-03 11:09:20','2011-03-03 03:09:20'),(193,'Can we use a function to replace the <code>$tsvarstoreset</code> module?\r\n\r\n整一个月后解决，将其放入文件<tt>top-set.php</tt>中即可\r\n<pre>$tsvarstoreset = array(\'action\',\'cat_slug\',\'month\',\'tag_name\');\r\nrequire \"../top-set.php\";</pre>','done','2011-03-03 14:43:36','2011-04-03 11:43:30'),(195,'When you want to know a variable\'s type, you can try <code>gettype()</code>\r\n\r\nBut mostly what we want to know is that whether a variable belongs to a certain data type, for example,\r\nis a variable an array? is it a string?  try to use <code>is_***</code> style function.','misc','2011-03-03 17:21:43','2011-03-03 14:04:25'),(196,'Add CSS attribute <code>span.opt</code> to highlight PHP output.','plog','2011-03-03 21:57:14','2011-03-03 13:57:14'),(197,'How to operate the tags? same as categories?\r\nYes.\r\n\r\na. A method for visit tag pool links quickly is necessary, for example, with the index of first letter.\r\n   The current method is not good.\r\n\r\nb. How to edit a tag quickly? the current method seems not good enough.','done','2011-03-04 11:32:49','2011-03-08 08:17:55'),(198,'Add attribute <code>a.rm:hover</code> , take notice when do deleting operation.','plog','2011-03-04 16:49:53','2011-03-04 08:49:53'),(199,'Apply page redirection function to t.php too..','misc','2011-03-04 16:52:47','2011-03-04 08:53:03'),(201,'Move the Tags Pool module from bottom to top, and make fonts in this division to Arial.\r\ndiv#tag-pool, div#tag-pool p {\r\n  font-family:Arial; font-size: 10pt;\r\n}','plog','2011-03-04 21:34:44','2011-03-04 13:34:44'),(202,'When I modified an essay title, error code contains in it.\r\nIt\'s a little short to set table essay\'s title column to <code>VARCHAR(80)</code>.\r\nAlter it to <code>VARCHAR(140)</code>','plog','2011-03-04 21:48:39','2011-03-04 13:52:58'),(203,'Delete cookie*.php\r\n\r\ncookie2.php, set.php: Set Cookie\r\ncookie3.php, tsheader.php: Get Cookie value\r\n\r\nBoth codes should be at the head of document. ','plog','2011-03-05 08:19:27','2011-03-05 08:32:53'),(204,'Was my diary in directory <code>document</code> lost? I hope it is in A840.\r\n\r\nDisappointed, it was lost!','misc','2011-03-05 16:13:53','2011-03-05 12:13:39'),(205,'Using CSS\'s <code>display</code> attribute to generate a navigation bar with tags <code>ul</code>\r\nand <code>li</code>\r\n<a href=\"/p/essay/v.php?name=110306-css-navigation-style-of-apple.php\">here</a>','done','2011-03-05 17:20:44','2011-03-07 00:55:51'),(206,'Apple\'s navigation... <a href=\"/p/essay/v.php?name=110306-css-navigation-style-of-apple.php\">here</a>','done','2011-03-05 21:09:42','2011-03-07 00:34:42'),(207,'Convert &amp;lt; to &lt; automatically when editing. why?\r\n因为&amp;lt;等在 HTML 中具有特殊含义，会自动转化为&lt;\r\n<tt>htmlspecialchars($str)</tt>\r\n<pre>htmlentities($content, ENT_COMPAT, \"UTF-8\")</pre>','done','2011-03-07 09:00:02','2011-03-21 14:35:28'),(208,'<pre>\r\n| 46 | WordPress 代码学习笔记（一）                                                              | \r\n| 47 | 查看别人代码太有必要了——categories 页面有感                                     | \r\n| 48 | 摔碎眼药瓶                                                                                    | \r\n| 49 | WordPress 代码学习笔记（二）——wp-db 类                                               | \r\n| 50 | 炎生哥感冒，我却连个电话都没打，该打                                             | \r\n| 51 | Twitter 页面修改日志                                                                         | \r\n| 52 | Never Use Aliased Command in Shell Scripts                                                         | \r\n| 53 | ID VS CSS: Use HTML Attribute id in JavaScript, class in CSS                                       | \r\n| 54 | The Tiananmen Square Massacre, 1989                                                                | \r\n| 57 | Essay Change Logs                                                                                  | \r\n| 58 | Happy, ah?                                                                                         | \r\n| 59 | Make Sure The Data Type is correct When Using foreach and in_array                                 | \r\n| 60 | I Thought a Name for My Baby                                                                       | \r\n| 61 | Resoved Error Count Bug of Tag Pool Module                                                         | \r\n| 62 | Redirect Page Using JavaScript                                                                     | \r\n| 63 | Invoke JavaScript Codes in a Link Using javascript: URL                                            | \r\n| 64 | Apple\'s Navigation Style                                                                           | \r\n| 65 | 改掉抽烟的毛病                                                                              | \r\n+----+----------------------------------------------------------------------------------------------------+\r\n</pre>\r\n','why','2011-03-07 09:39:23','2011-03-07 05:14:34'),(209,'Is it valid to put the following snippet inner html\'s body?\r\n<pre>&lt;script src=\"/p/js/toc.js\"&gt;&lt;/script&gt;</pre>\r\n\r\nYes, in JQuery\'s first example, such code occurred in the tag body.','done','2011-03-07 10:21:24','2011-03-21 13:30:20'),(210,'Bug: Edit essay, always insert new record into table essay2cat, although the categories didn\'t change.\r\n\r\nIt doesn\'t make too much sense to try my best to reserve useful records. Just delete them and then\r\ninsert again.','done','2011-03-07 10:26:02','2011-03-07 13:39:29'),(211,'Make a custom function named <code>trim_array()</code>\r\nFunction: delete the empty elements and trim blankspaces of no-empty elements in array and \r\nreturn the trimmed new array.\r\nUsage:\r\n<code>$tag_arr = trim_array($tag_arr);</code>\r\n\r\nMore information in /p/common/ts-functions.php','plog','2011-03-07 12:21:03','2011-03-08 04:09:48'),(212,'Essay Add Form:\r\n\r\nget the latest modified essay\'s file name directly and store it into a text box, \r\ninstead of fetching all today\'s essays and storing them into a select box.\r\n<a href=\"p/essay/v.php?name=110307-plog-fetch-latest-file-for-essay-add-select-option.php\">Here</a>','plog','2011-03-07 14:55:44','2011-03-07 13:40:32'),(213,'How to delete multiple tables? for example, all tables with a suffix <code>nwp_</code>.','undo','2011-03-07 15:18:02','2011-03-07 07:18:02'),(214,'问：你姓（性）啥？\r\n答：我没有性；\r\n又问：你贵（龟）姓？\r\n生气：你鳖形！\r\n。。。。。。','joke','2011-03-07 15:27:49','2011-03-07 07:27:49'),(215,'Table Structure Change: <code>essay</code>\r\n<code>ALTER TABLE essay ADD show_toc ENUM NOT NULL DEFAULT \"N\";</code>','plog','2011-03-07 16:56:46','2011-03-07 08:56:46'),(216,'It seems that npu doesn\'t bak the wp-v1.0 and wp-v3.1 directory.\r\nThis is <a href=\"/p/essay/v.php?name=110308-linux-classic-path-problem-occurred-again.php\">the classic PATH problem</a> occurred when learning Java.','done','2011-03-07 21:53:28','2011-03-08 07:02:46'),(217,'Slug column in table <code>essay2tag</code> is reasonable, for example, \"Java\" is suit for human,\r\n\"java\" is suit for URL.\r\n\r\n将分类页面转化为静态页面时，直接使用分类名称作为文件夹名称不合适（有许多特殊符号）。','misc','2011-03-08 20:28:47','2011-03-16 08:20:59'),(218,'Bug: The table shadow effect doesn\'t work in style black.fix.a840.css file.\r\n\r\n表格行显示的效果是 CSS 外部样式和内联样式叠加之后的效果。\r\n\r\n表格中单元格样式将覆盖其所在行的样式；','done','2011-03-08 20:41:37','2011-04-15 01:25:41'),(219,'There isn\'t <code>TIMESTRAMP</code> type in WordPress\'s table structure.','misc','2011-03-09 12:34:36','2011-03-09 04:34:36'),(220,'A good personal blog: <a href=\"http://matthom.com\">http://matthom.com</a>\r\n\r\nIt makes me clear about the meaning \'4\' of <code>INT(4)</code> type in MySQL.\r\nIt\'s design style is also good.','misc','2011-03-09 15:46:55','2011-03-12 13:47:40'),(221,'Change Table essay\'s Structure:\r\n\r\nfile_name: from VARCHAR(80) to VARCHAR(140) as the following file couldn\'t store.\r\n110310-mysql-what-is-the-meaning-of-number-in-parenthesis-when-declaring-integer-columns.php','plog','2011-03-10 08:28:31','2011-03-10 00:28:47'),(222,'Before doing array-related operations ( for reach an array or using array functions such as <code>in_array()</code> , ask yourself: \r\n\r\n<b>Are you sure this array exists? Is there snippet in case the array doesn\'t exist?</b>','misc','2011-03-10 10:47:12','2011-03-10 02:58:29'),(223,'Make The TOC Module Able To Input Chapter ID <a href=\"/p/essay/v.php?name=110307-plog-optimize-toc-display-module-in-essay.php\">Ref.</a>','plog','2011-03-10 14:56:39','2011-03-10 06:56:39'),(224,'JavaScript Function Naming Convention:\r\nIs this convention <code>onclick=\"show_addt()\"</code> legal?\r\n\r\nYes. There are two conventions: <code>like_this()</code> and <code>likeThis()</code>.\r\nThe latter one is better.','done','2011-03-10 15:32:52','2011-03-10 08:56:02'),(225,'Combine the following two JS functions into one: This also shows how to create a function that\r\ncould accept optional arguments.\r\n<code>\r\nfunction showBlock(blockId, className) {\r\n        var nd = id(blockId);\r\n        if (className == null)\r\n                nd.className = \"staticBlockDisplay\";\r\n        else\r\n                nd.className = className;\r\n} \r\n</code>\r\n<code>\r\nfunction showAddt() {\r\n        var nd = id(\"addt\");        \r\n        nd.className = \"debugInfo\";\r\n}\r\nfunction showBlock(blockId) { \r\n        var nd = id(blockId);\r\n        nd.className = \"staticBlockDisplay\";\r\n} \r\n\r\n</code>','done','2011-03-10 15:50:48','2011-03-12 13:51:03'),(226,'By now, which places in my site used JavaScript codes?\r\n\r\n1. t.php: Display the edit and delete links when the mouse hovers <code>entry-footer</code> span.\r\n2. essay/index.php: Show or hide tags pool, a switch.\r\n3. essay/index.php: If I want to show TOC, display the toc_cid box.\r\n    essay/v.php:\r\n4. tsheader.php: addt, edit or hide Twitter box.','done','2011-03-10 17:03:41','2011-03-10 12:42:38'),(227,'Every single file in directory <code>p/</code> could be in directory <code>essay</code>,\r\nand <code>essay</code> could be my new Index!\r\n\r\n常用链接放在首页还是必要的。','done','2011-03-10 22:04:11','2011-03-21 14:29:10'),(228,'I\'m too hungry to focus on my site.','misc','2011-03-11 10:58:29','2011-03-11 02:58:29'),(229,'Learn to use .htaccess ','undo','2011-03-11 15:52:38','2011-03-11 07:52:38'),(230,'Apache document is essential. from .htaccess file.','undo','2011-03-11 16:13:49','2011-03-11 08:13:49'),(231,'<code>lftp</code> Tips:\r\n\r\n1. <code>mrm *.php</code>: delete multiple files with wildcards.\r\n2. <code>rm -r img/</code>: remove a directory','misc','2011-03-11 17:16:41','2011-03-11 09:16:41'),(232,'<code>file_get_contents()</code> seems good.','misc','2011-03-11 20:50:43','2011-03-11 12:50:43'),(233,'Warning: touch() [function.touch]: Unable to create file b.html because Permission denied in /home/ts/www/p/essay/a.php on line 6','misc','2011-03-11 21:12:40','2011-03-11 13:12:40'),(234,'<code>-rw-r--r-- 1 ts       ts        332 2011-03-11 21:55 a.php\r\n-rw-r--r-- 1 www-data www-data 3.3K 2011-03-11 21:56 b.html\r\n</code>','why','2011-03-11 21:57:06','2011-03-11 13:57:06'),(235,'Really happy now, dream comes true! convert all essays to static files.','misc','2011-03-11 22:20:22','2011-03-11 14:20:22'),(236,'放在网上的文章使用中文记录更好一些吧','misc','2011-03-12 08:32:14','2011-03-12 00:32:14'),(237,'Attracked by WordPress\'s default theme, I\'m stuck...\r\n\r\nRecall cnblogs.com','misc','2011-03-12 09:29:43','2011-03-12 02:10:47'),(238,'What:\r\n\r\nSpent half of day on site cnblogs.com/trekshot. <strike>I hope the database of yalongling\'s visual machine is free</strike>.\r\nJust using cnblogs.','misc','2011-03-12 21:57:33','2011-03-14 09:12:33'),(239,'What does user group <code>www-data</code> mean?','undo','2011-03-14 08:41:08','2011-03-14 00:41:08'),(240,'数据库购买结果\r\n产品型号:\r\n	 LINUX100型(Mysql4.1 10M) ( lmysql10dx )\r\n数据库地址:\r\n	 114.80.156.45\r\n数据库名称:\r\n	 sq_chnkui\r\n数据库密码:\r\n	 xingyang\r\n管理地址:\r\n	  您没有填写数据库管理密码（数据库密码）\r\n购买方式:\r\n	  先下订单待汇款后再正式开通\r\n购买期限:\r\n	  5 年','misc','2011-03-14 09:23:20','2011-03-14 01:23:20'),(241,'From <code>/p/common/ori.css</code>\r\nto <code>/common/ori.css</code>','plog','2011-03-14 11:31:27','2011-03-14 03:31:27'),(242,'PHP 中 <code>require</code> 语句的路径为 Linux 文件系统的路径；\r\nHTML 中 <code>a</code>, <code>link, script</code>和<code>img</code>等标签的引用属性中的路径为 www root.','misc','2011-03-14 14:48:24','2011-03-14 09:13:46'),(243,'选择之痛。虚拟主机耗费了太多的精力。决定使用 cnblogs.com/trekshot 博客。','misc','2011-03-14 16:07:17','2011-03-14 08:07:17'),(244,'Deprecate:\r\n\r\n<strike>将 essay/v.php 中显示正文的部分用如下样式修饰：\r\n<code>div.mainContent{\r\n  line-height:1.5;\r\n}</code>\r\n这样，以后正文中的段落就不必使用 <code>p</code> 标签来包裹。</strike>\r\n\r\n段落需要，段落间的换行标签不需要。Strick XHTML?','plog','2011-03-15 10:08:28','2011-03-20 09:42:45'),(245,'Bug and Why:\r\n\r\n<code>-rw-r--r-- 1 www-data www-data 5.5K 2011-03-15 11:05 110315-php-convert-dynamic-pages-to-static-HTML.html</code>\r\nIt shoud be <code>chmod($fn,<b>0644</b>);</code>, not <code>chmod($fn,644);</code>\r\n<pre><span class=\"red\">--w--wx-wT</span> 1 www-data www-data 5.5K 2011-03-15 11:07 110315-php-convert-dynamic-pages-to-static-HTML.html</pre>\r\n\r\n<a href=\"/p/essay/v.php?name=110122-js-an-onmouseover-event-practice.php\">Ref.</a>','done','2011-03-15 11:11:39','2011-03-15 04:32:57'),(246,'t.php 中 JS 特效需要重新思考，有待改进。','misc','2011-03-15 12:09:10','2011-03-15 04:09:10'),(247,'为什么不用 WordPress 呢? 只有一个理由：MT 是全静态发布的，用户访问页面的时候对数据库产生的压力非常小。\r\n而 WP 是伪静态发布，对性能的压力大一些。不要忘了，我的 Blog 可是假设在 Dreamhost 这个专给穷人用的虚拟主机\r\n供应商上面的。静态，只有静态才是王道。\r\n\r\n<a href=\"http://www.dbanotes.net/sitelog/mt4_migration_i.html\">Ref.</a>','misc','2011-03-15 15:21:10','2011-03-15 07:21:24'),(248,'一个普通程序员与一个优秀程序员的区别，不在于他们懂得的编程语言谁多谁少，也不在于他们喜欢用Python语言还\r\n是喜欢用Java语言，而在于他们能否与他人交流思想。如果你能说服其他人，你的力量就可以得到放大。如果你能写\r\n出清晰的注释和技术规格说明书，其他程序员就能够理解你的代码，因此他们就能在自己的代码中使用，而不必重\r\n写。如果你做不到这一点，你的代码对其他人就没有价值。如果你能为最终用户写出清晰的使用手册，其他人就能明\r\n白你的代码是用来干什么的，这是唯一让别人明白你的代码有何价值的方法。','misc','2011-03-15 16:56:57','2011-03-15 08:56:57'),(249,'Fenng 1000+ 文章分类也才 12 个，分类需精选。','misc','2011-03-15 17:18:51','2011-03-15 09:18:51'),(250,'Total: 193 directories, 1474 files, 0 symlinks                                 \r\nNew: 1474 files, 0 symlinks\r\n14159513 bytes transferred in 706 seconds (19.6K/s)\r\nlftp yalongling@114.80.208.12:/cgi-bin> \r\n','misc','2011-03-16 08:37:06','2011-03-16 00:37:06'),(251,'trekshot.org MT:\r\nLog in name: trekshot','misc','2011-03-16 09:26:56','2011-03-16 01:26:56'),(252,'Fenng\'s View:\r\n\r\n# 不写笔记，多写网志 不用纸质的笔记本，少用纸张，多写网志，不亦快哉。\r\n# 抛弃鼠标，键盘作业 鼠标对人体造成的伤害还是不小的，或者只用指点杆也不错的嘛。再说鼠标非常容易坏，\r\n   坏了往哪里扔? 尽量熟悉键盘快捷键，减少鼠标操作对阅读造成的中断，效率还能提升不少。','misc','2011-03-16 10:46:30','2011-03-16 02:46:30'),(253,'经过优盘的数据导入导出，生成的静态页面的用户组将由 www-data 修改为 ts,\r\n<pre>-rw-r--r-- 1 ts ts  18K 2011-03-16 11:06 i2.html</pre>\r\n这时如果再次运行 convert.php 页面，由于用户 www-data 不具有写权限而导致 warning 信息\r\n\r\n解决方法：生成的静态文件一律存放在一个不会被脚本 npu 备份到的位置（<code>/static/</code>）。\r\n\r\n2. essay/index-publish.php 用于生成静态页面的动态页面；','misc','2011-03-16 11:20:30','2011-03-17 02:23:40'),(254,'essay/categories.php 可以更好，借鉴 WP Uncategoried 分类。\r\n<a href=\"/p/essay/v.php?name=110316-plog-optimize-essay-categories-manage-page.php\">Ref.</a>','misc','2011-03-16 12:22:58','2011-03-16 23:57:02'),(255,'The “slug” is the URL-friendly version of the name. It is usually all lowercase and contains only letters, \r\nnumbers, and <b>hyphens</b>（连字符）.','misc','2011-03-16 16:26:38','2011-03-16 08:26:38'),(256,'Fixed:\r\n\r\n空标签的问题<code>, ,</code>\r\n<strike>Just delete it in page tags.php</strike> 不管用的！程序会自动添加空标签。\r\n<a href=\"http://localhost/p/essay/v.php?name=110318-plog-empty-tag-problem-in-tags-page.php\">Ref.</a>','done','2011-03-16 16:50:14','2011-03-18 05:28:57'),(257,'需变动的链接位置：\r\n  1. 文章标题\r\n  2. 分类','misc','2011-03-16 19:10:26','2011-03-16 11:10:26'),(258,'Add function <code>out_error()</code>','misc','2011-03-16 21:34:26','2011-03-16 13:34:26'),(259,'essay/publish.index.php <strike>相当于普通用户浏览的主页</strike> 的主要作用是将一些关键链接由动态改为静态\r\nessay/index.php 相当于管理页面\r\n\r\n同样，\r\nessay/v.php 对应的也应有个 essay/publish.v.php','misc','2011-03-16 22:19:02','2011-03-16 23:58:47'),(260,'删除标签的功能也没有\r\n<pre>$db->query(\"DELETE FROM essay2tag WHERE tag_id = $tag_id\"); </pre>\r\n比删除分类要简单些，不必考虑其它情况，直接在关系表<code>essay2tag</code>删除即可。','done','2011-03-16 22:25:55','2011-03-17 03:08:28'),(261,'心情不错。大体上实现 MT 中 \'Publish\' 之功能。一键将自己的文章转换为静态页面！','misc','2011-03-16 23:08:42','2011-03-16 15:08:42'),(262,'转化为静态页面注意事项：\r\n发布的文章正文中不能出现指向本地（<code>http://localhost</code> 开头）的链接。','misc','2011-03-17 08:19:36','2011-03-17 06:13:32'),(263,'日期归档小功能开始。（75 分钟搞定）\r\n\r\n<a href=\"http://localhost/p/essay/v.php?name=110317-css-joel-on-soft-archive-style.php\">Ref.</a>','done','2011-03-17 08:23:33','2011-03-17 13:16:53'),(264,'4/21/11 Update:\r\nwp 1.0 中直接使用如下简单的方式：\r\n<pre>if ($cats) {...}</pre>\r\n严格来讲，下面判断数组变量是否成功接收到查询结果的方法<strike>有误</strike><b>两种方法均可</b>：\r\n<code>isset()</code> :if a variable is set <b>and</b> not <code>NULL</code>, 这表明使用两者均可。\r\n<pre>$cats = $db->get_col(\"SELECT essay_id FROM essay2cat WHERE category_id = \'$cid\'\");\r\n\r\n if (<b>isset($cats)</b>) { \r\n...\r\n} else { \r\necho \"No record was found.\"; \r\n}</pre>\r\n因为若查询结果集为空，此时变量<code>$cats</code>的数据类型为<code>NULL</code>. 应该是：\r\n<pre>if ($cats != NULL) {...}</pre>\r\n<strike>抽空把所有不规范的代码修正。</strike>','done','2011-03-17 08:53:01','2011-04-21 02:26:58'),(265,'修正标签删除功能和空标签问题（30mins）；','done','2011-03-17 10:26:32','2011-03-17 03:05:20'),(266,'添加 <code>blockquote.info</code> 样式，用来显示给用户的文本提示信息。\r\n例如<code>page_direct()</code> 函数输入内容可用此样式。','misc','2011-03-17 11:17:42','2011-03-17 13:18:39'),(267,'在静态页面首页（<code>/static/index.html</code>）的标题中添加文档生成的时间：\r\n<pre>// Snippet in essay/publish.index.php \r\n$publish_time = date (\"r\", time());\r\n$title = \"Debian Using Logs ( Published at: $publish_time)\";</pre>','misc','2011-03-17 11:29:28','2011-03-17 03:29:44'),(268,'/static/index.html 页面更像是传统博客的归档首页，而不是博客的主页。主页上可放完整显示的文章。\r\n\r\n在 publish.v.php 中做文章。','plog','2011-03-17 22:31:03','2011-03-17 14:36:51'),(269,'addt 表单实现简单的 HTML 标签快捷键，像 WP1.0 中的输入框。\r\n\r\n参见 quicktag.js 文件','done','2011-03-17 22:32:14','2011-04-11 03:50:23'),(270,'<code>sans-serif</code>字体到底是什么样子的？为什么大的网站都有该字体？\r\n\r\n<a href=\"http://localhost/p/essay/v.php?name=110318-css-font-sans-serif.php\">Ref.</a>','done','2011-03-18 14:14:17','2011-03-18 08:50:12'),(271,'Add style <code>blockquote.keynote</code>\r\n用于每篇文章开头的要点。','plog','2011-03-18 16:32:14','2011-03-18 08:32:14'),(272,'CSS\r\n\r\n<code>input:focus</code> seems good.','misc','2011-03-18 17:10:32','2011-03-18 09:10:32'),(273,'font-size\r\n\r\n在单位电脑上 14px 要比 10pt 显示效果好','misc','2011-03-18 17:17:22','2011-03-18 09:17:22'),(274,'经验证，字体大小设置为<code>14px</code>可同时在单位电脑和自己笔记本上达到最佳显示效果。\r\n放弃<code>10pt</code>.','misc','2011-03-18 19:20:52','2011-03-18 11:20:52'),(275,'Add CSS style <tt>p.cn { text-indent: 2em; }</tt> 实现中文段落首行空两格。','plog','2011-03-19 09:31:39','2011-03-19 01:31:39'),(276,'&lt;tt&gt;\r\n\r\n之前在文本中显示等宽字体都是使用&lt;code&gt;标签，其实 HTML 中专门有个此用途的标签，且更简单。','plog','2011-03-19 10:57:33','2011-03-19 02:57:33'),(277,'整理 common.css 很是耗费时间啊！背景图片什么的都是浮云。','misc','2011-03-19 19:48:40','2011-03-19 11:48:40'),(278,'Debian\r\n\r\n插入优盘时，会自动弹出优盘文件的页面。如何使其默认不弹出？','undo','2011-03-20 22:05:22','2011-03-20 14:05:22'),(279,'mirror -R 备份问题：如何跳过未更新的文件\r\n\r\n<pre>mirror -R --newer-than=\'2011-03-21\' static/</pre>','done','2011-03-21 09:27:51','2011-03-21 13:02:58'),(280,'<pre>lftp yalongling@114.80.208.12:/wwwroot&gt; mirror -R --newer-than=\'2011-03-21 09:00\' static/\r\nTotal: 15 directories, 21 files, 0 symlinks                                                       \r\nNew: 1 file, 0 symlinks\r\nModified: 15 files, 0 symlinks\r\n67954 bytes transferred in 24 seconds (2.8K/s)\r\nlftp yalongling@114.80.208.12:/wwwroot&gt; \r\n</pre>','misc','2011-03-21 10:59:33','2011-03-21 02:59:33'),(281,'Bug:\r\n最小化静态发布的前提是<tt>tspublishheader.php</tt>内容不能大幅度改动，老文件使用的还是\r\n原来的头文件。','misc','2011-03-21 13:09:04','2011-03-21 05:09:04'),(282,'URI 和 URL 的区别能说清吗\r\n\r\n答：URI 带有 Query String.','misc','2011-03-21 16:49:20','2011-03-21 14:37:30'),(283,'空格对 URI 来说属于特殊字符；<tt>&amp;lt;</tt>对 HTML 来说属于特殊字符。\r\n两种类型都有各自的编、解码函数。','misc','2011-03-21 22:31:21','2011-03-21 14:39:50'),(284,'sinat 中文倒写搞定。\r\nCreate <tt>utf8_strrev()</tt>','misc','2011-03-22 14:59:08','2011-03-22 08:47:25'),(285,'执行<tt>npu</tt>时要是连 root 密码都不用输最好。','undo','2011-03-22 20:10:26','2011-03-22 12:10:26'),(286,'明早解决：\r\n1, IE 显示水平线异常问题。(参 html.php 水平分割线章节内容)\r\n2, <s>trekshot.org 网站文章评论功能；</s> 舍弃该功能；','done','2011-03-22 23:05:59','2011-03-30 00:29:05'),(287,'<pre>$readable_c_time = date (\"l, Y.n.j g:i a\", strtotime($row->c_time));</pre>','misc','2011-03-23 17:15:35','2011-03-23 09:15:35'),(288,'JS 中如何获取一个文档的宽和高。','misc','2011-03-24 11:45:07','2011-03-24 03:45:07'),(289,'在静态页面添加评论表单麻烦，直接留个 Email 地址好了。','misc','2011-03-24 14:36:10','2011-03-24 06:36:10'),(290,'人靠衣服马靠鞍，狗带铃铛跑得欢','joke','2011-03-24 15:21:05','2011-03-24 07:21:05'),(291,'DIV 块的高度能不能有一个最小值（如同纸张的大小），但又可以足够得长。\r\n答：可以。<tt>min-height</tt>','done','2011-03-24 17:05:16','2011-03-26 03:37:45'),(292,'<tt>img</tt>标签中<tt>size=\"60%\"</tt>中的百分比是相对于其所在区块的实际尺寸，而不是图片本身的实际尺寸。\r\n\r\nEvidence (CSS2 Specification):\r\nPercentages:  	refer to width of containing block\r\n\r\nUpdate:\r\n<tt>width=\"60%\"</tt> 更好，如果图片尺寸大于所在区块尺寸，将达不到缩放图片的效果，图片在此时将以实际尺寸显示。','misc','2011-03-24 17:11:28','2011-03-31 13:35:54'),(293,'手机上自带的浏览器中表单按钮失效，改用UC浏览器，体验很好。\r\n\r\nGoogle Notebook 中的无序列表显示不够好，左边距太小；','misc','2011-03-25 08:46:20','2011-03-25 00:52:08'),(294,'UTF-8 编码中一个普通汉字占用 3 个字节，而不是 2 个。','misc','2011-03-25 11:43:21','2011-03-25 03:43:21'),(295,'改进：\r\naddt 后将页面指向上一个页面。\r\n<tt>$_SERVER[\'REFERER\']</tt>\r\n\r\n更进一步：利用 JS 记住文档的位置，并精确返回到此处。','undo','2011-03-25 11:44:26','2011-03-25 04:45:33'),(296,'test HTTP_REFERER','misc','2011-03-25 11:52:00','2011-03-25 03:52:00'),(297,'想在新浪上找到郑州的 OpenSource lovers.','misc','2011-03-26 08:32:32','2011-03-26 00:32:32'),(298,'为什么 <tt>$w(Geometry.getVerticalScroll());</tt> 显示为 0?\r\n<tt>window.pageXOffset</tt>和其它诸如<tt>innerWidth</tt>的只读属性不同，\r\n当在页面加载后就显示，其值肯定为零，该值适合在页面出现滚动后用一个函数进行调用。','done','2011-03-26 10:18:22','2011-03-28 08:58:29'),(299,'<tt>#main { min-height:500px; }</tt> 使右侧滚动条永久可见。','misc','2011-03-26 11:14:42','2011-03-26 03:14:42'),(300,'test <tt>window.scrollTo(0,90);</tt>','misc','2011-03-26 11:24:01','2011-03-26 03:24:01'),(301,'版权符号&copy; 是<tt>&amp;copy;</tt>, 那“对号（<tt>&radic;</tt>）”和“错号（<tt>&times;</tt>）”呢？最好能找全所有特殊字符的表格。\r\n可以用在标记已完成的任务。\r\n\r\n已整理至 html.php 页面。','done','2011-03-26 12:00:40','2011-03-28 09:09:17'),(302,'试用 Follow5, 问题：\r\n1, sinat 绑定后没有足够的信息确定成功；','misc','2011-03-26 14:37:49','2011-03-26 06:37:49'),(303,'发怒，是用别人的错误惩罚自己；烦恼，是用自己的过失折磨自己；\r\n后悔，是用无奈的往事摧残自己；忧虑，是用虚拟的风险惊吓自己；\r\n孤独，是用自制的牢房禁锢自己；自卑，是用别人的长处抵毁自己。\r\n\r\n摒弃这些，你就会轻松许多！ ','misc','2011-03-28 09:29:19','2011-03-28 01:29:19'),(304,'越是看微博，越是有种挫败感。每周集中看一次合适。','misc','2011-03-28 15:53:16','2011-03-28 07:53:16'),(305,'添加嵌套列表样式：\r\n<pre>\r\nul ul li { \r\n        list-style-type:circle;\r\n}\r\nul ul ul li {\r\n        list-style-type:disc;\r\n}</pre>','plog','2011-03-28 15:58:56','2011-03-28 07:59:16'),(306,'保存当前文档的 Y 坐标，在提交 twits 后重新指向此位置。','undo','2011-03-29 15:09:07','2011-03-29 07:09:07'),(307,'test pageYOffset','misc','2011-03-29 16:24:38','2011-03-29 08:24:38'),(308,'如何通过 PHP 发送一封邮件？ <tt>mail()</tt> 如何使用？\r\nwp1.0 中每新注册一个用户都会给 admin 发一封提醒邮件。\r\n\r\nwp-mail.php \r\nwp-includes/class-pop3.php','undo','2011-03-30 10:25:31','2011-03-30 04:11:30'),(309,'cookiehash:\r\n<tt>cafc4b8422775623729402426f9a4b9f</tt>','misc','2011-03-30 12:00:19','2011-03-30 04:00:19'),(310,'<tt>&lt;acronym title=\"Hypertext Transfer Protocol\">HTTP&lt;/acronym&gt;</tt>\r\n<tt>cursor:help</tt>','misc','2011-03-30 14:58:12','2011-03-30 07:40:56'),(311,'wp-blog-header.php 发现几个有用的 MySQL 函数：\r\n<tt>SELECT YEAR(NOW());</tt>\r\n<tt>SELECT MONTH(NOW());</tt>\r\n<tt>SELECT DAYOFMONTH(NOW());</tt>','misc','2011-03-30 16:58:13','2011-03-30 08:58:13'),(312,'Add CSS Style <tt>img.lf</tt>, <tt>img.rf</tt> in file common.css.\r\n<a href=\"/p/essay/v.php?name=110331-life-visit-fo-sun-office.php\">First usage page</a>','plog','2011-04-01 09:51:01','2011-04-01 02:03:25'),(313,'问：某些人很快学会新技术，我很努力，但学得很慢，怎办？ \r\n答：你可能理解力有问题或者学习方法有问题。对于提升理解力，我没有办法，毕竟我自己的理解力也只是一般。\r\n\r\n至于学习方法，我的建议是：先了解全局，不要深入细节。再找一些范例，由浅入深，务必弄懂范例每个细节。\r\n这么做的学习效果通常不错。\r\n\r\nCai Xueyong\'s sinat','misc','2011-04-01 11:16:15','2011-04-01 03:16:15'),(322,'将有规律的内容用程序实现；\r\nPHP 最简单的模板机制：现获取生成HTML页面所需的所有变量值，在之后的 HTML 输出中直接使用即可。','misc','2011-04-02 12:30:34','2011-04-02 06:24:34'),(315,'<tt>WHERE 1=1</tt>\r\n<tt>SELECT 1-1</tt> in wp-blog-title.php\r\n\r\n<tt>LEFT JOIN</tt> It\'s time to master it! <a href=\"/ref/mysql-manual/sql-syntax.html#join\">Ref.</a>\r\n\r\n总结：join 的结果会和left join或者right join的其一的结果一样，顺序不同，不知道为什么呢，\r\nleft join 左联结优先考虑左表，即products ，得到的结果行数和products表的行数一样，\r\nright join 右联结，有线考虑右表，即vendors ，得到的结果和右表vendors的行数一样，\r\n无法匹配的时候用NULL值填充。 ','undo','2011-04-01 15:25:41','2011-04-01 09:04:35'),(316,'<tt>$request = \" SELECT <span class=\"red\">$distinct *</span> FROM $tableposts $join WHERE 1=1\".$where.\" ORDER BY post_$orderby $limits\";</tt>\r\n红色部分有问题吧？ in wp-blog-title.php','why','2011-04-01 15:38:29','2011-04-01 07:38:29'),(325,'<tt>div.tip</tt> inspired from debian.org','plog','2011-04-02 16:41:43','2011-04-02 08:41:43'),(318,'xirang\'s IP:\r\n115.47.66.124 ','misc','2011-04-02 08:20:11','2011-04-02 00:20:11'),(319,'经过自己验证，万网<s>似乎禁止解析香港IP</s>。没有十足的把握，就和上面说。。。\r\n1. domain to host\r\n2. host to domain','misc','2011-04-02 10:20:25','2011-04-02 06:00:42'),(323,'Alias <tt>plog</tt>\r\n<pre>alias plog=\'vi /home/ts/www/p/essay/110310-doc-pages-logs.php\'</pre>','plog','2011-04-02 15:01:40','2011-04-02 07:01:40'),(324,'将各种条件查询的代码模块化——WP首页代码有感 参 PLog 页面','plog','2011-04-02 15:47:13','2011-04-02 07:47:13'),(326,'<tt>__DIR__</tt> 在 PHP 5.3.0 中才引入，而本机 PHP 版本为 5.2.6.\r\n故还得使用<tt>dirname(__FILE__).\"/\"</tt>','misc','2011-04-02 22:57:46','2011-04-02 14:57:46'),(327,'v.php 模块化\r\nvbak.php','misc','2011-04-02 23:02:29','2011-04-03 11:20:49'),(328,'<tt>get_the_category()</tt> in file <tt>template-functions.php</tt>  演示了如何用一个语句获取一篇文章的\r\n所有分类或标签。','misc','2011-04-03 18:56:56','2011-04-03 10:56:56'),(329,'继续模块化：将<tt>$tsvarstoreset</tt>部分归入 top-set.php','misc','2011-04-03 19:44:21','2011-04-03 11:44:21'),(330,'有必要也弄个 template-function.php 了！ 从 essay/index.php 开始！','misc','2011-04-03 19:50:01','2011-04-03 11:50:01'),(331,'在优化 w.php 时发现 <tt>table {display:table;}</tt>的问题；\r\n\r\n目的是为了当输入框较多时能达到类似表格的一致效果。临时解决方法：\r\n<pre>  &lt;div class=\"formRow\"&gt;&lt;div class=\"divth\"&gt;Name/Meaning:&lt;/div&gt;\r\n        &lt;input type=\"text\" name=\"name\" size=\"10\" accesskey=\",\" /&gt;\r\n        &lt;input type=\"text\" name=\"basic_meaning\" size=\"14\"/&gt;\r\n    &lt;/div&gt;\r\n</pre>','done','2011-04-05 10:01:08','2011-04-08 06:56:13'),(333,'Ctrl Enter 快速发布原理是什么？','undo','2011-04-06 10:11:41','2011-04-06 02:11:41'),(334,'图片说词不局限于名词。 @jongji\r\n蔡学镛：“概念－关键词－联想－搜索”','misc','2011-04-06 14:25:49','2011-04-09 12:34:41'),(335,'add <tt>div.formRow</tt>','plog','2011-04-06 17:00:05','2011-04-06 09:00:05'),(336,'<tt>cat_desc</tt> 列取消，前两列足够。','misc','2011-04-06 20:42:23','2011-04-06 12:42:23'),(337,'以后表单中<tt>name</tt>属性省去含有表单类型的部分，如<tt><s>txt_</s>name</tt>.和DB中列名一致为佳。','plog','2011-04-06 20:49:04','2011-04-09 12:35:29'),(338,'word app: almost done.','misc','2011-04-07 00:05:13','2011-04-06 16:05:13'),(339,'Add column <tt>word_id</tt> in table <tt>w_places</tt>.','misc','2011-04-07 11:04:25','2011-04-07 03:04:25'),(340,'<tt>img_name</tt>列放在表<tt>w_words</tt>更合适。','misc','2011-04-07 11:30:51','2011-04-07 03:30:51'),(341,'修改和新增操作的 PHP 代码可以公用。不必使用如下形式：\r\n<pre>$<s>new_</s>name = $_POST[\'name\'];</pre>\r\n原因很简单，添加操作和修改操作不可能同时发生','misc','2011-04-07 13:46:40','2011-04-08 06:58:49'),(342,'已经都可编辑，优化 add_place 模块；','misc','2011-04-07 14:32:01','2011-04-07 06:32:01'),(343,'edit exp 中 en_exp 和 dic_example 为何读不出来呢？\r\n\r\n在编写编辑功能模块时，将 PHP 读出的值做为表单的默认值时应特别注意：\r\n元素<tt>textarea</tt>的值是在开始和结束标签之间，而不是像诸如文本框中使用<tt>value</tt>属性！','done','2011-04-07 21:08:32','2011-04-08 06:59:27'),(344,'<pre>echo \"&lt;pre&gt;\";\r\nprint_r($cat);\r\necho \"&lt;/pre&gt;\";</pre>\r\n生成一函数以方便调试4。\r\n\r\nSee <tt>dbg()</tt> in file ts-functions.php','done','2011-04-07 21:14:55','2011-04-10 00:20:49'),(345,'枚举类型排序很奇怪。是以出现的顺序而不是字母顺序。\r\n<tt>enum(\'n\',\'vt\',\'vi\',\'adj\',\'adv\'\'idiom\')</tt>\r\nw.php有感','misc','2011-04-08 10:21:15','2011-04-08 02:21:39'),(346,'使用模板函数生成很简洁的 w.php 页面，心情很不错！','misc','2011-04-08 11:10:18','2011-04-08 03:10:18'),(347,'Add random word module using function <tt>array_rand()</tt>.\r\n<pre>$id_arr = $db->get_col(\"SELECT ID FROM w_words\");\r\n$rand_word_id = $id_arr[array_rand($id_arr, 1)];</pre>\r\nNote that this function return random keys, NOT values of an array.','misc','2011-04-08 19:55:58','2011-04-08 11:58:01'),(348,'使用和 addt 一样的方法进行快速添加单词。see tsfooter.php','misc','2011-04-09 09:27:04','2011-04-09 01:27:04'),(349,'每次都输入<tt>book_name</tt>麻烦，应改进。','undo','2011-04-09 10:17:10','2011-04-09 02:17:10'),(350,'Add style <tt>div.popup</tt> for addt and addWord.','plog','2011-04-09 11:52:38','2011-04-09 03:52:38'),(351,'使用 CSS <tt>margin</tt>属性来控制文档元素的上下间距，尽量少使用标签<tt>&lt;tt&gt;</tt>\r\nformSearch 搜索框样式有感','misc','2011-04-10 07:19:21','2011-04-09 23:19:21'),(352,'实现在结果中编辑和搜索','undo','2011-04-10 07:52:26','2011-04-10 00:26:01'),(353,'Find <tt>wp-admin/quicktags.js</tt>!','misc','2011-04-10 16:55:19','2011-04-10 08:55:19'),(354,'<pre>&lt;textarea rows=\"10\" cols=\"90\" name=\"content\" tabindex=\"4\" id=\"content\"&gt;&lt;/textarea&gt;\r\n&lt;script&gt;\r\n        var edCanvas = document.getElementById(\"content\");\r\n&lt;/script&gt;</pre>\r\nJS 代码放在<tt>textarea</tt> 下方就管用，放在上方就提示变量未定义。原因在哪？\r\n\r\n程序是按文档流的顺序执行，JS 代码若在上，则先执行之，由于此时<tt>content</tt>尚未出现，\r\n因此此时<tt>edCanvas</tt>的值为<tt>null</tt>.','why','2011-04-10 21:38:56','2011-04-10 13:51:03'),(355,'addt 中 \"X\" 符号关闭按钮终于搞定。透明背景的 PNG 图像总是变为白色。<a href=\"http://localhost/p/essay/v.php?name=110413-plog-quicktags-and-xclose-link.php\">Ref.</a>','misc','2011-04-11 11:43:48','2011-04-13 00:58:45'),(356,'Add <tt>a.xclose</tt> style.','misc','2011-04-11 11:44:28','2011-04-11 03:44:28'),(357,'WP1.0 中的代码不管用？\r\n<pre>window.onload = focusit;\r\nfunction focusit() {\r\n        document.testf.content3.focus();\r\n}</pre>\r\n','misc','2011-04-11 13:18:08','2011-04-11 05:18:08'),(358,'昨天临下班时将<tt>npu</tt>误写成<tt>nup</tt>. 在使用备用备份<tt>bak-of-wwwp-before-run-nup.tgz</tt>\r\n还原时，发现一个很严重的问题：备用备份中并没有对数据库进行备份。\r\n参见<a href=\"http://localhost/p/essay/v.php?name=110224-gnu-wrong-use-command-cp.php\">更新</a>。','misc','2011-04-13 08:11:25','2011-04-13 00:53:30'),(359,'使用 Vim 进行跨文件之间的整段转移时，切记使用“复制（Y）”，而不是“剪切（X）”！已经丢失两次数据了！gcolor','misc','2011-04-13 10:18:53','2011-04-13 02:18:53'),(360,'如何实现此效果？ （样式已经模仿，遮蔽效果参 boxy 插件）\r\n<a href=\"/img/page/snap-addlink-style-in-gmail.png\"><img src=\"/img/page/snap-addlink-style-in-gmail.png\" width=\"20%\"alt=\"addlink style in gmail\" /></a>','done','2011-04-13 10:25:24','2011-04-15 02:23:09'),(361,'借鉴 Gmail 表单样式，优化表单<tt>input</tt>,<tt>textarea</tt>两个元素的样式：\r\n<pre>input,textarea {\r\n        margin:0px; padding:6px;\r\n        border: 1px solid #eee;\r\n        border-top: 1px solid #333;\r\n}\r\ninput:focus,textarea:focus {\r\n        border: 1px solid #6fa8dc;\r\n}</pre>','misc','2011-04-13 11:04:30','2011-04-13 03:05:10'),(362,'<a href=\"http://yanghao.org\">yanghao.org</a>界面很简洁，我喜欢','misc','2011-04-13 11:44:35','2011-04-13 03:44:35'),(363,'学习一篇文章时，会遇到不止一个单词，每添加一个单词都得重复输入网址显然不好。待改进。','undo','2011-04-14 08:30:39','2011-04-14 00:30:39'),(364,'使用 jQuery 最大的好处：\r\nWe don\'t need to write an <tt>onclick</tt> for every single element. We have a clean separation of structure (HTML) \r\nandbehavior (JS), just as we separate structure and presentation by using CSS. ','misc','2011-04-14 08:48:27','2011-04-14 00:48:27'),(365,'将单词音标加入 quick  add module.','misc','2011-04-14 08:53:14','2011-04-14 00:53:14'),(366,'jQuery 适合<tt> showBlock()</tt> 不适合 confirm delete. 或者说，当 JS 中夹杂有 PHP 变量时不适用。','misc','2011-04-14 09:23:52','2011-04-14 01:28:43'),(367,'jQuery 的第一个实际应用：\r\n<pre>$(document).ready(function() {\r\n        $(document).find(\'.wordDetail\').hide().end().find(\'.wordTitle\').click(function() { \r\n                $(this).next().slideToggle(); \r\n        });\r\n});</pre>','misc','2011-04-14 10:56:44','2011-04-14 02:56:44'),(368,'为了使用 jQuery 的功能，在 w.php 中添加样式 <tt>div.wordTitle</tt> 和 <tt>div.wordDetail</tt>','misc','2011-04-14 10:57:56','2011-04-14 12:43:57'),(369,'Added CSS style:<tt>div.popupTitle</tt>\r\n（为模仿Gmail 中弹出窗口样式）','misc','2011-04-14 12:00:24','2011-04-14 12:45:01'),(370,'将 表格中 <tt>tr</tt>,<tt> td</tt>, <tt>th</tt> 标签的<tt>display</tt>属性设为block解决不了 word app 中 place types 的问题；','misc','2011-04-14 14:50:08','2011-04-14 06:50:41'),(371,'<tt>form</tt> 标签是有默认<tt>margin</tt>值的，在 CSS Reset 中应注意。','misc','2011-04-14 15:37:15','2011-04-14 07:37:15'),(372,'半天的成果：\r\n<a href=\"/img/page/snap-a-better-style-of-popup-div.png\"><img src=\"/img/page/snap-a-better-style-of-popup-div.png\" alt=\"addt\" width=\"30%\" /></a>','misc','2011-04-14 15:48:52','2011-04-14 07:49:28'),(373,'将记单词作为一个完整的应用程序来做，放到网上，听取别人的意见。','undo','2011-04-14 21:33:57','2011-04-14 13:33:57'),(374,'截至目前，tsfoot.php 文件内已经含有三个表单，很有必有将其独立出来(ts-global-forms.php)啊。','done','2011-04-14 22:19:03','2011-04-15 00:24:20'),(375,'Deprecate <tt>blockquote.keynote</tt>,use <tt>div.keynote</tt>.','misc','2011-04-15 09:51:52','2011-04-15 02:06:35'),(376,'JavaScript 和 PHP 都可以和 HTML 进行穿插（你中有我，我中有你）。那么，JavaScript 与 PHP 代码之间可以穿插吗？\r\nPHP 中可以输出 JS;','undo','2011-04-15 11:24:01','2011-04-15 03:26:27'),(377,'此刻，发现<tt>category_parent</tt>的好了。新建表格<tt>w_term_taxonomy</tt>, 单词页面可以用，将来的引用页面也可。','misc','2011-04-15 11:57:50','2011-04-16 22:33:26'),(378,'<tt>w_places</tt>的问题在于没有把“可分类”的条目（<tt>book_name</tt>）模块化，造成重复输入。','misc','2011-04-16 08:43:23','2011-04-16 00:43:23'),(379,'谋定后动，开始。 <b>下午三点半结束，功能完成</b>','misc','2011-04-16 09:06:40','2011-04-16 07:26:53'),(380,'重复一个字符N次的函数：<tt>str_repeat(\"&ampnbsp;\", 2)</tt>','undo','2011-04-16 11:07:44','2011-04-16 03:12:19'),(381,'<pre><b>Fatal error</b>:  Call to undefined function make_options() in <b>/home/ts/www/p/w-manage.php</b> on line <b>457</b><br /></pre>\r\n函数调用出现在函数生面之前时出现如上错误。类似的错误为何出现在源码中，而不是直接显示出来？\r\n\r\n函数调用方面的错误不会显示在页面中，而是源码中。','misc','2011-04-16 11:29:24','2011-04-16 06:06:07'),(382,'<tt>place_type</tt>可以删掉了！','misc','2011-04-16 12:39:55','2011-04-16 04:39:55'),(383,'<tt>nwp_term_relationships</tt>中<tt>object_id</tt>列指的是什么？\r\n\r\n答：文章的 ID.\r\n<pre>+-----------+------------------+------------+\r\n| object_id | term_taxonomy_id | term_order |\r\n+-----------+------------------+------------+\r\n|         4 |                2 |          0 | \r\n|         4 |                1 |          0 | \r\n|         4 |                4 |          0 | \r\n|         4 |                5 |          0 | \r\n|         4 |                3 |          0 | \r\n|         4 |                7 |          0 | \r\n+-----------+------------------+------------+</pre>\r\n上表显示的是id为\'4\'的文章的分类对应关系，其中有标签也有分类。\r\n','done','2011-04-17 07:16:54','2011-04-21 01:52:19'),(384,'查看大学时的数据结构教材。分类和<tt>Node</tt>都属于树的范畴。','misc','2011-04-17 18:33:30','2011-04-17 10:33:30'),(385,'<pre>$depthNextStep = $depth + 1;\r\nmake_options($t->term_id, $depthNextStep, $taxonomy, $selected);\r\n</pre>\r\n是的，问题在这里','misc','2011-04-18 07:59:10','2011-04-17 23:59:10'),(386,'<pre>body {\r\n        background-color:#fff;\r\n        color:#111;\r\n}</pre>\r\nReset CSS 样式时上面这段的作用在于：浏览器设置选项中用户可以自定义文档的字体和背景颜色，上面的代码将\r\n背景颜色重新恢复到默认值。\r\n','misc','2011-04-18 08:48:36','2011-04-18 00:48:36'),(387,'不想写函数文档（<tt>make_options();</tt>）\r\n\r\n新Bug: 在编辑模式下，应隐藏编辑条目及其子条目','undo','2011-04-18 10:35:13','2011-04-18 02:51:26'),(388,'遇到因变量名名称相同导致值被覆盖掉的情况。原因在于对 PHP <b>变量作用域</b>概念不熟悉。<a href=\"/p/php.php\">Ref.</a>\r\nFatal error: Object of class stdClass could not be converted to string','misc','2011-04-18 16:51:46','2011-04-18 09:04:31'),(389,'Create a account on stackoverflow.com, 在其上发现头像使用的是 WordPress 也采用的 Gravator 网站上的链接。','misc','2011-04-20 09:46:25','2011-04-20 07:31:53'),(390,'zhihu.com 采用邀请使用。w.php 也可用此方法。','misc','2011-04-20 09:57:17','2011-04-20 01:57:17'),(391,'sh 高亮代码不像首页介绍说的那样，实际需要的文档比所说的要多，因为原样复制不能生效。','misc','2011-04-20 12:08:17','2011-04-20 04:08:17'),(392,'找到一个在文档中高亮显示代码的工具<a href=\"http://alexgorbatchev.com/SyntaxHighlighter/\">SyntaxHighlighter</a> via Gravatar.com\r\n\r\n宣告标签<tt>&lt;span class=\"cmt\"&gt;</tt>等不再在代码中使用。','misc','2011-04-20 13:58:03','2011-04-20 06:01:30'),(393,'一个例句中含有多个生单词的问题。','misc','2011-04-21 08:47:03','2011-04-21 00:47:03'),(394,'目前这种毫无根据、跟着感觉的方式来写单词应用不太合理，应该把重点先放在吃透 wp1.0 代码上。\r\n理解其表格设计的方式，并思考其原因，以及这样设计的好处是什么。','misc','2011-04-21 09:15:38','2011-04-21 01:15:38'),(395,'早上唐僧醒来看见悟空暴死在地上，八戒和沙僧啜泣不止，忙问：“悟空怎么死了！”八戒边哭边说到：“师傅，你昨晚说梦话念了一晚上紧箍咒……” \r\nts: 本是无意的啊……','joke','2011-04-21 14:43:45','2011-04-21 07:21:56'),(396,'<pre>$hostname = <b>gethostbyaddr</b>($_SERVER[\'REMOTE_ADDR\']);</pre>\r\nfrom wp-comments-post.php','misc','2011-04-22 08:42:35','2011-04-22 00:42:35'),(397,'<tt>comment_author_cafc4b8422775623729402426f9a4b9f</tt>\r\n\r\n<tt>comment_author_cafc4b8422775623729402426f9a4b9f</tt>','misc','2011-04-22 08:55:51','2011-04-22 00:57:32'),(398,'昨晚和汪一起去吃夜市。一个是他堂哥，另一个是他堂弟。没意思透了。','misc','2011-04-26 11:03:36','2011-04-26 03:03:36'),(399,'蔡学镛博客摘录：\r\n\r\n我給自己準備的下一個挑戰，是在演講台上用英文講技術主題。\r\n等到下次REBOL舉辦研討會，我就準備這麼做。\r\n這讓我感到些許的恐懼和壓力，但我需要這樣的恐懼和壓力，這是進步的泉源。\r\n\r\n我永远记得，白手起家的父亲有一天很悲哀地跟我说：咱们这地方的人，当你穷的时候瞧不起你，\r\n当你有钱的时候嫉妒你。\r\n\r\n每一次的PPT演示，我们都是在做推销，或者推销公司、或者推销技术、或者推销产品、\r\n或者推销理念。在这个时代，只有懂得营销的人，才能成功。Apple的产品，功能规格不会是最好，\r\n价格不会是最便宜，但他们懂营销，懂包装设计，所以产品大卖。PPT是一种重要的营销工具，\r\n因此我们一定要加强自己的PPT技能，这是现代社会中相当重要的软技能。','misc','2011-04-27 09:27:48','2011-04-27 08:08:13'),(400,'<a href=\"http://idm.fr\">idm.fr</a> 真奇怪。OALD 声称网站由其驱动，但上面只有产品介绍，没有下载连接，\r\n没有购买链接。\r\n\r\n之前觉得设计不错的网站是<a href=\"http://oed.com\">www.oed.com</a>, 刚刚看到的是<a href=\"http://oep.com\">www.oep.com</a>','misc','2011-04-27 16:12:32','2011-04-28 01:54:56'),(401,'Column <tt>img_name</tt> in <tt>w_words</tt> 可以删除了！而是使用一段代码总是尝试去读取相应的图片。','misc','2011-04-27 17:20:38','2011-04-27 09:20:38'),(402,'Phrasal vervs 和 idioms 有区别吗？\r\n\r\nIdiom: a group of words whose meaning is different from the meanings of the individual words‘Let the cat out of the bag’ is an idiom meaning to tell a secret by mistake.\r\n\r\nPhrase: a group of words without a finite verb, especially one that forms part of a sentence. ‘the green car’ and ‘on Friday morning’ are phrases.','misc','2011-04-28 10:25:10','2011-04-29 05:17:58'),(403,'determiner 和 pronoun 说的是一回事吗？\r\n\r\n答：完全不同的两个概念。例如 \"the\" 属于 determiner, 而 \"I\" 属于 pronoun.','misc','2011-04-29 11:40:25','2011-04-29 13:13:25'),(404,'Create Google docs like style:\r\n<pre>span.<s>yellowBG</s> engExpInP {\r\n        background-color:#fff2cc;\r\n        border: #ffe599 1px solid;\r\n        padding: 0px 3px;\r\n}</pre>\r\n<tt>yellowBG</tt> 名词不够好，万一在别的样式中这种黄颜色不合适呢？\r\n所以，样式名称中不要带有颜色名词。','misc','2011-04-29 11:51:06','2011-04-29 13:14:42'),(405,'所见即所得的原理是什么？','why','2011-04-29 11:58:35','2011-04-29 03:58:46'),(406,'w.php Change logs:\r\n\r\n1. 单词类型中应添加 Phrasal verb 类型；<b><tt>&radic;</tt></b>','done','2011-04-29 15:54:23','2011-05-24 00:54:27'),(407,'更高效地记单词。词串（Chain）\r\n <b>形容词</b>－名词－副词\r\nelegant-elegance-elegantly\r\n理论上说，学到一个形容词时，也就同时多学了两个词。但实际中，有些形容词的某些变种\r\n在日常生活中并不使用。\r\n\r\n形容词－副词\r\ndiligent-diligently\r\nnotorious-notoriously\r\n\r\n<b>动词</b>－名词形式\r\ncondemn-condemnation\r\n不及物动词－动词词组\r\nbreak-break down-break out\r\n动词－同义词？反义词？\r\nyield-produce\r\n\r\n<b>名词</b>－所属类别\r\npenguin-animals\r\n可数吗？\r\n复数形式特殊吗？\r\n图片？\r\n','misc','2011-04-29 16:17:47','2011-04-29 13:54:37'),(408,'表示分类的<tt>term_id</tt>出现在表<tt>w_places</tt>中没有问题，因为出处只能出自一个地方。\r\n但放在<tt>w_words</tt>中就不合适，要考虑到一个单词可能属于多个自定义分类。\r\n比如单词 \"diligent\", 即属于\'-gent\'结尾的形容词，又属于“形容人的褒义词”。','misc','2011-04-30 08:35:59','2011-04-30 00:35:59'),(409,'Alter table structure:\r\n<tt>w_explanations</tt>: <tt>type</tt> add <tt>phrasalverb</tt>','misc','2011-04-30 15:30:42','2011-04-30 07:30:42'),(410,'线性阅读——没有 Hyperlinks 的状态，以免大脑跑题太远！','misc','2011-04-30 16:13:34','2011-04-30 08:13:34'),(411,'<tt>nwp_terms</tt>中几列的KEY属性各不相同。有<tt>PRI</tt>,<tt>MUL</tt>, 还有<tt>UNI</tt>\r\n三者的区别是什么？','undo','2011-05-01 07:35:20','2011-04-30 23:35:20'),(412,'<a href=\"http://live.gnome.org/Dia\">Dia</a>: ER图绘制工具\r\nThe following extra packages will be installed:\r\n  <tt>dia-common</tt> <tt>dia-libs</tt> <tt>gsfonts-x11</tt>\r\n  The following NEW packages will be installed:\r\n    dia dia-common dia-libs gsfonts-x11\r\n    0 upgraded, 4 newly installed, 0 to remove and 24 not upgraded.\r\n    Need to get 5034kB of archives.\r\n    After this operation, 21.5MB of additional disk space will be used.\r\n','misc','2011-05-05 08:37:04','2011-05-05 06:18:03'),(413,'计算机名词繁、简对照表：\r\n\r\n資料庫－数据库\r\n','misc','2011-05-06 16:04:40','2011-05-06 08:04:40'),(414,'超类型和子类型 可以直接在表格中使用一个类似 <tt>is_vip</tt> 的列来表示。','misc','2011-05-06 16:08:13','2011-05-06 08:08:13'),(415,'使用 gimp 将两张图片合成为一张都如此费劲，有种挫败感。','misc','2011-05-07 17:09:56','2011-05-07 09:09:56'),(416,'Hibernate: 休眠\r\nSuspend: 暂停；挂起','misc','2011-05-10 08:32:57','2011-05-10 00:32:57'),(418,'Deprecate:\r\n<pre>$db->query(\"INSERT INTO motd (id, content, category, time) VALUES (\'\', \'$content\', \'$category\', NOW())\");</pre>\r\nInstead:\r\n<pre>$db->query(\"INSERT INTO motd (content, category,time) VALUES (\'$content\', \'$category\',NOW())\");</pre>','misc','2011-05-10 12:00:09','2011-05-10 04:00:52'),(419,'正文中的超链接的样式可以设为和文本一样，营造一种线性阅读的气氛！','misc','2011-05-12 08:01:26','2011-05-17 23:53:10'),(420,'经得住诱惑，五颜六色的诱惑。只有黑与白的 Web 世界里，内容才会凸现出来。','misc','2011-05-14 11:04:14','2011-05-14 03:04:14'),(421,'HKDNR.HK 和 HKIRC.HK 两个域名是何关系？','misc','2011-05-17 10:52:21','2011-05-17 02:52:21'),(422,'Bug Fixed\r\n\r\nts-global-forms.php 中表单<tt>action</tt> 属性原值为<tt>w-manage.php?action=quick_add</tt>\r\n问题在于如果当前页面和 ts-global-forms.php 不在同一目录下（比如 essay 目录下的 v.php 文件），\r\n那么表单将无法正常提交。所以：<b>表单中<tt>ACTION</tt>属性值要使用以 <tt>\"/\"</tt> 开头的相对路径。</b>\r\n对上面而言，属性值应为<tt><b>/p/</b>w-manage.php?action=quick_add</tt>','plog','2011-05-18 08:23:23','2011-05-18 00:29:01'),(423,'积极主动：盼着开会；\r\n消极被动：害怕开会。','misc','2011-05-18 14:49:28','2011-05-18 06:49:28'),(424,'选择<b>有意义</b>的下拉菜单的默认值。在单词分类中，<tt>‘0’</tt>就没有意义。','misc','2011-05-18 17:44:00','2011-05-18 09:45:03'),(425,'Stop at P234 <tt>HAVING</tt> clause.\r\n\r\nmigrate yalongdiamond.com from fo-sun to smartinfo.','misc','2011-05-19 11:47:37','2011-05-19 03:47:37'),(426,'What does <tt>z-index</tt> mean?\r\n\r\nThe z-index property specifies <b>the stack order of an positioned element</b>.\r\nAn element with greater stack order is always in front of an element with a lower stack order.\r\nNote: z-index only works on positioned elements (position:absolute, position:relative, or position:fixed).','done','2011-05-21 08:49:16','2011-05-24 00:52:20'),(427,'<tt>114.80.208.12</tt> to <tt>202.181.247.117</tt>\r\n\r\n结果证明行不通。cPanel 下已经设置为只能绑定 outstanding.com.hk 的子域名，而不能单独绑定\r\n一个全新的域名（如 trekshot.org）。\r\n假如只在 smartinfo 买空间又会是什么情况？\r\n\r\n5.23 不支持<b>多域名绑定</b>。绑定域名会占用资源，收费项目 500/年','misc','2011-05-21 11:28:11','2011-05-24 00:08:36'),(428,'outstanding.com.hk 服务器中家目录下有两个目录 <tt>www</tt> 和 <tt>public_html</tt>, \r\n不知这两个目录有何关联，在任何一个目录中所做的修改都会同步到另一个目录中。\r\n例如，往<tt>www</tt>中上传一文件后，在<tt>public_html</tt>中会看到相同文件。','why','2011-05-21 11:38:42','2011-05-21 03:38:42'),(429,'创建页面 andro.php;\r\nJS 中时间 API 不够熟练啊！','misc','2011-06-21 17:28:27','2011-06-21 09:28:27'),(430,'观李敖微博后发现：大师每天都会在固定的时间（晚上）发布固定数量（两、三条）的微博。\r\n持之以恒可见一斑。','misc','2011-06-22 08:13:02','2011-06-22 00:13:02'),(431,'为什么 JavaScript Date API 中没有 MySQL 中的 <tt>datetime</tt> 格式的值？\r\n或\r\n如何利用 JavaScript 将字符串\"2011-05-25 16:55:00\"转化为时间戳？ \r\n================\r\n<pre>var my_date = new Date(2011,4,25,16,55,0);</pre>','done','2011-06-22 09:30:15','2011-06-25 01:19:21'),(432,'一个页面中只能有一个<tt>window.onload</tt>事件？\r\n=============\r\n应该这么说：一个页面中<tt>window.onload</tt>属性只能有一个确定的值，连续赋值多次，\r\n将覆盖之前的值\r\n<a href=\"http://localhost/p/essay/v.php?name=110625-why-two-onload-events-does-not-work-in-one-page.php\">Ref.</a>','done','2011-06-22 21:11:44','2011-06-25 03:52:11'),(433,'今早使用邮箱<tt>xy8500@gmail.com</tt>注册youku帐号，昵称为<tt>a1600z</tt>,专门放置安琢的手机视频！','misc','2011-07-01 08:24:00','2011-07-01 00:24:00'),(434,'添加新的 alias <tt>msnote</tt>, 以便快速编辑当前学习笔记；','misc','2011-07-01 08:35:51','2011-07-01 00:35:51'),(435,'郑渊洁视频关键字：\r\n\r\n勤快、计划、身教胜于言传','misc','2011-07-02 09:34:46','2011-07-02 01:34:46'),(436,'想自己设计一个订单管理系统！','misc','2011-07-02 14:31:46','2011-07-02 06:31:46'),(437,'货物重量，物流运费等都是数值型，不熟～！','misc','2011-07-02 15:53:35','2011-07-02 07:53:35'),(438,'将管理页面的导航链接放在模块<tt>om-navi.php</tt>中！','misc','2011-07-03 10:33:05','2011-07-03 02:33:05'),(439,'常见的表单控件（下拉菜单、按钮等）源码有必要放进 <tt>paste.php</tt> 中，这样用起来更快！','undo','2011-07-03 16:50:12','2011-07-03 08:50:12'),(440,'下拉菜单<tt>select</tt>选中是<tt>selected</tt>\r\n单选按钮radio 选中是<tt>checked</tt>!','misc','2011-07-03 17:34:27','2011-07-03 09:34:27'),(441,'打印机搞了一上午也没弄好～！无奈。。。\r\n\r\n到下午总算是搞定了，的确是纸的问题～～','misc','2011-07-04 12:38:05','2011-07-04 07:02:58'),(442,'订单存储不进去，郁闷','misc','2011-07-04 22:55:41','2011-07-04 14:55:41'),(443,'亚龙订单系统：\r\n<pre>mysql&gt; select * from om_goods;\r\n+----------+----------+-------------+------------+--------+\r\n| goods_id | order_id | customer_id | product_id | qutity |\r\n+----------+----------+-------------+------------+--------+\r\n|       23 |       12 |           3 |          3 | 2000   | \r\n|       22 |       12 |           3 |          7 | 1000   | \r\n|       21 |       12 |           3 |          4 | 5000   | \r\n|       18 |       11 |           2 |          2 | 2000   | \r\n|       19 |       11 |           2 |          4 | 1000   | \r\n|       20 |       11 |           2 |          7 | 10000  | \r\n+----------+----------+-------------+------------+--------+\r\n</pre>\r\n为何该表 id 为降序排列？和普通的表格正好相反？\r\n','undo','2011-07-05 10:14:26','2011-07-05 02:14:26'),(444,'订单系统 框架完成！','misc','2011-07-05 12:16:59','2011-07-05 04:16:59'),(445,'票据打印机：EPSON LQ-730K 1620元\r\n\r\n20-30: 日本标准\r\nW3.5: 国内标准','misc','2011-07-06 11:13:49','2011-07-06 03:13:49'),(446,'圆通是通过 JS 来强制输入验证码的，完全可以绕过此步骤！','misc','2011-07-07 08:35:43','2011-07-07 00:35:43'),(447,'申通不厚道啊，必须得经过他的网站页面才能查询单子。','misc','2011-07-08 09:19:36','2011-07-08 01:19:36'),(448,'从目前的情况来看，编辑订单功能尚不能实现，暂时通过先删除再重建的方法实现之。','misc','2011-07-08 09:31:02','2011-07-08 01:31:02'),(449,'客户信息表格 很有必要添加一个公司简称的列；\r\n\r\n2.\r\n在<tt>om_dispatchs</tt> 表中添加 <tt>customer_id</tt> 列以简化查询语句；','misc','2011-07-08 09:59:06','2011-07-08 02:17:57'),(450,'在 <tt>om_orders</tt> 表中添加列 <tt>property ENUM (\"test\", \"formal\")</tt> 用于将真实的订单和测试的订单分开','misc','2011-07-08 11:25:41','2011-07-08 03:25:41'),(451,'add <tt>has_invoice</tt> and <tt>has_goods_list</tt> in table <tt>om_orders</tt>.','misc','2011-07-08 13:45:39','2011-07-08 05:45:39'),(452,'经验：数据库中枚举类型的值尽可能使用英文字符，而不是汉字。\r\n只用汉字有可能遇到乱码问题；而使用字符的话若想显示汉字，用一个关系数组转换一下即可；','misc','2011-07-08 14:24:11','2011-07-08 06:24:11'),(453,'电控系统','misc','2011-07-08 14:43:36','2011-07-08 06:43:36'),(454,'找到一个有用的PHP函数 <tt>number_format($number)</tt>; 可将 10000 转化为字符货币格式 10,000','misc','2011-07-08 15:43:25','2011-07-08 07:43:25'),(455,'一个简单的 <tt>$vali</tt> 变量 可以进行访问控制吗？','misc','2011-07-08 17:03:12','2011-07-08 09:03:12'),(456,'添加 CSS 属性 <tt>form { width: 50%}</tt>, 以避免看起来过宽。','misc','2011-07-09 11:10:38','2011-07-09 03:10:38'),(458,'单就管理用户页面而言，使得不同角色的用户进入该页面时显示不同的内容；','misc','2011-07-14 15:18:36','2011-07-14 07:18:36'),(459,'W0.25 1.2/ct\r\nW0.5 0.8/ct','misc','2011-07-15 10:47:29','2011-07-15 02:47:29'),(460,'E-Logistics 应用中用到大量的表格。其中许多数据列使用右对齐比默认的左对齐效果要好，\r\n那么如何实现这个“零散”的右对齐列样式呢？最简单的方法是如下：\r\n<pre>&lt;td align=\"right\"&gt;3.50&lt;/td&gt;</pre>\r\n或者借助 CSS 实现：\r\n<pre>&lt;td class=\"rightAlign\"&gt;3.50&lt;/td&gt;\r\ntd.rightAlign {\r\n  text-align:right;\r\n}</pre>','misc','2011-07-16 15:02:24','2011-07-16 07:02:55'),(461,'在页面中如何返回上一页？使用 PHP 中 <tt>$_SERVER[\'REFERER\']</tt>？更好的方法是通过 JS 实现:<pre>&lt;A HREF=\"javascript:history.go(-1)\"&gt; [Go Back]&lt;/A&gt;</pre><a href=\"http://www.crowderassoc.com/javascript/backbutton.html\">Ref.</a>\r\n\r\n据此添加返回链接“按钮”样式 <tt>a.goBack</tt>','misc','2011-07-18 09:19:24','2011-07-18 01:27:57'),(462,'添加表格表头显示样式 <pre>table.rightTh tr th {text-align: right;}</pre>\r\n','misc','2011-07-18 10:18:12','2011-07-18 02:18:12'),(463,'OM\r\n添加新角色：<tt>production</tt>, 分工更明确；','misc','2011-07-18 15:41:31','2011-07-18 07:41:31'),(464,'财务授权发货的特殊按钮样式<tt>a.authorizeButton</tt>','misc','2011-07-19 15:42:27','2011-07-19 07:42:27'),(465,'Google Chrome is no longer updating because your operating system is <tt>obsolete</tt>.','misc','2011-07-20 08:10:11','2011-07-20 00:10:11'),(466,'<tt>a</tt> 标签的<tt>title</tt>属性啊！鼠标移动到链接上时显示的文字。','misc','2011-07-22 17:54:16','2011-07-22 09:54:16'),(467,'随着 order.php 页面越来越 bloated, 查看订单细节的部分可以分离出来形成单独一个页面以加快页面载入速度。','misc','2011-07-23 09:27:43','2011-07-23 01:27:43'),(468,'错了呀！单独弄个列“结算类型” 而不是在<tt>status</tt>中添加！\r\n否则原有的订单流程将出现问题！','misc','2011-07-26 11:09:20','2011-07-26 03:16:17'),(469,'如何快速删除数据库中所有\'<tt>wp_</tt>\'前缀的表格？','undo','2011-07-27 08:44:09','2011-07-27 00:44:09'),(470,'<pre>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\"&gt;</pre>\r\n此声明在 IE 下 <tt>margin:auto</tt> 属性无法生效！','misc','2011-07-28 08:01:30','2011-07-28 00:01:30'),(471,'Router 的原理是什么？学习鸟哥网站上的架站内容。','misc','2011-07-29 16:19:29','2011-07-29 08:19:29'),(472,'om_goods 表中qutity 声明的类型为 char(20), 尽管可以工作，但是不准确的，此处设为整数类型更合适，\r\n应该是 MySQL 默认将 char 转化为 integer 了。\r\n\r\n已将此列变更为 <tt>INT(10)</tt> 类型。','why','2011-07-30 08:48:58','2011-07-30 01:18:28'),(473,'E-Order\r\n\r\nom_orders 中添加列 action enum(\'sell\',\'store\') 将表 om_storage 整合到 om_orders 中。','misc','2011-07-31 14:15:46','2011-07-31 06:15:46'),(474,'从 <tt>$goback</tt> 到 <tt>$g_goback</tt> 的转变','misc','2011-07-31 20:37:59','2011-07-31 12:37:59'),(475,'关键时刻，lftp 网速不给力！','misc','2011-08-01 08:31:37','2011-08-01 00:31:37'),(476,'print.php 获取订单号失败的元凶找到了。空格！\r\n<pre>&lt;a class=\"createButton\" href=\"print.php?action=print_order&order_id =&lt;?=$order_id?&gt;\"&gt;打印该订单&lt;/a&gt;&lt;br&gt;</pre>\r\n','misc','2011-08-02 10:56:55','2011-08-02 02:56:55'),(477,'计算研磨膏消耗的微粉量真繁琐','misc','2011-08-09 16:55:04','2011-08-09 08:55:04'),(478,'<tt>WHERE</tt> 从句不能出现 <tt>purity = NULL</tt> 这样的条件！','misc','2011-08-10 08:21:25','2011-08-10 00:21:25'),(479,'autocomplete 功能参考；\r\n<a href=\"http://i.laoer.com/jquery-autocomplete-plugin.html\">laoer.com</a>\r\n<a href=\"http://beski.wordpress.com/2009/11/20/jquery-php-mysql-ajax-autocomplete/\">PHP 连接代码</a>','misc','2011-08-11 17:49:09','2011-08-11 09:49:09'),(480,'两个网站：<a href=\"http://www.ffffound.com\">FFFFOUND!</a>\r\n<a href=\"http://www.requirejs.org\">requirejs.org</a>','misc','2011-08-12 11:09:20','2011-08-12 03:09:20'),(481,'validate.js 中<tt>$(\"#id\").validate();</tt>中的<tt>id</tt>指的是表单的ID，而不是表单中元素（如文本框）的ID.\r\n这和 autocomplete 插件不同。','misc','2011-08-13 10:45:53','2011-08-13 02:45:53'),(482,'框架点击左侧链接，在右侧框架中显示相应内容。<a href=\"http://jiajun.iteye.com/blog/273283\">参考</a>\r\n关键：<tt>a href=\"content1.html\" <b>target=\"mainFrame</b></tt>\r\n','misc','2011-08-13 17:48:05','2011-08-13 09:48:05'),(483,'一个人炫耀什么,说明内心缺少什么;一个人越在意的地方,就是最令他自卑的地方. \r\n自卑，是用别人的长处抵毁自己。','misc','2011-08-18 12:24:09','2011-08-18 04:25:57'),(484,'http://www.cn.dhl.com/content/cn/zh/express/tracking.shtml?brand=DHL&AWB=9722881781%0D%0A\r\nhttp://www.cn.dhl.com/content/cn/zh/express/tracking.shtml?brand=DHL&AWB=7666043685%0D%0A\r\n\r\n这是DHL两个订单跟踪的URL, 可见不同之处仅在单号上，可试着自动跟踪。\r\n\r\n<a href=\"http://www.google.com/support/forum/p/Webmasters/thread?tid=18aa226f375700a0&hl=en\">关于<tt>%0D%0A</tt>含义的回答</a>','undo','2011-08-18 15:26:35','2011-08-19 01:23:52'),(485,'今早网速真差劲！','misc','2011-08-19 10:14:33','2011-08-19 02:14:33'),(486,'订单生成后后续添加很频繁。','misc','2011-08-19 11:06:14','2011-08-19 03:06:14'),(487,'“神奇”的网速：\r\n109769 bytes transferred in 1909 seconds (57b/s) ','misc','2011-08-22 09:40:20','2011-08-22 01:40:20'),(501,'It\'s time to forget QQ Zone.','misc','2011-09-17 16:50:43','2011-09-17 08:50:43'),(489,'安装 GD 库：\r\n<tt>apt-get install php5-gd</tt>\r\n\r\n很重要的一步：重启 Apache:<tt> /etc/init.d/apache2 restart</tt>\r\n\r\n<a href=\"http://www.netren.org/index.php/apache2/145-ubuntu-php5gd.html\">Ref.</a>\r\n','misc','2011-09-01 11:10:56','2011-09-01 03:13:31'),(490,'<pre>TS:/home/ts# apt-get install php5-gd\r\nReading package lists... Done\r\nBuilding dependency tree       \r\nReading state information... Done\r\nThe following extra packages will be installed:\r\n  libapache2-mod-php5 libgd2-xpm libt1-5 php5-common php5-mysql\r\nSuggested packages:\r\n  php-pear libgd-tools\r\nThe following NEW packages will be installed:\r\n  libgd2-xpm libt1-5 php5-gd\r\nThe following packages will be upgraded:\r\n  libapache2-mod-php5 php5-common php5-mysql\r\n3 upgraded, 3 newly installed, 0 to remove and 86 not upgraded.\r\nNeed to get 3325kB of archives.\r\nAfter this operation, 1171kB of additional disk space will be used.\r\nDo you want to continue [Y/n]? y\r\nGet:1 http://security.debian.org lenny/updates/main php5-mysql 5.2.6.dfsg.1-1+lenny10 [65.7kB]\r\nGet:2 http://security.debian.org lenny/updates/main libapache2-mod-php5 5.2.6.dfsg.1-1+lenny10 [2485kB]\r\nGet:3 http://mirrors.geekbone.org lenny/main libgd2-xpm 2.0.36~rc1~dfsg-3+lenny1 [223kB]\r\nGet:4 http://security.debian.org lenny/updates/main php5-common 5.2.6.dfsg.1-1+lenny10 [366kB]\r\nGet:5 http://security.debian.org lenny/updates/main php5-gd 5.2.6.dfsg.1-1+lenny10 [32.4kB]\r\nGet:6 http://mirrors.geekbone.org lenny/main libt1-5 5.1.2-3 [153kB]           \r\nFetched 3325kB in 34s (95.6kB/s)         \r\n</pre>\r\n','misc','2011-09-01 11:12:31','2011-09-01 03:12:31'),(491,'<pre> echo \"<h3>\".$y.\"年\".$m.\"月份销售总表</h3>\"; \r\n//!echo \"<h3>$y年$m月份销售总表</h3>\"; </pre>\r\n','misc','2011-09-06 09:05:26','2011-09-06 01:05:26'),(492,'如果重新设计 E Orders 的数据库结构，以下内容可以改善：\r\n\r\n1、枚举类型中不出现汉字；','misc','2011-09-08 08:23:48','2011-09-08 00:23:48'),(493,'坏消息：skydrive 已不支持图片外链。\r\n好消息：photobucket 取消上传容量限制。','misc','2011-09-08 09:43:55','2011-09-09 12:53:36'),(494,'“发货管理”页面：添加筛选某个快递公司的功能。不管怎么筛选，表格的结构都相同。\r\n因此创建一个模板函数<tt>tf_make_my_dispatch_table()</tt>，可节省代码体积。','misc','2011-09-08 11:46:22','2011-09-08 03:46:22'),(495,'获取数码相机内相关信息的 PHP 函数均以<tt>\"exif_\"</tt>为前缀；','misc','2011-09-08 14:48:10','2011-09-08 06:48:10'),(496,'几个问题：\r\n\r\n1、销售数据分析查询、筛选的表格均是从<tt>om_dispatch</tt>中而不是从<tt>om_orders</tt>,换句话说，\r\n销售数据依据的是发货日期而不是订单下达日期；\r\n2、订单中备注信息如果输入信息过多，将会把表格撑大，应固定表格宽度；\r\n3、类似国瑞升这样有不同发货地点的客户，以及类似纳诺斯有不同别名的客户，在销售统计中，应进行整合；','undo','2011-09-09 16:24:24','2011-09-09 08:24:24'),(497,'Bug: <tt>om_goods</tt>表中存在<tt>customer_id</tt>为“0”的行。\r\n\r\n这些行的共同点：都是新建立的客户','misc','2011-09-14 17:07:42','2011-09-15 00:21:21'),(498,'常兴、国瑞升和日腾中这三个公司的单子销售人员总是忘记添加样品。自动生成之？','misc','2011-09-15 09:16:40','2011-09-15 01:16:40'),(499,'支付宝接口的事情我说我可以弄，经理说找人会快一些。呵呵。还是不信任啊','misc','2011-09-15 11:10:52','2011-09-15 03:11:36'),(500,'Essay 文件开头时间格式由 \"110915\" 改成 \"20110915\"。一百年后怎么办呢','misc','2011-09-15 13:57:04','2011-09-15 05:57:04'),(502,'网购《坐牢家给女儿的80封信》，用卓越，中原区镇不配送；用京东，不支持支付宝，要知道我刚充值500块！\r\n这书买的，郁闷！','misc','2011-09-19 10:05:43','2011-09-19 02:05:43'),(503,'dbflow.net\r\n\r\nflow (of something) the continuous production or supply of something','misc','2011-09-19 13:29:58','2011-09-19 05:29:58'),(504,'<s>修改收件人信息时应提醒；</s> 将收件人信息整合到订单提交中；\r\n怎么老是重复添加客户，autocomplete 不够好？\r\n\r\n发货清单不够灵活；','misc','2011-09-19 17:45:47','2011-09-25 11:44:53'),(505,'就是比如客户，一个月下2次单，但是有可能会先汇一笔的钱 \r\n\r\n林洁琼2011-09-20 08:59:52\r\n    能不能分开？ \r\n\r\n林洁琼2011-09-20 08:59:57\r\n    的问题 \r\n\r\n==============\r\n已基本实现。','done','2011-09-20 09:01:43','2011-09-21 06:18:26'),(506,'weibo 我关注的话题跑哪里了？','misc','2011-09-20 10:35:17','2011-09-20 02:35:17'),(507,'客户董志强\r\n\r\n他的发货地址每次都不固定。这种情况类似购物网站上多个收货地址，可以借鉴。','misc','2011-09-20 16:24:17','2011-09-20 09:14:09'),(508,'表格插入操作时若插入值为\"0\", 应对相应SQL语句进行检查，十有八九是相应列对应的变量没有正确赋值；\r\n——马静创建 Oswal 客户时订单行<tt>customer_id</tt>列值为\"0\"','misc','2011-09-21 05:47:11','2011-09-20 21:47:11'),(509,'将 MOTD 页面添加成功后返回前一页的延迟时间增加，还没来得及看清呢，就蹦回去了！;)','misc','2011-09-21 05:49:58','2011-09-25 11:47:38'),(510,'Gmail 左上角“全选所有复选框”按钮的实现不能随手拈来！——结算单个月结订单需求。','misc','2011-09-21 08:54:01','2011-09-21 05:13:06'),(511,'63CM, 7.25KG','misc','2011-09-21 09:19:39','2011-09-21 01:19:39'),(512,'Wrong: <tt>echo \"第$id号订单已成功授权;\";</tt>\r\nOK: <tt>echo \"第\".$id.\"号订单已成功授权;\";</tt>\r\n=======\r\n<pre>echo \"&lt;form id=\\\"addAddressForm\\\" action=\\\"\".$_SERVER[\'PHP_SELF\'].\"\\\" method=\\\"POST\\\"&gt;\"; Right</pre>\r\n<pre>echo \"&lt;form id=\\\"addAddressForm\\\" action=\\\"$_SERVER[\'PHP_SELF\']\\\" method=\\\"POST\\\"&gt;\"; Wrong</pre>','why','2011-09-21 09:31:57','2011-09-22 07:01:30'),(513,'每次想获取单个客户的相关信息时都直接在代码中使用<tt>$db->get_var()</tt>函数效率太低了！\r\n应像WP一样创建模板函数呀！或者直接将所有信息存入一个关系数组中岂不更妙吗？！','misc','2011-09-21 09:45:20','2011-09-21 01:45:37'),(514,'Bug: 今日动态中，对于批处理的操作，由于时间节点完全相同，因此，只会显示其中的一个动作，\r\n剩余的丢失。\r\n<s>另：添加某某发货了的通知。</s> 已办理','undo','2011-09-21 10:11:24','2011-09-25 12:10:33'),(515,'中国大陆省、市名称 MySQL 数据库<a href=\"http://2goo.info/blog/baoyalv/other/2011/03/06/506\">Ref.</a>','misc','2011-09-21 10:23:19','2011-09-21 02:23:31'),(516,'Amazon 发货地址 JS 选择：直接阅读网站源文件可读性太差；','misc','2011-09-21 11:46:41','2011-09-21 03:46:41'),(517,'快递单据管理\r\n退货、换货操作……','undo','2011-09-21 17:36:11','2011-09-21 09:36:11'),(518,'使用的开源插件列表：\r\n- jQuery\r\n- pchart\r\n- autocomplete\r\n- validator','misc','2011-09-21 21:00:41','2011-09-21 13:00:41'),(519,'对于<tt>TIMESTRAMP</tt>类型数据，除了在首次添加时不需考虑外，修改时需用<tt>NOW()</tt>来更新之；','misc','2011-09-21 21:56:54','2011-09-21 13:56:54'),(520,'今日完成两个任务：\r\n\r\n一、大体实现分订单授权结算协议单子；\r\n二、解决客户发货地址不规律的问题；\r\n\r\n明日任务：\r\n\r\n一、样品订单的问题；','misc','2011-09-21 22:02:14','2011-09-21 14:02:14'),(521,'发货地址有多个，因此单独建表，而不是固定在客户表中；','misc','2011-09-22 10:22:18','2011-09-22 02:22:18'),(522,'Jane 第198单：创建了新客户，但名字均为空','misc','2011-09-22 10:35:10','2011-09-22 02:35:10'),(523,'模板函数越多越好？考虑<tt>tf_make_address_adding_form()</tt>的失败之处：\r\n\r\n只有两处重复使用该模块，且两处的提交按钮还不同。另外此段代码本身长度不算长；\r\n\r\n这种情况下，不适合。','misc','2011-09-22 15:18:20','2011-09-23 12:26:41'),(524,'页面如何跳转：发货时如需要修改收货信息，在编辑页面修改完后怎样回跳？','undo','2011-09-23 08:34:41','2011-09-23 00:34:41'),(525,'将昨日所有数据库更新使用使用文件<tt>staff.php</tt>完成，不通过 MySQL 客户端。很好。','misc','2011-09-23 11:17:05','2011-09-23 03:17:05'),(526,'自定义函数<tt>tf_customer_id()</tt>末尾竟然写：<tt>echo $customer_id;</tt>!该是<tt>return</tt>呀！','misc','2011-09-23 15:04:19','2011-09-23 07:04:19'),(527,'多个收件人的问题解决了，发货时的逻辑如何解决呢：\r\n\r\n1、大货会和样品装在一起发货；\r\n2、两个单子的大货也可能一次发出（如王啸在前一订单基础上追加）；','misc','2011-09-23 15:18:36','2011-09-23 07:18:36'),(528,'Bug: staff.php 更新忘记一个问题：打印发货清单时也用到表<tt>om_customers</tt>信息，没有更新此文件。','undo','2011-09-24 08:56:02','2011-09-24 00:56:02'),(529,'实际情况\r\n带有发票的单子货物备好后，由于其它原因（如发票资料不知道、发票送不到厂里）需要将发票和货物分开发，\r\n这其中就设计 清单打印页面，总是手工修改不够好。\r\n\r\n另：客户开票信息也可进入数据库。','misc','2011-09-24 09:02:23','2011-09-24 01:03:35'),(530,'改进：将发货地址、货运公司名称两项指标加入订单生成中。\r\n这俩项解决后在解决“发货清单打印页面”的 Bug.\r\n\r\n因为每次发货前都需要跟销售人员确认发货的地址、收件人等信息。','misc','2011-09-24 10:44:48','2011-09-24 03:11:56'),(531,'一个细节：收货地址多于一个时，默认需要选择一个地址，那么，该单选按钮的选择过程怎么才能最智能呢？\r\n\r\n时下的做法：将第一个数据作为默认值；','misc','2011-09-24 11:13:07','2011-09-24 03:18:25'),(532,'将单位包含 GD 类库的文件夹 archives/ 打包复制到笔记本上安装类库失败。\r\n原因可能是没有在联网的情况下执行命令<tt>apt-get update</tt>.','misc','2011-09-25 19:31:47','2011-09-25 11:31:47'),(533,'客户名称不适合使用 autocomplete!\r\n\r\nKAMEI TRADING CO.,LTD(王啸): 一个空格的不同就会新建客户！唉！','misc','2011-09-26 11:17:29','2011-09-26 03:17:29'),(534,'jQueryUI 不够简单，不符合我的需求。','misc','2011-09-26 13:45:31','2011-09-26 05:45:31'),(535,'模式对话框（Modal Dialog）：\r\n对话框始终位于应用程序的最顶层，在对话框被关闭之前，用户不能选择应用程序的其他功能。','misc','2011-09-27 07:57:59','2011-09-26 23:57:59'),(536,'重庆川仪：小林也是因为名称未能完全一致导致重复新建用户；\r\n\r\n单价和数量两个框经常搞反','misc','2011-09-29 11:03:33','2011-09-29 03:03:33'),(537,'<a href=\"http://so.tudou.com/nisearch/steve+gates/cid__time__sort_score_display_album_high_0_page_1\">Steve and Gates Interview</a>','misc','2011-10-08 09:47:15','2011-10-08 01:47:15'),(538,'address\r\n陈清伟：福寿卤肉-中间门洞-5楼东','misc','2011-10-09 20:52:16','2011-10-09 12:52:16'),(539,'<tt>make_options()</tt>仅使用于 E-Orders, 有没有更通用的？\r\n临时创建<tt>make_options_bank()</tt>先使用；','undo','2011-10-09 22:36:05','2011-10-09 14:55:00'),(540,'文件类：10/件\r\n物品类：\r\n梧州：6/kg\r\n非梧州：3/kg (5Kg 内均为15)\r\n\r\n四舍五入、梧州砂轮为3/Kg','misc','2011-10-24 17:18:33','2011-10-24 09:18:33'),(541,'所谓承兑，简单地说，就是承诺兑付，\r\n是付款人在汇票上签章表示承诺将来在汇票到期时承担付款义务的一种行为。\r\n承兑行为只发生在远期汇票的有关活动中。\r\n\r\n出票人签发汇票并交付给收款人，收款人向汇票上记载的付款人请求付款，付款人应承担付款义务。\r\n这是因为付款人与出票人在出票之前双方之间存在资金关系，出票人在付款人处有一定金额的款项，\r\n或者付款人对出票人负有债务。所以，出票人委托付款人进行付款。为了使付款人做好付款的准备，\r\n持票人在汇票到期日前向付款人提示承兑，要由付款人作出意思表示。付款人一旦承兑，\r\n该付款人则成为承兑人，就负有无条件付款的义务。相反，如果付款人不同意承兑，不在汇票上签章，\r\n那么则不产生票据责任。付款人不同意承兑，并不对收款人承担责任，只是对出票人违反约定义务；\r\n形成违约，从而对出票人承担违约责任，而不是票据责任。收款人因付款人不同意承兑，\r\n也不能要求付款人承担责任，只能向其前手行使追索权。\r\n\r\n汇票的承兑，只对定日付款、出票后定期付款和见票后定期付款的汇票适用。\r\n见票即付的汇票不需要提示承兑，也就不存在承兑行为。\r\n同时，出票人与付款人为同一人的对已汇票，也不需要进行承兑。','misc','2011-10-29 10:51:03','2011-10-29 02:51:03'),(542,'孤独的愉悦——爱因斯坦','misc','2011-11-01 13:22:17','2011-11-01 05:22:17'),(543,'荆恩生11月1号结婚，本周六请客。','misc','2011-11-14 22:26:59','2011-11-14 14:26:59'),(544,'Steve Jobs, the pioneer of the computer as a jail made cool, designed to sever fools from their freedom, \r\nhas died.\r\n\r\nAs Chicago Mayor (市长) Harold Washington said of the corrupt former Mayor Daley, \"I\'m not glad he\'s \r\ndead, but I\'m glad he\'s gone.\" Nobody deserves to have to die - not Jobs, not Mr. Bill, not even people \r\nguilty of bigger evils than theirs. But we all deserve the end of Jobs\' malign (有害的) influence on people\'s \r\ncomputing.\r\n\r\nUnfortunately, that influence continues despite his absence. We can only hope his successors (继任者), as \r\nthey attempt to carry on his legacy, will be less effective. ','misc','2011-11-16 16:04:35','2011-11-16 08:04:35'),(545,'不要做自己不擅长的事情——马静离职K歌有感\r\n看着马静唱歌时不知疲倦、投入的样子，跟自己做系统时一样。做自己喜欢做的事情。','misc','2011-11-16 16:58:20','2011-11-16 08:58:20'),(546,'十一月份想在郑州搞一个互联网技术的聚会。\r\n暂定主题是“架构.功能设计.运维”。\r\n有兴趣的朋友，一起参与吧。\r\n本次聚会不参杂商业因素，主要就是给群友和郑州做互联网技术方面的的朋友一次见面交流的机会。\r\n聚会中有技术分享，技术架构问题解决，互相熟悉交流等环节。\r\n具体的流程如下：\r\n\r\n聚会主题：架构.功能设计\r\n聚会时间：11月20日下午2:00-6:00\r\n聚会地点：郑州经七路纬三路\"昭元科技\"\r\n聚会流程：\r\n1.介绍本次聚会的目的和意义。\r\n2.自我介绍。(姓名，工作方向，兴趣爱好)\r\n3.嘉宾分享。(《大型网站可扩展高可靠的架构设计》，《大型网站的垂直搜索技术应用》，《大型数据库的设计和优化》)\r\n   中间有提问环节  \r\n4.自由活动10分钟，互相认识和互相介绍。\r\n5.嘉宾圆桌问题探讨。\r\n   让参加聚会的朋友根据需要进行技术方面的问题的互动。\r\n\r\n聚会期间有美女辣舞，技术谈到，牛人访谈，活动奖品等等。\r\n联系方式：qq：376118028 洪荒听雨。\r\n##############\r\n非常期待有兴趣的朋友来参与。','misc','2011-11-18 11:25:42','2011-11-18 03:25:42'),(547,'<tt>$.fn.click, $.fn.focus, $.fn.blur, $.fn.change,</tt>','misc','2011-11-18 14:37:11','2011-11-18 06:37:11'),(548,'荆恩生婚宴，同学、同事一块请。没有认识的人，索性上完礼直接走人得了。\r\n\r\n以后这类事情问清楚是只请同学还是同事、同学一块请，同学都谁去。','misc','2011-11-21 10:43:36','2011-11-21 02:43:36'),(549,'由 itpub.net MySQL 板块发现一系列 mysql 网站资源<a href=\"http://www.mysqlops.com\">mysqlops.com</a>','misc','2011-11-23 11:37:26','2011-11-23 03:37:26'),(550,'周星驰 张柏芝——星语星愿\r\n徐帆：与子偕老的浪漫\r\n<b>温暖2008</b> 地震回忆之最可爱的人\r\n吴宇森 影像情义\r\n2008-07-16 徒步狂人孙心圣\r\n2008-06-18 飞索求学的孩子们\r\n2008-06-13 大地震 山岳救援队的80个小时\r\n2008-05-22 加油汶川 明天会更好（一）\r\n2008-04-18 另类爸爸的育儿经\r\n2007-09-26 艾未未的《童话》','misc','2011-11-23 13:08:13','2011-11-23 06:17:36'),(551,'两台电脑共享打印机的问题：\r\n\r\n1. 组建网络时，选择 其它－没有 Internet 的网络环境更准确，且建立时的等待时间大大缩短；\r\n2. 主机建立完成后，<b>重启分机电脑</b>, 然后添加到工作组中，再此重启后即可在分机的\r\n   ”查看工作组计算机“中同时看到主机和分机；','misc','2011-11-23 20:35:20','2011-11-23 12:35:20'),(552,'om_customers 表名设计得不好呀。\r\n最好是建立一个 om_companies 表，供方和需方都放在该表内；\r\n每个公司都有地址、多个帐号','misc','2011-11-24 09:22:45','2011-11-24 01:22:45'),(560,'删除一个订单可能意味着 om_orders, om_goods 和 om_dispatch 三个表的动作；\r\n因此老是在 phpadmin 中进行操作效率不够高。','undo','2011-11-28 16:50:48','2011-11-28 08:50:48'),(554,'纳诺斯全部改用圆通，速度更快','misc','2011-11-24 15:18:19','2011-11-24 07:18:19'),(555,'到帐短信格式：\r\n\r\n您尾号xxxx账户于xx月xx日xx时xx分完成现存交易，金额xxxx,余额xxxx.[xx银行] ','misc','2011-11-26 09:24:54','2011-11-26 01:24:54'),(556,'母亲说：雨淋陵，辈儿辈儿穷；雨淋墓，辈儿辈儿富。','misc','2011-11-28 08:16:30','2011-11-30 09:04:46'),(557,'Vim 整行剪切、复制后粘贴的一个显示：最多50行，多于50行的行将丢失！','why','2011-11-28 09:17:49','2011-11-28 01:17:49'),(558,'销售的订单页面不要再按订单状态排序，而是按单号降序排列。和销售沟通时均报单号，这样查找方便；\r\n订单状态的问题反映到首页即可。','undo','2011-11-28 11:17:04','2011-11-28 03:17:04'),(559,'checkbox\r\n\r\nname = \"remember_me \"\r\n\r\necho $_POST[\'remember_me][0]; 注意是数组；','misc','2011-11-28 14:46:03','2011-11-28 06:46:03'),(561,'快递单默认坐标：(2.8/2.9cm,0.5cm)','misc','2011-11-29 08:07:43','2011-12-03 03:32:46'),(562,'重复insert新记录的原因及避免方法 ','undo','2011-11-29 08:09:00','2011-11-29 00:09:00'),(563,'我们的论坛运行使用 phpBB (下文中指代 “他们”，“他们的”，“phpBB 软\r\n件”，“www.phpbb.com”，“phpBB 组”，“phpBB 团队”)系统，这是一个使用 “General Public License” (下\r\n文指代 “GPL”) 软件协议的公告栏系统解决方案，可以从 www.phpbb.com 免费获得。phpBB 软件仅用于\r\n推动基于 Internet 的讨论， 我们所运行的内容遵守 GPL 协议的严格限制。如果希望得到更多关于\r\nphpBB的信息，请访问: http://www.phpbb.com/.\r\n','misc','2011-11-29 09:40:51','2011-11-29 03:18:44'),(564,'上午 Google+ 突然能访问了。体验后不得不感叹 Google 的强大。\r\n这种技术若能合理运用在企业信息化中该有多好。','misc','2011-11-29 11:21:22','2011-11-29 03:21:22'),(565,'收货地址 添加传真项目——小林需求\r\n传真属性在公司表中，不适合放在地址表中。','misc','2011-11-30 10:11:19','2011-11-30 09:06:37'),(566,'快递单打印程序：要考虑过长的电话号码（带分机号）','misc','2011-11-30 12:54:39','2011-11-30 04:54:39'),(567,'完成 STO, YTO, ZTO 三个主要的快递单的自动打印！耗费四天时间呀～～','misc','2011-11-30 14:58:06','2011-11-30 07:00:25'),(568,'DIV 块太富棱角，平和点？<tt>border-radius</tt>属性即可。\r\n<a href=\"http://www.ruanyifeng.com/blog/2010/12/detailed_explanation_of_css3_rounded_corners.html\">Ruan Yifeng blog</a>','misc','2011-11-30 16:32:32','2011-11-30 08:32:32'),(569,'change logs;\r\n1. customer.php: 显示公司的传真信息；','misc','2011-11-30 20:05:53','2011-11-30 12:05:53'),(570,'想法：index.php 弄个“员工动态”的模块，将诸如授权、发货等操作显示其中；','misc','2011-12-01 08:31:10','2011-12-01 00:31:10'),(571,'http://jingang.yto56.com.cn/expws/expquery/waybillService.action\r\nhttp://jingang.yto56.com.cn/expws/expquery/waybillService.action?waybillNo=6153346687','misc','2011-12-01 11:04:07','2011-12-01 03:04:07'),(572,'tooltips, modal forms...... 是最重要的吗？小林经常漏输入订单，经常需要修改订单，\r\n最主要的订单提交表单做得不够好，同时应授予修改权限。','misc','2011-12-01 14:49:55','2011-12-01 06:49:55'),(573,'在 vim 中使用 &lt;i&gt; 斜体标签时，字体会反色显示，这样看着不顺，创建\r\n<pre>p.i {font-style:italic;}</pre>\r\n','misc','2011-12-01 16:32:35','2011-12-01 08:32:35'),(574,'将 JS 中计算出的变量传递给 PHP 使用：\r\n将 JS 获取的这个变量存储在表单中并提交给 PHP 代码，从而得以使用；','misc','2011-12-02 20:14:42','2011-12-02 12:14:42'),(575,'销售总表的样式有待改进，和发货单保持一致，以方便对帐。','misc','2011-12-03 11:36:44','2011-12-03 03:36:44'),(576,'快递单打印应有微调功能，否则总是修改 CSS 文件后上传效率太低（来回的切换系统不是？）','misc','2011-12-03 12:50:45','2011-12-03 04:50:45'),(577,'利用 jQuery 将表单提交过程的两个步骤合二为一的目的终于达到！\r\n期间由于相关基础薄弱而耗费太多时间。主要集中在如何判断表格行中不含有添加按钮\r\n是<pre>if ($(this).has(\'a#a_0\').length == 0)</pre>\r\n而不是<pre>if ($(this).has(\'a#a_0\') == false)</pre>\r\n','misc','2011-12-04 19:04:24','2011-12-04 11:04:24'),(578,'打印发货清单时常见的两种变故：\r\n1、发票不能随货走\r\n2、除订单货物外还有其它货物（如换货）；\r\n\r\n第 1 种更常见，需要做的是将附件中的“发票”字样去掉，改为“发票单独寄出”','undo','2011-12-06 08:52:19','2011-12-06 00:52:19'),(579,'就在 2 分钟前，马玉打电话借钱，下周一结婚！','misc','2011-12-06 10:34:11','2011-12-06 02:34:11'),(580,'一个元素可以帮定多次相同的事件？','misc','2011-12-06 16:52:02','2011-12-06 08:52:02'),(581,'冯璐提交订单数量多输入个零——在提交之前有必要预览确认！\r\n日腾中都是协议结算，误输为单笔结算\r\n\r\n刚和厂长交流一会，厂长对目前我的这个工作很是支持，要抓住机会呀！！','misc','2011-12-07 11:17:05','2011-12-07 03:24:06'),(582,'刚才在二楼尝试将报告导出为电子档失败。','misc','2011-12-07 11:18:54','2011-12-07 03:18:54'),(583,'是的，今天早晨在被窝里的想发是对的：<tt>.change()</tt>是不能像删除功能那样在表格行中遍历的。\r\n而且，<tt>.change()</tt>事件具有叠加效果！','misc','2011-12-07 11:49:09','2011-12-07 03:49:09'),(584,'忘记给父母剪指甲。','misc','2011-12-07 15:08:25','2011-12-07 07:08:25'),(585,'jQuery 要什么有什么！下面可以找出所有以\"is_sample\"开头的元素\r\n<s><tt>.find(\'input[name<b>|</b>=\"is_sample\"]\')</tt></s>\r\n\r\n高兴太早了！没看清，应该是：<pre>.find(\'input[name<b>*</b>=\"is_sample\"]\')</pre>\r\n至此，jQuery 化的订单提交表单大功告成！','misc','2011-12-07 16:33:29','2011-12-07 13:08:05'),(586,'<s>新的难题</s>已经解决！：选择客户后，在页面不重新加载的情况下怎样动态显示相应的发货地址信息？\r\n目前已知的 JS 传值给 PHP 的方法是经过表单提交，此情况页面重新加载了。\r\n<pre class=\"brush: javascript\">$(\'select[name=customer_id]\').change(function(){\r\n                var $customer_id = $(this).find(\'option:selected\').attr(\'value\');\r\n                $.ajax({ \r\n                        type: \"POST\", \r\n                        url: \"md.ajax-pipe.php\",\r\n                        data: \"do=get_addresses_str&customer_id=\"+$customer_id\r\n                }).done(function( msg ) {\r\n                        $(\'#dynamicAddr\').empty();\r\n                        $(msg).appendTo($(\'#dynamicAddr\'));\r\n                });\r\n        });</pre>','undo','2011-12-07 22:16:48','2011-12-08 02:00:21'),(588,'好困，睡觉','misc','2011-12-08 20:37:01','2011-12-08 12:37:01'),(589,'订单提交前的预览没必要再次请求服务器，直接在本地完成。','misc','2011-12-09 08:47:45','2011-12-09 00:47:45'),(590,'冯璐的重要反馈：\r\n“我猜是数字的原因，我输的时候，前面输的是200,000。第三次我直接输200000了”','misc','2011-12-09 15:30:25','2011-12-09 07:30:25'),(591,'明天一早工作：\r\n将家目录下 print.php 和 order.php 两个文件上传至 outstand;\r\n原始备份在 ~/www/ 目录下；','misc','2011-12-09 16:44:47','2011-12-09 08:44:47'),(592,'今天凌晨 1 点要了，现在感觉状态不佳。','misc','2011-12-10 08:17:36','2011-12-10 00:17:36'),(593,'<a href=\"http://oaadonline.oxfordlearnersdictionaries.com/\">\r\nhttp://oaadonline.oxfordlearnersdictionaries.com/</a>','misc','2011-12-10 10:09:12','2011-12-10 02:09:12'),(594,'单击一个普通 a 链接不能提交表单吗？即\r\n<pre>$(\'a#link\').click(function(){\r\n$(\'#form2\').submit();\r\n});</pre>行不通吗\r\n＝＝＝＝＝＝＝＝＝＝＝\r\nForms can be submitted either by clicking an explicit &lt;input type=\"submit\"&gt;, &lt;input type=\"image\"&gt;, or &lt;button type=\"submit\"&gt;, or by pressing Enter when certain form elements have focus.\r\n','why','2011-12-10 13:44:10','2011-12-10 05:50:41'),(595,'在 Boxy 区域内单击按钮后 触发 ajax() 方法为何无反应？','why','2011-12-10 14:37:47','2011-12-10 06:37:47'),(596,'刚在 webqq 上找到一个好应用 kuaidi100, 有金蝶公司开发，提供开放API,\r\n好消息？从此告别验证码？','misc','2011-12-12 08:34:53','2011-12-12 00:34:53'),(597,'SaaS是Software-as-a-service（软件即服务）的简称，\r\n它是一种通过Internet提供软件的模式，用户不用再购买软件，\r\n而改用向提供商租用基于Web的软件，来管理企业经营活动，\r\n且无需对软件进行维护，\r\n服务提供商会全权管理和维护软件，对于许多小型企业来说，','misc','2011-12-12 09:17:34','2011-12-12 01:17:34'),(598,'景泰的货物误以为已经拿到公司。','misc','2011-12-12 09:47:33','2011-12-12 01:47:33'),(599,'中午在须水街上买到了迄今为止最难吃的苹果。以后在陌生地方买东西，切忌买太多！','misc','2011-12-12 12:57:27','2011-12-12 08:47:30'),(600,'不管用的原因莫非在于已经有 onclick 事件了，再用 jQuery 重复，迷惑\r\n=============\r\n原因找到了，必须将 change 事件的代码放进 done 片段内。','misc','2011-12-12 16:53:45','2011-12-12 12:03:54'),(601,'记住： checkbox 选中属性为 checked, 和 radio 一样。只有 select box 的选中属性是 selected!','misc','2011-12-12 20:19:29','2011-12-12 12:19:29'),(602,'jQuery 技巧：\r\n若表单中存在下拉菜单（select box), 第一项常常是诸如\"请在下拉菜单中选择\"这样的无实际意义\r\n的选项，提交表单中为防止用户漏选该项，自己常常将此项的 value 属性值设为 \'0\' 加以判断。\r\n其实，使用 jQuery 将该项禁用即可达到上述目的，简化了代码：\r\n<pre class=\"brush: javascript\">$(\'select[name=customer_id] &gt; option:first\').attr(\'disabled\',\'disabled\');</pre>','misc','2011-12-12 20:41:51','2011-12-12 12:41:51'),(603,'qtip 能作为非空验证提示信息吗？\r\n\r\ncss 图片路径有误\r\n睡觉了','misc','2011-12-12 21:49:08','2011-12-12 13:49:08'),(604,'刚才出现一点小波折：刘森曾往柘城发过一次样品，\r\n由于冯璐和马静需要交接工作，因此将订单列表修改为不仅显示自己提交的订单，\r\n还有同销售区域的订单，所以小林看到了刘森的订单后说刘不务正业，\r\n不管怎么说，<b>自己的东西竟然能让别人看到心里总是有些不爽吧！</b>\r\n\r\n这说明目前这个方法不好，需改进。','undo','2011-12-13 09:14:31','2011-12-13 01:15:25'),(605,'a 标签制作的“按钮”太复杂，用默认的 button 标签更好，\r\n前提是用 jQuery 禁用默认提交属性；否则将提交表单！','misc','2011-12-13 11:42:56','2011-12-13 03:44:43'),(606,'如果用户选择“免费样品”，则禁用货物表格中所有“大货”选项\r\n==========\r\n16 日晚完成','misc','2011-12-13 16:38:41','2011-12-16 14:09:54'),(607,'金日成果：\r\n1、解决了 ajax 向 DB 中写数据的问题；','misc','2011-12-13 17:03:47','2011-12-13 09:03:47'),(608,'<tt>event.preventDefault();</tt>','misc','2011-12-14 09:11:59','2011-12-14 01:11:59'),(609,'早上快骑到二砂村时后轮被扎破，我说怎么越骑越费劲！\r\n修车的人说没事经常检查一下，看外面有没有明显的异物。对！','misc','2011-12-14 10:47:27','2011-12-14 02:47:27'),(610,'表单添加、修改都装在 Boxy 里？不要滥用 Boxy!','misc','2011-12-14 10:57:58','2011-12-14 02:57:58'),(611,'高丽发货清单加盖合同章','misc','2011-12-14 16:13:33','2011-12-14 08:13:33'),(612,'耗费如此多的时间才把 JS 下 number_format() 函数完成！','misc','2011-12-15 10:12:16','2011-12-15 02:12:16'),(613,'创建完订单后的确定按钮为何没反应？','why','2011-12-16 22:30:21','2011-12-16 14:30:21'),(614,'母亲说今晚让到大姐家坐坐，到了后大姐开始不停地找衣服让拿走。\r\n大姐的心意领了，但其实自己内心有说不出的难受！自立！','misc','2011-12-16 23:19:19','2011-12-16 15:19:19'),(615,'创建订单和修改订单中有些 JS 代码可以共用；','misc','2011-12-17 11:32:51','2011-12-17 03:32:51'),(616,'每次遇到和大姐相关的事情总是情绪低落，好不容易积攒的那点斗志一下子\r\n跑掉了。','misc','2011-12-17 12:24:22','2011-12-17 04:24:22'),(617,'1、客户（瑞安）汇款只汇一半怎么办？货物其实已经发货，\r\n也确定收到款额了（只是不是全部），如何将这些信息反映在系统中？\r\n2、50 天发的货物客户说没收到发票，鬼知道哪个环节出错了，有无方法避免？\r\n拍照留存？','misc','2011-12-19 09:33:05','2011-12-19 01:36:03'),(618,'订单数据串用 JS 分隔时，为放置 order_note 中出现分隔符\';\'\r\n可以使用 keypress 事件进行限制；','misc','2011-12-19 15:48:24','2011-12-19 07:48:24'),(619,'<a href=\"http://www.cnblogs.com/long_/archive/2010/07/28/1787124.html\">textarea jQuery 取值、赋值问题</a>\r\n<tt>$(\'textarea[name=xxx]\').val(\'I am the value.\');</tt>\r\n\r\n其中涉及到换行的问题；','misc','2011-12-19 16:48:08','2011-12-19 08:49:15'),(620,'“这是一个自由的时代。”——明月\r\n\r\n把自己的想法、理解表达出来，每个人都可以自由获取。','misc','2011-12-20 08:38:09','2011-12-20 00:38:09'),(621,'重要反馈，等待实现\r\n==================\r\n林洁琼2011-12-20 10:10:39\r\n我现在是在发货统计里\r\n林洁琼2011-12-20 10:11:01\r\n能不能把返回前一页右边弄个上一个下一个什么的\r\n林洁琼2011-12-20 10:11:06\r\n这样我就不用返回了','undo','2011-12-20 10:15:41','2011-12-20 02:15:41'),(622,'添加订单和修改订单中有可共用的 JS 代码','misc','2011-12-20 11:08:17','2011-12-20 03:08:17'),(623,'人生的首要价值不是做自己想做的事，而是回报曾经给予帮助的人。','misc','2011-12-20 11:39:52','2011-12-20 03:39:52'),(624,'“香港人其实很疯狂的，斯文是可以装出来的。\r\n\r\n”什么训练班，训练好了没有，没有回去再训练一年再来吧。“\r\n——吴孟达','misc','2011-12-20 14:19:51','2011-12-20 06:19:51'),(625,'填充数据和高亮显示选中的数据应该分离开来，之前夹杂在一起的方法存在冗余代码；','misc','2011-12-21 17:27:31','2011-12-21 09:27:31'),(626,'晚上理发时和店老板交谈。小孩子三岁才能上幼儿园，其中一小每年好像只招收一百人左右，\r\n且需要排队，到第一百人时，对不起，后面的不收了……\r\n\r\n假如真的出门在外，安琢平常洗澡怎么办？','misc','2011-12-21 20:46:06','2011-12-21 12:46:06'),(631,'HTML 5 的 dateinputer 不能用。什么 CSS 文件','misc','2011-12-26 14:36:33','2011-12-26 06:36:33'),(632,'qTip2: thank you!','misc','2011-12-27 10:58:22','2011-12-27 02:58:22'),(633,'又一个心中的想法得以实现！——使用 qtip 插件当用户移动到订单链接时，\r\n不再是显示简单的“单击查看详情”，而是利用 ajax 技术动态获取相关有用信息。','misc','2011-12-27 15:27:37','2011-12-27 07:27:37'),(628,'三：\r\n许文强：“我们俩想试试我们自己的能力。“\r\n冯敬尧：”如果能年轻 20 年，我也会这么做的。”\r\n四：\r\n“阿力，靠人不如靠自己。有时候要做最坏的打算。”\r\n“创造比守望更重要。”——冯程程\r\n雪中漫步\r\n\"阿力，有人在利用你的时候，他会对你很好。不利用你的时候，会怎样？“\r\n”我怕她以后回来找你。“”你放心，这种事不会发生。”\r\n——《上海滩》','misc','2011-12-22 14:40:14','2011-12-22 07:26:49'),(629,'在精简订单下面添加三个属性：\r\n经办人：\r\n提货人：\r\n提货时间：\r\n\r\n精简订单先送上去，待需要发货的时候，上去取货，之后在单子上签字。\r\n纸质记录留存，电子档备份。','misc','2011-12-23 11:43:47','2011-12-23 03:43:47'),(630,'1. 货物一旦发出（sent, received）去，将不能修改；\r\n2. 款额已到的不能修改；','misc','2011-12-23 14:44:32','2011-12-23 06:44:32'),(634,'计算若干订单总订货量、总金额都是常用的操作，有必要用小函数实现。\r\n\r\n见 <tt>count_goods_qutity($orderIds)</tt>','misc','2011-12-28 09:06:04','2011-12-28 12:33:20'),(635,'PHP 中用特定字符将某字符串切割成数组（explode()）\r\n和将数组用某个字符连接成字符串（implode()）是特别常见的操作。\r\nimplode() = join(),\r\n\r\n记忆方法：联想 import, export 两个词汇。\'import\' 表示“引进来\",\r\n对 \'implode()\' 来说就是将“数组中的元素”引进来。','misc','2011-12-28 09:12:50','2011-12-28 01:12:50'),(636,'在编写自定义函数时，为了确保参数类型的正确性，需要对参数进行类型检测。\r\nPHP gettype(); 函数','misc','2011-12-28 10:14:39','2011-12-28 12:34:47'),(637,'以前每到月底都到二楼向厂长要入库明细，刚刚厂长亲自把这个月的入库单送上来！\r\n欣慰','misc','2011-12-28 11:21:15','2011-12-28 03:21:15'),(638,'京东：居然没有删除订单的选项。刚提交完订单就后悔了，可又能怎样？','misc','2011-12-28 11:25:17','2011-12-28 03:25:17'),(639,'发货记录仅显示最近 50 单；\r\n订单记录仅显示未送达的订单；','misc','2011-12-28 11:38:08','2011-12-28 03:38:08'),(640,'范波很久以前的一个订单退货了，需要修改订单，因为此时订单状态已为\r\n\'received\', 因此销售不能更改。','misc','2011-12-28 14:42:50','2011-12-28 06:42:50'),(641,'长沙精钻和潘红杰以后都改用圆通发货。\r\n\r\n每个客户都有自己的发货公司偏好','misc','2011-12-28 14:43:49','2011-12-28 06:43:49'),(642,'创建日常物品发货单功能暂时搁置。','misc','2011-12-28 15:37:47','2011-12-28 07:37:47'),(643,'将 dateinput 插件的所有日期选择框添加 <tt>.date</tt> 属性，\r\n将鼠标形状改为 pointer.','misc','2011-12-28 16:26:45','2011-12-28 08:26:45'),(644,'日期区间在 SQL 语句的表述问题。','misc','2011-12-28 21:25:50','2011-12-28 13:25:50'),(645,'查询某个时间区域内的记录语句：\r\n<tt>select c_time from om_dispatch where c_time between \'2011-11-01\' and \'2011-11-30\';\r\n</tt>','misc','2011-12-29 09:48:45','2011-12-29 01:48:45'),(646,'如何用 JS 获取客户下拉菜单或货运公司下拉菜单的选中值？\r\n\r\n$(\'someId\') 吗? 错，是 $(\'select[name=someId]\')','misc','2011-12-29 10:58:33','2011-12-29 02:58:33'),(647,'jQuery 中的 ajax 功能真伟大！\r\n——更新发货记录筛选功能有感','misc','2011-12-29 11:49:38','2011-12-29 03:49:38'),(648,'对于 JS 中重复的代码，完全可以用函数避免重复输入；','misc','2011-12-29 14:08:47','2011-12-29 06:08:47'),(649,'结果集表格的 JS 特效对 AJAX 生成的内容不起作用，\r\n需要在 AJAX 中重复，改用函数代替。','misc','2011-12-29 14:16:34','2011-12-29 06:16:34'),(650,'AJAX 让表单见鬼去。','misc','2011-12-29 14:17:40','2011-12-29 06:17:40'),(651,'考虑：JS 自定义函数和 PHP 自定义函数在命名上有何技巧？','misc','2011-12-29 14:21:29','2011-12-29 06:21:29'),(652,'yto\r\n11）须水 负责人：赵广发 13007522709 查询：0371-67813379 取件：13598006624','misc','2011-12-29 14:28:08','2011-12-29 06:28:08'),(653,'CSS 现象：\r\n\r\n斜体样式（font-style: italic）在 Chrome 中对汉字不起作用，仅对英文字符起作用。但 Firefox 中正常。—— create .footnote 样式发现','misc','2011-12-30 08:26:41','2011-12-30 00:26:41'),(654,'林：我现在想升级系统，你没在线吧？','misc','2012-01-04 09:18:30','2012-01-04 01:18:30'),(655,'身体上的不适使得心情烦闷，泄气的皮球。\r\n新年的 头 3 天过得叫什么呀！body health is the base of anything.','misc','2012-01-04 16:56:07','2012-01-04 08:56:07'),(656,'升级后问题：\r\n1. IE8, 360 等浏览器均不能正常实现相应 jQuery 效果，如“继续添加”；\r\n2. 精简订单要向发货那样可以合并；','misc','2012-01-04 16:59:58','2012-01-04 08:59:58'),(657,'bug [Fixed]: 筛选当天的订单的话，当天新添加的筛选不出来，应为时间是 00:00','misc','2012-01-05 09:22:50','2012-01-05 07:00:01'),(658,'输入显然不存在的订单号时显示不够人性化','misc','2012-01-05 09:30:16','2012-01-05 01:30:16'),(659,'因网速问题，林再次重复提交订单。','misc','2012-01-05 10:21:47','2012-01-05 02:21:47'),(660,'虚惊一场\r\n\r\n上月对帐客户常兴的数据网上的比小林统计的多了 2 万克拉。\r\n起初以为是自己替小林添加后小林又重复添加的原因，心里很是害怕，\r\n那可是近 1 万块钱呀！。中午吃过饭后，查看聊天记录才搞明白怎么回事。\r\n问题还是在于小林那边漏输入！\r\n\r\n1. 要有勇于找出真相的勇气，很多时候，并不是自己不行！\r\n2. 以后不要擅自替销售人员代提交订单；\r\n3. 工作聊天记录很重要，就像监控一样。保存 2 个月为佳。','misc','2012-01-05 13:19:43','2012-01-05 05:19:43'),(661,'林洁琼 08:54:38\r\n发现这个神奇的事情了 \r\n林洁琼 08:55:06\r\n你咋那么牛呢 \r\n林洁琼 08:55:14\r\n以前在公司修电脑简直委屈你 了 \r\nandro+ 08:55:25\r\n恩，发货记录里也是。这样你就不用 返回再点下一个了\r\n林洁琼 08:55:37\r\n \r\nandro+ 08:55:45\r\n我也发现了，哈哈\r\n林洁琼 08:56:07\r\n藏龙卧虎之地啊 \r\n林洁琼 08:56:32\r\n让诸葛亮去劈柴喂马周游世界 \r\nandro+ 08:58:46\r\n服务大众我也很高兴啊，厂长也说这个玩意儿给他解放了，他说了，从这个月起，不再填那个红单子了\r\n林洁琼 08:59:12\r\n我也不想添了 ','misc','2012-01-05 13:38:46','2012-01-05 05:38:46'),(662,'不通过输入某销售的密码进入系统代提交订单，而是在下拉菜单中选择销售人员','misc','2012-01-05 15:19:35','2012-01-05 07:19:35'),(667,'Bug:\r\n假如别人知道客户页面的 URL 地址，那么他在地址栏中输入如下内容\r\n<pre>view-source:http://www.outstanding.com.hk/eorder/customers.php</pre>\r\n就可以在不通过登录的情况下获取所有客户信息！\r\n\r\n＝＝＝＝＝＝＝\r\n没有帐号、密码验证直接不显示数据信息。\r\n','done','2012-01-06 10:40:48','2012-01-09 01:22:39'),(664,'单笔结算时状态为 unpaid, 把结算方式修改为月结或协议结算时，\r\n订单状态没有即使更改为 order, 仍为 unpaid.','misc','2012-01-06 08:40:30','2012-01-06 00:40:30'),(665,'将创建订单的结算方式默认由“单笔结算”改为“按月结算”','misc','2012-01-06 09:45:57','2012-01-06 01:45:57'),(666,'昨下午在公交车上，小林问提交订单时如果有样品时，收货地址能否一致','misc','2012-01-06 10:22:31','2012-01-06 02:22:31'),(668,'早上给母亲钱的时候母亲都有点不请愿了。\r\n现在想来，一年给一次比每月都给还好呢','misc','2012-01-06 10:43:29','2012-01-06 02:43:29'),(669,'<pre>Failure initializing /etc/network/run/ifstate failed!\r\nConfiguring network interfaces...ifup: failed to open statefile /etc/network/run/ifstate: Stale NFS file handle\r\nStarting NFS common utilities: statd failed!\r\n</pre>\r\nA840 上 home 分区的磁盘号表未备份\r\n<pre>df -h</pre>','misc','2012-01-06 13:06:17','2012-01-06 05:13:33'),(670,'断网情况下如何打印快递单的问题','misc','2012-01-06 13:38:18','2012-01-06 05:38:18'),(671,'退货操作——销售可能发错货，本来改发 A 的货误发给了 B,\r\n这是又重发相同的货给 A, 然后将发给 B 的货退回来。\r\n这中间涉及到退货和快递单两个方面。','misc','2012-01-06 15:12:17','2012-01-06 07:12:17'),(672,'不选择任何镜像，组建保持默认，安装出来的系统没有 GNOME\r\n\r\n选择组件时，出了选择默认的：\r\n- 桌面环境\r\n- 笔记本电脑\r\n- 标准系统\r\n之外，由多选择了 web 服务器和文件服务器后才装上 GNOME 环境；','misc','2012-01-07 11:33:46','2012-01-07 07:42:55'),(673,'Bad news: 刚经理发话了，把发货的事情给刘绘杰交代清楚后过完年回郑州上班……悲剧，自行车白买了……\r\n\r\n----------------------\r\n2011/6/7 10:35\r\n刚刚经理决定让我接下来一段时间在须水厂区办公。经理这么做主要是考虑到小孩刚出生这段时间事情会比较多,需要时不时往家里跑,在须水上班离家里近一些,各方面也会比较方便。','misc','2012-01-07 15:40:26','2012-01-09 03:02:13'),(674,'刚在谷歌地图上计算了一下，从吴村骑到须水 22 KM,\r\n从政法街骑到广安大厦的话 26 KM. \r\n后者优点是路况好，缺点是到公司车子放置和出汗问题不易解决；','misc','2012-01-09 09:20:03','2012-01-09 01:20:03'),(675,'刚经理到三楼问风淋室的人联系了没有。心想：既然事先看到他的车过来了，\r\n为何不自己下去找他给他汇报一下这个事情呢。从那天下午他和厂长商量过\r\n这个事情后随后工作进展的效率来看，他是很重视这个事情的。\r\n\r\n还是不够积极呀！！','misc','2012-01-09 10:25:22','2012-01-09 02:25:22'),(676,'corporation\r\n1 (abbr. Corp.) a large business company\r\nmultinational corporations\r\n2 an organization or a group of organizations that is recognized by law as a single unit\r\nurban development corporations\r\n-----------\r\nenterprise noun\r\n/ˈɛntərˌpraɪz/ \r\n \r\n1 [countable] a company or business\r\nan enterprise with a turnover of $26 billion\r\nstate-owned/public enterprises\r\nsmall and medium-sized enterprises\r\n------------\r\n1 [countable] (abbr. Co.) (often in names) a business organization that makes money by producing or selling goods or services\r\nthe largest computer company in the world\r\nthe National Bus Company','misc','2012-01-09 10:29:29','2012-01-09 02:29:29'),(677,'create om_get_dispatches_qtt();','misc','2012-01-10 10:04:34','2012-01-10 02:04:34'),(678,'一个很严重的 bug:\r\n用户在核对信息框中发现之前输入有误并点击“继续编辑”修改后，\r\n之前错误的和后修改的都将存如数据库！改几次存几次！','misc','2012-01-10 15:27:28','2012-01-10 07:27:28'),(680,'刚被叫下去搬东西，之后是让打扫会议室。\r\n几乎可以断定，李是嫌我在这边过得太逍遥才让我年后回公司上班的。\r\n','misc','2012-01-11 11:34:16','2012-01-11 03:34:16'),(681,'too late, it\'s time to leave...\r\n\r\n他觉得自认为很不错的事情是“理所当然”，他认为“理所当然”的事情自己已厌倦','misc','2012-01-13 11:52:51','2012-01-13 03:52:51'),(682,'老年人的悲哀不在于冒充五十九，而在于冒充三十五','misc','2012-02-01 17:05:20','2012-02-01 09:05:20'),(683,'<tt>div.mainContent</tt>的声明表明：学习程序越抽象越好。','misc','2012-02-03 22:11:31','2012-02-03 14:11:31'),(684,'ezsql 类中 querycount 属性发现某些页面的查询过多，这是否会影响网速？','misc','2012-02-04 17:01:46','2012-02-04 09:01:46'),(685,'snoopy http://edlongren.blogbus.com/logs/37417262.html','misc','2012-02-04 17:10:38','2012-02-04 09:10:38'),(686,'厂里担负多个打印任务（精简订单、快递单、标签）的电脑无法启动。\r\n\r\n备份！备份！！装个冰点！','misc','2012-02-06 08:43:10','2012-02-06 00:43:10'),(687,'当月销售金额？\r\n当月支出？','misc','2012-02-06 10:21:52','2012-02-06 02:21:52'),(688,'谈谈页面优化：减少查询次数','misc','2012-02-06 14:18:22','2012-02-06 06:18:22'),(689,'［数据库设计］随着软件新需求的不断出现，之前数据库表格设计隐藏的问题随之显现，或是设计有 \r\nbug, 或是有更好的表现方法。于是在保持现有数据完整性的前提下开始更改表格结构，之后是修改相应\r\n代码。之后新的需求再次出现，再修改结构，再更改代码……成熟的数据库设计都是通过这种方式完成\r\n的吗？一蹴而就不可能，但没有成熟的系统经验可以借鉴','misc','2012-02-11 10:17:39','2012-02-11 02:25:29'),(690,'将结构相似的表格整合到一个表格中，并用一个列属性来区分。例如，将 logistics 表整合到\r\ncompanies 表中，并用 category 列是 \'customer\' 或 \'supplier\' 来区分；','misc','2012-02-13 10:46:08','2012-02-13 02:46:08'),(691,'林在新版订单提交页面里发现的重复提交的问题（在核对信息页面重新返回编辑页面提交后修改前的无用\r\n数据也提交）为何找不到任何记录？','misc','2012-02-13 16:51:36','2012-02-13 08:51:36'),(692,'刘绘杰2012-02-13 17:00:17\r\n    有一个小条没有打印 \r\n\r\n刘绘杰2012-02-13 17:02:25\r\n    迈波斯的 \r\n\r\n刘绘杰2012-02-13 17:02:40\r\n    上次电脑坏了没有打印那个小条 \r\n\r\n刘绘杰2012-02-13 17:02:52\r\n    现在货已经发了怎么打印 ','misc','2012-02-13 17:04:48','2012-02-13 09:04:48'),(693,'使用 ajax 添加物流公司信息时也存在重复添加之问题；','misc','2012-02-14 11:06:55','2012-02-14 03:06:55'),(694,'Whitney Houston','misc','2012-02-14 15:04:16','2012-02-14 07:04:16'),(695,'二姐刚打电话说家里电脑提示 C 盘空间不足，必须在近两天将配件买回来。\r\n\r\n中午张帅请公司员工到前进路上晋味源吃饭。下午至晚上状态不佳。索性烧水洗头，打扫一下个人卫生。\r\n此刻好些，能坐下来敲些东西。','misc','2012-02-14 21:39:54','2012-02-14 13:39:54'),(696,'笔记本上 Firefox 版本过低（3.6.12），<tt>border-radius</tt>属性不起作用。明升级。','misc','2012-02-14 22:13:02','2012-02-14 14:13:02'),(697,'家中 MySQL 中显示为乱码，但 <tt>nup</tt>至单位时却又正常。','why','2012-02-15 08:18:45','2012-02-15 00:18:45'),(698,'想法：新记录创建后，直接在现有结果集表格的第一行使用 jQuery 插入新数据，\r\n并使用颜色的渐变来引起注意。但遇到问题。\r\n\r\n现象：jQuery Color 插件在 jQuery Tools plugins 插件存在的情况下（日期选择器会用到）失效。','misc','2012-02-15 10:06:42','2012-02-15 02:43:48'),(699,'好奇怪，之前的 md.ajax-pipe.php 文件中都是用 POST 方法获得变量，\r\n这次为什么不行了？按道理是该用 GET 的。之前的如何解释？','why','2012-02-15 20:39:24','2012-02-15 12:39:24'),(700,'add, edit logistics info completed.','misc','2012-02-15 21:39:48','2012-02-15 13:39:48'),(701,'TS:/var/cache/apt/archives# sudo dpkg -i linuxqq_v1.0.2-beta1_i386.deb \r\nSelecting previously deselected package linuxqq.\r\n(Reading database ... 66515 files and directories currently installed.)\r\nUnpacking linuxqq (from linuxqq_v1.0.2-beta1_i386.deb) ...\r\nSetting up linuxqq (v1.0.2-beta1) ...\r\nTS:/var/cache/apt/archives# sudo apt-get -f install\r\nReading package lists... Done\r\nBuilding dependency tree       \r\nReading state information... Done\r\n0 upgraded, 0 newly installed, 0 to remove and 86 not upgraded.\r\nTS:/var/cache/apt/archives# exit\r\n','misc','2012-02-16 08:14:40','2012-02-16 00:14:40'),(702,'联通劫持页面？\r\n\r\nhttp://hndnserror6.wo.com.cn:8080/?HOST=www.outstanding.com.hk&R=/eorder/&','misc','2012-02-16 08:40:04','2012-02-16 00:40:04'),(703,'Bug:\r\n\r\n由于网速过慢导致销售点击两次发货。\r\n\r\n结果是，除了正确写入 om_dispatch, om_mapping 两个表后，\r\n重复向 om_dispatch 写入记录，但 om_mapping 没有写入成功。\r\n\r\n结果：从外面看，发货记录有一条重复，且点开后不完整。\r\n\r\n================================\r\n <b>Updata:</b>\r\n另一个 bug: sale-data.php 页面会提示 warning 信息；\r\n\r\n======================\r\nUpdate@3/12/12\r\nV0.0.11 中通过使用 unbind 监测看此类事件是否还会发生','undo','2012-02-16 08:57:29','2012-03-12 00:53:10'),(704,'常见的主板和机箱都遵循英特尔在95年1月公布了扩展AT主板结构，\r\n即ATX（AT extended）主板标准及其延伸版本。\r\n现在DIY市场上基本上都是ATX和Micro  ATX（简称MATX）两个标准，机箱也同样以这两个标准来进行布局（主板也许尺寸会比标准有点偏差，但固定主板螺孔的位置都是标准的），ATX机箱（估计市售机箱里占80%）肯定能使用MATX（俗称小板，大部分带集显的主板会用这种规格）和ATX主板（俗称大板，其实就是最“正常”的规格），而MATX机箱则只能用MATX主板。\r\n这里要注意的只是机箱的问题，若本就是DIY的机箱基本不必担心，若是品牌机或一体机就可能有点麻烦了，主要是有的品牌机为了节省材料或外观小型化，会用Flex ATX、Mini ITX等超小规格，这种机箱在DIY市场上很难找到主板。','misc','2012-02-16 09:39:27','2012-02-16 01:39:27'),(705,'刚小林建议将选择客户列表中客户名称前加上第一个字母以便于查找。\r\n\r\n先处理这个需求。\r\n-------------------------------\r\n每此改动设法在用户下次使用系统时在页面上提示，而不是通过聊天的途径','misc','2012-02-17 09:29:28','2012-02-18 00:06:21'),(706,'能用的汉字转拼音：\r\nhttp://www.gplinux.com/?p=319','misc','2012-02-17 10:18:21','2012-02-17 02:18:21'),(707,'<s>关系数组不能存贮多维数组；</s>非也','misc','2012-02-17 11:52:43','2012-02-24 13:47:57'),(708,'简化 logistics.php 页面，尤其是 Form 表单元素，table 等','misc','2012-02-18 14:42:10','2012-02-18 06:42:10'),(709,'林反应申通的自动链接地址有误，借此干脆改好吧\r\n\r\n有没有搞错？kuaidi100 所谓的插件（申通）还得经过验证码这一步','misc','2012-02-20 08:24:11','2012-02-20 00:45:44'),(710,'JS 下去除 string 两端多余空格的方法是什么？ PHP 下为 trim()','misc','2012-02-20 10:54:41','2012-02-20 02:54:41'),(711,'md.ajax-pipe.php GET 不如 POST\r\n\r\n两者没有太大的差别。使用 POST 是因为在 ajax 中的所有变量可以使用\r\n对象来存储，更易阅读而已。','misc','2012-02-20 20:56:21','2012-02-20 13:20:58'),(712,'继 logistics.php 页面更新完毕后，由于涉及 logistics_id 而转向 dispatch.php \r\n页面。此刻再转向 order.php 页面升级，因发货之前是订单。','misc','2012-02-20 21:22:49','2012-02-20 13:22:49'),(713,'更改 ENUM 类型没那么简单\r\n\r\n更改 om_products.product_name 结构（ENUM 类型）时有个小经验：\r\n\r\n先替换记录中的值，然后在更改表格的结构。如果顺序相反的话，则所有值将丢失，变为无意义的空字符；','misc','2012-02-21 10:32:35','2012-02-21 02:37:19'),(714,'平庸心智的人之所以喜欢批评，那是因为他们做不出什么事情来，只有批评还算容易，\r\n批评可以让他们拥有成就感与优越感（的错觉）。\r\n------- from JerryTsai\'s weibo','misc','2012-02-21 11:12:05','2012-02-21 03:12:05'),(715,'所有表格的创建日期都命名为<tt>c_time</tt>的坏处：多表查询时，不能用<tt>SELECT *</tt>,\r\n而只能一一列出需要的列名。\r\n\r\n陈安琢','misc','2012-02-21 11:38:22','2012-02-22 03:39:29'),(716,'md.template-functions.php 中几乎每个模板函数都要全局声明一些会用到的数组变量，\r\n那么，为什么不把这些数组变量都放在一个多维数组中呢。这样所有的函数用同样的语句即可，\r\n而不必担心漏掉哪个变量<pre>global $db, $multi_arr</pre>\r\n\r\nmd.array-vars.php 有很大的改进空间。','misc','2012-02-22 08:11:19','2012-02-22 01:18:51'),(717,'使用多表查询上瘾了，总想只用一次查询将所有需要的信息都得到；\r\n\r\n表格合并意味着查询次数的增加','misc','2012-02-22 10:01:33','2012-02-22 03:01:04'),(718,'同样是 \"NULL\", MySQL 存储的类型却不同。有真正的 NULL, 也有字符串 \"NULL\"!','misc','2012-02-22 14:05:47','2012-02-22 06:05:47'),(719,'□╭右岸桃花 15:58:27:\r\n我突然有个大胆的设想 \r\n□╭右岸桃花 15:58:32:\r\n不知道能不能实现。 \r\n□╭右岸桃花 15:59:29:\r\n咱的订单系统能不能像淘宝客服一样智能，只要我们发货，在网上提交订单信息，发货完毕，也就是发货--快递在途，这个时候能不能用短信平台给客户发过去单号 \r\nandro+ 16:01:35:\r\n淘宝卖家发货后会发短信通知买家吗\r\n□╭右岸桃花 16:01:22:\r\n会啊 \r\n□╭右岸桃花 16:01:27:\r\n我都受到过短信 \r\n\r\n=============\r\n多么好的建议！上午也验证过能够实现。一个问题是价格太高，客户端发1分/条，它却要7分/条；\r\n另一个问题是客户端上的钱还有很多！','misc','2012-02-22 16:04:33','2012-02-23 07:04:53'),(720,'emay:\r\n\r\n时间延迟；','misc','2012-02-23 10:43:10','2012-02-23 02:43:10'),(721,'汉字转拼音上不认识的字：\r\n\r\n重庆\r\n漯河','misc','2012-02-23 11:36:51','2012-02-23 03:36:51'),(722,'一天以后，将亿美通群发短信模块整合进订单系统的想法不能实现。只因价格高。','misc','2012-02-23 15:06:49','2012-02-23 07:06:49'),(723,'通知销售：\r\n\r\n<s>回访及跟踪订单的按钮不再出现在 order 结果集表中，到 dispatch.php 去。</s>','undo','2012-02-24 09:21:34','2012-02-24 07:53:09'),(724,'dispatch, order  两个结果集表格中“回访”、“跟踪”功能完成！','misc','2012-02-24 20:11:31','2012-02-24 12:29:22'),(725,'细节：跟踪按钮若为 input submit 按钮，和 a.btn 链接按钮相比，\r\n前者上下居中，但后者垂直靠上；\r\n\r\n=========\r\n临时解决方法，将表单按钮和链接分别放在两个单元格内','misc','2012-02-24 20:34:30','2012-03-01 01:46:32'),(726,'某一条发货记录的所有信息由于连接的表最多，可以创建一个自定义函数\r\nom_get_a_dispatch_record_data($dispatchId);','misc','2012-02-24 21:12:55','2012-02-24 13:12:55'),(727,'将客户、物流及供应商整合在一个表中进行联合查询的一个弊端是：\r\n不能一次性获得客户名称和物流公司名称；\r\n\r\n===================\r\n重大突破：在所得的数组中再追加快递名称即可！','misc','2012-02-24 21:19:27','2012-02-24 13:30:27'),(728,'此刻有点兴奋，','misc','2012-02-24 22:04:07','2012-02-24 14:04:07'),(729,'CSS 设置表格样式：padding 可用，margin 不可用；','misc','2012-02-25 08:26:03','2012-02-25 00:26:03'),(730,'其实，dispatch 表格根本没必要有点击详情这个项，\r\ndispatch result table + qtip 已足够','misc','2012-02-25 09:44:36','2012-02-25 01:44:36'),(731,'上周遗留的\"回访\"功能中第二次点击取消按钮失效的问题：\r\n为什么要经过 ajax-pipe.php 生成回访页面？参照 createorder.php 中\r\n提交前确认信息部分；\r\n','misc','2012-02-27 08:11:16','2012-02-27 00:11:16'),(732,'林提交订单后客户又修改了订单，但厂里已将精简订单和发货清单同时打印出来，不知道订单已修改，\r\n致使客户抱怨。\r\n\r\n解决：直到临发货，厂里才能打印发货清单。','misc','2012-02-27 12:38:14','2012-02-27 04:38:14'),(757,'boxy 叠加，单笔授权的窗口中弹出帐户信息添加窗口。','misc','2012-03-05 11:55:41','2012-03-05 03:55:41'),(734,'jQuery 获取 checkbox 的值：\r\n<a href=\"http://readyfighting.com/archives/82\">http://readyfighting.com/archives/82</a>','misc','2012-02-28 11:26:13','2012-02-28 03:26:13'),(735,'将 create_dispatch 模块改用 ajax 实现。\r\n纯 DIV 制作的表格真麻烦……','misc','2012-02-28 17:18:20','2012-02-28 09:18:20'),(736,'AJAX 数据库操作时的问题：\r\n1. 数据操作失败时不能及时中断；\r\n2. 没有用户输入数据非空、合法验证；','misc','2012-02-28 21:38:39','2012-02-28 13:38:39'),(737,'orders_table 中移除发货按钮至首页。','misc','2012-02-29 09:06:57','2012-02-29 01:06:57'),(738,'林和经理到浙江拜访客户，不知道地址，发信息让告知。\r\n移动商务！！直接通过手机登录系统多好！','misc','2012-02-29 12:34:11','2012-02-29 04:34:11'),(740,'Open new window using jQuery\r\n\r\nhttp://stackoverflow.com/questions/3841100/write-content-to-new-window-with-jquery','misc','2012-02-29 16:58:21','2012-02-29 08:58:21'),(741,'批量打印发货清单、批量发货完成','misc','2012-02-29 22:15:26','2012-02-29 14:15:26'),(742,'睡得较晚，此刻大脑仍处于兴奋中，索性起来。','misc','2012-03-01 01:04:38','2012-02-29 17:04:38'),(743,'数据库表格名称以单数形式命名的好处','misc','2012-03-01 08:01:16','2012-03-01 00:01:16'),(744,'同一个页面下的添加、修改 HTML块用不用避免元素 name, id 等属性值一致？','undo','2012-03-01 16:57:50','2012-03-01 08:57:50'),(745,'<tt>class=\"colorBox middle ready\"</tt> 很不错！','misc','2012-03-02 08:39:14','2012-03-02 00:39:14'),(746,'若大量使用 cbox, 那表格的表头就可以省掉（caption）','misc','2012-03-02 09:58:55','2012-03-02 01:58:55'),(747,'yii 规范路径\r\ndbg(dirname(__FILE__));','misc','2012-03-02 10:41:44','2012-03-02 02:41:44'),(748,'自定义函数参数类型合法性很重要，二次遇见\r\n\r\n$order_id 其实是字符串非整数','misc','2012-03-02 11:50:42','2012-03-02 03:50:42'),(749,'user experience design，简称UED','misc','2012-03-02 16:13:40','2012-03-02 08:13:40'),(750,'om_order.payment_way \'sample\' 早该移除','misc','2012-03-02 20:37:30','2012-03-02 12:37:30'),(751,'cbox 很有必要添加 id 参数','misc','2012-03-02 22:23:45','2012-03-02 14:23:45'),(752,'协议结算有的客户订单太多， boxy 过高导致头部不可见','misc','2012-03-03 10:04:02','2012-03-03 02:04:02'),(753,'财务授权，协议结算位置，点击“到帐授权”后 表格行绿色背景不能移除，\r\n别的为何可以？\r\n','misc','2012-03-03 11:08:04','2012-03-03 03:08:04'),(754,'Google chrome 莫名其妙错误\r\n\r\nYour profile could not be opened correctly.\r\n\r\nSome features may be unavailable.  Please check that the profile exists and you have permission to read and write its contents.','misc','2012-03-03 11:13:01','2012-03-03 03:13:01'),(755,'对协议结算订单，\r\n\r\n若单个订单金额为0, 则有两种可能：\r\n1. 就是个样品订单；\r\n2. 大货，单价不知\r\n\r\n问会计有没有这样的情况：钱到帐了，在系统里找不到相应的订单？','misc','2012-03-03 11:44:49','2012-03-03 03:51:10'),(756,'自定义函数 msg() 名称有误，被覆盖了','misc','2012-03-05 09:31:18','2012-03-05 01:31:18'),(758,'JS 自定义函数 boxy_input() 创建','misc','2012-03-06 09:18:58','2012-03-06 01:18:58'),(759,'寻找一个输入框提示信息的方法未果。','misc','2012-03-06 10:00:36','2012-03-06 02:00:36'),(760,'客户编辑页面：客户名称和主收货地址没必要放在一起修改，\r\n多数情况下都是只改其中一处。','misc','2012-03-06 20:19:26','2012-03-06 12:19:26'),(761,'订单创建页面用到 创建新客户、新发货地址 的模块；','misc','2012-03-07 13:48:44','2012-03-07 05:48:44'),(762,' createorder.php 和 customer.php 两个页面共同调用\r\n创建客户的模块后的结果是不同的。\r\n前者是把新建的客户生成一个 select box option 并置为 \'selected\',\r\n后者则简单的跳向 customer.php 页面；','misc','2012-03-07 14:23:16','2012-03-07 06:23:16'),(763,'将新建客户、发货地址的模块整合进 createorder.php 页面','misc','2012-03-07 16:19:30','2012-03-07 08:19:30'),(764,'自定义函数必须放在单独的 JS 文件内，且不能放在\r\n<tt>$().ready();</tt>内。这样才能起全局作用。','misc','2012-03-07 19:42:09','2012-03-07 11:42:09'),(765,'Good job! 在订单中新建客户、发货地址完毕！','misc','2012-03-07 22:20:20','2012-03-07 14:20:20'),(766,'如何验证 select box 是否没有选择？','misc','2012-03-08 10:55:29','2012-03-08 02:55:29'),(767,'微粉入库页面 行 hover 样式为何不起作用？\r\n\r\n===================\r\n\r\n因为 dress_table() 函数执行了太多遍！仅在 js.public.common.js 中调用一次即可','misc','2012-03-08 21:27:06','2012-03-09 06:32:05'),(768,'qtip 不能根据所在位置智能地显示在窗口内部；\r\n\r\n<tt>position:{viewport: $(window)}</tt>','misc','2012-03-09 08:50:25','2012-03-09 01:29:50'),(769,'就在刚刚，没有将会计到帐授权信息单独建表终于导致错误发生！\r\n\r\n小林最先提交了一个”按月结算“订单，之后又改成了”单笔结算“。\r\n由于”按月结算“结算的状态默认是“工厂备货”，林在修改时仅改了结算类型，\r\n而没有改货物状态，致使修改后虽是单笔结算，但状态是“订单备货”。\r\n而且会计那里看不到相应记录，厂里也可以修改订单状态为“等待发货”','misc','2012-03-09 12:34:04','2012-03-09 04:34:04'),(770,'舒口气吧。修改订单时选择结算类型时对订单状态的联动修改的 bug 修复了。\r\n协议->单笔：小林今天遇到\r\n单笔-协议：冯璐前几天发德国廉涛时发现','misc','2012-03-09 22:15:51','2012-03-09 14:15:51'),(771,'Warning: Invalid argument supplied for foreach() in /home/ts/www/eorder/md.template-functions.php on line 1023','misc','2012-03-10 17:10:05','2012-03-10 09:10:05'),(772,'类似新功能介绍，用户点击类似“我知道了”的链接后下次登录后不再显示该内容，\r\n如何记住用户点了链接呢？','misc','2012-03-12 09:22:31','2012-03-12 01:22:31'),(773,'刚看了小林是如何提交的订单的，那个快啊。ajax-pipe 的收货地址数据还没\r\n传过来就提交了……应该弄个类似贝卡尔特的界面特效：页面完全准备好之前，\r\n不能进行任何操作，有个类似”正在处理你的请求……“的字样。','misc','2012-03-12 16:47:59','2012-03-12 08:47:59'),(774,'bug:\r\n\r\n升级后，login.php 页面提示mysql 主机名错误，双语提示；\r\n','misc','2012-03-13 11:09:22','2012-03-13 03:09:22'),(775,'3M#44       (迷你交流电机,  变压器, 采购量非常大的型号)\r\n3M#56       (高档交流电机,  变压器)\r\n3M#46       (高档交流电机,  变压器)\r\n3M#1339   (高档交流电机,  变压器 ,耐化学腐蚀性液体)\r\n3M#69       (高档交流电机,  变压器 200 耐火, 硅涂层)\r\n3M#27       (高档交流电机, 橡胶涂层)\r\n3M#79       (高档交流电机,  变压器 155 度, 丙烯酸涂料 )\r\n3M#1183   (手机  )\r\nP422          (Permacel/USA, not 3M product) 聚四氟乙烯膠帶, 不可以报价,较低的市场价格. 人民币5,500.00 (没有竞争对手)\r\n                   电力开关应用. \r\n□╭右岸桃花 11:07:59:\r\n经理说让找一下3M胶带的用途。','misc','2012-03-13 11:09:29','2012-03-13 03:09:29'),(776,'精简订单里 应有大货、样品区分，研磨膏单位错误，为克，非克拉，造成发货人误解；\r\n提货人还可能是客户自己','misc','2012-03-13 14:05:04','2012-03-13 06:05:04'),(777,'解决文档未准备前销售提交订单的 bug <a href=\"http://interjc.net/archives/2010/01/01/jquery-loding-effect.html\">Ref.</a>','misc','2012-03-14 14:12:56','2012-03-14 06:12:56'),(778,'醉、yi抹嫣红 15:51:16:\r\n点到等待发货那一栏是不是都不能打印小条条了？ \r\nandro+ 15:51:57:\r\n原则上不能了\r\nandro+ 15:52:01:\r\n你忘记打了吗\r\n醉、yi抹嫣红 15:52:07:\r\n恩 \r\n醉、yi抹嫣红 15:52:18:\r\n浙江昱辉的 \r\n醉、yi抹嫣红 15:52:27:\r\n小曲刚拿走的 \r\n醉、yi抹嫣红 15:52:32:\r\n我忘记打印了 ','misc','2012-03-14 15:56:40','2012-03-14 07:56:40'),(779,'□╭右岸桃花 2012-03-14 16:09:33:\r\n我怎么没法打印发货清单 \r\n□╭右岸桃花 2012-03-14 16:09:38:\r\n \r\n□╭右岸桃花 2012-03-14 16:09:43:\r\n我的print是个空白页 \r\n================\r\n订单详情页面打印发货清单链接 broken','misc','2012-03-14 16:33:46','2012-03-14 08:33:46'),(780,'取消”客户自提“','misc','2012-03-15 09:45:32','2012-03-15 01:45:32'),(781,'老表 om_logistics 居然还存在，删','misc','2012-03-15 09:54:09','2012-03-15 01:54:09'),(782,'qtip 有个 bug: mouseover 事件上，鼠标首次移动到元素区域内并不能正常\r\n显示 tip, 第二此移入后正常；','misc','2012-03-15 11:14:44','2012-03-15 03:14:44'),(783,'.hover 和 .mouseover 区别：\r\n\r\nThe .hover() method binds handlers for both mouseenter and mouseleave','misc','2012-03-15 11:16:42','2012-03-15 03:16:42'),(784,'自定义表单验证函数 form_validate() 时遇到问题：\r\n想判断当前元素的类型（select box or text input），怎么获取标签名称？','undo','2012-03-15 20:39:57','2012-03-15 12:39:57'),(785,'新首页中“旧订单筛选查询”模块作用有限，林偏向于在订单管理页面操作','misc','2012-03-15 20:55:55','2012-03-15 12:55:55'),(786,'范苗授权刘森订单是误将“个人帐户”改成“中国银行”，理由是个人帐户放那也没用\r\n问题：\r\n1. 如果银行帐户信息页面有添加新帐户的链接的话，或许她就不会修改了\r\n2. 显然，她没有理解“个人帐户”代表的含义\r\n3. 应该具有修改、删除授权信息之功能；','misc','2012-03-16 15:47:18','2012-03-16 07:47:18'),(787,'bug:\r\n\r\n单号 660, 林在修改订单页面添加一个新收货地址后导致 orders 表很多列信息丢失！\r\n\r\n－－－－－－－－－\r\n没有丢失，只是 address_id 值存储为特殊的 \'0\' 导致这一现象的','misc','2012-03-16 17:22:07','2012-03-16 09:24:49'),(788,'上周六植树，照相的时候，我站在前面，经理用手往他的方向拽我，\r\n起初不知为何，时候才发现原来我档着站在后面的岳总了！细节！知错要改！','misc','2012-03-19 22:25:05','2012-03-19 14:25:05'),(789,'outstanding.com.hk 主机不支持 php_zip 库，因此不能读取/导出 Excel 2007 文件\r\n（.xlsx)，但 Excel 2003 格式可用。','misc','2012-03-20 11:02:30','2012-03-20 03:02:30'),(790,'不错的 PHPExcel 教程：<a href=\"http://bayu.freelancer.web.id/2010/07/16/phpexcel-advanced-read-write-excel-made-simple/\">http://bayu.freelancer.web.id/2010/07/16/phpexcel-advanced-read-write-excel-made-simple/</a>','misc','2012-03-20 17:18:03','2012-03-20 09:18:03'),(791,'3M聚四氟乙烯膠帶\r\n3M#44       3M#44       3M#46       3M#1339   3M#69   3M#27   3 M#79       3M#1183   P422\r\n粒度号的用途\r\n','misc','2012-03-21 09:48:04','2012-03-21 01:48:04'),(792,'uprice 存在 0.0000 的无意义值','misc','2012-03-21 13:39:29','2012-03-21 05:39:29'),(793,'范苗刚问能不能把公司帐号也加上，这不正是自己正在着手做的工作嘛！\r\n还有个重要信息：公司帐户其实有两个：常用的是交行中西支（基本户），\r\n还有个民生银行的一般户。完善之。','misc','2012-03-21 13:47:52','2012-03-21 05:47:52'),(794,'Excel 单元格内换行搞不定','misc','2012-03-21 17:12:56','2012-03-21 09:12:56'),(795,'基本户：一个企业只能有一个。企业只能从基本户取现金\r\n\r\n除了基本户以外的银行账户都叫一般户，\r\n而纳税户就是你的纳税银行，属于一般户','misc','2012-03-22 09:14:40','2012-03-22 01:14:40'),(796,'增值税一般纳税人认定条件 \r\n1、工业企业年应征增值税销售额在100万元以上； \r\n2、商业企业年应征增值税销售额在180万元以上； \r\n3、银行开立结算帐户； 专业注册公司：上海绿城企业登记代理事务所 \r\n4、在工商行政管理部门办理了企业法人（营业）执照，有固定的生产经营场所； \r\n5、在国家税务局办理了税务登记，并取得税务登记证； \r\n6、有专门从事财会工作的人员，专门从事财会工作的人员应有财政部门核发的会计证或具备会计员以上职称的可以从事会计工作的资格证明； \r\n7、按《增值税暂行条例》及其《增值税暂行条例实施细则》的规定和现行会计制度的要求一般纳税人必须设置如下基本帐户，按有关增值税核算规定准确核算增值税销项税额、进项税额和应纳税额及企业的生产经营成果。 \r\n\r\n通俗点来说，主要有如下几点： \r\n1.商业企业是纯销售货物；工业企业既生产产品，还同时销售产品 \r\n2.增值税税率不同：商业企业交17%,4%;工业企业有17%，13%，6% \r\n3.一般纳税人资格起点不同：商业企业要年销售收入达到180万以上，工业企业100万以上即可 \r\n4.财务核算有所不同：工业企业因为有生产环节，核算比较繁琐，设立的科目比商业企业多。如：原材料核算，生产成本核算，制造费用核算，产成品核算，废品损失核算等，都是商业企业所不需要建立核算的科目。商业企业财务核算相对来说要简便多了。 \r\n','misc','2012-03-22 09:29:42','2012-03-22 01:29:42'),(797,'需求：\r\n\r\n□╭右岸桃花 2012-03-26 10:00:18:\r\n订单管理那个页面能不能加上，上一页  下一页 \r\n□╭右岸桃花 2012-03-26 10:00:23:\r\n这样我就不用筛选日期了 \r\nandro+ 2012-03-26 10:02:02:\r\n一页显示30条一页一页翻那种？ ','misc','2012-03-26 10:04:02','2012-03-26 02:04:02'),(798,'个人信息（如单价）可见不可见的设计\r\n','misc','2012-03-26 10:23:41','2012-03-26 02:23:41'),(799,'order hover tip effect 和弹出形式的订单表冲突……','misc','2012-03-27 09:39:44','2012-03-27 01:39:44'),(800,'watermelon  15:00:46:\r\n为什么单笔结算我看不到明细啊 \r\nwatermelon  15:00:53:\r\n单价  数量什么的 \r\nandro+ 15:02:12:\r\n他们销售自己能看到，你不之需要一个总金额吗\r\nwatermelon  15:02:21:\r\n我也要审核一下啊 ','misc','2012-03-27 15:04:30','2012-03-27 07:04:30'),(801,'css overflow\r\n\r\n值	描述\r\nvisible	默认值。内容不会被修剪，会呈现在元素框之外。\r\nhidden	内容会被修剪，并且其余内容是不可见的。\r\nscroll	内容会被修剪，但是浏览器会显示滚动条以便查看其余的内容。\r\nauto	如果内容被修剪，则浏览器会显示滚动条以便查看其余的内容。\r\ninherit	规定应该从父元素继承 overflow 属性的值。','misc','2012-03-27 16:54:27','2012-03-27 08:54:27'),(802,'弹出式防纸质订单样式大功告成！','misc','2012-03-27 22:23:54','2012-03-27 14:23:54'),(803,'一早公司订单系统打不开，厂里、手机均可登录。\r\n使用 Freegate 翻墙能登录，但，用 root 帐号登录却跳转至别的帐户！','misc','2012-03-28 09:02:16','2012-03-28 01:02:16'),(804,'outstanding 访问恢复\r\n\r\n复合片钻头、胶带、陶瓷砂轮','misc','2012-03-28 10:03:27','2012-03-28 02:03:27'),(805,'V0.0.13 评价：\r\n□╭右岸桃花 2012-03-28 14:07:06:\r\n太棒了 \r\n□╭右岸桃花 2012-03-28 14:07:11:\r\n越来越完善了 \r\n□╭右岸桃花 2012-03-28 14:07:16:\r\n可千万要备份好啊 \r\n□╭右岸桃花 2012-03-28 14:07:23:\r\n所有信息都在网上了，我都没记录 ','misc','2012-03-28 14:30:18','2012-03-28 06:30:18'),(806,'发货重复提交的bug','misc','2012-03-29 08:19:31','2012-03-29 00:19:31'),(807,'进入 ISO 范围：\r\n\r\n口头、电话合同记录\r\n传真方式是以打印稿形式管理；\r\n','misc','2012-03-29 11:00:00','2012-03-29 03:00:00'),(808,'a href=\"javascript:void (0);\"','misc','2012-03-29 11:21:32','2012-03-29 03:21:32'),(809,'销售修改订单后应让厂区看到。','misc','2012-03-29 12:44:33','2012-03-29 04:44:33'),(810,'系统升级后，Chrome 使用的仍就是缓存的旧数据。必须在所在页面刷新方能生效。\r\n想法解决这个问题。','misc','2012-03-29 14:28:07','2012-03-29 06:28:07'),(811,'□╭右岸桃花 14:59:18:\r\n有2个吉林三星 \r\nandro+ 15:00:16:\r\n你说客户是吧\r\n□╭右岸桃花 15:00:08:\r\n忙。。。 \r\n□╭右岸桃花 15:00:25:\r\n \r\n andro+ 15:00:49:\r\n我正在给你做那个 口头可同记录，先不管它，回头我来处理','misc','2012-03-29 15:01:26','2012-03-29 07:01:26'),(812,'letter-spacing:10px 设定字符之间的距离；','misc','2012-03-30 08:10:47','2012-03-30 00:10:47'),(813,'林发货操作过程：先点发货，然后发现没有打印发货清单，\r\n但此时货物状态为“快递在途”，没有打印按钮。。。\r\n给所有订单记录后加上单订单发货单打印按钮。','undo','2012-03-30 08:25:56','2012-03-30 00:25:56'),(814,'发货环节的一种特殊情况：\r\n货物在发给客户前需要通过快递送往别的地方再加工（镀镍），\r\n此时产生一个快递单，销售误将此快递单号作为发货快递单号存进系统，\r\n待货物加工好后送达厂区发到客户时，需要打印快递单和发货单，\r\n但此时货物状态为“快递在途”，无法打印。\r\n\r\n此过程实际上可分解为两个步骤：再加工生成一个快递费用申请单，\r\n真正发到客户时进行常规发货操作。','misc','2012-03-30 19:47:07','2012-03-30 11:47:07'),(815,'公司管理自己银行帐户的前提：在系统初次安装时应在 company 表中\r\n新建“特殊”的客户，因为新建银行帐户需要该 company id.','misc','2012-03-30 20:01:06','2012-03-30 12:01:06'),(816,'2012-3-29 下午与李艳、范苗讨论现金模块、支出模块的实现，\r\n两人热情高涨，非常期待。看看我多久能真正实现！','misc','2012-03-30 22:59:59','2012-03-30 14:59:59'),(817,'删除经办人和删除银行帐户的过程中创建 PHP 函数 om_mk_ajax_data_str();\r\n与 JS 函数 split_ajax_data()','misc','2012-03-31 09:10:58','2012-03-31 01:10:58'),(818,'一、应收票据即指商业汇票，它分为商业承兑汇票和银行承兑汇票。应收票据一般按其面值计价。即企业在收到应收票据的时，应按照票据的面值入账。\r\n\r\n二、应收票据分为：带息应收票据和不带息应收票据。\r\n\r\n（一）带息应收票据的帐务处理\r\n对于带息的应收票据，按照现行制度的规定，应于中期期末和年度终了按照规定计提票据利息，并增加应收票据的帐面价值，同时冲减财务费用。\r\n应收票据利息=应收票据票面金额×利率×期限\r\n1、收到应收票据时，\r\n借：应收票据\r\n贷：主营业务收入或应收账款等\r\n\r\n2、 计提利息的时候，\r\n借：应收票据\r\n贷：财务费用\r\n\r\n3、到期收回应收票据，\r\n借：银行存款\r\n贷：应收票据计提利息时\r\n\r\n4、在计算票据期限时，按月表示时，应以到期月份中与出票日相同的那一天为到期日，如4月15日签发的两个月票据，到期日应为6月15日，同时计算利息使用的利率，要换算成月利率（年利率/12）；票据期限按日表示的，应从出票日起按实际经历天数计算，通常出票日和到期日，只能计算其中的一天，即“算头不算尾”或是“算尾不算头”，如4月15日签发的40天票据，到期日应为5月25日，同时计算利息使用的利率，要换算成日利率（年利率/360）。\r\n\r\n（二）不带息应收票据的处理\r\n不带息票据的到期价值等于应收票据的面值。设置“应收票据”核算应收票据的票面金额。\r\n1、收到应收票据时，\r\n借：应收票据\r\n贷：主营业务收入或应收账款等\r\n\r\n2、到期收回应收票据，\r\n借：银行存款\r\n贷：应收票据\r\n\r\n3、 商业承兑汇票到期时，承兑人违约或无力偿还票款，收款企业应将到期票据的票面金额转入“应收账款”科目。\r\n借：应收帐款\r\n贷：应收票据 ','misc','2012-03-31 10:50:06','2012-03-31 02:50:06'),(819,'刚厂里开始进行对帐，出现个一些情况记录如下：\r\n\r\n1. 厂区建议在“等待发货”栏(出库栏)加入“删除”功能，因为经常由于操作不熟练，导致实际上没有备好货的订单\r\n    状态改为”等待发货“; 此过程需将货物状态更改为 \'order\', 同时将 fetcher_id, operator_id, fetch_time\r\n   三列值重置为 \'NULL\'\r\n2. 关于退、换货：香港裕和这个客户每次发货到香港后再返回厂里，香港那边只需要一个发票，\r\n    实际上货物并未销售出去。这个属于退货范畴\r\n\r\n3. 询问“微粉入库”后为什么看不见库存了。自己现在没有时间处理这个地方；','misc','2012-03-31 16:51:27','2012-03-31 08:51:27'),(820,'Javascript 中将 字符串 转换为整数的方法<pre>var a = \'333\';\r\nint_a = Number(a);</pre><a href=\"http://www.cnblogs.com/xiang/archive/2005/11/04/269032.html\">参考</a>','misc','2012-04-01 08:53:21','2012-04-01 00:53:21'),(821,'林需求：添加一个浓度为 0% 的选项','misc','2012-04-01 09:24:39','2012-04-01 01:24:39'),(822,'将财务授权信息移到 revenue 后的一个问题：\r\n如何筛选出 月结/协议结算 的未付款订单？\r\n\r\n向 om_orders 中添加 is_paid 列','misc','2012-04-01 10:46:13','2012-04-01 02:46:13'),(823,'andro+ 17:06:52:\r\n698 是咋回事，小林不发走了吗，怎么又要发一次\r\n醉、yi抹嫣红 17:06:46:\r\n发错了 \r\nandro+ 17:07:23:\r\n东西错了还是地址错了\r\n醉、yi抹嫣红 17:07:04:\r\n、小林没说清人家要的是金刚是给人家发的微分 \r\nandro+ 17:07:46:\r\n要的是研磨膏？\r\n醉、yi抹嫣红 17:07:55:\r\n要的是金刚石原料 ','misc','2012-04-01 17:10:50','2012-04-01 09:10:50'),(824,'信息：汇丰银行帐户第一时间知道的是经理，非财务人员。可考虑直接让经理授权','misc','2012-04-05 08:43:34','2012-04-05 00:43:34'),(825,'刘森：货款已到帐，销售仅仅是修改一下备注信息，要有这个权限嘛','misc','2012-04-05 17:02:12','2012-04-05 09:02:12'),(826,'Parse error: syntax error, unexpected T_LNUMBER, expecting T_VARIABLE or \'$\'\r\n\r\nPHP 变量命名：$2authorize_time 不合法.','misc','2012-04-06 12:45:36','2012-04-06 04:45:36'),(827,'<pre>//	NEW status code\r\n	//	0	等待初审\r\n\r\n	//	1	等待付款（未初审）\r\n	//	2	等待付款\r\n\r\n	//	3	已付款（未初审）\r\n	//	4	已付款（会计请假）		// 移动办公可去除此状态\r\n	//	5	已付款（未复审）\r\n	//	6	已付款\r\n\r\n	//	7	等待还款	\r\n\r\n	//	8	已还款（未初审）\r\n	//	9	已还款\r\n</pre>\r\n','misc','2012-04-06 15:41:10','2012-05-30 01:18:06'),(828,'财务管理模块基本完工了，下周一（4月9日）正式使用。\r\n\r\n花费6天时间。','misc','2012-04-07 17:14:30','2012-04-07 09:15:59'),(829,'财务模块开始：\r\n\r\n1、冯璐重复发货；\r\n2、销售首页显示“快递在途”的地方内容错乱！','misc','2012-04-09 15:55:45','2012-04-09 07:55:45'),(830,'andro+ 16:39:59:\r\n常兴 747 订单 里每个大货里多出来的10克拉是样品吧？\r\n□╭右岸桃花 16:39:51:\r\n忙。。。 \r\n□╭右岸桃花 16:41:11:\r\n是 的 \r\n□╭右岸桃花 16:41:16:\r\n李老师不让我单独列 \r\n□╭右岸桃花 16:41:20:\r\n非让我写一起i \r\nandro+ 16:42:14:\r\n 写在一起的话，订单总金额就变了呀，样品不再是免费的了\r\n□╭右岸桃花 16:42:06:\r\n忙。。。 \r\n□╭右岸桃花 16:42:13:\r\n对啊 \r\n□╭右岸桃花 16:42:17:\r\n我跟他说了 \r\n□╭右岸桃花 16:42:31:\r\n不过常兴每次也不是按金额付款的 \r\n□╭右岸桃花 16:42:45:\r\n都是谁家给她承兑了，他倒手再给咱 \r\nandro+ 16:43:10:\r\n哦。那就好\r\n□╭右岸桃花 16:43:02:\r\n忙。。。 \r\nandro+ 16:43:52:\r\n李老师估计是看着大货样品分开她备货麻烦\r\n□╭右岸桃花 16:43:44:\r\n忙。。。 \r\n□╭右岸桃花 16:44:03:\r\n是 \r\n□╭右岸桃花 16:44:04:\r\n她就是这意思 ','misc','2012-04-14 16:45:52','2012-04-14 08:45:52'),(831,'自己的身体素质真是差，昨天就上树上锯了几个树枝，今天就胳膊疼，浑身无力，\r\n有点发烧的迹象','misc','2012-04-23 15:58:36','2012-04-23 07:58:36'),(832,'bank 中参考 id 改为 address_id 似乎更合理。','joke','2012-04-24 14:26:48','2012-04-24 06:26:48'),(833,'<tt>chunk_split()</tt> 格式化银行卡号、快递单号等等！','misc','2012-04-24 15:51:33','2012-04-24 07:51:33'),(834,'林反应的销售报表的两个问题：\r\n1.\r\n□╭右岸桃花 08:25:13:\r\n下载过的表格有一些小小的问题能修改么 \r\n□╭右岸桃花 08:25:56:\r\n比如说北京国瑞升，如果我用筛选的方式想找出他这个月总计订了多少货。\r\n你看，只会显示单一一个单元格 \r\n第一种情况自己也能修改。只需要把合并的单元格分开就好了。 \r\n\r\n2.\r\n还有就是单位和数量在一起，下拉合计的时候，不能直接显示总数。','misc','2012-04-25 09:26:10','2012-04-25 01:26:10'),(835,'最近在用项目中用到PHP导出数据到Excel，应用虽然很简单，但是发现一些简单导出一些类CSV格式的文件还是又很多问题，所以还得动用功能比较强大同时又很“臃肿”的PHPExcel类。不过用起来还蛮方便的，就是在导出数据的格式上遇到写问题，下面分享下如何利用PHPExcel导出长串数字，避免转换成科学计数法的形式。\r\n$excel_obj = new PHPExcel();\r\n$excel_obg->getActiveSheet()->getStyle(‘A’)->getNumberFormat()->setFormatCode(PHPExcel_Style_NumberFormat::FORMAT_TEXT);\r\n//此处设置Excel第A列为文本类型，下面具体给这个列里写数据，这里要注意，写数据的时候要在输出的长串数字前加一个空格！\r\n$excel_obg->getActiveSheet()->setCellValue(‘A1′ , ” ” . $long_num );\r\n到此长串字符设置成功！\r\n另外可以根据需要到PHPExcel/Style/NumberFormat.php中找对应的数据类型，按照上面的方法进行设置。','misc','2012-04-25 11:02:47','2012-04-25 03:02:47'),(836,'Bug: 财务一旦授权订单，<b>销售将不能修改订单金额信息！</b>\r\n-------------\r\nandro+ 15:37:43:\r\n738 江阴彬利机械有限公司\r\n□╭右岸桃花 15:37:18:\r\n咋  \r\nandro+ 15:38:02:\r\n订单总额225元\r\n□╭右岸桃花 15:37:28:\r\n然后？ \r\nandro+ 15:38:08:\r\n到帐怎么几十块\r\n□╭右岸桃花 15:37:39:\r\n \r\n□╭右岸桃花 15:37:46:\r\n他分了2次付款的 \r\n□╭右岸桃花 15:38:26:\r\n我想起来了。 \r\n□╭右岸桃花 15:38:30:\r\n第一次就要了100克拉 \r\n□╭右岸桃花 15:38:37:\r\n后来又加了2个粒度。 \r\n□╭右岸桃花 15:38:44:\r\n你给我该了吧。备注那里。 \r\nandro+ 15:39:51:\r\n他一共到帐了多少\r\nandro+ 15:39:56:\r\n225 都付清了吗\r\n□╭右岸桃花 15:41:22:\r\n好 \r\n□╭右岸桃花 15:41:23:\r\n是的 \r\n□╭右岸桃花 15:41:31:\r\n第一次是85 \r\n□╭右岸桃花 15:41:34:\r\n第二次是140 \r\n□╭右岸桃花 15:41:40:\r\n啊，不是140 \r\n□╭右岸桃花 15:41:52:\r\n是150 \r\nandro+ 15:42:35:\r\n都是打到公司帐户上了是吗\r\n□╭右岸桃花 15:43:37:\r\n是的 \r\n□╭右岸桃花 15:43:42:\r\n不然你问问范苗吧 \r\n□╭右岸桃花 15:43:47:\r\n让他再看看？ \r\nandro+ 15:44:28:\r\n恩\r\n□╭右岸桃花 15:43:50:\r\n我确定都到了 \r\n□╭右岸桃花 15:43:54:\r\n不然不会发货的 ','misc','2012-04-26 15:45:41','2012-04-27 00:43:24'),(837,'刚曲申请两个小于 100 的报销单，曲跟我说李艳看不到。\r\n跑过去发现还是没有。起初以为是网速问题，咋一想，小于 100 的\r\n根本不经过李艳，申请后直接转向范苗，自己都给搞晕了！\r\n\r\n其实可以让李艳也看到，仅仅是看到，不能做任何操作。','misc','2012-04-26 17:07:12','2012-04-26 09:07:12'),(838,'李让会计问现金流明细是否所有人可见？明确每个人的权限，消除疑虑','misc','2012-04-27 09:02:10','2012-04-27 01:02:10'),(839,'按汉字首字母排序的 SQL 片段：\r\n<tt>ORDER BY CONVERT(full_name using gbk)\");</tt>','misc','2012-04-27 09:15:24','2012-04-27 01:15:24'),(840,'申请费用类型除了现金、银行转帐，还应有个“信用卡”。\r\n今早曲充油卡即是如此；','misc','2012-04-27 11:46:25','2012-04-27 03:46:25'),(841,'为了显示所有进、出明细单\r\n余额退回、非订单收入 这两个现金入柜操作也应让会计审核一下；\r\n另外，余额退回含有复审环节，而非订单收入由于属于收入范围，因此\r\n没有复审信息；','misc','2012-04-27 16:00:45','2012-04-27 08:03:13'),(842,'此刻的问题：怎么保存公司预付现金的复审信息？','misc','2012-04-27 16:37:48','2012-04-27 08:37:48'),(843,'JS 自定义函数 <tt>number_format()</tt> 问题已解决，\r\n但还可以更好。比如：如果用户输入多个 \'.\' 怎么办？','undo','2012-04-28 14:40:00','2012-04-28 06:40:00'),(844,'隐藏修改、删除订单的按钮的问题：\r\n------------------\r\n目前系统内有些逻辑设计是隐性形式存在的。比如，会计授权一个订单后\r\n带来的结果有：\r\n1. 销售不能修改、删除订单；\r\n\r\n这里到帐的订单将其“修改”、“删除”按钮隐藏了起来，但用户会表示疑惑。\r\n应该用显性的提示方法来告知用户这里的真正逻辑。','misc','2012-04-28 14:46:21','2012-04-28 06:46:21'),(845,'收入重复提交信息\r\n-------------------------------------\r\nwatermelon  14:34:46:\r\n在没  \r\nwatermelon  14:35:11:\r\n华迪我授权了  收入管理里面出现两个 ','misc','2012-05-02 14:57:15','2012-05-02 06:57:15'),(846,'　新浪体育讯　3比0战胜毕尔巴鄂竞技过后，皇马(微博)获得俱乐部历史上第32次联赛冠军，这也是穆里尼奥教练生涯在4个不同的国家拿到的第七次联赛冠军。谈及自己的感受时，穆里尼奥表示，这是他执教以来难度最大的一次夺冠。\r\n\r\n　　他说：“这个冠军头衔不是别人送给我们的。我们拿到了非常多的积分，这是一件不可思议的事。另外，我们踢出了高质量的足球。所以我们要尽情庆祝夺冠。这些球员理应得到这样的荣誉。整个西班牙都看到我们的表现，没有人会怀疑冠军是理所应当的。我们的各项数据都很好，但最重要的是冠军奖杯。”\r\n\r\n　　“我把这样的荣誉献给所有帮助过我们以及所有和我们一起受过苦的人。我要祝贺所有人，特别是我们的家人，因为他们是最不容易的。他们每天都和我们在一起，知道我们的冠军是如何来之不易。”\r\n\r\n　　“我当教练后已经拿过7次联赛冠军，所以我现在很淡定。我知道人们是怎么庆祝夺冠的，明天(当地时间周四)我要看看能不能见到何塞-桑切斯和帕尔德萨，到时候我们要开始为下赛季做准备。下个赛季将会更艰苦。我希望球迷在下一场比赛对阵马洛卡时给予这支球队应有的褒奖。这支球队付出了那么多，他们理应得到更多的支持、热爱与激情。我希望伯纳乌球场的球迷给予他们应得的回报。但愿我们面对格拉纳达的时候他们已经保级，那样我们就不用掌握别人的命运。作为冠军，我们将会为联赛增光添彩。如果对手已经保级，我们就能完全放松地踢比赛。”\r\n\r\n　　“我在葡萄牙、意大利和英格兰都拿过联赛冠军，但这次在西班牙夺冠是最困难的，尽管以前我有过在最后一轮比赛才夺冠的经历。这次夺冠我们没有靠任何人帮忙，冠军是我们通过自己的努力赢得的。”(KKgonzalez)','misc','2012-05-03 08:47:42','2012-05-03 00:47:42'),(847,'不允许 预付模式的申请单 申请历史跨月？\r\n非也','misc','2012-05-03 17:11:59','2012-05-03 09:11:59'),(848,'在生成月支出报表有两个困惑：一是如果普通模式下的申请到月底仍未付款怎么办？其实很简单，支出报表是以出纳付款时间来统计的，而不是费用申请的时间；二是预支模式下的申请到月底仍位转为普通模式（费用申请仍未结束）怎么办？只需按 om_expense_history 而非 om_expense 记录统计即可。预支模式下余额退回的钱肯定不能算收入，应以负数形式出现在支出报表中；','misc','2012-05-03 17:48:22','2012-05-03 09:48:22'),(849,'已经有两个员工向我反映自己提交的申请后找李艳审核，却被告知看不到申请。\r\n原因在于申请金额为小额（小于 100 元）。为避免此情况再次发生：\r\n\r\n1. 费用提交成功后，以更明确形式告知，如“费用小于 100, 请直接向范苗要钱……“的字样；\r\n2. 将小额申请也出现在李艳的首页；','misc','2012-05-03 17:51:54','2012-05-03 09:51:54'),(850,'支出报表？先放放，林需要客户档案。看这次几天能搞定\r\n\r\nISO 的人问：假如你的系统有一天崩溃了怎么办？有没有备份措施；\r\n\r\n===================\r\n\r\n5/9 10:30 初步完工,耗时 5 天','misc','2012-05-04 10:12:52','2012-05-09 02:56:43'),(851,'ISO 认证\r\n\r\n一般对于企业来说，做9000认证无非两种情况，\r\n一般是客户要求，\r\n另一种就是想提高自身管理水平，达到某一种高度。\r\n\r\n目前的市场来说，前一者居多，但整体趋势却向后一者发展。\r\n\r\n9000认证是一套不错的管理工具，可以提高绩效考核，提升企业管理，\r\n帮助降低人为损耗，从而提高市场竞争力。一般来讲，\r\n做9000认证比较多的行业为电子业，金属业，建筑业，机械业等。','misc','2012-05-04 10:44:20','2012-05-04 02:44:20'),(852,'中国大区域划分：\r\n\r\n1、华东地区（包括山东、江苏、安徽、浙江、福建、上海市）； \r\n2、华南地区（包括广东、广西、海南）； \r\n3、华中地区（包括湖北、湖南、河南、江西）； \r\n4、华北地区（包括北京、天津、河北、山西、内蒙古）； \r\n5、西北地区（包括宁夏、新疆、青海、陕西、甘肃）； \r\n6、西南地区（包括四川、云南、贵州、西藏、重庆）； \r\n7、东北地区（包括辽宁、吉林、黑龙江）； \r\n8、台港澳地区（包括台湾、香港、澳门）。 \r\n\r\n在学术性文件中都是以华东，华南 华中，华北，西南，西北，东北来分的\r\n\r\n民间也不应该以南方 北方来分，这样无任何科学依据\r\n\r\n南方内部差异巨大，东南是中国最富裕的地区，西南是中国最贫穷的地区。\r\n\r\n而已华东，华南 华中，华北，西南，西北，东北，则是对各地区经济社会发展程度最科学的划分','misc','2012-05-04 10:45:58','2012-05-04 02:45:58'),(853,'自从上次安装扫描仪驱动后，有先后两台电脑无法上网，\r\n\r\n在TCP/IP协议里设置 DNS 处将自动获取修改为如下即可，原因未知\r\n\r\n202.102.224.68\r\n2.2.102.227.68','misc','2012-05-04 14:47:26','2012-05-04 06:47:26'),(854,'有个浙江翌挥阳光能源的由于没有输入省份信息，导致统计不准确，耗费时间','misc','2012-05-05 09:42:43','2012-05-05 01:42:43'),(855,'中午找陈岩上礼，言多必失；            |\r\n回来坐 44 路被多拉了一站；             |-------> 心情不佳\r\n回来碰到李和帅，觉得被无视；         |\r\n\r\n','misc','2012-05-05 17:37:02','2012-05-05 09:37:02'),(856,'”没有期望，便不会失望“，只有失望过后才会体会到；\r\n\r\n没有期望不表示没有目标，没有追求。\r\n内心平静是目标；追求过程','misc','2012-05-07 08:23:59','2012-05-08 00:15:36'),(857,'费用申请单添加类似“开锁”、“解锁”的功能：\r\n\r\n实际需求：预支模式完成后发现购买物品质量有问题需要换货，此时需要重新将模式由“普通”改为“预支”','misc','2012-05-08 08:20:12','2012-05-08 00:20:12'),(858,'I\'m stuck\r\n\r\n动态显示某个客户月订货两图表出现麻烦，如何重新加载图片（名称不变，内容已变）？','misc','2012-05-08 14:36:23','2012-05-08 06:36:23'),(859,'Bug Fixed: 申请单分类用户输入的空格字符写如数据库；','misc','2012-05-09 11:13:57','2012-05-09 03:13:57'),(860,'GarmentOffice: 服装行业订单系统','misc','2012-05-09 14:13:48','2012-05-09 06:13:48'),(861,'［待完善］林经常忘记添加国瑞升的样品，应只能提醒；','misc','2012-05-09 15:40:36','2012-05-09 07:40:36'),(862,'如果你是用外币兑换人民币，那就是按“现钞买入价”兑换。\r\n如果你是用人民币兑换外币，就按“现钞卖出价”兑换。\r\n银行是低价买进，高价卖出。','misc','2012-05-09 16:06:20','2012-05-09 08:06:20'),(863,'交行外汇牌价地址：http://www.bankcomm.com/BankCommSite/cn/foreignExchangeSearch_Cn.jsp','misc','2012-05-09 17:13:12','2012-05-09 09:13:12'),(864,'刚花费近两个小时给母亲和老婆买吊坠，也很费时间嘛。况且，忙活这么久，还得等几天才能看见货','misc','2012-05-10 10:18:46','2012-05-10 02:19:38'),(865,'revenue 表格中应添加列 source enum (order,misc), 用以将订单收入和其它收入分开，便于将来筛选','misc','2012-05-10 11:07:51','2012-05-10 03:07:51'),(866,'Chrome cache 缓存 位置\r\n\r\nC:\\Documents and Settings\\Administrator\\Local Settings\\Application Data\\Google\\Chrome\\User Data\\Default\\Cache  \r\n或者浏览器地址栏输入about:cache   \r\nctrl+shift+delete可以删除缓存\r\n\r\nhttp://www.dreamdu.com/blog/2008/07/27/why_have_parameter_js_or_css_file/','misc','2012-05-10 11:33:46','2012-05-10 03:41:07'),(867,'找到了禁止 Chrome 读取本地缓存数据（css, js, jpg）的最佳方法！开心！！','misc','2012-05-10 11:54:56','2012-05-10 03:54:56'),(868,'便宜的日元\r\n\r\n昨下午计算公司月销售额竟高达7000万人民币！在网上一搜，都赶上SOHO房地产了……\r\n今天再再看交行外汇牌价，发现别的外币都是 100外币=xxx人民币，而日元是 <b>100,000</b>日币=xxx人民币……单位搞错了','misc','2012-05-11 09:14:11','2012-05-11 01:14:11'),(869,'HTML Entity: <a href=\"http://www.w3schools.com/tags/ref_entities.asp\">http://www.w3schools.com/tags/ref_entities.asp</a>\r\n<a href=\"http://htmlhelp.com/reference/html40/entities/latin1.html\">http://htmlhelp.com/reference/html40/entities/latin1.html</a>\r\n<a href=\"http://entitycode.com/#featured-content\">http://entitycode.com/#featured-content</a>简单直接','misc','2012-05-11 14:38:12','2012-08-02 03:54:47'),(870,'范苗离职','misc','2012-05-14 14:06:17','2012-05-14 06:06:17'),(871,'□╭右岸桃花 2012-05-14 14:31:39:\r\n陈奎，你给我修改一下订单吧，767的0-0.1改成500克拉 \r\n□╭右岸桃花 2012-05-14 14:31:44:\r\n他要1万 \r\n□╭右岸桃花 2012-05-14 14:31:47:\r\n我们只有500 \r\n-------------------------------\r\n假如销售提交订单前知道每个粒度的确切库存，假如销售可以修改已经备货的订单','misc','2012-05-14 14:41:26','2012-05-14 06:41:26'),(872,'alipay\r\n\r\nandro.chen\r\n','misc','2012-05-15 11:33:09','2012-08-04 03:23:42'),(873,'追风者 16:06:07:\r\n在么。你能不能网上买冬西 \r\nandro+ 16:06:58:\r\n多少钱的东西\r\n追风者 16:07:26:\r\n473 \r\nandro+ 16:07:53:\r\n我的支付宝上现在只有200多\r\n追风者 16:07:57:\r\n哦 \r\nandro+ 16:08:03:\r\n不能到付？\r\n追风者 16:08:06:\r\n不可能的 \r\nandro+ 16:08:19:\r\n靠，衣服？\r\n追风者 16:08:19:\r\n不可以的 \r\n追风者 16:08:26:\r\n不是的，完美卡 \r\n追风者 16:08:34:\r\n我发连接给你看 \r\nandro+ 16:08:53:\r\n好\r\n追风者 16:08:51:\r\n这个: http://www.91ka.com/buy.php?id=2988完美卡 \r\nandro+ 16:09:36:\r\n靠，你什么时间开始玩网游了\r\n追风者 16:09:45:\r\n不是网游用的，我要刷积分的 \r\n追风者 16:10:16:\r\n你先帮我买2张下来 \r\nandro+ 16:10:39:\r\n你打电话给我','misc','2012-05-15 16:12:48','2012-05-15 08:12:48'),(874,'何必认真？','misc','2012-05-17 08:17:54','2012-05-17 00:17:54'),(875,'如果无法改变现状，那就做好自己，做自己该做的事情。\r\n相信时间，相信自己的努力','misc','2012-05-17 08:43:19','2012-05-17 00:43:19'),(876,'政府和人民的关系：\r\n1. 我不活了；屈原\r\n2. 颠儿：跑了；Hedy Lee\r\n3. 得儿：藏起来了，找不到我了。诸葛亮\r\n4. 怂了：怕你了，不根你玩了\r\n5. 反儿了：跟你干上了\r\n\r\n---------------------\r\n\r\n上面的都是消极的方面\r\n\r\n什么东西要开放才更安全；\r\n\r\n毛｀咏梅\r\n她在从中（旁边）笑\r\n王国维——有我之境，无我之境\r\n最好的丝袜，最好的大腿\r\n\r\n---------------------\r\n\r\n情愈信，辞愈巧','misc','2012-05-17 14:48:33','2012-05-17 07:31:02'),(877,'日腾中对帐：\r\n除了少量客户，一般的订单强制写单价\r\n允许财务修改单价？','misc','2012-05-17 16:07:15','2012-05-17 08:07:15'),(878,'查询后，点击链接，显示 $(\'#revenueList\').html() 值为 null.','misc','2012-05-18 09:53:36','2012-05-18 01:53:36'),(879,'10 月 12 日前的老订单：为财务单独创建一个临时页面，将所有未授权的老订单显示出来，可以批量选择到帐（仅将 is_paid 设置为 1）','misc','2012-05-18 11:23:37','2012-05-18 03:23:37'),(880,'采纳出纳意见：除了特殊客户，必须输入单价方可提交订单；','misc','2012-05-18 16:48:43','2012-05-18 08:48:43'),(881,'20120521: 最大限度禁止单价为空的订单','misc','2012-05-21 10:05:12','2012-05-21 02:05:12'),(882,'企业文化部属于人力资源或行政部，开发部属于市场部，成本部属于财务部，项目部属于工程部，基本企业常见部门下面都有了，对应的参考一下吧。\r\n总公司 Head Office  \r\n分公司 Branch Office \r\n营业部 Business Office \r\n人事部 Personnel Department\r\n人力资源部 Human Resources Department\r\n总务部 General Affairs Department\r\n财务部 General Accounting Department\r\n销售部 Sales Department\r\n促销部 Sales Promotion Department \r\n国际部 International Department\r\n出口部 Export Department\r\n进口部 Import Department \r\n公共关系 Public Relations Department\r\n广告部 Advertising Department \r\n企划部 Planning Department \r\n产品开发部 Product Development Department\r\n研发部 Research and Development Department(R&D) \r\n秘书室 Secretarial Pool \r\n采购部 Purchasing Department\r\n工程部 Engineering Department \r\n行政部 Admin. Department \r\n人力资源部 HR Department \r\n市场部 Marketing Department \r\n技术部 Technolog Department \r\n客服部 Service Department \r\n行政部: Administration \r\n财务部 Financial Department \r\n总经理室、Direcotor, or President\r\n副总经理室、Deputy Director, or Vice president\r\n总经办、General Deparment\r\n采购部、Purchase & Order Department \r\n工程部、Engineering Deparment \r\n研发部、Research Deparment \r\n生产部、Productive Department\r\n销售部、Sales Deparment \r\n安保部、Security Department\r\n广东业务部、GD Branch Deparment \r\n无线事业部、Wireless Industry Department \r\n拓展部 Business Expending Department \r\n物供部、Supply Department \r\nB＆D business and development 业务拓展部\r\nMarketing 市场部\r\nSales 销售部 \r\nHR 人力资源部 \r\nAccount 会计部 \r\nPR people relationship 公共关系部\r\nFC (Office, 但不常见)\r\nOMB = Office of Management and Budget 办公室\r\nFinance 财务部 \r\nMKTG (Marketing) 市场部\r\nR&D (Research & Development) 研发部\r\nMFG (Manufacturing) 产品部\r\nAdministration Dept. 管理部 \r\nPurchasing Dept 采购部 \r\nChairman/President Office Gerneral Manager office or GM office 总经理办公室\r\nMonitor & Support Department 监事会\r\nStrategy Research 战略研究部','misc','2012-05-21 11:30:49','2012-05-21 03:30:49'),(883,'用面向对象的方式建立角色。\r\n1. 每个权限作为角色类中的方法存在；\r\n2. 运用继承解决子角色的问题。以销售为例，销售主管是销售的子类。销售主管除了拥有销售的所有权限（方法）外，还有自己特定的权限（方法）；','misc','2012-05-23 08:49:39','2012-05-23 00:49:39'),(884,'用户与部门：一对多\r\n用户与角色：多对多\r\n<s>角色与权限：多对多</s>','misc','2012-05-23 09:34:29','2012-05-23 07:57:08'),(885,'市场部负责拉近产品与消费者的心理距离，销售部负责拉近产品与消费者的物理距离','misc','2012-05-23 10:40:53','2012-05-23 02:40:53'),(886,'“模块化”\r\n\r\n将模块具体代码从 Class 中移到 module/*.php 中','misc','2012-05-23 11:22:24','2012-05-23 03:22:24'),(887,'watermelon  2012-05-23 17:21:58:\r\n你今天没有修改系统吧? \r\nandro+ 2012-05-23 17:22:42:\r\nmeiyou \r\nwatermelon  2012-05-23 17:22:27:\r\n哦  \r\nandro+ 2012-05-23 17:23:15:\r\n什么情况？ \r\n--------------------\r\nwatermelon  17:23:07:\r\n我又少了20元  ','misc','2012-05-23 17:39:45','2012-05-23 09:39:45'),(888,'添加现金柜每日核对模块；>>','misc','2012-05-24 10:17:21','2012-05-25 00:23:24'),(889,'HTML 特殊字符 \'&\', \'>\', \'<\' 该不该存入数据库？','misc','2012-05-25 08:52:02','2012-05-25 00:52:02'),(890,'watermelon  2012-05-25 16:26:52:\r\n 我昨天忘记了  \r\nwatermelon  2012-05-25 16:26:56:\r\n \r\nandro+ 2012-05-25 16:27:26:\r\n忘记什么了 \r\nwatermelon  2012-05-25 16:27:13:\r\n忘记盘点现金啊 \r\nwatermelon  2012-05-25 16:27:30:\r\n为什么不一直出现啊 \r\nwatermelon  2012-05-25 16:27:36:\r\n我随时都可以盘点 \r\nwatermelon  2012-05-25 16:27:39:\r\n是不是 \r\nandro+ 2012-05-25 16:29:06:\r\n有道理。这个功能是临时加的，你先凑合着用，过两天再完善 \r\nwatermelon  2012-05-25 16:29:20:\r\n好  \r\nandro+ 2012-05-25 16:31:15:\r\n现在是随时可以核对，但最好只核对一次 \r\nandro+ 2012-05-25 16:31:21:\r\n你刷新下就可以看到 \r\nandro+ 2012-05-25 16:31:48:\r\n回头了你可以一天核对多次 \r\nwatermelon  2012-05-25 16:48:17:\r\n那个记录存到哪里啊 \r\nandro+ 2012-05-25 16:49:27:\r\n反正是存进去了，还没时间显示给你看 \r\nwatermelon  2012-05-25 16:49:06:\r\n哦  \r\nwatermelon  2012-05-25 16:49:09:\r\n好 ','misc','2012-05-25 17:10:48','2012-05-25 09:10:48'),(891,'<pre>\r\n+---------+-----------------+---------------------+---------------+---------------+-------------+\r\n| term_id | term_name       | term_slug           | term_taxonomy | term_note     | term_parent |\r\n+---------+-----------------+---------------------+---------------+---------------+-------------+\r\n|      66 | 国内销售        | mainland_saler      | role          | sales_dp      |           0 | \r\n|      67 | 国外销售        | aboard_saler        | role          | sales_dp      |           0 | \r\n|      68 | 销售主管        | sale_director       | role          | sales_dp      |           0 | \r\n|      69 | 会计            | accountant          | role          | accounting_dp |           0 | \r\n|      70 | 出纳            | cashier             | role          | accounting_dp |           0 | \r\n|      71 | 厂长            | production_director | role          | production_dp |           0 | \r\n|      72 | 厂区操作员      | production_operator | role          | production_dp |           0 | \r\n|      73 | 采购员          | purchaser           | role          | purchasing_dp |           0 | \r\n|      74 | 办公室主任      | office_director     | role          | office_dp     |           0 | \r\n|      75 | 办公室人员      | officer             | role          | office_dp     |           0 | \r\n|      76 | 系统管理员      | root                | role          | office_dp     |           0 | \r\n|      77 | 总经理          | president           | role          | president_dp  |           0 | \r\n+---------+-----------------+---------------------+---------------+---------------+-------------+\r\n</pre>','misc','2012-05-26 09:26:41','2012-05-26 01:26:41'),(892,'如能修改文件名，则建立 om_module 表；','misc','2012-05-26 10:11:42','2012-05-26 02:11:42'),(893,'<a class=\"btn\"></a> 当按钮的缺点是 a 标签显示样式不是 \"block\",\r\n还是原始的 button 标签好呀','misc','2012-05-26 17:08:47','2012-05-26 09:08:47'),(894,'button 标签无法使用 margin css 属性？\r\n\r\n可以，只是CSS 文件过于杂乱导致后面的相关属性覆盖了之前的设定；','misc','2012-05-28 11:33:38','2012-05-28 09:16:38'),(895,'模块化不仅是 PHP代码的模块化，也是 JS 代码, HTML DIV 块的模块化。\r\n以此来减轻 index.php 页面的压力','misc','2012-05-29 11:13:27','2012-05-29 03:13:27'),(896,'watermelon  14:44:45:\r\n你把我今天申请的那个单子给删了吧 \r\nwatermelon  14:44:49:\r\n650 \r\nwatermelon  14:45:00:\r\n还没有付款  \r\n\r\n----------------\r\n申请单删除功能！\r\n范苗特地跑过来说明需求：申请单授权之前允许修改金额','misc','2012-05-29 14:47:00','2012-05-29 07:51:34'),(897,'□╭右岸桃花 15:31:35:\r\n陈奎 \r\n□╭右岸桃花 15:31:59:\r\n我填写收货地址的时候看不到电话，能不能给客户的电话也弄上。 \r\n□╭右岸桃花 15:32:10:\r\n这样我就不用再查找客户信息了 \r\n－－－－－－－－－－－－\r\nDone','misc','2012-05-29 15:33:36','2012-05-29 07:43:09'),(898,'任对“快递单类型”表示疑惑。有个 hint 说明最佳','misc','2012-05-30 08:33:11','2012-05-30 00:33:11'),(899,'□╭右岸桃花 2012-05-31 15:29:59:\r\n现在这个界面更方便了。电话都出来了。 \r\nandro+ 2012-05-31 15:30:42:\r\n只会越来月先进啊 \r\n□╭右岸桃花 2012-05-31 15:31:06:\r\n偶像 \r\n□╭右岸桃花 2012-05-31 15:31:18:\r\n从系统一出来\r\n你就升级为我偶像了~ ','misc','2012-05-31 17:42:15','2012-05-31 09:42:15'),(900,'费用申请模块比较混乱，存在 bug.\r\nindex.php\r\nexpense.php\r\nexpense.php?action=mine','misc','2012-05-31 17:43:57','2012-05-31 09:43:57'),(901,'<pre>□╭右岸桃花 08:55:56:\r\n706这个应该是破碎料 </pre>\r\n修改产品类别一次（已发货订单）','misc','2012-06-01 15:32:01','2012-06-01 07:32:01'),(902,'<pre>醉、yi抹嫣红 15:57:31:\r\n我已经入过库勒 \r\nandro+ 15:57:56:\r\n 很好\r\nandro+ 15:58:29:\r\n上月出库总数跟李老师本子上的一致吗\r\n醉、yi抹嫣红 15:58:47:\r\n一致 \r\nandro+ 15:59:12:\r\n 难得呀</pre>\r\n','misc','2012-06-01 16:04:12','2012-06-01 08:04:12'),(903,'支出详情按钮失效','misc','2012-06-02 16:26:16','2012-06-02 08:26:16'),(904,'ajax 函数内部的变量在外部不能使用；','misc','2012-06-07 09:07:46','2012-06-07 01:07:46'),(905,'□╭右岸桃花 14:53:14:\r\n陈奎你给我改个价格吧 \r\n□╭右岸桃花 14:53:21:\r\n877 价格是0.35 \r\n□╭右岸桃花 14:53:27:\r\n添加上去吧 ','misc','2012-06-07 14:56:55','2012-06-07 06:56:55'),(906,'目标：消除 om.template-functions.php','misc','2012-06-08 10:50:40','2012-06-08 02:50:40'),(907,'先添加物流公司，再添加分部时异常','misc','2012-06-08 17:56:23','2012-06-08 09:56:23'),(908,'<a href=\"http://digdeeply.info/archives/10031448.html\">HTML 页面大致加载流程</a>\r\n\r\n1，页面减肥\r\n页面的肥瘦是影响加载速度最重要的因素\r\n删除不必要的空格、注释\r\n将inline的script和css移到外部文件\r\n可以使用HTML Tidy来给HTML减肥，还可以使用一些压缩工具来给JavaScript减肥\r\n\r\n2，减少文件数量\r\n减少页面上引用的文件数量可以减少HTTP连接数\r\n许多JavaScript、CSS文件可以合并最好合并，人家财帮子都把自己的JavaScript functions和Prototype.js合并到一个base.js文件里去了\r\n\r\n3，减少域名查询\r\nDNS查询和解析域名也是消耗时间的，所以要减少对外部JavaScript、CSS、图片等资源的引用，不同域名的使用越少越好\r\n\r\n4，缓存重用数据\r\n使用缓存吧\r\n\r\n5，优化页面元素加载顺序\r\n首先加载页面最初显示的内容和与之相关的JavaScript和CSS\r\n然后加载DHTML相关的东西\r\n像什么不是最初显示相关的图片、flash、视频等很肥的资源就最后加载\r\n\r\n\r\n6，减少inline JavaScript的数量\r\n浏览器parser会假设inline JavaScript会改变页面结构，所以使用inline JavaScript开销较大\r\n不要使用document.write()这种输出内容的方法，使用现代W3C DOM方法来为现代浏览器处理页面内容\r\n\r\n7，使用现代CSS和合法的标签\r\n使用现代CSS来减少标签和图像，例如使用现代CSS+文字完全可以替代一些只有文字的图片\r\n使用合法的标签避免浏览器解析HTML时做“error correction”等操作，还可以被HTML Tidy来给HTML减肥\r\n\r\n8，Chunk your content\r\n不要使用嵌套tables\r\n\r\n<table>\r\n  <table>\r\n    <table>\r\n      ..\r\n    <table>\r\n  <table>\r\n<table>\r\n而使用非嵌套tables或者divs\r\n\r\n<table>...</table>\r\n<table>...</table>\r\n<table>...</table>\r\n将基于大块嵌套的tables的layout分解成小tables，这样显示时不用加载整个页面(或大table)的内容\r\n\r\n9，指定图像和tables的大小\r\n如果浏览器可以立即决定图像或tables的大小，那么它就可以马上显示页面而不要重新做一些布局安排的工作\r\n这不仅加快了页面的显示，也预防了页面完成加载后布局的一些不当的改变\r\nimage使用height和width\r\ntable使用table-layout: fixed并使用col和colgroup标签指定columns的width\r\n\r\n10，根据用户浏览器明智的选择策略\r\nIE、Firefox、Safari等等等等\r\n\r\n11，页面结构的例子\r\n\r\n· HTML\r\n\r\n    · HEAD\r\n\r\n        · LINK ...\r\n        CSS files required for page appearance. Minimize the number of files for performance while keeping unrelated CSS in separate files for maintenance.\r\n\r\n        · SCRIPT ...\r\n        JavaScript files for functions required during the loading of the page, but not any DHTML that can only run after page loads.\r\n        Minimize the number of files for performance while keeping unrelated JavaScript in separate files for maintenance.\r\n\r\n    · BODY\r\n    · User visible page content in small chunks (tables / divs) that can be displayed without waiting for the full page to download.\r\n\r\n        · SCRIPT ...\r\n        Any scripts which will be used to perform DHTML. DHTML script typically can only run after the page has completely loaded and all necessary objects have been initialized. There is no need to load these scripts before the page content. That only slows down the initial appearance of the page load.\r\n        Minimize the number of files for performance while keeping unrelated JavaScript in separate files for maintenance.\r\n        If any images are used for rollover effects, you should preload them here after the page content has downloaded.\r\n12，HTML页面加载和解析流程\r\n\r\n1.用户输入网址（假设是个html页面，并且是第一次访问），浏览器向服务器发出请求，服务器返回html文件；\r\n2.浏览器开始载入html代码，发现＜head＞标签内有一个＜link＞标签引用外部CSS文件；\r\n3.浏览器又发出CSS文件的请求，服务器返回这个CSS文件；\r\n4.浏览器继续载入html中＜body＞部分的代码，并且CSS文件已经拿到手了，可以开始渲染页面了；\r\n5.浏览器在代码中发现一个＜img＞标签引用了一张图片，向服务器发出请求。此时浏览器不会等到图片下载完，而是继续渲染后面的代码；\r\n6.服务器返回图片文件，由于图片占用了一定面积，影响了后面段落的排布，因此浏览器需要回过头来重新渲染这部分代码；\r\n7.浏览器发现了一个包含一行Javascript代码的＜script＞标签，赶快运行它；\r\n8.Javascript脚本执行了这条语句，它命令浏览器隐藏掉代码中的某个＜div＞ （style.display=”none”）。杯具啊，突然就少了这么一个元素，浏览器不得不重新渲染这部分代码；\r\n9.终于等到了＜/html＞的到来，浏览器泪流满面……\r\n10.等等，还没完，用户点了一下界面中的“换肤”按钮，Javascript让浏览器换了一下＜link＞标签的CSS路径；\r\n11.浏览器召集了在座的各位＜div＞＜span＞＜ul＞＜li＞们，“大伙儿收拾收拾行李，咱得重新来过……”，浏览器向服务器请求了新的CSS文件，重新渲染页面。','misc','2012-06-09 08:10:19','2012-06-09 00:10:58'),(909,'马上下班，怎么想不起今天的劳动成果了？ MOTD 用得不够勤。','misc','2012-06-09 17:52:21','2012-06-09 09:52:21'),(910,'打印快递单时为了自动填充“城市”栏，需确保地址信息中“城市”列非空。','misc','2012-06-11 08:23:01','2012-06-11 00:23:01'),(911,'format factory: 可将A570IS 中的原始视频体积大幅减少（转换后为原始的1/10）, 但转换后不能用 Lenny 默认播放器播放，缺少转码器。','misc','2012-06-11 17:12:28','2012-06-11 09:12:28'),(912,'<pre>valid_arr[] = isValid;</pre>\r\n\r\n非法\r\n<pre>Unexpected token ]</pre>\r\n','misc','2012-06-14 09:18:43','2012-06-14 01:18:43'),(913,'系统安装完毕','misc','2012-06-26 10:47:11','2012-06-26 02:47:11'),(914,'【生活中几种锻炼口才的方法】1、朗读朗诵。2、对着镜子训练。3、自我录音。4、速读训\r\n练。5、即兴朗读。6、背诵法。7、复述法。8、模仿法。9、描述法。10、角色扮演法。11>、讲故事法。12、写日记。13、多翻字典。14、找机会上台。15、对口才产生兴趣。','misc','2012-06-28 16:13:16','2012-06-28 08:13:16'),(915,'昨晚 npu, nup 再次用反','misc','2012-06-30 07:59:49','2012-06-29 23:59:49'),(916,'让一个小企业老板作出把工作流程搬到网上、进行“无纸化办公”的决定有一定难度。老板往往会认为这是个“锦上添花”的东西，可有可无。他们更关心的是类似如何找到更到客户并带来更多销售‘额这中“雪中送炭”的东西。把切入点转移到他们真正关心的内容上是个想法。另外，“锦上添花”和“雪中送炭”并非两个完全独立的部分，两者可以产生交集甚至累加。','misc','2012-07-02 10:42:57','2012-07-02 02:42:57'),(917,'三鼎能够进行回访很好，但客服人员打电话的方式有待商榷，过于机械。\r\n\r\n要是用上 POP 系统该多好，有点 \"web app 控\"……','misc','2012-07-03 17:44:33','2012-07-03 09:48:37'),(918,'6月份的产品入库没人写入；','misc','2012-07-04 14:16:28','2012-07-04 06:16:28'),(919,'有“WebApp 控\"倾向, 看见什么都想用 WebApp 实现','misc','2012-07-05 08:45:57','2012-07-05 00:45:57'),(920,'JavaScript 中没有类似 PHP 中判断一个元素是否在某数组中的函数 in_array();','misc','2012-07-06 10:28:55','2012-07-06 02:28:55'),(921,'input_validate() 函数不能仅仅验证非空，还可以验证整数、货币……\r\n---- 样品自动填充功能','misc','2012-07-06 14:58:07','2012-07-06 06:58:07'),(922,'基本可以保证每个订单都有单价，可以统计月销售额了。','misc','2012-07-07 16:33:12','2012-07-07 08:33:12'),(923,'冯璐创建的客户地址列仍旧有重复信息！','misc','2012-07-07 17:47:25','2012-07-07 09:47:25'),(924,'Debian 星空屏保地址：<tt>/usr/share/pixmaps/backgrounds/</tt>','misc','2012-07-07 17:51:46','2012-07-07 09:51:46'),(925,'weibo 上 \'安琢数据\" 帐号被盗！','misc','2012-07-09 09:33:05','2012-07-09 01:33:05'),(926,'om_goods 列：订货、换货、退货。外加进货','misc','2012-07-10 07:52:49','2012-07-09 23:52:49'),(927,'昨天一整天都无从下手的退、换货问题在今早一上班就想明白了！\r\n真想不到！方法：采用类似费用申请中 expense, expense_history 表的关系，\r\n现有 order 表实际上可看作是 order_history, 没一个 order_history 都包含如下\r\n几个动作：订货、退货、换货（退货+新订货），和 expense_history 中的\r\n：首次申请、余额退回和追加申请类似。\r\n\r\n此方法对数据库改动较大，先把所有数据苦操作都移动到类中再说此事。','misc','2012-07-10 08:28:59','2012-07-10 00:48:31'),(928,'<pre>var obj =  {}; // simpler\r\nvar obj = new Object();</pre>','misc','2012-07-10 15:57:55','2012-07-10 07:57:55'),(929,'铜陵那个客户快递公司确定找不着了，现在正准备索赔。异常处理。','misc','2012-07-10 16:47:15','2012-07-10 08:47:15'),(930,'快递单打印模块：<ul>\r\n	<li>顺丰模板；发件人信息可以自定义（小任需求）</li>\r\n	<li>网速是个问题，当速度过慢时，用户宁可手写都不用……</li>\r\n</ul>\r\n\r\n\r\n','misc','2012-07-10 17:05:08','2012-07-10 09:26:08'),(931,'为什么不能跟踪顺丰的单子？\r\n发快递时的结算方式经常产生疑惑，和创建订单时的结算方式','misc','2012-07-11 08:45:05','2012-07-11 00:45:05'),(932,'Main job:\r\ndeprecate: obj.attr(\'value\'), use obj.val() instead.','misc','2012-07-11 11:23:02','2012-07-11 03:23:02'),(933,'销售询问公司农行帐号信息，这些可以有','misc','2012-07-11 14:41:12','2012-07-11 06:41:12'),(934,'每月 5 号抄电表，9 号缴电费\r\n\r\n9.8 DWC 花费 30.  64957818','misc','2012-07-12 07:54:02','2012-07-11 23:54:02'),(935,'一个产品，让企业用比让单个人用要难，但用上以后，企业比个人要“忠诚”得多','misc','2012-07-12 08:15:17','2012-07-12 00:15:17'),(936,'<s>数据验证时将 uprice 列值设为 \' \'的技巧</s>\r\n没必要。若为样品，不添加 .required 类名即可。','misc','2012-07-12 09:21:39','2012-07-13 09:32:06'),(937,'editorder = createorder 增强版，更麻烦','misc','2012-07-12 11:19:33','2012-07-12 03:19:33'),(938,'收入单有修改备注的需求：\r\n\r\nwatermelon  2012-07-12 17:46:28:\r\n我刚刚授权了深圳常兴的  备注写错了  \r\nwatermelon  2012-07-12 17:46:57:\r\n你给我改成  30300051-20898538','misc','2012-07-12 17:49:31','2012-07-12 09:49:31'),(939,'createorder.js 中将 uprice 设置为 \' \' 的问题；','misc','2012-07-13 14:32:26','2012-07-13 06:32:26'),(940,'edit order 终于完工','misc','2012-07-13 16:45:50','2012-07-13 08:45:50'),(941,'http://www.outstanding.com.hk/eorder/js.private.createorder.js\r\n可直接读取 JS 文件，安全否？','misc','2012-07-14 08:13:42','2012-07-14 00:13:42'),(942,'出纳对销售申请的快递费用会要求查看运单号，可以更好','misc','2012-07-14 08:30:48','2012-07-14 00:30:48'),(943,'more use, more ease','misc','2012-07-14 08:33:03','2012-07-14 00:33:03'),(944,'Focus on your heart.','misc','2012-07-14 08:39:05','2012-07-14 00:39:05'),(945,'客户发货地址按钮不适合在 AJAX 中传输，因为涉及到特殊符号 \'<\', \'>\' 转换的问题','misc','2012-07-14 10:02:01','2012-07-14 02:02:01'),(946,'紧急：圆通单子打印偏差过大。。。转向快递单模板调整\r\n当前工作点：order 查操作迁移至 class.order 下\r\n\r\nBug: 快递单打印和发货两个操作仍在使用已删除的自定义函数。\r\nDone: 已迁移至公司类下；','misc','2012-07-14 17:05:39','2012-07-17 02:10:35'),(947,'圆通单子打印偏差的问题经过简单的调整大体正常，要点：\r\n1、页边距用户可能会忘记选择<b>“无”</b>\r\n2、打印字体 10pt 大小刚好，汉字横线部分不清晰的问题仍存在，推论：\r\na. 不是炭带的事；','misc','2012-07-17 10:08:03','2012-07-17 02:08:03'),(948,'module/sale.ready-order-table.php 重构完毕','misc','2012-07-19 15:15:15','2012-07-19 07:15:15'),(949,'Minify 似乎不错。','misc','2012-07-20 10:49:37','2012-07-20 02:49:37'),(950,'<pre>+---------+-----------------+---------------------+---------------+---------------+-------------+\r\n| term_id | term_name       | term_slug           | term_taxonomy | term_note     | term_parent |\r\n+---------+-----------------+---------------------+---------------+---------------+-------------+\r\n|      66 | 国内销售        | mainland_saler      | role          | sales_dp      |           0 | \r\n|      67 | 国外销售        | aboard_saler        | role          | sales_dp      |           0 | \r\n|      68 | 销售主管        | sale_director       | role          | sales_dp      |           0 | \r\n|      69 | 会计            | accountant          | role          | accounting_dp |           0 | \r\n|      70 | 出纳            | cashier             | role          | accounting_dp |           0 | \r\n|      71 | 厂长            | production_director | role          | production_dp |           0 | \r\n|      72 | 厂区操作员      | production_operator | role          | production_dp |           0 | \r\n|      73 | 采购员          | purchaser           | role          | purchasing_dp |           0 | \r\n|      74 | 办公室主任      | office_director     | role          | office_dp     |           0 | \r\n|      75 | 办公室人员      | officer             | role          | office_dp     |           0 | \r\n|      76 | 系统管理员      | root                | role          | office_dp     |           0 | \r\n|      77 | 总经理          | president           | role          | president_dp  |           0 | \r\n+---------+-----------------+---------------------+---------------+---------------+-------------+</pre>','misc','2012-07-20 14:18:37','2012-07-20 06:18:37'),(951,'人生需要积淀，公司也如此。','misc','2012-07-21 08:50:58','2012-07-21 00:50:58'),(952,'急于消除一切换行符、制表符！','misc','2012-07-21 15:19:55','2012-07-21 07:19:55'),(953,'营销型网站不是很流行吗？就以此为切入点，做好之后把自己认为核心、重要的东西－管理软件再推给他','misc','2012-07-25 09:30:31','2012-07-25 01:30:31'),(954,'一、已实施的52条单行道路及通行方向\r\n1、广场南路，由西向东 390米\r\n2、康复前街，由西向东 210米\r\n3、纬一路，由东向西 390米\r\n4、南关街，由南向北 480米\r\n5、俭学街，由东向西 600米\r\n6、市场街，由东向西 330米\r\n7、经六路，由南向北 210米\r\n8、顺河路（东明路至紫荆山路），由东向西；（紫荆山路之人民路），由西向东。 1860米\r\n9、铭功路（解放路至太康路），由南向北单向； 450米\r\n10、太康路，由西向东单向； 960米\r\n11、解放路（二七路至铭功路），由东向西单向； 450米\r\n12、正兴街（福寿街至亚细亚大酒店），由西向东单向； 330米\r\n13、福寿街（解放路至正兴街），由北向南单向； 150米\r\n14、南下街、北下街，由南向北单向； 540米\r\n15、北顺城街、南顺城街，由北向南单向； 870米\r\n16、团结路，由西向东单向； 120米\r\n17、商城路（人民路至北顺城街），由西向东单向； 60米\r\n18、大同路（福寿街至南下街），由西向东单向； 360米\r\n19、菜市街（南顺城街至敦睦路），由东向西单向； 390米\r\n20、东三马路、德济路（乔家门路至南关街），由西向东单向。 630米\r\n21、二七路，由北向南单向； 1200米\r\n22、西里路（二七路至杜岭街），由西向东单向； 420米\r\n23、兴隆街，由东向西单向； 180米\r\n24、二马路，由南向北单向； 360米\r\n25、大同路（福寿街至一马路），由东向西单向； 150米\r\n26、一马路，由北向南单向； 900米\r\n27、操场街，由西向东单向； 180米\r\n28、西三马路（乔家门路至一马路），由东向西单向； 150米\r\n29、陇海路（一马路至乔家门路），由西向东单向； 180米\r\n30、乔家门路、敦睦路，由南向北单向； 660米\r\n31、海滩街，由南向北单向； 420米\r\n32、卫生路（黄河路至优胜南路），由北向南单向； 780米\r\n33、东三街（优胜南路至红旗路），由南向北单向； 1050米\r\n34、防疫路，由北向南单向； 180米\r\n35、劳卫街，由北向南单向； 210米\r\n36、健康路，由南向北单向。 1020米\r\n37、同乐路，由西向东单向； 720米\r\n38、岗杜北街（南阳路至海滩街），由西向东单向； 90米\r\n39、任砦北街（健康路至文化路），由西向东单向； 180米\r\n40、优胜北路，由东向西单向； 960米\r\n41、岗杜街，由东向西单向； 240米\r\n42、优胜南路，由西向东单向； 1080米\r\n43、石桥东里，由东向西单向； 90米\r\n44、经二路（金水路至纬二路），由南向北单向； 390米\r\n45、政四街（东明路至经三路），由东向西单向； 600米\r\n46、黄河北街（红旗路至优胜南路），由北向南单向； 780米\r\n47、经四路（纬二路至金水路），由北向南单向； 360米\r\n48、丰产路（文化路至东明路），由西向东单向； 3000米\r\n49、红旗路（东明路至文化路），由东向西单向； 3000米\r\n50、政六街（纬四路至丰产路），由南向北单向； 1440米\r\n51、政七街（丰产路至纬四路），由北向南单向； 1440米\r\n52、东里路（紫荆山路至城东路），由西向东单向； 750米\r\n以上单行道总长32940米\r\n二、2010年3月6日早6时即将实施的16条单行道路及通行方向\r\n1、纬一路（文化路至花园路）段，由西向东单行；\r\n2、纬三路（花园路至文化路）段，由东向西单行；\r\n3、经五路（农业路至金水路）段，由北向南单行；\r\n4、经七路（金水路至农业路）段，由南向北单行；\r\n5、工人路（陇海路至中原路）段，由南向北单行；\r\n6、文化宫路（中原路至陇海路）段，由北向南单行；\r\n7、天明路（东风路至农业路）段，由北向南单行；\r\n8、丰乐路（农业路至东风路）段，由南向北单行。\r\n9、商城路（人民路至未来路）段，由西向东单行；\r\n10、城南路（城东路至南顺城街）段，由东向西单行；\r\n11、凤凰路（未来路至城东路）段，由东向西单行。\r\n12、交通路（淮河路至康复前街）段，由南向北单行；\r\n13、庆丰街（陇海路至淮河路）段，由北向南单行；\r\n14、铁英街（康复前街至陇海路）段，由北向南单行；\r\n15、永安街（交通路至京广路）段，由西向东单行；\r\n16、保全街（京广路至交通路）段，由东向西单行;','misc','2012-07-27 17:41:46','2012-07-27 09:41:46'),(955,'振作','misc','2012-07-31 11:09:02','2012-07-31 03:09:02'),(956,'用 Office 来进行统计分析是很多小型企业进行“信息化”的方式，\r\n做这些繁琐工作的常常是销售人员、财务人员或办公室人员等等，\r\n这些人员是除了老板以外的广告最佳受众。','misc','2012-08-01 10:05:49','2012-08-01 02:05:49'),(957,'测试地址：http://yalong.cw202.bizcn.com\r\n后台地址：http://yalong.cw202.bizcn.com/admin\r\n用户名：admin\r\n密码：ck35.com\r\nIP: 123.108.109.26','misc','2012-08-01 10:58:23','2012-08-01 02:58:23'),(958,'值班被排到星期天。何必那么敏感，顺势而为。要想腰杆硬，先学会不要脸','misc','2012-08-01 11:08:38','2012-08-01 03:08:38'),(959,'合久必分，分久必合。说的就是 Boxy Template 中的 JS 代码部分，\r\n而 Minify Project 为合创造了条件。','misc','2012-08-02 11:53:23','2012-08-02 03:53:23'),(960,'出纳进行取消/修改操作时，涉及的逻辑较多。','misc','2012-08-02 15:37:14','2012-08-02 07:37:14'),(961,'不是每个人都能实现自己的梦想，重要的是追梦的过程。——广播上点评王皓的话','misc','2012-08-03 15:21:46','2012-08-03 07:21:46'),(962,'PHP 变量该如何规范命名？是采用类似 \'the_value\' 的格式还是类似 \'theValue\'？\r\n\r\n从<a href=\"http://pear.php.net/manual/en/standards.naming.php\">Pear 命名规范</a> 可知：\r\n“骆驼体”更好，现有类名有问题，是 \'Expense_History\',不是 \'ExpenseHistoryClass\'!','misc','2012-08-04 09:03:24','2012-08-06 01:27:09'),(963,'$c=new UserClass($_COOKIE[\'login_name\']);\r\n知道放哪了，放在 md.topset.php\r\n但 excel2003.php 中还在单独声明','misc','2012-08-04 16:55:22','2012-08-04 08:55:22'),(964,'Minify 注意事项：每次改动代码后，务必更改版本号、确保缓存更新！','misc','2012-08-08 10:40:37','2012-08-08 02:40:37'),(965,'麦家：<a href=\"http://news.cntv.cn/program/xiaocuishuoshi/20120219/112290.shtml\">孤独的笔者(小崔说事)</a>','misc','2012-08-11 16:47:36','2012-08-11 08:47:36'),(966,'了解点框架 yii','misc','2012-08-18 07:43:22','2012-08-17 23:43:22'),(967,'Yii Blog Demo 让我暂时放弃这月底离职的想法；','misc','2012-08-25 07:19:19','2012-08-24 23:19:19'),(968,'Yii 框架对数组的使用达到了极致，各种配置、设置、参数等等都是存储在数组中','misc','2012-08-25 09:11:32','2012-08-25 01:11:32'),(969,'Everything is a componet in Yii Framework.','misc','2012-08-28 15:49:17','2012-08-28 07:49:17'),(970,'你有的他比你做得更好，你没有的他还有…… Yii','misc','2012-08-28 17:35:04','2012-08-28 09:35:04'),(971,'User Menu Widget 完工。','misc','2012-08-29 17:08:39','2012-08-29 09:08:39'),(972,'在 Mac Book 上安装 Debian 将是硬件和软件简洁的最佳统一。','misc','2012-08-29 20:13:51','2012-08-29 12:13:51'),(973,'URL Rewrite 功能用到正则式，得温习。','misc','2012-08-30 13:42:15','2012-08-30 05:42:15'),(974,'CForm 总是根据 model rules 中的规则验证……怎么办','misc','2012-09-01 10:10:13','2012-09-01 02:10:13'),(975,'为什么可选项保存不上去？','misc','2012-09-01 11:53:39','2012-09-01 03:53:39'),(976,'在如何获取 CForm 表单中元素值的问题上晕了，一下午都在这耗着……','misc','2012-09-01 16:12:17','2012-09-01 08:12:17'),(977,'取 CForm 表单元素的值就不应该在 elements property 中去找。','misc','2012-09-03 07:50:21','2012-09-02 23:50:21'),(978,'创建问题解决了，接下来是显示问题：如何将两个表的数据显示在一个表中？\r\n\r\n转向DB 访问章节','misc','2012-09-03 11:28:17','2012-09-03 03:45:09'),(979,'想用 Yii 来重新架构 E-Orders 应用，先要解决多表的 CRUD 操作问题，\r\n但目前进展缓慢，怀疑时机是否合适。\r\n决定先从 Essay, Word Dictory 两个应用着手，达到进一步熟悉 Yii \r\n的目的，为 E-Orders 做准备。\r\n\r\n----------------------\r\n放弃，太耗时间','misc','2012-09-07 23:04:51','2012-09-08 00:04:10'),(980,'怎么保存孩子生活中的视频呢？放 youku 上吧，隐私不好，且费时；放 skydrive\r\n上吧，不能直接播放；放移动硬盘上吧，web 2.0 性不强；直接放电脑里容量又\r\n成问题，','misc','2012-09-10 08:39:10','2012-09-10 00:39:10'),(981,'此刻退、换货功能又变得紧迫起来。我是怎么从考虑添加退、换货功能走到这里（Yii）来的？','misc','2012-09-11 09:51:17','2012-09-12 02:05:36'),(982,'至此，针对物流公司的所有 CRUD 操作均已实现。','misc','2012-09-12 08:09:40','2012-09-12 00:09:40'),(983,'Yii + Boxy:http://stackoverflow.com/questions/9919249/how-to-use-render-a-view-in-jquery-fancy-box-pop-up-in-yii-framework\r\n','misc','2012-09-12 17:20:05','2012-09-12 09:20:05'),(984,'yiichina 上实现 ajax 省份城市 二级联动 select box\r\nhttp://www.yiichina.com/forum/thread-614-1-1.html','misc','2012-09-12 17:21:55','2012-09-12 09:21:55'),(985,'退货、换货还是分开，这让换货可以直接借用创建订单的页面；','misc','2012-09-14 11:38:09','2012-09-14 03:38:09'),(986,'新来的财务角色不能是出纳，财务和出纳间角色的转变相对简单','misc','2012-09-14 12:02:36','2012-09-14 04:02:36'),(987,'有一 次搭電梯時，李敖老師說:岳忠，如果要在意每個人說的話，\r\n那什麼事都別幹了。認真做對的事，認真學習，努力賺錢，不用看人臉色。\r\n十年來，奉為圭臬、確切執行。今日不亦快哉!','misc','2012-09-18 10:38:08','2012-09-18 02:38:08'),(988,'有无这种可能：订单已结算，客户退货后并不急着换货，\r\n可能在未来下单，那时销售如何找到这个因退货而“欠”客户的款呢\r\n---\r\n简化，假定换货都是紧接着退货。','misc','2012-09-18 10:48:52','2012-09-18 03:21:43'),(989,'JS 能否直接获取 URL 中 query string 的值，而不是先用 PHP 生成含有该值的\r\nHTML 代码，再用 JS 获取。换货操作所想','misc','2012-09-20 07:43:36','2012-09-19 23:43:36'),(990,'换货操作借用新建订单的代码时需要：\r\n1. 将 action 值由 \'sell\' 改为 \'change\'','misc','2012-09-20 07:53:25','2012-09-19 23:53:25'),(991,'退换货新增操作完工后面临的问题：\r\n1. 让退、换货单在订单管理表单中显示出来；\r\n2. 退货生成的费用其实很象网上“优惠券”的功能，可抵等值的现金；\r\n3. 无论退货款额是否到帐，退货都跟着换货单走。但香港裕和不使用此情况\r\n','misc','2012-09-20 10:21:59','2012-09-20 03:09:31'),(992,'action \'change\' 不必要；\r\norder_id2return_id: 退货款额未到时原订单与退货单间的映射；\r\nreturn_id2order_id: 退货款额已到时退货单与新订单（换货）间的映射；','misc','2012-09-20 14:50:44','2012-09-20 06:50:44'),(993,'退货操作前根据原订单是否已结算区别对待这一方法使得之前容许一次退多个\r\n不同订单中的货物变得复杂（因多个订单各自到帐情况不同），\r\n所以仍采取一次只能退单个订单中的货物这一决定。\r\n\r\n---\r\n实际表明多订单退货十分必要，且再多想想就会发现订单之间货款到帐不同也不要紧，\r\n仅抵消已到帐退货金额即可。','misc','2012-09-20 14:57:46','2012-09-24 07:58:21'),(994,'\'is_paid\' 列可作为退货单的“抵现券”功能；\r\n退、换货更麻烦的是在授权部分，考虑将原订单金额更新为折算后的；','misc','2012-09-20 17:00:20','2012-09-20 09:00:20'),(995,'将退货部分包含在货物明细内；','misc','2012-09-20 19:52:00','2012-09-20 11:52:00'),(996,'Bug: 已授权到帐的订单竟仍能修改单价、数量','misc','2012-09-21 07:48:12','2012-09-20 23:48:12'),(997,'在已经有退货记录的订单上再进行退货怎么办？\r\n\r\n什么样的订单才有退货按钮？\r\n1. 状态为“顺利抵达”，且之前没有换过货；','misc','2012-09-21 08:29:21','2012-09-21 00:31:48'),(998,'客户简称应该限定字数，七个字为佳，例如“河南银旺某某某”','misc','2012-09-21 08:56:42','2012-09-21 00:56:42'),(999,'没有单价的订单（亚龙）进行退货会发生异常：\r\n点退货后显示 \'undefined\',\r\n对没有单价的订单来说，不可能结算','misc','2012-09-21 11:05:54','2012-09-21 03:08:03'),(1000,'问题：换货操作在换货单中显示正常，但原订单显示错误。\r\n到帐时间早于退货时间的订单不能与退货单绑定。\r\nget_charge()\r\nget_money_info()\r\nget_goods_table_entity()\r\nget_qtt_str()','misc','2012-09-21 12:51:16','2012-09-21 07:28:31'),(1001,'\'is_paid\' 列除了“未付款”、“已付款”外，还可能有第三种可能：“无须付款（抵消）”，再次显示 Yii 中采用 INT 类型表示枚举类的优越。','misc','2012-09-21 15:36:47','2012-09-21 07:36:47'),(1002,'协议计算应收账款处（累计金额）退货的金额没有去除。\r\n\r\n在进行退换货操作时，若均为全部退回（退货金额等于原订单、换货单金额），直接将\r\n\'is_paid\' 值更新为 1 即可解决此问题。\r\n\r\n紧接着的问题，将来修改其中任意一个导致不能完全抵消的话，需要更新 \'is_paid\' 值。','misc','2012-09-21 21:31:38','2012-09-21 13:58:11'),(1003,'销售在用 Excel 造月结客户对帐单时 Excel 提示格式错误，\r\n其实月结客户的对帐单在系统中生成再合适不过了呀。','misc','2012-09-22 09:10:50','2012-09-22 01:10:50'),(1004,'批量出货按钮！','misc','2012-09-22 10:43:31','2012-09-22 02:43:31'),(1005,'出库时间不能修改哦 美常兴','misc','2012-09-22 10:55:27','2012-09-22 02:55:27'),(1006,'□╭右岸桃花 2012-09-22 09:21:57:\r\n但问题来了，价格也不同啊 \r\nandro+ 2012-09-22 09:23:28:\r\n我知道，你现在输入的是退货，只管数量，提交后后自动转到换货单，那里输入单价。总之只要退货的总金额和换货的总金额一致就行 \r\n□╭右岸桃花 2012-09-22 09:23:27:\r\n \r\n□╭右岸桃花 2012-09-22 09:23:30:\r\n我试试哈 \r\n□╭右岸桃花 2012-09-22 09:23:41:\r\n粒度号不用照就行是吗 \r\nandro+ 2012-09-22 09:24:20:\r\n什么意思 \r\n□╭右岸桃花 2012-09-22 09:24:14:\r\n换货的粒度号上面没有 \r\nandro+ 2012-09-22 09:25:04:\r\n你自己输入，你不是记的有吗，就跟正常下单一样 \r\nandro+ 2012-09-22 09:25:30:\r\n仅仅是订单金额有一个抵消的操作 \r\n□╭右岸桃花 2012-09-22 09:25:30:\r\n我自己下载也搞不清楚了。。。 \r\n□╭右岸桃花 2012-09-22 09:25:32:\r\n现在 \r\n□╭右岸桃花 2012-09-22 09:25:40:\r\n \r\nandro+ 2012-09-22 09:26:05:\r\n李老师那里因该有记录吧 \r\n□╭右岸桃花 2012-09-22 09:25:55:\r\n我这里也有啊 \r\n□╭右岸桃花 2012-09-22 09:26:08:\r\n等下我去找你 \r\n□╭右岸桃花 2012-09-22 09:26:11:\r\n等下啊 \r\n□╭右岸桃花 2012-09-22 09:51:54:\r\n \r\n□╭右岸桃花 2012-09-22 09:51:55:\r\n陈奎 \r\n□╭右岸桃花 2012-09-22 09:52:07:\r\n你给我改到原来没退之前的操作吧 \r\nandro+ 2012-09-22 09:52:35:\r\n好。稍等一下 \r\nandro+ 2012-09-22 09:57:02:\r\n好了，重新输入吧 \r\n□╭右岸桃花 2012-09-22 09:57:16:\r\n \r\n□╭右岸桃花 2012-09-22 09:58:04:\r\n我今天上午的主要任务就是给这个帐算明白 \r\nandro+ 2012-09-22 09:58:45:\r\n恩，算清以后就方便了 \r\n□╭右岸桃花 2012-09-22 10:00:58:\r\n380#少800克拉 320#少1000克拉，金额2132元；180#--600#：10000x0.26+1000x0.25=2850元；100#-250#:12000x0.25=3000元，合计总金额7982元人民币。 \r\n□╭右岸桃花 2012-09-22 10:01:06:\r\n我的网速突然可慢 \r\n□╭右岸桃花 2012-09-22 10:19:43:\r\n200# 250# 280# 320# 350# 370# 380# 400# 1000#各1000克拉均有货，合计9000克拉，金额5850元，余下货款补齐800# 2050克拉，1332元。 \r\n--------------------\r\n','misc','2012-09-22 13:01:09','2012-09-22 05:01:09'),(1007,'我想要美常兴所有汇款记录，找不到！！','misc','2012-09-22 16:47:24','2012-09-22 08:47:24'),(1008,'会计需求：国瑞升差价直观显示','misc','2012-09-22 17:03:56','2012-09-22 09:03:56'),(1009,'美常兴事件退货金额和换货金额不能抵消的原因是其中一个货物的单价输入错误\r\n（发的是微粉，订单上写的是研磨膏的价格），也就说说，这单生意下来，\r\n公司先亏八百块，贵物贱卖。\r\n\r\n如果有一个货物“最低限价”的功能，销售输入价格低于限价就会提醒的话，\r\n就会在一定程度上避免此错误。细节无止境。','misc','2012-09-24 16:10:31','2012-09-24 08:10:31'),(1010,'http://php-thoughts.cubedwater.com/2009/validation-scenarios/\r\n问题：不识别 \'on\'=>\'mainland,abroad\' 属性\r\n\r\nView 中怎么区分 scenarios 是 register or recover?\r\n\r\nhttp://www.yiiframework.com/wiki/56/#hh3 给出答案','misc','2012-09-25 08:57:44','2012-09-25 07:46:53'),(1011,'Try to unify creation of mainland and abroad customer in one form via JS.','misc','2012-09-26 08:58:39','2012-09-26 00:58:39'),(1012,'radioButtonList() 样式错乱系 Form 中 \'wide\' 样式所致，问题不大。','misc','2012-09-26 09:27:46','2012-09-26 01:27:46'),(1013,'Scenario 验证不难，难的是根据 scenario 显示表单元素。\r\nWhen click radio button \'abroad\', change scenario from \'mainland\' to \'abroad\'.\r\n\r\n临时方法：国家列设为 \'required\', 国内客户时将其赋值为 \'中国\'并隐藏','misc','2012-09-26 14:50:17','2012-09-26 06:51:43'),(1014,'之前的“快递公司管理”并未完成，显示的不都是快递公司。','misc','2012-09-27 07:59:21','2012-09-26 23:59:21'),(1015,'上午任务：CGridView 筛选搜索功能实现过程；已完成\r\n下午任务：customer/view Action','misc','2012-09-27 09:34:21','2012-09-27 05:39:42'),(1016,'出纳到帐授权时将银行到帐误点成现金交易。','misc','2012-09-27 15:08:36','2012-09-27 07:08:36'),(1017,'客户的发货地址管理应单独建立自己的 Controller, 而不是使用类似 \'customer/addaddress\',\r\n\'customer/editaddress\' 的 route.','misc','2012-09-28 22:44:07','2012-09-28 14:44:07'),(1018,'节后路由器异常，\r\n接PPPOE方式中改选“标准PPPoE“尝试后成功。耗时60分钟。','misc','2012-10-08 09:33:28','2012-10-08 01:33:28'),(1019,'幸福的定义：向往的一种状态','misc','2012-10-10 10:16:28','2012-10-10 02:16:28'),(1020,'为什么文章正文中要出现那么多的&lt;tt&gt;标签？又不是编写文档。','misc','2012-10-10 17:02:47','2012-10-10 09:02:47'),(1021,'AVIRA “小红伞” 方使用的杀毒软件','misc','2012-10-12 08:11:37','2012-10-12 00:11:37'),(1022,'沟通 tip: 忌讳一边听人说话，一边忙自己的事情，虽然你可以说你能两不耽误，\r\n但如果对方是个细心、敏感之人，坏的印象就会因此事而留在对方心中。\r\n——向会计询问事情有感','misc','2012-10-12 16:32:55','2012-10-12 08:33:31'),(1023,'要是从楼上跳下去会怎样？不能跳，跳下去家人怎么办；\r\n做工注意力不集中会怎样？没事啊，时间多着呢，但长时间浪费时间、\r\n目标性不强最终会导致经济上不顺心，也会使家人处境不如意。\r\n结果类似，为什么不注意后者呢？','misc','2012-10-12 16:37:32','2012-10-12 08:50:40'),(1024,'任何人只要努力， 就能在细分领域做到业界前沿； 再把这些记录下来并分享出来，别人都会尊敬你。 TimYang','misc','2012-10-13 13:15:13','2012-10-13 05:15:13'),(1025,'固定 IP 列表：\r\n李艳：170\r\n宋：171\r\n任：118\r\nme: 250\r\n曲：176\r\n东：186','misc','2012-10-16 14:57:04','2012-10-19 23:07:33'),(1086,'使用JS控制登录、退出动作的弊端：在手机上无法使用。','eorder,undo','2012-12-06 17:14:56','2012-12-06 12:19:57'),(1027,'出现状态码紊乱的 Bug.','misc','2012-10-19 10:49:34','2012-10-19 02:49:34'),(1028,'拆分 get_return_goods_table_entity, 将表格独立出来，以便 Create, Update\r\n两个操作共用；','misc','2012-10-19 15:39:22','2012-10-19 07:39:22'),(1029,'创建/修改退货单货物列表函数加上 $action 参数区分','misc','2012-10-20 08:49:33','2012-10-20 00:49:33'),(1030,'付款类型出现“支付宝”新类型。建议：最好有个自定义功能，可以让用户自己管理，不用每次都过来跟我说。','misc','2012-10-20 09:14:49','2012-10-20 01:14:49'),(1031,'退货日期还不能修改，目光转向新问题：自定义款额到帐类型；','misc','2012-10-20 11:40:44','2012-10-20 03:40:44'),(1032,'select box option 改变 js 触发时注意：\r\na. 是 $(\'select\').change();, 非 $(\'select option\').change();\r\n   注意这和获取 select box 选中项的方法不同；\r\nb. 判断当前选中 option 方式：$(this).val() 管用，$(this).text()/$(this).html()/$(this).attr(\'rel\') 均不可；','misc','2012-10-22 08:53:11','2012-10-22 02:17:58'),(1033,'在收入表单中直接创建收入分类很繁琐，且有很多细节需要注意；','misc','2012-10-22 10:13:02','2012-10-22 02:13:02'),(1034,'单笔结算和协议结算应该共享到帐类型 select box (模板及JS代码), 现在是分开的，得修改两次…','misc','2012-10-22 10:23:35','2012-10-22 02:58:02'),(1035,'自定义款额到帐类型 completed.','misc','2012-10-22 11:19:11','2012-10-22 03:19:11'),(1036,'Warning</b>:  Invalid argument supplied for foreach() in <b>/home/ts/www/eorder/md.class.revenue.php</b> on line <b>14</b><br /> ','misc','2012-10-23 07:33:51','2012-10-22 23:33:51'),(1037,'变量命名要规范，昨晚程序没有按自己预期的原因就在于命名错误。\r\nconclude_sell:concludeSell','misc','2012-10-23 08:13:46','2012-10-23 00:13:46'),(1038,'Done: 修改退货时间 starts.','misc','2012-10-23 08:48:08','2012-10-27 07:56:12'),(1039,'<blockquote>Each file has three time stamps associated with it: its access time, its modification time, and its attribute modification time. These correspond to the st_atime, st_mtime, and st_ctime members of the stat structure; see File Attributes.</blockquote>','misc','2012-10-26 17:08:14','2012-10-26 09:08:14'),(1040,'-c: create time;\r\n-u: access time;','misc','2012-10-26 17:12:50','2012-10-26 09:12:50'),(1041,'http://weibo.com/oguide/register?guide=old','misc','2012-10-27 16:52:22','2012-10-27 08:52:22'),(1042,'老订单 ‘charge_to\' 列默认值设为 \'seller\', 省去修改订单时需对老订单区别对待；','misc','2012-10-31 07:39:33','2012-10-30 23:39:33'),(1043,'提交表单后出现 \'undefined\'，却不知错在何处','misc','2012-10-31 10:24:20','2012-10-31 02:24:20'),(1044,'显示部分修改：只在订单金额处修改即可；','misc','2012-10-31 11:04:29','2012-10-31 03:04:29'),(1045,'om_debt: 指的是客户欠自己的钱，即应收账款','misc','2012-10-31 16:21:42','2012-10-31 08:21:42'),(1046,'加入运费的订单 CRU 操作完成；','misc','2012-10-31 20:02:44','2012-10-31 12:02:44'),(1047,'订单详情中“款额到帐”信息隐藏；','misc','2012-10-31 20:03:42','2012-10-31 12:03:42'),(1048,'订单发货前 修改交货日期才有意义','misc','2012-10-31 21:12:36','2012-10-31 13:12:36'),(1049,'交货日期列添加成功','misc','2012-10-31 21:48:29','2012-10-31 13:48:29'),(1050,'到帐授权第一步是选择客户，对财务来说，要找的是三磨所这个单位，\r\n而不是刘晓华还是xxx, 所以要进行客户合并；','misc','2012-11-01 08:53:06','2012-11-01 00:53:06'),(1051,'先把 om_revenue 改好，om_debt 不着急','misc','2012-11-01 14:53:08','2012-11-01 06:53:08'),(1052,'<a href=\"http://flexpaper.devaldi.com/docs_publishing_with_PHP.jsp\">web pdf php version</a>\r\n网页上嵌入 PDF 文档的开源工具。from kingdee.com','misc','2012-11-02 09:01:48','2012-11-02 01:02:32'),(1053,'管理信息系统（Management Information System，简称MIS）','misc','2012-11-02 09:36:41','2012-11-02 01:36:41'),(1054,'不管他什么P不P的，适合企业用就好，大企业用的软件的思路也是值得小企业借鉴的，麻雀虽小，可是也五脏具全，但是具体的做法，就不必用大企业的那套，即浪费金钱效率也不高，做出来的实用就好，只要设计得合理，MySQL我个人觉得绝对可以满足中国90%以上的企业。 \r\n\r\n我公司有一个系统，有10年的数据同时使用，后来要换其他系统时，装半年的数据就不行了，认为我们的数据相当于一个大型企业的数据，要求按集团模式来做。设计的好坏，结果是天差地别的','misc','2012-11-02 09:43:40','2012-11-02 01:43:40'),(1055,'磨商网网站故障服务电话：86222058','misc','2012-11-02 10:16:53','2012-11-02 02:16:53'),(1056,'分类科目\r\n\r\n客户订货预付的运输费用','misc','2012-11-03 08:37:03','2012-11-03 00:37:03'),(1057,'公司办公室租金，水电费，网费，电话费应计入哪个科目入帐，计入科目要分公司性质核算吗？\r\n均计入 管理费用——（具体明细科目自己设置）\r\n  不需要分公司性质，不论什么性质的公司 都需要按照会计准则记账的~\r\n---\r\n','misc','2012-11-05 14:36:00','2012-11-05 06:36:00'),(1058,'当前费用申请表中的支出分类全部作为 管理类的二级科目','misc','2012-11-05 14:37:00','2012-11-05 06:37:00'),(1059,'一个一般纳税人企业，每个月应缴哪些税，税率都是多少，如何计算？\r\n\r\n相关税金计算如下：\r\n1、增值税\r\n 应交增值税=当月销项-当月进项\r\n2、企业所得税\r\n应交企业所得税=应纳税所得额乘以百分之二十五\r\n3、城市维护建设税\r\n应交城市维护建设税=当月缴纳增值税乘以百分之七\r\n4、教育费附加\r\n应交教育费附加=当月缴纳增值税乘以百分之三\r\n5、地方教育费附加\r\n应交地方教育费附加=当月缴纳增值税乘以百分之一\r\n6、房产税\r\n季应交房产税=房产原值乘以（1-百分之三十\r\n）乘以百分之一点二/4\r\n7、土地使用税\r\n季应交土地使用税=土地使用面积乘以单位面积税额/4\r\n8、印花税\r\n应交印花税=购销总额乘以万分之三\r\n9、水利建设基金\r\n应交水利建设基金=含税销售收入乘以万分之六','misc','2012-11-05 16:35:43','2012-11-05 08:35:43'),(1060,'debian.linuxsir.org 上老用户 kanaka [冷罡华] 写的。罡（音：刚）［天罡星］即北斗星\r\n<a href=\"http://man.lupaworld.com/content/linux/Debian_server_setting/Bind.html\">《Debian服务器设置入门》系列教程</a>','misc','2012-11-22 10:19:12','2012-11-23 00:09:32'),(1061,'SAMBA的主要目的就是用来沟通Windows与Unix这两种不同的作业平台。','misc','2012-11-22 10:27:34','2012-11-22 02:27:34'),(1062,'123.6.39.35 明天看公网 IP 地址是否还是此.\r\n路由器每重启一次，公网 IP 都会变化。','misc','2012-11-22 14:36:57','2012-11-23 00:07:25'),(1063,'路由器如果不关的话，分配的公网 IP 是不是就一直不变？像静态 IP 一样？\r\n这样就不用使用花生壳软件了','misc','2012-11-22 16:10:48','2012-11-22 08:10:48'),(1064,'我也不建议采用独立博客（除非本职技术工作与此相关）。\r\n如果你只写几年，独立空间迟早会关闭，内容会消失，而BSP一般不会。\r\n如果你写十余年，在精力日益减少、关注内容日益增多的情况下，\r\n独立平台渐增的维护成本，会让你难以承受，并且感到没有价值。\r\n何况，综合型BSP更有SNS的优势。','misc','2012-11-23 15:31:07','2012-11-23 07:31:43'),(1065,'事情的发展出乎意料，李建议我到厂里去上班。','misc','2012-11-26 10:26:46','2012-11-26 02:26:46'),(1066,'租车网找冠希代言寓意深远……','misc','2012-11-26 14:17:59','2012-11-26 06:17:59'),(1067,'李艳借走《明朝那些事儿》。','misc','2012-11-26 17:09:48','2012-11-26 09:09:48'),(1068,'李：“作息时间就按厂里来。”这是不是意味着法定节假日得不到保障？？','misc','2012-11-27 10:47:43','2012-11-27 02:47:43'),(1070,'存储在 MySQL 中的回车键对应的字符是什么？\r\n是 \'\\n\', 但问题是文本输入框内有没有可能出现 \'\\r\'?','misc','2012-11-27 14:14:55','2012-11-27 08:50:48'),(1071,'from yii','misc','0000-00-00 00:00:00','0000-00-00 00:00:00'),(1072,'because of time().\r\nshould be <tt>new CDbExpression(\'NOW()\');</tt>','misc','2012-11-30 09:23:13','2012-12-01 00:52:22'),(1073,'5年，10年，30岁\r\n明天就要去须水上班了，客观来讲，这事对自己来说利大于弊，可自己心里怎么感觉不痛快呢','','2012-11-30 20:23:38','2012-11-30 13:36:41'),(1074,'motd中category列可移除，改为tag的形式','','2012-11-30 20:59:46','2012-11-30 12:59:46'),(1077,'今晚的《那些年》感觉两个男主持人和女嘉宾的交流气氛有些“生硬”，男主持人不断抛出实现准备好的问题让嘉宾回答，程式化太明显。\r\n\r\n在Textarea中输入文字不够惬意，要是能在Vim中输入(不通过浏览器，浏览器仅用于显示)，并直接提交到数据库中多好。','vim','2012-11-30 21:31:19','2012-11-30 13:31:59'),(1078,'一口气在淘宝上购买400块的Jack Wolfskin的衣服，仅仅是因为早上骑车到须水出汗太多，是不是有点冲动？','','2012-12-03 15:16:40','2012-12-03 07:16:40'),(1079,'上午王将我领到一楼车间，对刘说招人的问题以后找我，这算是工作指派。','','2012-12-03 15:23:25','2012-12-03 07:23:25'),(1085,'Boxy移至进来后默认的窗口宽度为什么和屏幕一样宽？\r\n已找到原因。','boxy','2012-12-06 16:50:32','2012-12-06 09:15:25'),(1084,'- CHtml:link() 方法添加 htmlOptions;','today','2012-12-06 13:38:53','2012-12-06 05:38:53'),(1087,'穿高领羊毛衣扎的脖子痒得厉害，挠红了都。','life','2012-12-06 21:17:57','2012-12-06 13:17:57'),(1088,'1. 由于到帐金额完全相同，财务授权时将两个不同客户的到帐银行搞反。加入财务仅仅是修改一下到帐银行名称，应有修改权限；\r\n2. 系统中应该添加意见反馈的功能，以便及时发现系统存在的问题。圆通的跟踪按钮指向网站错误，L说已经很久了；','eorder,undo','2012-12-07 08:56:27','2012-12-07 00:56:27'),(1089,'1. 应任的需求，在订单详情弹出窗口下端添加关闭按钮，以解决订货条目多时，窗口右上角关闭按钮被“撑出”浏览器可视区域之外的问题；\r\n2. 跟踪货物按钮：将圆通的简单指向其网站，让销售自行输入单号、验证码查询；','today','2012-12-07 10:33:55','2012-12-07 02:35:31'),(1090,'最近两天总是干咳。\r\n14：18 左脚小指开始痒','body','2012-12-07 10:42:27','2012-12-07 06:18:44'),(1091,'yto:6284687461','','2012-12-07 11:07:58','2012-12-07 03:07:58'),(1092,'一个Route下弄两个Model似乎不可行。或者这样说：一个页面中只能存在一个Controller\r\n- Views文件中所有的\'$this\'指的都是页面中唯一的Controller.','','2012-12-07 14:09:06','2012-12-07 09:09:53'),(1093,'Bug: 生产部竟然在“等待发货”列表中能看到修改订单的按钮！','eorder,bug','2012-12-07 14:27:06','2012-12-07 06:27:06'),(1094,'与快递公司理想的对帐方式：\r\n\r\n中通的人刚来说半年前的一些旧单子还没有结清，系统里仅保存有单号，但具体结没结不是很清楚。其实销售申请快递费用这块大有可为：比方说，中通拿着一摞单子过来结帐了，好，销售这时使用条码枪将这些单号挨个输入进去，之后生成一个费用申请单。在扫描过程中，系统根据条码判断该单号是否存在、是否结帐等等。','eorder,thoughts','2012-12-07 16:04:45','2012-12-07 08:04:45'),(1095,'迫使自己减少发呆时间！\r\n\r\n看经济之声那些年的微博，看到昨天的嘉宾是一个比自己小三岁的人，有房有车有事业，看后自己心里很沮丧，差别为啥那么大呢？','life','2012-12-08 09:55:14','2012-12-08 01:55:14'),(1096,'如何生成省份下拉菜单？','today','2012-12-08 10:06:28','2012-12-08 02:06:28'),(1097,'npu,nup 每次备份时是不是都将权限更改了？\r\nts@TS:~/www/blog/protected/runtime/gii-1.1.11$ ll\r\ntotal 16K\r\n-rw-rw-r-- 1 ts ts 127 2012-11-30 10:05 ControllerCode.php\r\n-rw-rw-r-- 1 ts ts  92 2012-08-31 15:39 CrudCode.php\r\n-rw-rw-r-- 1 ts ts  88 2012-08-31 22:48 FormCode.php\r\n-rw-rw-r-- 1 ts ts 204 2012-11-30 09:51 ModelCode.php\r\n---------\r\n是，尝试以root身份运行npu,nup','undo','2012-12-08 14:05:09','2012-12-10 13:05:22'),(1098,'city/index:\r\n\r\nCGridView_Columns_filter的用法。','yii','2012-12-08 16:56:50','2012-12-08 08:56:50'),(1099,'x','','2012-12-08 17:10:19','2012-12-10 00:22:49'),(1100,'asset:有用的东西','today','2012-12-10 08:39:25','2012-12-10 00:39:25'),(1101,'x','x','2012-12-10 10:15:37','2012-12-10 02:15:37'),(1102,'<tt>+---------+-----------------+------+-----+---------+----------------+\r\n| Field   | Type            | Null | Key | Default | Extra          |\r\n+---------+-----------------+------+-----+---------+----------------+\r\n| id      | int(2) unsigned | NO   | PRI | NULL    | auto_increment | \r\n| name    | varchar(255)    | YES  |     | NULL    |                | \r\n| cn_name | varchar(10)     | YES  |     | NULL    |                | \r\n| slug    | char(2)         | NO   |     | NULL    |                | \r\n+---------+-----------------+------+-----+---------+----------------+</tt>\r\n','','2012-12-10 15:01:05','2012-12-10 07:01:34'),(1103,'在CGridView中显示关联表中列是的问题：\r\n1. attribute label 不能自定义；\r\n2. 不能过滤；','undo','2012-12-10 16:01:33','2012-12-10 08:01:33'),(1104,'country, continent 两个表中都有 \'slug\' 列，country/index 中CGridView引用是出现错误，该错误是通过 alert()显示的，和自己用的方法很类似。','undo','2012-12-10 20:10:38','2012-12-10 12:40:32'),(1105,'tbl_taxonomy 目前作用不大，公司类别（CUSTOMER,SUPPLIER,LOGISTICS）存在 Lookup 中更合适。','','2012-12-10 21:23:17','2012-12-11 00:03:27'),(1106,'om_companies 导入注意几点：\r\n1. 表名称改为 tbl_company;\r\n2. 对导出的eorder.om_companies做一些处理，更新\'category\'列值；','undo','2012-12-10 21:31:06','2012-12-10 13:31:06'),(1107,'om_addresses的迁移：\r\n1. 表名更改，以后MySQL表名都用单数；\r\n2. 与表country,company关联；','today','2012-12-11 08:17:42','2012-12-11 00:17:42'),(1108,'迁移bank表，和company表关联；','today','2012-12-11 09:25:11','2012-12-11 01:25:11'),(1109,'在实现创建快递公司分部功能时，温习 scenario 的用法；','','2012-12-11 15:54:12','2012-12-11 07:54:12'),(1110,'将 om_address.is_main 值为空的更新为0','','2012-12-12 13:04:56','2012-12-12 05:04:56'),(1111,'创建 Address::getReadableAddr() 方法获取某一个地址的可读地址。','','2012-12-12 13:22:03','2012-12-12 05:22:03'),(1112,'创建 Address.setPrimary() 方法将一般发货地址设置为主发货地址。','','2012-12-12 14:04:31','2012-12-12 06:04:31'),(1113,'直接在 config/main.php 中将表前缀由 \'tbl_\' 改为 \'om_\'就免去迁移表格时修改表名。 \r\n而仅将复数表名改为单数即可。','','2012-12-12 18:42:00','2012-12-12 10:42:00'),(1114,'分清哪些信息适合放进 term_taxonomy, 哪些适合放进 lookup 中。 \r\n枚举类型应该放进 lookup 中。 \r\n这么说吧，凡是可能存在子分类的都放到 term_taxonomy 中。\r\n\r\n2012年12月11日 20:36','','2012-12-12 18:42:22','2012-12-12 10:42:22'),(1115,'客户模块完毕。','','2012-12-12 20:31:32','2012-12-12 12:31:32'),(1116,'客户管理页面“c_time\'列 filter 为何不管用？','why','2012-12-13 08:11:44','2012-12-13 00:11:44'),(1117,'在 Yii 中加入常用链接的快捷键（acesskey）：\r\n- motd/:\'k\'\r\n- motd/create:\'j\'\r\n\r\n注意：之前记得触发快捷键采用\'Shift+Alt+acesskey\'三键的方式，其实在Chrome下\'Shift\'键是可以省去的。这是因为各浏览器对快捷键的触发定义不同，Chorme更简洁些。','acesskey','2012-12-13 08:49:22','2012-12-13 00:49:22'),(1118,'一个客户先后下了两个订单，自己只看名称没看提交时间，误以为是一个订单，因而没能打印新订单。\r\n此问题从两方面解决：一是固定查看新订单的时间，例如每天9:30,11:30,3:30,5:00四个时间点来查看新订单；二是在系统上进行提醒，例如最近8小时下的订单高亮显示。','undo','2012-12-13 09:23:04','2012-12-13 01:23:04'),(1119,'在 Debian 启动界面中看到\'Xerox 3117\'的字样，要是能装上驱动该多好，不用一有新订单就切换到 Windows 下打印了。','','2012-12-13 11:10:46','2012-12-13 03:10:46'),(1120,'Form Model 不能使用 Gii 创建，Gii 自动创建的 Model 都是 Active Record Model. 所以 SupplierForm 通过复制粘贴的方式创建。','','2012-12-13 13:46:14','2012-12-13 05:46:14'),(1121,'supplier 和 logistics 两个表和 customer 表的不同之处：前两个表以 address_id 为主键，客户表以 company_id 为主键；客户表有多个地址，供应商一般只有一个地址。','','2012-12-13 14:17:36','2012-12-13 06:17:36'),(1122,'add Address.supplier_company, Address.searchSupplier()','','2012-12-13 15:19:50','2012-12-13 07:19:50'),(1123,'virtual attribute Address.supplier_company\r\nvirtual attribute 的 Label 不必在 Model Class 的 attributeLabels() 中声明，在 CActiveDataProvider 中配置。','','2012-12-13 16:36:22','2012-12-13 11:22:13'),(1124,'CGridView 生成的表格配置分为两部分：一是表格的配置（CGridView），包括是否具有按列过滤功能、显示那些列等；另一部分是对所填充的数据的配置（CActiveDataProvider），包括是否有按列升降序排序功能、表格默认按哪列排序,升序还是降序、单页显示记录条数等。','','2012-12-13 19:16:36','2012-12-13 11:16:36'),(1125,'Does supplier really need more than one bank infomation?','','2012-12-13 21:16:33','2012-12-13 13:16:33'),(1126,'supplier/view 比较麻烦：不是每个供应商都有帐户信息的。','','2012-12-13 21:29:37','2012-12-13 13:29:37'),(1127,'创建供应商时应该把银行帐户信息和公司信息分开，主要是考虑到涉及到的三个表没有直接的关联，\r\n根据 address.address_id 可以和 company 表关联起来，但不能关联 bank 表。','','2012-12-13 22:07:16','2012-12-13 14:08:49'),(1128,'eorder 表格名称需要复数变单数的有：\r\naddresses\r\ncompany\r\norder\r\nproduct\r\nuser','','2012-12-13 22:30:17','2012-12-13 14:30:17'),(1129,'迁移 order 表开始：\r\n- 涉及表：order,goods,product,user\r\n- 应建 OrderForm, 因为创建一个订单需要向不同的表中写数据;','','2012-12-14 08:15:54','2012-12-14 00:19:57'),(1130,'金给我传安的照片导致迷失半个小时！','','2012-12-14 10:31:38','2012-12-14 02:32:35'),(1131,'专注','','2012-12-14 10:52:23','2012-12-14 02:52:23'),(1132,'company,address,bank 三个表自身不需要 Controller, view 文件，单独显示无意义，删除。','','2012-12-14 11:45:39','2012-12-14 03:45:39'),(1133,'将 eorder 中迁移过来的表主键名称一律改为 \'id\', 其余的该改名改名，简短为好。','','2012-12-14 11:50:35','2012-12-14 03:50:35'),(1134,'将 E-Orders 应用和 Yii Blog 应用分离，原先 motd 放在 blog/ 下，E-Orders 放在新目录 eo/ 下。迁移步骤：\r\n1. 下载真实数据 eo_xxxx.sql\r\n2. 删除本地数据库 eorder 并新建空数据库 eorder 并 use;\r\n3. \\. city.sql\r\n4. \\. eo_xxxx.sql\r\n4. \\. migrate.sql\r\n\r\n-------\r\n新问题：Yii 驱动的 E-Orders 数据库叫 \'eorder\' 的话，和本地老应用数据库重名，且由于表格结构已改变，导致老应用不能使用，这在维护老系统时很麻烦，不能在本地测试。\r\n\r\n但是如果保留 eorder, 新应用使用 db eo 的话，每天备份（npu,nup）时就多输入一次密码。或者将 trekshot Database 完整迁移出来，接着 motd 继续……\r\n\r\n或者 eorder 老应用的db不再备份.\r\n','','2012-12-14 15:06:28','2012-12-14 08:42:08'),(1135,'- 单个订单在出库前也有打印发货清单的需求；\r\n- 款额未到应在精简订单上注明；\r\n- 研磨膏应将折合的微粉数量显示出来；','','2012-12-14 16:31:26','2012-12-14 08:31:26'),(1136,'整理 www 目录，E-Orders 应用只拷贝 eorder/ 目录是不够的，以下目录为关联目录：\r\ncommon/:css,js 文件\r\nfonts/: PHPChart 类库需要的字体;\r\nmin/: 压缩 js, css 文件用到的类库；\r\n\r\n想法：等改为 Yii 驱动后，直接拷贝一个目录即可。','','2012-12-15 10:55:22','2012-12-15 02:55:22'),(1137,'product.size, company.full_name 这一类列不但要求分空，还不能重复，如何在 rules()中定义？','','2012-12-17 08:06:31','2012-12-17 00:06:31'),(1138,'mangento: e-commence\r\nopenchart\r\nyii\r\n此三个即可搭建华山路公司的网站。','','2012-12-17 08:11:12','2012-12-17 00:11:12'),(1139,'关于修改订单：\r\n保留修改前的订单，并进行对比，不同之处高亮显示；','todo','2012-12-17 08:20:13','2012-12-17 00:20:20'),(1140,'product 表完工。包含 create,update,index 三个 actions.','','2012-12-17 08:50:20','2012-12-17 00:50:20'),(1141,'在将 goods.is_sample 列时发现，之前的微粉入库单提交时 \'is_sample\' 列均为 null, 应该是 \'n\' 才对，此次更新之；','','2012-12-17 09:27:04','2012-12-17 01:27:04'),(1142,'order.operator_id, fetcher_id 列不宜存储在 lookup 表中，保留在 taxonomy 中。','','2012-12-17 12:59:54','2012-12-17 04:59:54'),(1143,'昨晚难道没有 npu? 晚上看看','','2012-12-18 08:13:33','2012-12-18 00:13:33'),(1144,' $criteria->with = array(\'customer\'); 中 \'customer\' 不是表名，而是在 relations() 中自定义的关系名称。生成订单列表时','','2012-12-18 08:57:45','2012-12-18 00:57:45'),(1145,'查看 root 用户的 .bash_history 文件发现昨晚将 npu 命令错输入成 nup 导致昨晚数据丢失。','','2012-12-18 20:17:21','2012-12-18 12:17:21'),(1146,'自创 Model K, 用于存放原 md.template-functions.php 中的模板函数，good!','','2012-12-18 21:19:53','2012-12-18 13:19:53'),(1147,'order/view 涉及 dispatch 信息，明天引入。还有 mapping 表','','2012-12-18 22:42:32','2012-12-19 00:22:09'),(1148,'Bug: 因网络原因，财务授权时产生重复授权记录，在写入 revenue 表前应检查所授权订单是否已在数据库中；\r\n刘添加提交订单、申请费用两个权限；','','2012-12-19 10:03:59','2012-12-19 02:03:59'),(1149,'今天的网速及其不给力','','2012-12-19 11:53:50','2012-12-19 03:53:50'),(1150,'7173352042','','2012-12-19 13:17:19','2012-12-19 05:17:19'),(1151,'迁移 user 表开始','','2012-12-20 07:51:45','2012-12-19 23:51:45'),(1152,'“等xxx弄好了再说吧！“','','2012-12-20 14:57:11','2012-12-20 06:57:11'),(1153,'jQuery 有个表达式 $(\'input[name=type]\')可以很方便锁定一个表单元素，但如果元素 name 属性值本身是一个数组的话（如 type[0]），就不管用。也就是说，jQuery 不能识别诸如 $(\'input[name=[type[0]]\')的表达式。\r\n但是不这样用吧，Yii 中表单 name 命名的格式就是 Model[name],都带中括号，怎么办？［通过给每个元素添加 class 属性来定位］','','2012-12-20 18:50:05','2012-12-21 13:03:15'),(1154,'CSS 中的 class 名称区分大小写吗？写到 class=\'EType3\'有感\r\n经验证，区分，所以 \'EType\' 这样的命名可以。','','2012-12-20 20:56:32','2012-12-20 12:58:16'),(1155,'提交订单中需要对货物信息（粒度、数量和单价）进行客户端非空验证，为避免和 Yii 中 required 类名冲突，将此处的非空验证类名命名为 \'NoEmpty\'.','','2012-12-21 16:40:10','2012-12-21 08:40:10'),(1156,'后悔了，在 CHtml 生成的表单元素的 htmlOptions 参数中使用 ajax 要慎重，若是像动态获取二级城市那样的简单动作，可以使用，但若是创建订单时选择客户动态获取发货地址就不适用，因为它不仅是把地址列表显示出来，还牵扯很多动作，比如判断所选客户是否为样品自动填充客户，是否为单价可不填的特殊客户等。还是像原来一样在自定义 JS 文件中实现省事。','','2012-12-21 21:01:55','2012-12-21 13:01:55'),(1157,'此刻左脚痒得难受，五个脚趾都红肿……','','2012-12-21 21:04:23','2012-12-21 13:04:23'),(1158,'yii route 400 error ajax:\r\nhttp://stackoverflow.com/questions/12444273/server-400-error-when-beautifying-urls-within-the-yii-framework\r\nPOST->GET','','2012-12-22 08:40:56','2012-12-22 00:40:56'),(1159,'addClass 是否也象 click 事件一样具有叠加性？例如对一个元素 addClass 两次，再 removeClass 一次，该元素最终显示样式是什么？','','2012-12-22 09:51:12','2012-12-22 01:51:12'),(1160,'终于把订单中所有数据完整地保存至 $_POST[\'OrderForm\']中，下面进行用户登录页面设计。','','2012-12-22 11:48:44','2012-12-22 03:48:44'),(1161,'刚“翻墙”上了会 twitter, 感受了一下什么叫简洁，反观国内的微博，的确很具中国特色。','','2012-12-22 13:33:23','2012-12-22 05:33:23'),(1162,'order.charge 列里值问题太多，有为0的有为NULL的，先放弃吧！','','2012-12-24 15:13:53','2012-12-24 07:13:53'),(1163,'请问，在Yii中如何收集表单的 “复选框”  信息啊？\r\n\r\n让表单复选框信息存入数据库如何操作？','','2012-12-26 11:23:55','2012-12-26 03:23:55'),(1165,'order/create 完工，转向 order/update\r\n等等，样品自动填充功能还没有。','','2012-12-26 14:59:18','2012-12-26 07:29:38'),(1166,'_goodsDetailTable.php 中表单元素默人含有诸如 \'selected\', \'checked\' 等属性，这在更新订单时变得麻烦，最好是去掉这些属性，而是改用 jQuery 对其赋值的方式。','','2012-12-26 21:06:27','2012-12-26 13:06:27'),(1167,'有点困，睡觉。今天在 yiichina 注册帐号并回复了一个帖子就立刻暴露出自己知识的欠缺。','','2012-12-26 21:08:25','2012-12-26 13:08:25'),(1168,'remove \'checked\' attribute in goodsDetailTable.php','','2012-12-27 09:21:43','2012-12-27 01:21:43'),(1169,'order/update 完工了呀，比预想的简单。','','2012-12-27 15:00:01','2012-12-27 07:00:01'),(1170,'div.radioR 加入 \'cf\' 区块，为了达到奇偶行变色显示的效果。','','2012-12-27 16:46:40','2012-12-27 08:46:40'),(1171,'scopes findAll() 返回的是 CActiveRecord, CGridView 需要的是 CDataProvider, 还不能直接使用，这两者有何关系？','','2012-12-27 21:01:46','2012-12-27 13:01:46'),(1172,'很开心呀，刚才把页面主体布局改成熟悉的 E-Orders 样式了。;)','','2012-12-27 22:03:55','2012-12-27 14:03:55'),(1176,'感觉在CButtonColumns 使用 ajax 怎么没直接在 JS 文件中用着得劲儿呢？是还没体会到其好处吗？\r\n------\r\n暂时不用 CGridView 中默认的 ajax delete 动作，将删除动作命名为 \'del\'','','2012-12-29 05:50:05','2012-12-29 00:47:46'),(1177,'实现只有登录用户才能访问各 Controller 的 actions, 未登录用户试图访问 route 转向登录界面。','','2012-12-29 08:44:01','2012-12-29 00:44:01'),(1178,'CGridView 自带的局部刷新功能目前还不会活用，暂使用原来的 JS 控制，完事后 redirect 至当前页，牺牲一点载入时间。','','2012-12-29 09:16:20','2012-12-29 01:16:20'),(1179,'AjaxController action 中输错一个字母多大劲！好一个500内部错误呀！','','2012-12-29 17:11:42','2012-12-29 09:11:42'),(1180,'出库后使用js只将等待备货表中相应列隐藏是不够的，出库的同时意味着等待发货表中将增加，因此还是执行后重新载入整个页面吧。','','2012-12-29 20:08:38','2012-12-29 12:08:38'),(1181,'很充实呀，','','2012-12-29 22:05:59','2012-12-29 14:05:59'),(1182,'发货管理页面：Controller 中只放置 index action 即可，create,update,delete 全部通过 ajax 实现。','','2012-12-30 19:30:05','2012-12-30 11:30:05'),(1183,'Uncaught RangeError: Maximum call stack size exceeded\r\najax data 属性接受的必须是键值对，若用关系数组表示，数组的值必须是数值/字符串，不能嵌套数组，否则就会出现上面错误。\r\n\r\ndataObject, String\r\nData to be sent to the server. It is converted to a query string, if not already a string. It\'s appended to the url for GET-requests. See processData option to prevent this automatic processing. Object must be Key/Value pairs. If value is an Array, jQuery serializes multiple values with same key based on the value of the traditional setting (described below).\r\n\r\n这是在创建发货记录时保存多条订单号时遇到的问题。','','2012-12-31 15:37:18','2013-01-22 02:02:43'),(1184,'dispatch 和 order 表的关系：订单不一定有发货记录，发货记录包含至少一个订单。\r\n\r\n含义：\r\nlazy loading:\r\n\r\n3号晚上接着琢磨两表关系如何写','','2013-01-01 07:44:42','2013-01-22 01:23:29'),(1185,'生产部打印订单后销售要想修改订单必须让生产部授权。','','2013-01-06 08:21:03','2013-01-06 00:21:03'),(1186,'统计名词环比：\r\n\r\n环比一词用于描述统计数据，表示本次统计段与相连的上次统计段之间的比较，比如2010年中国第一季度GDP为G10-1亿元，第二季度GDP为G10-2亿元，则第二季度GDP环比增长（G10-2-G10-1）/G10-1；与环比相关的概念是同比（英文可翻译为year-on-year ratio），即同期相比，如果2009年中国第一季度GDP为G9-1亿元，则2010年第一季度的GDP同比增长为（G10-1-G9-1）/G9-1。\r\n\r\n环比英文可翻译为 compare with the performance/figure/statistics last month。','','2013-01-06 09:36:41','2013-01-06 01:36:41'),(1187,'采购单是啥，买原材料的单子？\r\n□╭右岸桃花 09:26:40:\r\n是的  采购单已经在我这里了 \r\n□╭右岸桃花 09:26:57:\r\n这个网上应该也能下载吧 厂长不是每次入库都在网上做统计么 \r\nandro+ 09:28:20:\r\n厂里入库入的是微粉入库，而且不全，不过可以补上，原材料的采购系统里没有\r\n□╭右岸桃花 09:28:44:\r\n这个没事 不多 我手动输入就可以了 \r\n□╭右岸桃花 09:28:57:\r\n一些原始数据我需要在网上下载 \r\n□╭右岸桃花 09:29:11:\r\n比如 全年的微粉 破碎料 研磨膏销量 \r\n□╭右岸桃花 09:29:31:\r\n各粒度全年销量 \r\nandro+ 09:29:53:\r\n网上的是单月的，我可以给你生成个全年的\r\n□╭右岸桃花 09:29:55:\r\n好 \r\n□╭右岸桃花 09:30:01:\r\n这样最好了 \r\nandro+ 09:30:46:\r\n你想想经理想要那些统计项目告诉我，我这几天没事给你做一下\r\n□╭右岸桃花 09:31:02:\r\n我仔细想想 \r\n提示:对方请求发送文件\"2011年全年销售统计.xlsx\"。\r\n提示:您接受了对方的请求，开始接收文件\"2011年全年销售统计.xlsx\"。\r\n□╭右岸桃花 09:44:58:\r\n这个是我们做的2011年的 \r\n提示:文件\"2011年全年销售统计.xlsx\"已经成功接收。\r\nandro+ 09:45:34:\r\n经理什么时间问你们要\r\n□╭右岸桃花 09:45:40:\r\n没说 就说近期 \r\n□╭右岸桃花 09:46:03:\r\n14号之前？ \r\n□╭右岸桃花 09:46:09:\r\n下个礼拜吧 \r\nandro+ 09:46:29:\r\n下个礼拜你们要开会吗\r\n□╭右岸桃花 09:46:31:\r\n你把一些数据啊表格啊大概做出来 \r\n□╭右岸桃花 09:46:45:\r\n我来绘图和添加文字性的指引 \r\n□╭右岸桃花 09:47:04:\r\n没说具体时间要 我想着越早越好 这工作早晚都得做 \r\nandro+ 09:47:26:\r\n我试试\r\n□╭右岸桃花 09:47:25:\r\n经理要求和往年不同 我很困惑 怎样才能不同 \r\n□╭右岸桃花 09:47:30:\r\n好嘞 \r\nandro+ 09:47:34:\r\n。。。。\r\n□╭右岸桃花 09:48:17:\r\n2010年倒是不同了，没写各粒度销售 那个猪蹄男可问住我了。。 \r\nandro+ 09:48:48:\r\n他去年看你做的这个表格了？\r\n□╭右岸桃花 09:49:41:\r\n每年都看 \r\n□╭右岸桃花 09:49:47:\r\n质量认证也要求这个 \r\n□╭右岸桃花 09:49:53:\r\n每年的统计和分析 \r\nandro+ 09:51:49:\r\n我的天哪，粒度统计你是怎么算出来的啊，销售提交的粒度很多都是非标准粒度呀\r\n□╭右岸桃花 09:52:09:\r\n在范围内就算到一个里面 \r\n□╭右岸桃花 09:52:20:\r\n2-3 就算2-4 \r\n□╭右岸桃花 09:52:23:\r\n那没办法 \r\nandro+ 09:52:28:\r\n这我明白，问题是一个一个加吗\r\n','','2013-01-06 09:59:25','2013-01-06 01:59:25'),(1188,'要求：具体、客观、数字能说明问题','','2013-01-06 10:02:59','2013-01-06 02:02:59'),(1189,'□╭右岸桃花 14:29:08:\r\n陈奎  可以不可以给厂长说说范围多加电 现在的粒度排序根本就不合理 \r\n□╭右岸桃花 14:29:14:\r\n范围太大了 ','','2013-01-08 08:26:58','2013-01-08 00:26:58'),(1190,'新老客户的界定：\r\n---------------------\r\nandro+ 08:33:26:\r\n对了，统计中你是怎么区分新、老客户的\r\n□╭右岸桃花 08:33:25:\r\n忙。。。 \r\n□╭右岸桃花 08:33:39:\r\n额，这个是个巨大的工程。 \r\n□╭右岸桃花 08:33:51:\r\n2012年1月1日开始的客户 \r\n□╭右岸桃花 08:33:56:\r\n统称新客户 \r\n□╭右岸桃花 08:34:06:\r\n2012年之前的都是老客户 \r\nandro+ 08:34:42:\r\n能不能这样说：2012.1.1那天以后在系统新建的客户都算作新客户\r\n□╭右岸桃花 08:34:42:\r\n忙。。。 \r\n□╭右岸桃花 08:36:52:\r\n是的 \r\n□╭右岸桃花 08:36:55:\r\n可以这样说 ','','2013-01-08 08:59:26','2013-01-08 00:59:26'),(1191,'单号！就因为昨天在电话里没有问单号，今天费多大劲！\r\n---\r\n换一个人就问出来了，人的因素有多大\r\n','','2013-01-08 10:59:37','2013-01-08 03:43:10'),(1192,'芋头酥：贵、好吃；\r\n让安在电话里和奶奶说话','','2013-01-22 08:58:57','2013-01-22 00:58:57'),(1193,'有的客户（如纳诺斯）发货地址国内外都有，若是发往国外的可在订单中标注，生产部在装箱时就不必单独打印发货清单。\r\n订单中应至少出现如下两条信息：运输方式、收货地址','undo','2013-01-22 09:05:20','2013-01-22 01:15:08'),(1194,'$_POST 数组中的所有值均为字符串，哪怕是数字样式的 \'333\'.','','2013-01-22 10:06:52','2013-01-22 02:06:52'),(1195,'财务现金柜核对功能为什么不自动进行呢？','','2013-01-25 08:56:08','2013-01-25 00:56:08'),(1196,'Back again after near one month.','','2013-02-17 08:45:03','2013-02-17 00:45:03'),(1197,'Back again 10 days later.','','2013-02-27 09:49:31','2013-02-27 01:49:31'),(1198,'转角…… 2013-03-06 10:55:09:\r\n你把经理的权限设为复核吧，限额为1000 \r\nandro+ 2013-03-06 10:55:26:\r\n好 \r\n转角…… 2013-03-06 10:55:28:\r\n1000以上需要他复核，1000以下就不用了\r\n--------------------\r\n加大经理权限','','2013-03-06 10:57:32','2013-03-06 02:57:32'),(1203,'正式引入发票相关信息。','','2013-03-19 13:47:24','2013-03-19 05:47:24'),(1200,'收入管理：往月收入中修改汇率没有意义，因为汇率每天都在变化。','','2013-03-15 10:12:45','2013-03-15 02:12:45'),(1201,'关闭 Reader 对内容制造者来说影响更大些。','','2013-03-15 10:14:00','2013-03-15 02:14:00'),(1202,'转角…… 11:19:22:\r\n一笔订单，它分几种到账方式，而且是分批到账，你看这个该怎样完善一下','','2013-03-19 11:21:41','2013-03-19 03:21:41'),(1204,'销售新建一个订单；\r\n财务\r\n首页“待开发票”模块；\r\n“发票管理”页面\r\n\r\n发票号信息单独建表而不是作为order表属性的理由：\r\n比如月结客户，开一次发票，对应的可能是一个月的订单\r\n\r\n- 有必要在order表中添加布尔列标注是否已开发票，以便于快速筛选出待开票订单。其实order表中的\'is_paid\'列就是这么来的——因revenue表而增加；\r\n','','2013-03-19 14:33:20','2013-03-21 08:26:50'),(1208,'- 创建订单：单价输入框内Backspace、Tab两个键不能用；\r\n仅在FF下出现，Chrome无此问题；','bug','2013-03-21 16:26:57','2013-03-25 05:59:09'),(1209,'萍姐打电话“建议”母亲做白内障手术。','','2013-03-21 16:44:08','2013-03-21 08:44:08'),(1205,'不同于创建订单，is_invoiced列值在修改订单时应分为开票前后两种情况处理：开票前的情况和创建订单相同；\r\n- 已开票的订单，若销售试图将订单中“发票”附件移除，应提醒；\r\n- 前提：假设所有开票的订单都是同一种币种——人民币，不然“累计金额”处就得改；\r\n- <s>国外客户也带发票，但不是增票</s>；','','2013-03-20 09:40:25','2013-03-21 08:32:53'),(1207,'抓紧把 customer.php 页面简化一下！打开太耗时了！','todo','2013-03-21 16:05:32','2013-03-21 08:05:32'),(1210,'js.public.custome-functions.js\r\n\"必须经过生产部门授权“','','2013-03-21 22:19:21','2013-03-21 14:19:21'),(1211,'刘东亮提交订单时发现一处bug:提交订单－出现粒度归类提示－取消修改粒度－再提交－两个新建订单！','bug_fixed','2013-03-22 08:46:16','2013-03-29 00:18:29'),(1212,'经理早上问副厂长仓库2型料的库存，据说副厂长还要现盘，要是能进入系统多好。','','2013-03-22 08:47:10','2013-03-22 00:47:10'),(1213,'js.public.custom-functions.php 中的自定义函数不宜以\'add_\'开头，而是\'invoke_\';','','2013-03-22 08:56:23','2013-03-22 00:56:23'),(1214,'订单修改/删除：连续提交怎么办？','','2013-03-22 15:31:44','2013-03-22 07:31:44'),(1215,'订单修改、删除申请内容不必写入 content 列，直接通过其它列值生成。','','2013-03-23 08:11:29','2013-03-23 00:11:29'),(1217,'说话、打电话小点声，放慢语速，别嚷','','2013-03-23 10:59:37','2013-03-23 02:59:37'),(1218,'editorderform.php 上方红色警示语可删除了；防止直接通过链接访问；','','2013-03-23 14:03:05','2013-03-23 06:03:05'),(1219,'editorderform.php?order_id=1524&amp;message_id=22\r\n\'&\'在URL中变成\'&amp;\'的问题；','undo','2013-03-23 15:22:49','2013-03-23 07:22:49'),(1221,'一笔订单，它分几种到账方式，而且是分批到账，你看这个该怎样完善一下\r\n\r\n手续费扣除15美元 实际到账4535美元\r\n到汇丰银行7528美元，到李东杰中行卡6200人民币\r\n货款为1885美元，收到1900美元，找回人民币100元，1900美元兑换成人民币11846，则货款为11746人民币（扣掉找回的100元人民币），中介提成2196元，实际货款为9550元\r\n收到140元，其中运费10元，货款130元。\r\n到帐分两次。\r\n第一次到帐 85 (75元货款+10元运费) 元，后客户又要 150 元货物\r\n总到帐为 235 元\r\n承兑汇票号：20377084\r\n-收到登封新研2000美金，兑换成人民币12524.6元，其中人民币10100元已在820和822号订单中确认收入，此次确认收入人民币2424.6元。 \r\n应收3750元，少汇50元，下次补汇。\r\n6月3日多汇50元，此次结清\r\n其中交通银行到了10400元，承兑汇票是10万元。\r\n此笔货款详情为：之前客户汇款多汇700元，订单1056取消但货款已汇500元，所以此笔订单应付款为2600-500-700=1400元。\r\n实际货款为￥19500，收到承兑￥20000，欠对方￥500\r\n收到货款的70%','','2013-03-29 08:33:25','2013-03-29 00:34:07'),(1224,'方向错了\r\n\r\n第二次感觉方向错误，复式记账工作量大不说，更重要的是没有什么实际的意义：各种凭证都是根据现有操作自动生成的；财务短期内不可能把系统作为主要记账工具。','','2013-04-09 08:58:47','2013-04-09 00:58:47'),(1225,'“跟踪”订单按钮需要改进。','','2013-04-13 09:49:27','2013-04-13 01:49:27'),(1226,'会计从业证书就一个，没等级。是最基本的一个证书，入门级的证书\r\n有了会计从业证后可以参加会计职称的考试。职称分为初级、中级和高级。一般多数都考到中级。\r\n另外不需要会计从业证书也能参加考试的是注册会计师，这个有些难度，以前相当吃香，但最近几年考的人多了，但仍旧是非常受相当关注的证书。','','2013-04-15 12:23:00','2013-04-15 04:23:00'),(1223,'看见 官网：\r\nhttp://cctv.cntv.cn/lm/kanjian/video/index.shtml','','2013-04-03 11:30:34','2013-04-03 03:30:34'),(1228,'一般胎压数值在2.3~2.5之间都是正常的。如果满座(5人)的话，胎压调到2.5左右比较适合；一般两人的话，胎压数值在2.3也是正常的。','','2013-04-23 08:23:33','2013-04-23 00:23:33'),(1229,'员工的离职原因林林总总，只有两点最真实：1、钱，没给到位；2、心，委屈了。这些归根到底就一条：干得不爽。员工临走还费尽心思找靠谱的理由，就是为给你留面子，不想说穿你的管理有多烂、他对你已失望透顶。 仔细想想，真是人性本善。作为管理者，定要乐于反省。','','2013-06-09 10:58:12','2013-06-09 02:58:12'),(1230,'Yii 我回来了。','','2013-08-10 11:35:47','2013-08-10 03:35:47'),(1231,'若想废弃多币种核算（exchange_rate 列不再用），应先更新将现有凭证中 exchange_rate, amount 两列值。\r\n目前为止，收入表中都是 RMB, 即 original_amount = amount.','','2013-08-19 13:44:13','2013-08-19 06:45:17'),(1233,'放弃 Boxy, 改用 JUI;\r\n弃用 CJuiDialog (对 JUI 的封装);','','2013-09-17 17:27:31','2013-09-17 09:27:31'),(1234,'报销的授权操作相对简单，是时候整理 voucher, journal 两表了，反正这俩表都不需要直接 Create.','','2013-12-25 11:23:03','2013-12-25 03:23:03'),(1235,'修改申请单为什么不用/能修改金额？\r\n用多退少补功能','','2013-12-25 11:56:22','2013-12-25 03:56:22'),(1236,'start subject, voucher view page.\r\n','','2013-12-25 13:26:43','2013-12-25 05:26:43'),(1237,'收入老表迁移工作，与 voucher 表对接工作开始。','','2014-01-16 13:31:18','2014-01-16 05:31:18'),(1238,'往印象笔记中添加代码非常不方便，遂又想起 essay/ 的好，再次心痒想切换呀。\r\n\r\n迁移的理由：\r\n1. 现在印象笔记用得欢，10年后呢？当年 onenote, Google Notebook 用着不都挺好的？','personal-information','2014-02-19 16:44:09','2014-02-19 08:44:09'),(1239,'从今天起，提交日腾中订单时将不再自动添加20克拉样品。至此，自动添加样品的客户只剩常兴一家。\r\n','','2014-02-20 13:47:42','2014-02-20 05:47:42'),(1240,'JUI Dialog 弹出时默认会 focus 区域内的第一个表单元素，这在平时是很方便的，但是在修改出库信息时很麻烦，因为 JUI DatePicker 会自动展开。','undo','2014-02-21 10:24:36','2014-02-21 02:24:36'),(1241,'出库管理页 完工。 开始转向”销售统计“页面。','finished','2014-02-21 11:03:05','2014-02-21 03:03:05'),(1242,'Yii::getVersion() 获取当前 Yii 版本。curren number: 1.1.11','yii','2014-02-21 11:23:04','2014-02-21 03:23:04'),(1243,'2014年2月21日（周五 晴）出库管理＋PHPExcel+Yii\r\n\r\n        上午出库管理操作完工。下午通过搜索在 Yii 中成功引入 PHPExcel,\r\n        为接下来的报表下载功能做好准备。\r\n\r\n        明天的首要工作是创建一个计算销量总数的方法，将各个参数用关系数组表示。\r\n\r\n        晚上感到莫名的迷茫，我不知道当下自己所坚持的事是否有价值。','','2014-02-22 08:48:25','2014-02-22 00:48:25'),(1244,'月报表功能完成。','finished','2014-02-24 16:00:24','2014-02-24 08:00:24'),(1245,'Yii-Eorders 是时候升级了。','','2014-02-25 16:38:38','2014-02-25 08:38:49'),(1246,'心情不错！essay 完全迁移至 blog 目录下。','','2014-02-28 13:44:07','2014-02-28 05:44:31'),(1247,'essay 中 short url 不必必填，又不用 SEO, 还是 id 方便。','','2014-03-01 09:30:17','2014-03-01 01:30:17'),(1248,'Yii 中如何执行一条 migrate.sql 中的 ALTER 语句？','question','2014-03-10 13:48:49','2014-03-10 05:48:49');
/*!40000 ALTER TABLE `ts_motd` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ts_post`
--

DROP TABLE IF EXISTS `ts_post`;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
CREATE TABLE `ts_post` (
  `id` int(11) NOT NULL auto_increment,
  `title` varchar(128) collate utf8_unicode_ci NOT NULL,
  `content` text collate utf8_unicode_ci NOT NULL,
  `tags` text collate utf8_unicode_ci,
  `status` int(11) NOT NULL,
  `create_time` int(11) default NULL,
  `update_time` int(11) default NULL,
  `author_id` int(11) NOT NULL,
  PRIMARY KEY  (`id`),
  KEY `FK_post_author` (`author_id`),
  CONSTRAINT `FK_post_author` FOREIGN KEY (`author_id`) REFERENCES `ts_user` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
SET character_set_client = @saved_cs_client;

--
-- Dumping data for table `ts_post`
--

LOCK TABLES `ts_post` WRITE;
/*!40000 ALTER TABLE `ts_post` DISABLE KEYS */;
INSERT INTO `ts_post` VALUES (1,'Welcome!','This blog system is developed using Yii. It is meant to demonstrate how to use Yii to build a complete real-world application. Complete source code may be found in the Yii releases.\n\nFeel free to try this system by writing new posts and posting comments.','yii, blog',2,1230952187,1230952187,1),(2,'A Test Post','Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.','test',2,1230952187,1230952187,1),(3,'Demo Test','simplicity','simple, test',2,1356155389,1393393298,1),(4,'Go','lang.','ts, test',2,1393388996,1393388996,1),(5,'test','# Markdown Syn\r\n    code line 1.\r\n    code line 2.\r\nthis is the first line\r\nof the bit o.,,   \r\nsweet enough.','good',2,1394087791,1394151444,1);
/*!40000 ALTER TABLE `ts_post` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ts_tag`
--

DROP TABLE IF EXISTS `ts_tag`;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
CREATE TABLE `ts_tag` (
  `id` int(11) NOT NULL auto_increment,
  `name` varchar(128) collate utf8_unicode_ci NOT NULL,
  `frequency` int(11) default '1',
  PRIMARY KEY  (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
SET character_set_client = @saved_cs_client;

--
-- Dumping data for table `ts_tag`
--

LOCK TABLES `ts_tag` WRITE;
/*!40000 ALTER TABLE `ts_tag` DISABLE KEYS */;
INSERT INTO `ts_tag` VALUES (1,'yii',1),(2,'blog',1),(3,'test',3),(4,'simple',1),(5,'ts',1),(6,'good',1);
/*!40000 ALTER TABLE `ts_tag` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ts_user`
--

DROP TABLE IF EXISTS `ts_user`;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
CREATE TABLE `ts_user` (
  `id` int(11) NOT NULL auto_increment,
  `username` varchar(128) collate utf8_unicode_ci NOT NULL,
  `password` varchar(128) collate utf8_unicode_ci NOT NULL,
  `salt` varchar(128) collate utf8_unicode_ci NOT NULL,
  `email` varchar(128) collate utf8_unicode_ci NOT NULL,
  `profile` text collate utf8_unicode_ci,
  PRIMARY KEY  (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;
SET character_set_client = @saved_cs_client;

--
-- Dumping data for table `ts_user`
--

LOCK TABLES `ts_user` WRITE;
/*!40000 ALTER TABLE `ts_user` DISABLE KEYS */;
INSERT INTO `ts_user` VALUES (1,'demo','2e5c7db760a33498023813489cfadc0b','28b206548469ce62182048fd9cf91760','webmaster@example.com',NULL);
/*!40000 ALTER TABLE `ts_user` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2014-03-10  5:54:14
